(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function e2(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var qd={exports:{}},Il={};var e_;function t2(){if(e_)return Il;e_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var t_;function n2(){return t_||(t_=1,qd.exports=t2()),qd.exports}var T=n2(),Hd={exports:{}},Re={};var n_;function i2(){if(n_)return Re;n_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.iterator;function q(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,re={};function ye(D,G,ie){this.props=D,this.context=G,this.refs=re,this.updater=ie||ee}ye.prototype.isReactComponent={},ye.prototype.setState=function(D,G){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,G,"setState")},ye.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Ne(){}Ne.prototype=ye.prototype;function Ae(D,G,ie){this.props=D,this.context=G,this.refs=re,this.updater=ie||ee}var Je=Ae.prototype=new Ne;Je.constructor=Ae,se(Je,ye.prototype),Je.isPureReactComponent=!0;var pt=Array.isArray;function Ue(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function N(D,G,ie){var ae=ie.ref;return{$$typeof:s,type:D,key:G,ref:ae!==void 0?ae:null,props:ie}}function M(D,G){return N(D.type,G,D.props)}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function L(D){var G={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ie){return G[ie]})}var x=/\/+/g;function rt(D,G){return typeof D=="object"&&D!==null&&D.key!=null?L(""+D.key):G.toString(36)}function gt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Ue,Ue):(D.status="pending",D.then(function(G){D.status==="pending"&&(D.status="fulfilled",D.value=G)},function(G){D.status==="pending"&&(D.status="rejected",D.reason=G)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,G,ie,ae,Ee){var Ie=typeof D;(Ie==="undefined"||Ie==="boolean")&&(D=null);var ze=!1;if(D===null)ze=!0;else switch(Ie){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(D.$$typeof){case s:case e:ze=!0;break;case E:return ze=D._init,F(ze(D._payload),G,ie,ae,Ee)}}if(ze)return Ee=Ee(D),ze=ae===""?"."+rt(D,0):ae,pt(Ee)?(ie="",ze!=null&&(ie=ze.replace(x,"$&/")+"/"),F(Ee,G,ie,"",function(Ki){return Ki})):Ee!=null&&(O(Ee)&&(Ee=M(Ee,ie+(Ee.key==null||D&&D.key===Ee.key?"":(""+Ee.key).replace(x,"$&/")+"/")+ze)),G.push(Ee)),1;ze=0;var St=ae===""?".":ae+":";if(pt(D))for(var ct=0;ct<D.length;ct++)ae=D[ct],Ie=St+rt(ae,ct),ze+=F(ae,G,ie,Ie,Ee);else if(ct=q(D),typeof ct=="function")for(D=ct.call(D),ct=0;!(ae=D.next()).done;)ae=ae.value,Ie=St+rt(ae,ct++),ze+=F(ae,G,ie,Ie,Ee);else if(Ie==="object"){if(typeof D.then=="function")return F(gt(D),G,ie,ae,Ee);throw G=String(D),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ze}function te(D,G,ie){if(D==null)return D;var ae=[],Ee=0;return F(D,ae,"","",function(Ie){return G.call(ie,Ie,Ee++)}),ae}function de(D){if(D._status===-1){var G=D._result;G=G(),G.then(function(ie){(D._status===0||D._status===-1)&&(D._status=1,D._result=ie)},function(ie){(D._status===0||D._status===-1)&&(D._status=2,D._result=ie)}),D._status===-1&&(D._status=0,D._result=G)}if(D._status===1)return D._result.default;throw D._result}var Ge=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},xe={map:te,forEach:function(D,G,ie){te(D,function(){G.apply(this,arguments)},ie)},count:function(D){var G=0;return te(D,function(){G++}),G},toArray:function(D){return te(D,function(G){return G})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Re.Activity=S,Re.Children=xe,Re.Component=ye,Re.Fragment=n,Re.Profiler=l,Re.PureComponent=Ae,Re.StrictMode=r,Re.Suspense=_,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(D,G,ie){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ae=se({},D.props),Ee=D.key;if(G!=null)for(Ie in G.key!==void 0&&(Ee=""+G.key),G)!w.call(G,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&G.ref===void 0||(ae[Ie]=G[Ie]);var Ie=arguments.length-2;if(Ie===1)ae.children=ie;else if(1<Ie){for(var ze=Array(Ie),St=0;St<Ie;St++)ze[St]=arguments[St+2];ae.children=ze}return N(D.type,Ee,ae)},Re.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Re.createElement=function(D,G,ie){var ae,Ee={},Ie=null;if(G!=null)for(ae in G.key!==void 0&&(Ie=""+G.key),G)w.call(G,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Ee[ae]=G[ae]);var ze=arguments.length-2;if(ze===1)Ee.children=ie;else if(1<ze){for(var St=Array(ze),ct=0;ct<ze;ct++)St[ct]=arguments[ct+2];Ee.children=St}if(D&&D.defaultProps)for(ae in ze=D.defaultProps,ze)Ee[ae]===void 0&&(Ee[ae]=ze[ae]);return N(D,Ie,Ee)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:g,render:D}},Re.isValidElement=O,Re.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:de}},Re.memo=function(D,G){return{$$typeof:y,type:D,compare:G===void 0?null:G}},Re.startTransition=function(D){var G=C.T,ie={};C.T=ie;try{var ae=D(),Ee=C.S;Ee!==null&&Ee(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ue,Ge)}catch(Ie){Ge(Ie)}finally{G!==null&&ie.types!==null&&(G.types=ie.types),C.T=G}},Re.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Re.use=function(D){return C.H.use(D)},Re.useActionState=function(D,G,ie){return C.H.useActionState(D,G,ie)},Re.useCallback=function(D,G){return C.H.useCallback(D,G)},Re.useContext=function(D){return C.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,G){return C.H.useDeferredValue(D,G)},Re.useEffect=function(D,G){return C.H.useEffect(D,G)},Re.useEffectEvent=function(D){return C.H.useEffectEvent(D)},Re.useId=function(){return C.H.useId()},Re.useImperativeHandle=function(D,G,ie){return C.H.useImperativeHandle(D,G,ie)},Re.useInsertionEffect=function(D,G){return C.H.useInsertionEffect(D,G)},Re.useLayoutEffect=function(D,G){return C.H.useLayoutEffect(D,G)},Re.useMemo=function(D,G){return C.H.useMemo(D,G)},Re.useOptimistic=function(D,G){return C.H.useOptimistic(D,G)},Re.useReducer=function(D,G,ie){return C.H.useReducer(D,G,ie)},Re.useRef=function(D){return C.H.useRef(D)},Re.useState=function(D){return C.H.useState(D)},Re.useSyncExternalStore=function(D,G,ie){return C.H.useSyncExternalStore(D,G,ie)},Re.useTransition=function(){return C.H.useTransition()},Re.version="19.2.4",Re}var i_;function Hm(){return i_||(i_=1,Hd.exports=i2()),Hd.exports}var Qe=Hm();const s2=e2(Qe);var Fd={exports:{}},Ol={},Gd={exports:{}},Kd={};var s_;function r2(){return s_||(s_=1,(function(s){function e(F,te){var de=F.length;F.push(te);e:for(;0<de;){var Ge=de-1>>>1,xe=F[Ge];if(0<l(xe,te))F[Ge]=te,F[de]=xe,de=Ge;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var te=F[0],de=F.pop();if(de!==te){F[0]=de;e:for(var Ge=0,xe=F.length,D=xe>>>1;Ge<D;){var G=2*(Ge+1)-1,ie=F[G],ae=G+1,Ee=F[ae];if(0>l(ie,de))ae<xe&&0>l(Ee,ie)?(F[Ge]=Ee,F[ae]=de,Ge=ae):(F[Ge]=ie,F[G]=de,Ge=G);else if(ae<xe&&0>l(Ee,de))F[Ge]=Ee,F[ae]=de,Ge=ae;else break e}}return te}function l(F,te){var de=F.sortIndex-te.sortIndex;return de!==0?de:F.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],E=1,S=null,I=3,q=!1,ee=!1,se=!1,re=!1,ye=typeof setTimeout=="function"?setTimeout:null,Ne=typeof clearTimeout=="function"?clearTimeout:null,Ae=typeof setImmediate<"u"?setImmediate:null;function Je(F){for(var te=n(y);te!==null;){if(te.callback===null)r(y);else if(te.startTime<=F)r(y),te.sortIndex=te.expirationTime,e(_,te);else break;te=n(y)}}function pt(F){if(se=!1,Je(F),!ee)if(n(_)!==null)ee=!0,Ue||(Ue=!0,L());else{var te=n(y);te!==null&&gt(pt,te.startTime-F)}}var Ue=!1,C=-1,w=5,N=-1;function M(){return re?!0:!(s.unstable_now()-N<w)}function O(){if(re=!1,Ue){var F=s.unstable_now();N=F;var te=!0;try{e:{ee=!1,se&&(se=!1,Ne(C),C=-1),q=!0;var de=I;try{t:{for(Je(F),S=n(_);S!==null&&!(S.expirationTime>F&&M());){var Ge=S.callback;if(typeof Ge=="function"){S.callback=null,I=S.priorityLevel;var xe=Ge(S.expirationTime<=F);if(F=s.unstable_now(),typeof xe=="function"){S.callback=xe,Je(F),te=!0;break t}S===n(_)&&r(_),Je(F)}else r(_);S=n(_)}if(S!==null)te=!0;else{var D=n(y);D!==null&&gt(pt,D.startTime-F),te=!1}}break e}finally{S=null,I=de,q=!1}te=void 0}}finally{te?L():Ue=!1}}}var L;if(typeof Ae=="function")L=function(){Ae(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,rt=x.port2;x.port1.onmessage=O,L=function(){rt.postMessage(null)}}else L=function(){ye(O,0)};function gt(F,te){C=ye(function(){F(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(F){switch(I){case 1:case 2:case 3:var te=3;break;default:te=I}var de=I;I=te;try{return F()}finally{I=de}},s.unstable_requestPaint=function(){re=!0},s.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var de=I;I=F;try{return te()}finally{I=de}},s.unstable_scheduleCallback=function(F,te,de){var Ge=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ge+de:Ge):de=Ge,F){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=de+xe,F={id:E++,callback:te,priorityLevel:F,startTime:de,expirationTime:xe,sortIndex:-1},de>Ge?(F.sortIndex=de,e(y,F),n(_)===null&&F===n(y)&&(se?(Ne(C),C=-1):se=!0,gt(pt,de-Ge))):(F.sortIndex=xe,e(_,F),ee||q||(ee=!0,Ue||(Ue=!0,L()))),F},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(F){var te=I;return function(){var de=I;I=te;try{return F.apply(this,arguments)}finally{I=de}}}})(Kd)),Kd}var r_;function a2(){return r_||(r_=1,Gd.exports=r2()),Gd.exports}var Yd={exports:{}},sn={};var a_;function o2(){if(a_)return sn;a_=1;var s=Hm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,E)},sn.flushSync=function(_){var y=d.T,E=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=E,r.d.f()}},sn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},sn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},sn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:q}):E==="script"&&r.d.X(_,{crossOrigin:S,integrity:I,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},sn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},sn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin);r.d.L(_,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},sn.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},sn.requestFormReset=function(_){r.d.r(_)},sn.unstable_batchedUpdates=function(_,y){return _(y)},sn.useFormState=function(_,y,E){return d.H.useFormState(_,y,E)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.4",sn}var o_;function l2(){if(o_)return Yd.exports;o_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Yd.exports=o2(),Yd.exports}var l_;function u2(){if(l_)return Ol;l_=1;var s=a2(),e=Hm(),n=l2();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,b=h.child;b;){if(b===a){p=!0,a=h,o=f;break}if(b===o){p=!0,o=h,a=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===a){p=!0,a=f,o=h;break}if(b===o){p=!0,o=f,a=h;break}b=b.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,I=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),Ne=Symbol.for("react.consumer"),Ae=Symbol.for("react.context"),Je=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case ye:return"Profiler";case re:return"StrictMode";case pt:return"Suspense";case Ue:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case Ae:return t.displayName||"Context";case Ne:return(t._context.displayName||"Context")+".Consumer";case Je:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var gt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ge=[],xe=-1;function D(t){return{current:t}}function G(t){0>xe||(t.current=Ge[xe],Ge[xe]=null,xe--)}function ie(t,i){xe++,Ge[xe]=t.current,t.current=i}var ae=D(null),Ee=D(null),Ie=D(null),ze=D(null);function St(t,i){switch(ie(Ie,i),ie(Ee,t),ie(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?A0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=A0(i),t=S0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(ae),ie(ae,t)}function ct(){G(ae),G(Ee),G(Ie)}function Ki(t){t.memoizedState!==null&&ie(ze,t);var i=ae.current,a=S0(i,t.type);i!==a&&(ie(Ee,t),ie(ae,a))}function Yi(t){Ee.current===t&&(G(ae),G(Ee)),ze.current===t&&(G(ze),xl._currentValue=de)}var Rs,Cs;function jn(t){if(Rs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Rs=i&&i[1]||"",Cs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rs+t+Cs}var Rr=!1;function Qi(t,i){if(!t||Rr)return"";Rr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var P=H}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(H){P=H}t.call(Q.prototype)}}else{try{throw Error()}catch(H){P=H}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&P&&typeof H.stack=="string")return[H.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],b=f[1];if(p&&b){var R=p.split(`
`),z=b.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var K=`
`+R[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=h);break}}}finally{Rr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?jn(a):""}function Cr(t,i){switch(t.tag){case 26:case 27:case 5:return jn(t.type);case 16:return jn("Lazy");case 13:return t.child!==i&&i!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return Qi(t.type,!1);case 11:return Qi(t.type.render,!1);case 1:return Qi(t.type,!0);case 31:return jn("Activity");default:return""}}function gi(t){try{var i="",a=null;do i+=Cr(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var J=Object.prototype.hasOwnProperty,Z=s.unstable_scheduleCallback,le=s.unstable_cancelCallback,ce=s.unstable_shouldYield,Oe=s.unstable_requestPaint,$=s.unstable_now,pe=s.unstable_getCurrentPriorityLevel,De=s.unstable_ImmediatePriority,vt=s.unstable_UserBlockingPriority,et=s.unstable_NormalPriority,Io=s.unstable_LowPriority,Wi=s.unstable_IdlePriority,fu=s.log,du=s.unstable_setDisableYieldValue,ei=null,Qt=null;function Un(t){if(typeof fu=="function"&&du(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ei,t)}catch{}}var wt=Math.clz32?Math.clz32:pu,mu=Math.log,pa=Math.LN2;function pu(t){return t>>>=0,t===0?32:31-(mu(t)/pa|0)|0}var yi=256,Nr=262144,It=4194304;function _i(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vi(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=_i(o):(p&=b,p!==0?h=_i(p):a||(a=b&~t,a!==0&&(h=_i(a))))):(b=o&~f,b!==0?h=_i(b):p!==0?h=_i(p):a||(a=o&~t,a!==0&&(h=_i(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function ti(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Gh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var t=It;return It<<=1,(It&62914560)===0&&(It=4194304),t}function Ei(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ir(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Kh(t,i,a,o,h,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(a=p&~a;0<a;){var K=31-wt(a),Q=1<<K;b[K]=0,R[K]=-1;var P=z[K];if(P!==null)for(z[K]=null,K=0;K<P.length;K++){var H=P[K];H!==null&&(H.lane&=-536870913)}a&=~Q}o!==0&&Or(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~i))}function Or(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-wt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Oo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-wt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Do(t,i){var a=i&-i;return a=(a&42)!==0?1:Dr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $i(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:Y0(t.type))}function ni(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var ii=Math.random().toString(36).slice(2),Ot="__reactFiber$"+ii,Ft="__reactProps$"+ii,Ti="__reactContainer$"+ii,ga="__reactEvents$"+ii,Yh="__reactListeners$"+ii,_u="__reactHandles$"+ii,vu="__reactResources$"+ii,bi="__reactMarker$"+ii;function ya(t){delete t[Ot],delete t[Ft],delete t[ga],delete t[Yh],delete t[_u]}function Ai(t){var i=t[Ot];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ti]||a[Ot]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=O0(t);t!==null;){if(a=t[Ot])return a;t=O0(t)}return i}t=a,a=t.parentNode}return null}function zn(t){if(t=t[Ot]||t[Ti]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Rn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Si(t){var i=t[vu];return i||(i=t[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Dt(t){t[bi]=!0}var ko=new Set,Mo={};function wi(t,i){xi(t,i),xi(t+"Capture",i)}function xi(t,i){for(Mo[t]=i,t=0;t<i.length;t++)ko.add(i[t])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},jo={};function Eu(t){return J.call(jo,t)?!0:J.call(Lo,t)?!1:Vo.test(t)?jo[t]=!0:(Lo[t]=!0,!1)}function _a(t,i,a){if(Eu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Cn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function kt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Gt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ns(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Uo(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function nt(t){if(!t._valueTracker){var i=Ns(t)?"checked":"value";t._valueTracker=Uo(t,i,""+t[i])}}function kr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=Ns(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Mr=/[\n"\\]/g;function mn(t){return t.replace(Mr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function va(t,i,a,o,h,f,p,b){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),i!=null?p==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Gt(i)):t.value!==""+Gt(i)&&(t.value=""+Gt(i)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),i!=null?zo(t,p,Gt(i)):a!=null?zo(t,p,Gt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Gt(b):t.removeAttribute("name")}function Tu(t,i,a,o,h,f,p,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){nt(t);return}a=a!=null?""+Gt(a):"",i=i!=null?""+Gt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),nt(t)}function zo(t,i,a){i==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Is(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Gt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function bu(t,i,a){if(i!=null&&(i=""+Gt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Gt(a):""}function Os(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(gt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Gt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),nt(t)}function pn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Au.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Bo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Po(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Po(t,f,i[f])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function si(){}var qo=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ks=null,Ci=null;function Vr(t){var i=zn(t);if(i&&(t=i.stateNode)){var a=t[Ft]||null;e:switch(t=i.stateNode,i.type){case"input":if(va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Ft]||null;if(!h)throw Error(r(90));va(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&kr(o)}break e;case"textarea":bu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Is(t,!!a.multiple,i,!1)}}}var ba=!1;function Ms(t,i,a){if(ba)return t(i,a);ba=!0;try{var o=t(i);return o}finally{if(ba=!1,(ks!==null||Ci!==null)&&(yc(),ks&&(i=ks,t=Ci,Ci=ks=null,Vr(i),t)))for(i=0;i<t.length;i++)Vr(t[i])}}function ri(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Ft]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(Bn)try{var at={};Object.defineProperty(at,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Lr=!1}var Ni=null,Ho=null,jr=null;function Fo(){if(jr)return jr;var t,i=Ho,a=i.length,o,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var p=a-t;for(o=1;o<=p&&i[a-o]===h[f-o];o++);return jr=h.slice(t,1<o?1-o:void 0)}function Ur(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function ai(){return!1}function Wt(t){function i(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xi:ai,this.isPropagationStopped=ai,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),i}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Wt(Zi),Vs=S({},Zi,{view:0,detail:0}),Go=Wt(Vs),Ls,Aa,Oi,Sa=S({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Ls=t.screenX-Oi.screenX,Aa=t.screenY-Oi.screenY):Aa=Ls=0,Oi=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Ko=Wt(Sa),zr=S({},Sa,{dataTransfer:0}),wu=Wt(zr),xu=S({},Vs,{relatedTarget:0}),Pr=Wt(xu),Yo=S({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=Wt(Yo),wa=S({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cu=Wt(wa),Nu=S({},Zi,{data:0}),Di=Wt(Nu),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Du[t])?!!i[t]:!1}function js(){return ku}var un=S({},Vs,{key:function(t){if(t.key){var i=Iu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(t){return t.type==="keypress"?Ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mu=Wt(un),Vu=S({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Wt(Vu),u=S({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),m=Wt(u),v=S({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Wt(v),j=S({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Wt(j),ne=S({},Zi,{newState:0,oldState:0}),ke=Wt(ne),xt=[9,13,27,32],Xe=Bn&&"CompositionEvent"in window,yt=null;Bn&&"documentMode"in document&&(yt=document.documentMode);var qn=Bn&&"TextEvent"in window&&!yt,ki=Bn&&(!Xe||yt&&8<yt&&11>=yt),oi=" ",li=!1;function Br(t,i){switch(t){case"keyup":return xt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function ST(t,i){switch(t){case"compositionend":return xa(i);case"keypress":return i.which!==32?null:(li=!0,oi);case"textInput":return t=i.data,t===oi&&li?null:t;default:return null}}function wT(t,i){if(Ra)return t==="compositionend"||!Xe&&Br(t,i)?(t=Fo(),jr=Ho=Ni=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ki&&i.locale!=="ko"?null:i.data;default:return null}}var xT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!xT[t.type]:i==="textarea"}function Vp(t,i,a,o){ks?Ci?Ci.push(o):Ci=[o]:ks=o,i=Sc(i,"onChange"),0<i.length&&(a=new Ii("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Qo=null,Wo=null;function RT(t){y0(t,0)}function Lu(t){var i=Rn(t);if(kr(i))return t}function Lp(t,i){if(t==="change")return i}var jp=!1;if(Bn){var Qh;if(Bn){var Wh="oninput"in document;if(!Wh){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),Wh=typeof Up.oninput=="function"}Qh=Wh}else Qh=!1;jp=Qh&&(!document.documentMode||9<document.documentMode)}function zp(){Qo&&(Qo.detachEvent("onpropertychange",Pp),Wo=Qo=null)}function Pp(t){if(t.propertyName==="value"&&Lu(Wo)){var i=[];Vp(i,Wo,t,Pn(t)),Ms(RT,i)}}function CT(t,i,a){t==="focusin"?(zp(),Qo=i,Wo=a,Qo.attachEvent("onpropertychange",Pp)):t==="focusout"&&zp()}function NT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(Wo)}function IT(t,i){if(t==="click")return Lu(i)}function OT(t,i){if(t==="input"||t==="change")return Lu(i)}function DT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Nn=typeof Object.is=="function"?Object.is:DT;function $o(t,i){if(Nn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!J.call(i,h)||!Nn(t[h],i[h]))return!1}return!0}function Bp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qp(t,i){var a=Bp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bp(a)}}function Hp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Hp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Fp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ri(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ri(t.document)}return i}function $h(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var kT=Bn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Xh=null,Xo=null,Zh=!1;function Gp(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zh||Ca==null||Ca!==Ri(o)||(o=Ca,"selectionStart"in o&&$h(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Xo&&$o(Xo,o)||(Xo=o,o=Sc(Xh,"onSelect"),0<o.length&&(i=new Ii("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Ca)))}function qr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Na={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},Jh={},Kp={};Bn&&(Kp=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Hr(t){if(Jh[t])return Jh[t];if(!Na[t])return t;var i=Na[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Kp)return Jh[t]=i[a];return t}var Yp=Hr("animationend"),Qp=Hr("animationiteration"),Wp=Hr("animationstart"),MT=Hr("transitionrun"),VT=Hr("transitionstart"),LT=Hr("transitioncancel"),$p=Hr("transitionend"),Xp=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function ui(t,i){Xp.set(t,i),wi(i,[t])}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],Ia=0,tf=0;function Uu(){for(var t=Ia,i=tf=Ia=0;i<t;){var a=Hn[i];Hn[i++]=null;var o=Hn[i];Hn[i++]=null;var h=Hn[i];Hn[i++]=null;var f=Hn[i];if(Hn[i++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Zp(a,h,f)}}function zu(t,i,a,o){Hn[Ia++]=t,Hn[Ia++]=i,Hn[Ia++]=a,Hn[Ia++]=o,tf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function nf(t,i,a,o){return zu(t,i,a,o),Pu(t)}function Fr(t,i){return zu(t,null,null,i),Pu(t)}function Zp(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-wt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Pu(t){if(50<vl)throw vl=0,fd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Oa={};function jT(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,i,a,o){return new jT(t,i,a,o)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function es(t,i){var a=t.alternate;return a===null?(a=In(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Jp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Bu(t,i,a,o,h,f){var p=0;if(o=t,typeof t=="function")sf(t)&&(p=1);else if(typeof t=="string")p=qb(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=In(31,a,i,h),t.elementType=N,t.lanes=f,t;case se:return Gr(a.children,h,f,i);case re:p=8,h|=24;break;case ye:return t=In(12,a,i,h|2),t.elementType=ye,t.lanes=f,t;case pt:return t=In(13,a,i,h),t.elementType=pt,t.lanes=f,t;case Ue:return t=In(19,a,i,h),t.elementType=Ue,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ae:p=10;break e;case Ne:p=9;break e;case Je:p=11;break e;case C:p=14;break e;case w:p=16,o=null;break e}p=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=In(p,a,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function Gr(t,i,a,o){return t=In(7,t,o,i),t.lanes=a,t}function rf(t,i,a){return t=In(6,t,null,i),t.lanes=a,t}function eg(t){var i=In(18,null,null,0);return i.stateNode=t,i}function af(t,i,a){return i=In(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var tg=new WeakMap;function Fn(t,i){if(typeof t=="object"&&t!==null){var a=tg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:gi(i)},tg.set(t,i),i)}return{value:t,source:i,stack:gi(i)}}var Da=[],ka=0,qu=null,Zo=0,Gn=[],Kn=0,Us=null,Mi=1,Vi="";function ts(t,i){Da[ka++]=Zo,Da[ka++]=qu,qu=t,Zo=i}function ng(t,i,a){Gn[Kn++]=Mi,Gn[Kn++]=Vi,Gn[Kn++]=Us,Us=t;var o=Mi;t=Vi;var h=32-wt(o)-1;o&=~(1<<h),a+=1;var f=32-wt(i)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Mi=1<<32-wt(i)+h|a<<h|o,Vi=f+t}else Mi=1<<f|a<<h|o,Vi=t}function of(t){t.return!==null&&(ts(t,1),ng(t,1,0))}function lf(t){for(;t===qu;)qu=Da[--ka],Da[ka]=null,Zo=Da[--ka],Da[ka]=null;for(;t===Us;)Us=Gn[--Kn],Gn[Kn]=null,Vi=Gn[--Kn],Gn[Kn]=null,Mi=Gn[--Kn],Gn[Kn]=null}function ig(t,i){Gn[Kn++]=Mi,Gn[Kn++]=Vi,Gn[Kn++]=Us,Mi=i.id,Vi=i.overflow,Us=t}var $t=null,ft=null,Ke=!1,zs=null,Yn=!1,uf=Error(r(519));function Ps(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(Fn(i,t)),uf}function sg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Ot]=t,i[Ft]=o,a){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)je(Tl[a],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),Tu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),Os(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||T0(i.textContent,a)?(o.popover!=null&&(je("beforetoggle",i),je("toggle",i)),o.onScroll!=null&&je("scroll",i),o.onScrollEnd!=null&&je("scrollend",i),o.onClick!=null&&(i.onclick=si),i=!0):i=!1,i||Ps(t,!0)}function rg(t){for($t=t.return;$t;)switch($t.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:$t=$t.return}}function Ma(t){if(t!==$t)return!1;if(!Ke)return rg(t),Ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Rd(t.type,t.memoizedProps)),a=!a),a&&ft&&Ps(t),rg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ft=I0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ft=I0(t)}else i===27?(i=ft,er(t.type)?(t=Dd,Dd=null,ft=t):ft=i):ft=$t?Wn(t.stateNode.nextSibling):null;return!0}function Kr(){ft=$t=null,Ke=!1}function cf(){var t=zs;return t!==null&&(vn===null?vn=t:vn.push.apply(vn,t),zs=null),t}function Jo(t){zs===null?zs=[t]:zs.push(t)}var hf=D(null),Yr=null,ns=null;function Bs(t,i,a){ie(hf,i._currentValue),i._currentValue=a}function is(t){t._currentValue=hf.current,G(hf)}function ff(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function df(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var R=0;R<i.length;R++)if(b.context===i[R]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),ff(f.return,a,t),o||(p=null);break e}f=b.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),ff(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Va(t,i,a,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var b=h.type;Nn(h.pendingProps.value,p.value)||(t!==null?t.push(b):t=[b])}}else if(h===ze.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}h=h.return}t!==null&&df(i,t,a,o),i.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qr(t){Yr=t,ns=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return ag(Yr,t)}function Fu(t,i){return Yr===null&&Qr(t),ag(t,i)}function ag(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ns===null){if(t===null)throw Error(r(308));ns=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ns=ns.next=i;return a}var UT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},zT=s.unstable_scheduleCallback,PT=s.unstable_NormalPriority,Mt={$$typeof:Ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new UT,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&zT(PT,function(){t.controller.abort()})}var tl=null,pf=0,La=0,ja=null;function BT(t,i){if(tl===null){var a=tl=[];pf=0,La=_d(),ja={status:"pending",value:void 0,then:function(o){a.push(o)}}}return pf++,i.then(og,og),i}function og(){if(--pf===0&&tl!==null){ja!==null&&(ja.status="fulfilled");var t=tl;tl=null,La=0,ja=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function qT(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var lg=F.S;F.S=function(t,i){Gy=$(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&BT(t,i),lg!==null&&lg(t,i)};var Wr=D(null);function gf(){var t=Wr.current;return t!==null?t:ht.pooledCache}function Gu(t,i){i===null?ie(Wr,Wr.current):ie(Wr,i.pool)}function ug(){var t=gf();return t===null?null:{parent:Mt._currentValue,pool:t}}var Ua=Error(r(460)),yf=Error(r(474)),Ku=Error(r(542)),Yu={then:function(){}};function cg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(si,si),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,dg(t),t;default:if(typeof i.status=="string")i.then(si,si);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,dg(t),t}throw Xr=i,Ua}}function $r(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xr=a,Ua):a}}var Xr=null;function fg(){if(Xr===null)throw Error(r(459));var t=Xr;return Xr=null,t}function dg(t){if(t===Ua||t===Ku)throw Error(r(483))}var za=null,nl=0;function Qu(t){var i=nl;return nl+=1,za===null&&(za=[]),hg(za,t,i)}function il(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Wu(t,i){throw i.$$typeof===I?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function mg(t){function i(V,k){if(t){var U=V.deletions;U===null?(V.deletions=[k],V.flags|=16):U.push(k)}}function a(V,k){if(!t)return null;for(;k!==null;)i(V,k),k=k.sibling;return null}function o(V){for(var k=new Map;V!==null;)V.key!==null?k.set(V.key,V):k.set(V.index,V),V=V.sibling;return k}function h(V,k){return V=es(V,k),V.index=0,V.sibling=null,V}function f(V,k,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<k?(V.flags|=67108866,k):U):(V.flags|=67108866,k)):(V.flags|=1048576,k)}function p(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function b(V,k,U,Y){return k===null||k.tag!==6?(k=rf(U,V.mode,Y),k.return=V,k):(k=h(k,U),k.return=V,k)}function R(V,k,U,Y){var me=U.type;return me===se?K(V,k,U.props.children,Y,U.key):k!==null&&(k.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&$r(me)===k.type)?(k=h(k,U.props),il(k,U),k.return=V,k):(k=Bu(U.type,U.key,U.props,null,V.mode,Y),il(k,U),k.return=V,k)}function z(V,k,U,Y){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=af(U,V.mode,Y),k.return=V,k):(k=h(k,U.children||[]),k.return=V,k)}function K(V,k,U,Y,me){return k===null||k.tag!==7?(k=Gr(U,V.mode,Y,me),k.return=V,k):(k=h(k,U),k.return=V,k)}function Q(V,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=rf(""+k,V.mode,U),k.return=V,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case q:return U=Bu(k.type,k.key,k.props,null,V.mode,U),il(U,k),U.return=V,U;case ee:return k=af(k,V.mode,U),k.return=V,k;case w:return k=$r(k),Q(V,k,U)}if(gt(k)||L(k))return k=Gr(k,V.mode,U,null),k.return=V,k;if(typeof k.then=="function")return Q(V,Qu(k),U);if(k.$$typeof===Ae)return Q(V,Fu(V,k),U);Wu(V,k)}return null}function P(V,k,U,Y){var me=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return me!==null?null:b(V,k,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case q:return U.key===me?R(V,k,U,Y):null;case ee:return U.key===me?z(V,k,U,Y):null;case w:return U=$r(U),P(V,k,U,Y)}if(gt(U)||L(U))return me!==null?null:K(V,k,U,Y,null);if(typeof U.then=="function")return P(V,k,Qu(U),Y);if(U.$$typeof===Ae)return P(V,k,Fu(V,U),Y);Wu(V,U)}return null}function H(V,k,U,Y,me){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(U)||null,b(k,V,""+Y,me);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:return V=V.get(Y.key===null?U:Y.key)||null,R(k,V,Y,me);case ee:return V=V.get(Y.key===null?U:Y.key)||null,z(k,V,Y,me);case w:return Y=$r(Y),H(V,k,U,Y,me)}if(gt(Y)||L(Y))return V=V.get(U)||null,K(k,V,Y,me,null);if(typeof Y.then=="function")return H(V,k,U,Qu(Y),me);if(Y.$$typeof===Ae)return H(V,k,U,Fu(k,Y),me);Wu(k,Y)}return null}function ue(V,k,U,Y){for(var me=null,We=null,he=k,Ve=k=0,Be=null;he!==null&&Ve<U.length;Ve++){he.index>Ve?(Be=he,he=null):Be=he.sibling;var $e=P(V,he,U[Ve],Y);if($e===null){he===null&&(he=Be);break}t&&he&&$e.alternate===null&&i(V,he),k=f($e,k,Ve),We===null?me=$e:We.sibling=$e,We=$e,he=Be}if(Ve===U.length)return a(V,he),Ke&&ts(V,Ve),me;if(he===null){for(;Ve<U.length;Ve++)he=Q(V,U[Ve],Y),he!==null&&(k=f(he,k,Ve),We===null?me=he:We.sibling=he,We=he);return Ke&&ts(V,Ve),me}for(he=o(he);Ve<U.length;Ve++)Be=H(he,V,Ve,U[Ve],Y),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Ve:Be.key),k=f(Be,k,Ve),We===null?me=Be:We.sibling=Be,We=Be);return t&&he.forEach(function(rr){return i(V,rr)}),Ke&&ts(V,Ve),me}function _e(V,k,U,Y){if(U==null)throw Error(r(151));for(var me=null,We=null,he=k,Ve=k=0,Be=null,$e=U.next();he!==null&&!$e.done;Ve++,$e=U.next()){he.index>Ve?(Be=he,he=null):Be=he.sibling;var rr=P(V,he,$e.value,Y);if(rr===null){he===null&&(he=Be);break}t&&he&&rr.alternate===null&&i(V,he),k=f(rr,k,Ve),We===null?me=rr:We.sibling=rr,We=rr,he=Be}if($e.done)return a(V,he),Ke&&ts(V,Ve),me;if(he===null){for(;!$e.done;Ve++,$e=U.next())$e=Q(V,$e.value,Y),$e!==null&&(k=f($e,k,Ve),We===null?me=$e:We.sibling=$e,We=$e);return Ke&&ts(V,Ve),me}for(he=o(he);!$e.done;Ve++,$e=U.next())$e=H(he,V,Ve,$e.value,Y),$e!==null&&(t&&$e.alternate!==null&&he.delete($e.key===null?Ve:$e.key),k=f($e,k,Ve),We===null?me=$e:We.sibling=$e,We=$e);return t&&he.forEach(function(Jb){return i(V,Jb)}),Ke&&ts(V,Ve),me}function ut(V,k,U,Y){if(typeof U=="object"&&U!==null&&U.type===se&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case q:e:{for(var me=U.key;k!==null;){if(k.key===me){if(me=U.type,me===se){if(k.tag===7){a(V,k.sibling),Y=h(k,U.props.children),Y.return=V,V=Y;break e}}else if(k.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&$r(me)===k.type){a(V,k.sibling),Y=h(k,U.props),il(Y,U),Y.return=V,V=Y;break e}a(V,k);break}else i(V,k);k=k.sibling}U.type===se?(Y=Gr(U.props.children,V.mode,Y,U.key),Y.return=V,V=Y):(Y=Bu(U.type,U.key,U.props,null,V.mode,Y),il(Y,U),Y.return=V,V=Y)}return p(V);case ee:e:{for(me=U.key;k!==null;){if(k.key===me)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){a(V,k.sibling),Y=h(k,U.children||[]),Y.return=V,V=Y;break e}else{a(V,k);break}else i(V,k);k=k.sibling}Y=af(U,V.mode,Y),Y.return=V,V=Y}return p(V);case w:return U=$r(U),ut(V,k,U,Y)}if(gt(U))return ue(V,k,U,Y);if(L(U)){if(me=L(U),typeof me!="function")throw Error(r(150));return U=me.call(U),_e(V,k,U,Y)}if(typeof U.then=="function")return ut(V,k,Qu(U),Y);if(U.$$typeof===Ae)return ut(V,k,Fu(V,U),Y);Wu(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(a(V,k.sibling),Y=h(k,U),Y.return=V,V=Y):(a(V,k),Y=rf(U,V.mode,Y),Y.return=V,V=Y),p(V)):a(V,k)}return function(V,k,U,Y){try{nl=0;var me=ut(V,k,U,Y);return za=null,me}catch(he){if(he===Ua||he===Ku)throw he;var We=In(29,he,null,V.mode);return We.lanes=Y,We.return=V,We}}}var Zr=mg(!0),pg=mg(!1),qs=!1;function _f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ze&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Pu(t),Zp(t,null,a),i}return zu(t,o,i,a),Pu(t)}function sl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Oo(t,a)}}function Ef(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Tf=!1;function rl(){if(Tf){var t=ja;if(t!==null)throw t}}function al(t,i,a,o){Tf=!1;var h=t.updateQueue;qs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var R=b,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var K=t.alternate;K!==null&&(K=K.updateQueue,b=K.lastBaseUpdate,b!==p&&(b===null?K.firstBaseUpdate=z:b.next=z,K.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;p=0,K=z=R=null,b=f;do{var P=b.lane&-536870913,H=P!==b.lane;if(H?(Pe&P)===P:(o&P)===P){P!==0&&P===La&&(Tf=!0),K!==null&&(K=K.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ue=t,_e=b;P=i;var ut=a;switch(_e.tag){case 1:if(ue=_e.payload,typeof ue=="function"){Q=ue.call(ut,Q,P);break e}Q=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=_e.payload,P=typeof ue=="function"?ue.call(ut,Q,P):ue,P==null)break e;Q=S({},Q,P);break e;case 2:qs=!0}}P=b.callback,P!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[P]:H.push(P))}else H={lane:P,tag:b.tag,payload:b.payload,callback:b.callback,next:null},K===null?(z=K=H,R=Q):K=K.next=H,p|=P;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;H=b,b=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Ws|=p,t.lanes=p,t.memoizedState=Q}}function gg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function yg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gg(a[t],i)}var Pa=D(null),$u=D(0);function _g(t,i){t=fs,ie($u,t),ie(Pa,i),fs=t|i.baseLanes}function bf(){ie($u,fs),ie(Pa,Pa.current)}function Af(){fs=$u.current,G(Pa),G($u)}var On=D(null),Qn=null;function Gs(t){var i=t.alternate;ie(Rt,Rt.current&1),ie(On,t),Qn===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(Qn=t)}function Sf(t){ie(Rt,Rt.current),ie(On,t),Qn===null&&(Qn=t)}function vg(t){t.tag===22?(ie(Rt,Rt.current),ie(On,t),Qn===null&&(Qn=t)):Ks()}function Ks(){ie(Rt,Rt.current),ie(On,On.current)}function Dn(t){G(On),Qn===t&&(Qn=null),G(Rt)}var Rt=D(0);function Xu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Id(a)||Od(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ss=0,Me=null,ot=null,Vt=null,Zu=!1,Ba=!1,Jr=!1,Ju=0,ol=0,qa=null,HT=0;function bt(){throw Error(r(321))}function wf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Nn(t[a],i[a]))return!1;return!0}function xf(t,i,a,o,h,f){return ss=f,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?ny:Bf,Jr=!1,f=a(o,h),Jr=!1,Ba&&(f=Tg(i,a,o,h)),Eg(t),f}function Eg(t){F.H=cl;var i=ot!==null&&ot.next!==null;if(ss=0,Vt=ot=Me=null,Zu=!1,ol=0,qa=null,i)throw Error(r(300));t===null||Lt||(t=t.dependencies,t!==null&&Hu(t)&&(Lt=!0))}function Tg(t,i,a,o){Me=t;var h=0;do{if(Ba&&(qa=null),ol=0,Ba=!1,25<=h)throw Error(r(301));if(h+=1,Vt=ot=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=iy,f=i(a,o)}while(Ba);return f}function FT(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?ll(i):i,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(Me.flags|=1024),i}function Rf(){var t=Ju!==0;return Ju=0,t}function Cf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Nf(t){if(Zu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Zu=!1}ss=0,Vt=ot=Me=null,Ba=!1,ol=Ju=0,qa=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Me.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Ct(){if(ot===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var i=Vt===null?Me.memoizedState:Vt.next;if(i!==null)Vt=i,ot=t;else{if(t===null)throw Me.alternate===null?Error(r(467)):Error(r(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Vt===null?Me.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var i=ol;return ol+=1,qa===null&&(qa=[]),t=hg(qa,t,i),i=Me,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?ny:Bf),t}function tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===Ae)return Xt(t)}throw Error(r(438,String(t)))}function If(t){var i=null,a=Me.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ec(),Me.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=M;return i.index++,a}function rs(t,i){return typeof i=="function"?i(t):i}function nc(t){var i=Ct();return Of(i,ot,t)}function Of(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var b=p=null,R=null,z=i,K=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Pe&Q)===Q:(ss&Q)===Q){var P=z.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===La&&(K=!0);else if((ss&P)===P){z=z.next,P===La&&(K=!0);continue}else Q={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(b=R=Q,p=f):R=R.next=Q,Me.lanes|=P,Ws|=P;Q=z.action,Jr&&a(f,Q),f=z.hasEagerState?z.eagerState:a(f,Q)}else P={lane:Q,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(b=R=P,p=f):R=R.next=P,Me.lanes|=Q,Ws|=Q;z=z.next}while(z!==null&&z!==i);if(R===null?p=f:R.next=b,!Nn(f,t.memoizedState)&&(Lt=!0,K&&(a=ja,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Df(t){var i=Ct(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Nn(f,i.memoizedState)||(Lt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function bg(t,i,a){var o=Me,h=Ct(),f=Ke;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var p=!Nn((ot||h).memoizedState,a);if(p&&(h.memoizedState=a,Lt=!0),h=h.queue,Vf(wg.bind(null,o,h,t),[t]),h.getSnapshot!==i||p||Vt!==null&&Vt.memoizedState.tag&1){if(o.flags|=2048,Ha(9,{destroy:void 0},Sg.bind(null,o,h,a,i),null),ht===null)throw Error(r(349));f||(ss&127)!==0||Ag(o,i,a)}return a}function Ag(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Me.updateQueue,i===null?(i=ec(),Me.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Sg(t,i,a,o){i.value=a,i.getSnapshot=o,xg(i)&&Rg(t)}function wg(t,i,a){return a(function(){xg(i)&&Rg(t)})}function xg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Nn(t,a)}catch{return!0}}function Rg(t){var i=Fr(t,2);i!==null&&En(i,t,2)}function kf(t){var i=cn();if(typeof t=="function"){var a=t;if(t=a(),Jr){Un(!0);try{a()}finally{Un(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},i}function Cg(t,i,a,o){return t.baseState=a,Of(t,ot,typeof o=="function"?o:rs)}function GT(t,i,a,o,h){if(rc(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Ng(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Ng(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=F.T,p={};F.T=p;try{var b=a(h,o),R=F.S;R!==null&&R(p,b),Ig(t,i,b)}catch(z){Mf(t,i,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=a(h,o),Ig(t,i,f)}catch(z){Mf(t,i,z)}}function Ig(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Og(t,i,o)},function(o){return Mf(t,i,o)}):Og(t,i,a)}function Og(t,i,a){i.status="fulfilled",i.value=a,Dg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ng(t,a)))}function Mf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Dg(i),i=i.next;while(i!==o)}t.action=null}function Dg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function kg(t,i){return i}function Mg(t,i){if(Ke){var a=ht.formState;if(a!==null){e:{var o=Me;if(Ke){if(ft){t:{for(var h=ft,f=Yn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ft=Wn(h.nextSibling),o=h.data==="F!";break e}}Ps(o)}o=!1}o&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kg,lastRenderedState:i},a.queue=o,a=Jg.bind(null,Me,o),o.dispatch=a,o=kf(!1),f=Pf.bind(null,Me,!1,o.queue),o=cn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=GT.bind(null,Me,h,f,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function Vg(t){var i=Ct();return Lg(i,ot,t)}function Lg(t,i,a){if(i=Of(t,i,kg)[0],t=nc(rs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=ll(i)}catch(p){throw p===Ua?Ku:p}else o=i;i=Ct();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Me.flags|=2048,Ha(9,{destroy:void 0},KT.bind(null,h,a),null)),[o,f,t]}function KT(t,i){t.action=i}function jg(t){var i=Ct(),a=ot;if(a!==null)return Lg(i,a,t);Ct(),i=i.memoizedState,a=Ct();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ha(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Me.updateQueue,i===null&&(i=ec(),Me.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Ug(){return Ct().memoizedState}function ic(t,i,a,o){var h=cn();Me.flags|=t,h.memoizedState=Ha(1|i,{destroy:void 0},a,o===void 0?null:o)}function sc(t,i,a,o){var h=Ct();o=o===void 0?null:o;var f=h.memoizedState.inst;ot!==null&&o!==null&&wf(o,ot.memoizedState.deps)?h.memoizedState=Ha(i,f,a,o):(Me.flags|=t,h.memoizedState=Ha(1|i,f,a,o))}function zg(t,i){ic(8390656,8,t,i)}function Vf(t,i){sc(2048,8,t,i)}function YT(t){Me.flags|=4;var i=Me.updateQueue;if(i===null)i=ec(),Me.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Pg(t){var i=Ct().memoizedState;return YT({ref:i,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Bg(t,i){return sc(4,2,t,i)}function qg(t,i){return sc(4,4,t,i)}function Hg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Fg(t,i,a){a=a!=null?a.concat([t]):null,sc(4,4,Hg.bind(null,i,t),a)}function Lf(){}function Gg(t,i){var a=Ct();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&wf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Kg(t,i){var a=Ct();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&wf(i,o[1]))return o[0];if(o=t(),Jr){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[o,i],o}function jf(t,i,a){return a===void 0||(ss&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Yy(),Me.lanes|=t,Ws|=t,a)}function Yg(t,i,a,o){return Nn(a,i)?a:Pa.current!==null?(t=jf(t,a,o),Nn(t,i)||(Lt=!0),t):(ss&42)===0||(ss&1073741824)!==0&&(Pe&261930)===0?(Lt=!0,t.memoizedState=a):(t=Yy(),Me.lanes|=t,Ws|=t,i)}function Qg(t,i,a,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var p=F.T,b={};F.T=b,Pf(t,!1,i,a);try{var R=h(),z=F.S;if(z!==null&&z(b,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=qT(R,o);ul(t,i,K,Vn(t))}else ul(t,i,o,Vn(t))}catch(Q){ul(t,i,{then:function(){},status:"rejected",reason:Q},Vn())}finally{te.p=f,p!==null&&b.types!==null&&(p.types=b.types),F.T=p}}function QT(){}function Uf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var h=Wg(t).queue;Qg(t,h,i,de,a===null?QT:function(){return $g(t),a(o)})}function Wg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function $g(t){var i=Wg(t);i.next===null&&(i=t.alternate.memoizedState),ul(t,i.next.queue,{},Vn())}function zf(){return Xt(xl)}function Xg(){return Ct().memoizedState}function Zg(){return Ct().memoizedState}function WT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Vn();t=Hs(a);var o=Fs(i,t,a);o!==null&&(En(o,i,a),sl(o,i,a)),i={cache:mf()},t.payload=i;return}i=i.return}}function $T(t,i,a){var o=Vn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},rc(t)?ey(i,a):(a=nf(t,i,a,o),a!==null&&(En(a,t,o),ty(a,i,o)))}function Jg(t,i,a){var o=Vn();ul(t,i,a,o)}function ul(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(t))ey(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var p=i.lastRenderedState,b=f(p,a);if(h.hasEagerState=!0,h.eagerState=b,Nn(b,p))return zu(t,i,h,0),ht===null&&Uu(),!1}catch{}if(a=nf(t,i,h,o),a!==null)return En(a,t,o),ty(a,i,o),!0}return!1}function Pf(t,i,a,o){if(o={lane:2,revertLane:_d(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(i)throw Error(r(479))}else i=nf(t,a,o,2),i!==null&&En(i,t,2)}function rc(t){var i=t.alternate;return t===Me||i!==null&&i===Me}function ey(t,i){Ba=Zu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ty(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Oo(t,a)}}var cl={readContext:Xt,use:tc,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};cl.useEffectEvent=bt;var ny={readContext:Xt,use:tc,useCallback:function(t,i){return cn().memoizedState=[t,i===void 0?null:i],t},useContext:Xt,useEffect:zg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ic(4194308,4,Hg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ic(4194308,4,t,i)},useInsertionEffect:function(t,i){ic(4,2,t,i)},useMemo:function(t,i){var a=cn();i=i===void 0?null:i;var o=t();if(Jr){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=cn();if(a!==void 0){var h=a(i);if(Jr){Un(!0);try{a(i)}finally{Un(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=$T.bind(null,Me,t),[o.memoizedState,t]},useRef:function(t){var i=cn();return t={current:t},i.memoizedState=t},useState:function(t){t=kf(t);var i=t.queue,a=Jg.bind(null,Me,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(t,i){var a=cn();return jf(a,t,i)},useTransition:function(){var t=kf(!1);return t=Qg.bind(null,Me,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Me,h=cn();if(Ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ht===null)throw Error(r(349));(Pe&127)!==0||Ag(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,zg(wg.bind(null,o,f,t),[t]),o.flags|=2048,Ha(9,{destroy:void 0},Sg.bind(null,o,f,a,i),null),a},useId:function(){var t=cn(),i=ht.identifierPrefix;if(Ke){var a=Vi,o=Mi;a=(o&~(1<<32-wt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Ju++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=HT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:zf,useFormState:Mg,useActionState:Mg,useOptimistic:function(t){var i=cn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Pf.bind(null,Me,!0,a),a.dispatch=i,[t,i]},useMemoCache:If,useCacheRefresh:function(){return cn().memoizedState=WT.bind(null,Me)},useEffectEvent:function(t){var i=cn(),a={impl:t};return i.memoizedState=a,function(){if((Ze&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Bf={readContext:Xt,use:tc,useCallback:Gg,useContext:Xt,useEffect:Vf,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Kg,useReducer:nc,useRef:Ug,useState:function(){return nc(rs)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=Ct();return Yg(a,ot.memoizedState,t,i)},useTransition:function(){var t=nc(rs)[0],i=Ct().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:bg,useId:Xg,useHostTransitionStatus:zf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,i){var a=Ct();return Cg(a,ot,t,i)},useMemoCache:If,useCacheRefresh:Zg};Bf.useEffectEvent=Pg;var iy={readContext:Xt,use:tc,useCallback:Gg,useContext:Xt,useEffect:Vf,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Kg,useReducer:Df,useRef:Ug,useState:function(){return Df(rs)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=Ct();return ot===null?jf(a,t,i):Yg(a,ot.memoizedState,t,i)},useTransition:function(){var t=Df(rs)[0],i=Ct().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:bg,useId:Xg,useHostTransitionStatus:zf,useFormState:jg,useActionState:jg,useOptimistic:function(t,i){var a=Ct();return ot!==null?Cg(a,ot,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:If,useCacheRefresh:Zg};iy.useEffectEvent=Pg;function qf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Hf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Vn(),h=Hs(o);h.payload=i,a!=null&&(h.callback=a),i=Fs(t,h,o),i!==null&&(En(i,t,o),sl(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Vn(),h=Hs(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Fs(t,h,o),i!==null&&(En(i,t,o),sl(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Vn(),o=Hs(a);o.tag=2,i!=null&&(o.callback=i),i=Fs(t,o,a),i!==null&&(En(i,t,a),sl(i,t,a))}};function sy(t,i,a,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):i.prototype&&i.prototype.isPureReactComponent?!$o(a,o)||!$o(h,f):!0}function ry(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Hf.enqueueReplaceState(i,i.state,null)}function ea(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ay(t){ju(t)}function oy(t){console.error(t)}function ly(t){ju(t)}function ac(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function uy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ff(t,i,a){return a=Hs(a),a.tag=3,a.payload={element:null},a.callback=function(){ac(t,i)},a}function cy(t){return t=Hs(t),t.tag=3,t}function hy(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){uy(i,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){uy(i,a,o),typeof h!="function"&&($s===null?$s=new Set([this]):$s.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function XT(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Va(i,a,h,!0),a=On.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?_c():a.alternate===null&&At===0&&(At=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Yu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),pd(t,o,h)),!1;case 22:return a.flags|=65536,o===Yu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),pd(t,o,h)),!1}throw Error(r(435,a.tag))}return pd(t,o,h),_c(),!1}if(Ke)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==uf&&(t=Error(r(422),{cause:o}),Jo(Fn(t,a)))):(o!==uf&&(i=Error(r(423),{cause:o}),Jo(Fn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Fn(o,a),h=Ff(t.stateNode,o,h),Ef(t,h),At!==4&&(At=2)),!1;var f=Error(r(520),{cause:o});if(f=Fn(f,a),_l===null?_l=[f]:_l.push(f),At!==4&&(At=2),i===null)return!0;o=Fn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ff(a.stateNode,o,t),Ef(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($s===null||!$s.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=cy(h),hy(h,t,a,o),Ef(a,h),!1}a=a.return}while(a!==null);return!1}var Gf=Error(r(461)),Lt=!1;function Zt(t,i,a,o){i.child=t===null?pg(i,null,a,o):Zr(i,t.child,a,o)}function fy(t,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var p={};for(var b in o)b!=="ref"&&(p[b]=o[b])}else p=o;return Qr(i),o=xf(t,i,a,p,f,h),b=Rf(),t!==null&&!Lt?(Cf(t,i,h),as(t,i,h)):(Ke&&b&&of(i),i.flags|=1,Zt(t,i,o,h),i.child)}function dy(t,i,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!sf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,my(t,i,f,o,h)):(t=Bu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Jf(t,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(p,o)&&t.ref===i.ref)return as(t,i,h)}return i.flags|=1,t=es(f,o),t.ref=i.ref,t.return=i,i.child=t}function my(t,i,a,o,h){if(t!==null){var f=t.memoizedProps;if($o(f,o)&&t.ref===i.ref)if(Lt=!1,i.pendingProps=o=f,Jf(t,h))(t.flags&131072)!==0&&(Lt=!0);else return i.lanes=t.lanes,as(t,i,h)}return Kf(t,i,a,o,h)}function py(t,i,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return gy(t,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gu(i,f!==null?f.cachePool:null),f!==null?_g(i,f):bf(),vg(i);else return o=i.lanes=536870912,gy(t,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Gu(i,f.cachePool),_g(i,f),Ks(),i.memoizedState=null):(t!==null&&Gu(i,null),bf(),Ks());return Zt(t,i,h,a),i.child}function hl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function gy(t,i,a,o,h){var f=gf();return f=f===null?null:{parent:Mt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Gu(i,null),bf(),vg(i),t!==null&&Va(t,i,o,!0),i.childLanes=h,null}function oc(t,i){return i=uc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function yy(t,i,a){return Zr(i,t.child,null,a),t=oc(i,i.pendingProps),t.flags|=2,Dn(i),i.memoizedState=null,t}function ZT(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ke){if(o.mode==="hidden")return t=oc(i,o),i.lanes=536870912,hl(null,t);if(Sf(i),(t=ft)?(t=N0(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Us!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=eg(t),a.return=i,i.child=a,$t=i,ft=null)):t=null,t===null)throw Ps(i);return i.lanes=536870912,null}return oc(i,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(Sf(i),h)if(i.flags&256)i.flags&=-257,i=yy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Lt||Va(t,i,a,!1),h=(a&t.childLanes)!==0,Lt||h){if(o=ht,o!==null&&(p=Do(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Fr(t,p),En(o,t,p),Gf;_c(),i=yy(t,i,a)}else t=f.treeContext,ft=Wn(p.nextSibling),$t=i,Ke=!0,zs=null,Yn=!1,t!==null&&ig(i,t),i=oc(i,o),i.flags|=4096;return i}return t=es(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function lc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Kf(t,i,a,o,h){return Qr(i),a=xf(t,i,a,o,void 0,h),o=Rf(),t!==null&&!Lt?(Cf(t,i,h),as(t,i,h)):(Ke&&o&&of(i),i.flags|=1,Zt(t,i,a,h),i.child)}function _y(t,i,a,o,h,f){return Qr(i),i.updateQueue=null,a=Tg(i,o,a,h),Eg(t),o=Rf(),t!==null&&!Lt?(Cf(t,i,f),as(t,i,f)):(Ke&&o&&of(i),i.flags|=1,Zt(t,i,a,f),i.child)}function vy(t,i,a,o,h){if(Qr(i),i.stateNode===null){var f=Oa,p=a.contextType;typeof p=="object"&&p!==null&&(f=Xt(p)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},_f(i),p=a.contextType,f.context=typeof p=="object"&&p!==null?Xt(p):Oa,f.state=i.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(qf(i,a,p,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Hf.enqueueReplaceState(f,f.state,null),al(i,o,f,h),rl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var b=i.memoizedProps,R=ea(a,b);f.props=R;var z=f.context,K=a.contextType;p=Oa,typeof K=="object"&&K!==null&&(p=Xt(K));var Q=a.getDerivedStateFromProps;K=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||z!==p)&&ry(i,f,o,p),qs=!1;var P=i.memoizedState;f.state=P,al(i,o,f,h),rl(),z=i.memoizedState,b||P!==z||qs?(typeof Q=="function"&&(qf(i,a,Q,o),z=i.memoizedState),(R=qs||sy(i,a,R,o,P,z,p))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),f.props=o,f.state=z,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,vf(t,i),p=i.memoizedProps,K=ea(a,p),f.props=K,Q=i.pendingProps,P=f.context,z=a.contextType,R=Oa,typeof z=="object"&&z!==null&&(R=Xt(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Q||P!==R)&&ry(i,f,o,R),qs=!1,P=i.memoizedState,f.state=P,al(i,o,f,h),rl();var H=i.memoizedState;p!==Q||P!==H||qs||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof b=="function"&&(qf(i,a,b,o),H=i.memoizedState),(K=qs||sy(i,a,K,o,P,H,R)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),f.props=o,f.state=H,f.context=R,o=K):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,lc(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=Zr(i,t.child,null,h),i.child=Zr(i,null,a,h)):Zt(t,i,a,h),i.memoizedState=f.state,t=i.child):t=as(t,i,h),t}function Ey(t,i,a,o){return Kr(),i.flags|=256,Zt(t,i,a,o),i.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(t){return{baseLanes:t,cachePool:ug()}}function Wf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Mn),t}function Ty(t,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),p&&(h=!0,i.flags&=-129),p=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ke){if(h?Gs(i):Ks(),(t=ft)?(t=N0(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Us!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=eg(t),a.return=i,i.child=a,$t=i,ft=null)):t=null,t===null)throw Ps(i);return Od(t)?i.lanes=32:i.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(Ks(),h=i.mode,b=uc({mode:"hidden",children:b},h),o=Gr(o,h,a,null),b.return=i,o.return=i,b.sibling=o,i.child=b,o=i.child,o.memoizedState=Qf(a),o.childLanes=Wf(t,p,a),i.memoizedState=Yf,hl(null,o)):(Gs(i),$f(i,b))}var R=t.memoizedState;if(R!==null&&(b=R.dehydrated,b!==null)){if(f)i.flags&256?(Gs(i),i.flags&=-257,i=Xf(t,i,a)):i.memoizedState!==null?(Ks(),i.child=t.child,i.flags|=128,i=null):(Ks(),b=o.fallback,h=i.mode,o=uc({mode:"visible",children:o.children},h),b=Gr(b,h,a,null),b.flags|=2,o.return=i,b.return=i,o.sibling=b,i.child=o,Zr(i,t.child,null,a),o=i.child,o.memoizedState=Qf(a),o.childLanes=Wf(t,p,a),i.memoizedState=Yf,i=hl(null,o));else if(Gs(i),Od(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(r(419)),o.stack="",o.digest=p,Jo({value:o,source:null,stack:null}),i=Xf(t,i,a)}else if(Lt||Va(t,i,a,!1),p=(a&t.childLanes)!==0,Lt||p){if(p=ht,p!==null&&(o=Do(p,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Fr(t,o),En(p,t,o),Gf;Id(b)||_c(),i=Xf(t,i,a)}else Id(b)?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,ft=Wn(b.nextSibling),$t=i,Ke=!0,zs=null,Yn=!1,t!==null&&ig(i,t),i=$f(i,o.children),i.flags|=4096);return i}return h?(Ks(),b=o.fallback,h=i.mode,R=t.child,z=R.sibling,o=es(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?b=es(z,b):(b=Gr(b,h,a,null),b.flags|=2),b.return=i,o.return=i,o.sibling=b,i.child=o,hl(null,o),o=i.child,b=t.child.memoizedState,b===null?b=Qf(a):(h=b.cachePool,h!==null?(R=Mt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=ug(),b={baseLanes:b.baseLanes|a,cachePool:h}),o.memoizedState=b,o.childLanes=Wf(t,p,a),i.memoizedState=Yf,hl(t.child,o)):(Gs(i),a=t.child,t=a.sibling,a=es(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(p=i.deletions,p===null?(i.deletions=[t],i.flags|=16):p.push(t)),i.child=a,i.memoizedState=null,a)}function $f(t,i){return i=uc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function uc(t,i){return t=In(22,t,null,i),t.lanes=0,t}function Xf(t,i,a){return Zr(i,t.child,null,a),t=$f(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function by(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),ff(t.return,i,a)}function Zf(t,i,a,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function Ay(t,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Rt.current,b=(p&2)!==0;if(b?(p=p&1|2,i.flags|=128):p&=1,ie(Rt,p),Zt(t,i,o,a),o=Ke?Zo:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&by(t,a,i);else if(t.tag===19)by(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Xu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Zf(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Xu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Zf(i,!0,a,null,f,o);break;case"together":Zf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function as(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ws|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Va(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=es(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=es(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Jf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function JT(t,i,a){switch(i.tag){case 3:St(i,i.stateNode.containerInfo),Bs(i,Mt,t.memoizedState.cache),Kr();break;case 27:case 5:Ki(i);break;case 4:St(i,i.stateNode.containerInfo);break;case 10:Bs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Sf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Gs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ty(t,i,a):(Gs(i),t=as(t,i,a),t!==null?t.sibling:null);Gs(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Va(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Ay(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Rt,Rt.current),o)break;return null;case 22:return i.lanes=0,py(t,i,a,i.pendingProps);case 24:Bs(i,Mt,t.memoizedState.cache)}return as(t,i,a)}function Sy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Lt=!0;else{if(!Jf(t,a)&&(i.flags&128)===0)return Lt=!1,JT(t,i,a);Lt=(t.flags&131072)!==0}else Lt=!1,Ke&&(i.flags&1048576)!==0&&ng(i,Zo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=$r(i.elementType),i.type=t,typeof t=="function")sf(t)?(o=ea(t,o),i.tag=1,i=vy(null,i,t,o,a)):(i.tag=0,i=Kf(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Je){i.tag=11,i=fy(null,i,t,o,a);break e}else if(h===C){i.tag=14,i=dy(null,i,t,o,a);break e}}throw i=rt(t)||t,Error(r(306,i,""))}}return i;case 0:return Kf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ea(o,i.pendingProps),vy(t,i,o,h,a);case 3:e:{if(St(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,vf(t,i),al(i,o,null,a);var p=i.memoizedState;if(o=p.cache,Bs(i,Mt,o),o!==f.cache&&df(i,[Mt],a,!0),rl(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Ey(t,i,o,a);break e}else if(o!==h){h=Fn(Error(r(424)),i),Jo(h),i=Ey(t,i,o,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ft=Wn(t.firstChild),$t=i,Ke=!0,zs=null,Yn=!0,a=pg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Kr(),o===h){i=as(t,i,a);break e}Zt(t,i,o,a)}i=i.child}return i;case 26:return lc(t,i),t===null?(a=V0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ke||(a=i.type,t=i.pendingProps,o=wc(Ie.current).createElement(a),o[Ot]=i,o[Ft]=t,Jt(o,a,t),Dt(o),i.stateNode=o):i.memoizedState=V0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ki(i),t===null&&Ke&&(o=i.stateNode=D0(i.type,i.pendingProps,Ie.current),$t=i,Yn=!0,h=ft,er(i.type)?(Dd=h,ft=Wn(o.firstChild)):ft=h),Zt(t,i,i.pendingProps.children,a),lc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ke&&((h=o=ft)&&(o=Nb(o,i.type,i.pendingProps,Yn),o!==null?(i.stateNode=o,$t=i,ft=Wn(o.firstChild),Yn=!1,h=!0):h=!1),h||Ps(i)),Ki(i),h=i.type,f=i.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,Rd(h,f)?o=null:p!==null&&Rd(h,p)&&(i.flags|=32),i.memoizedState!==null&&(h=xf(t,i,FT,null,null,a),xl._currentValue=h),lc(t,i),Zt(t,i,o,a),i.child;case 6:return t===null&&Ke&&((t=a=ft)&&(a=Ib(a,i.pendingProps,Yn),a!==null?(i.stateNode=a,$t=i,ft=null,t=!0):t=!1),t||Ps(i)),null;case 13:return Ty(t,i,a);case 4:return St(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Zr(i,null,o,a):Zt(t,i,o,a),i.child;case 11:return fy(t,i,i.type,i.pendingProps,a);case 7:return Zt(t,i,i.pendingProps,a),i.child;case 8:return Zt(t,i,i.pendingProps.children,a),i.child;case 12:return Zt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Bs(i,i.type,o.value),Zt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Qr(i),h=Xt(h),o=o(h),i.flags|=1,Zt(t,i,o,a),i.child;case 14:return dy(t,i,i.type,i.pendingProps,a);case 15:return my(t,i,i.type,i.pendingProps,a);case 19:return Ay(t,i,a);case 31:return ZT(t,i,a);case 22:return py(t,i,a,i.pendingProps);case 24:return Qr(i),o=Xt(Mt),t===null?(h=gf(),h===null&&(h=ht,f=mf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},_f(i),Bs(i,Mt,h)):((t.lanes&a)!==0&&(vf(t,i),al(i,null,null,a),rl()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Bs(i,Mt,o)):(o=f.cache,Bs(i,Mt,o),o!==h.cache&&df(i,[Mt],a,!0))),Zt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function os(t){t.flags|=4}function ed(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Xy())t.flags|=8192;else throw Xr=Yu,yf}else t.flags&=-16777217}function wy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!P0(i))if(Xy())t.flags|=8192;else throw Xr=Yu,yf}function cc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?gu():536870912,t.lanes|=i,Ya|=i)}function fl(t,i){if(!Ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function dt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function eb(t,i,a){var o=i.pendingProps;switch(lf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(i),null;case 1:return dt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),is(Mt),ct(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(i)?os(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cf())),dt(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(os(i),f!==null?(dt(i),wy(i,f)):(dt(i),ed(i,h,null,o,a))):f?f!==t.memoizedState?(os(i),dt(i),wy(i,f)):(dt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&os(i),dt(i),ed(i,h,t,o,a)),null;case 27:if(Yi(i),a=Ie.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&os(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return dt(i),null}t=ae.current,Ma(i)?sg(i):(t=D0(h,o,a),i.stateNode=t,os(i))}return dt(i),null;case 5:if(Yi(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&os(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return dt(i),null}if(f=ae.current,Ma(i))sg(i);else{var p=wc(Ie.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ot]=i,f[Ft]=o;e:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break e;for(;p.sibling===null;){if(p.return===null||p.return===i)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=f;e:switch(Jt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&os(i)}}return dt(i),ed(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&os(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ie.current,Ma(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=$t,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ot]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||T0(t.nodeValue,a)),t||Ps(i,!0)}else t=wc(t).createTextNode(o),t[Ot]=i,i.stateNode=t}return dt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Ma(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ot]=i}else Kr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),t=!1}else a=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Dn(i),i):(Dn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return dt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ot]=i}else Kr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),h=!1}else h=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Dn(i),i):(Dn(i),null)}return Dn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),cc(i,i.updateQueue),dt(i),null);case 4:return ct(),t===null&&bd(i.stateNode.containerInfo),dt(i),null;case 10:return is(i.type),dt(i),null;case 19:if(G(Rt),o=i.memoizedState,o===null)return dt(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)fl(o,!1);else{if(At!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Xu(t),f!==null){for(i.flags|=128,fl(o,!1),t=f.updateQueue,i.updateQueue=t,cc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Jp(a,t),a=a.sibling;return ie(Rt,Rt.current&1|2),Ke&&ts(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&$()>pc&&(i.flags|=128,h=!0,fl(o,!1),i.lanes=4194304)}else{if(!h)if(t=Xu(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,cc(i,t),fl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ke)return dt(i),null}else 2*$()-o.renderingStartTime>pc&&a!==536870912&&(i.flags|=128,h=!0,fl(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$(),t.sibling=null,a=Rt.current,ie(Rt,h?a&1|2:a&1),Ke&&ts(i,o.treeForkCount),t):(dt(i),null);case 22:case 23:return Dn(i),Af(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(dt(i),i.subtreeFlags&6&&(i.flags|=8192)):dt(i),a=i.updateQueue,a!==null&&cc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&G(Wr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),is(Mt),dt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function tb(t,i){switch(lf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return is(Mt),ct(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Yi(i),null;case 31:if(i.memoizedState!==null){if(Dn(i),i.alternate===null)throw Error(r(340));Kr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Dn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Kr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return G(Rt),null;case 4:return ct(),null;case 10:return is(i.type),null;case 22:case 23:return Dn(i),Af(),t!==null&&G(Wr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return is(Mt),null;case 25:return null;default:return null}}function xy(t,i){switch(lf(i),i.tag){case 3:is(Mt),ct();break;case 26:case 27:case 5:Yi(i);break;case 4:ct();break;case 31:i.memoizedState!==null&&Dn(i);break;case 13:Dn(i);break;case 19:G(Rt);break;case 10:is(i.type);break;case 22:case 23:Dn(i),Af(),t!==null&&G(Wr);break;case 24:is(Mt)}}function dl(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(b){st(i,i.return,b)}}function Ys(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,h=i;var R=a,z=b;try{z()}catch(K){st(h,R,K)}}}o=o.next}while(o!==f)}}catch(K){st(i,i.return,K)}}function Ry(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{yg(i,a)}catch(o){st(t,t.return,o)}}}function Cy(t,i,a){a.props=ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){st(t,i,o)}}function ml(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){st(t,i,h)}}function Li(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){st(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,i,h)}else a.current=null}function Ny(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function td(t,i,a){try{var o=t.stateNode;Ab(o,t.type,a,i),o[Ft]=i}catch(h){st(t,t.return,h)}}function Iy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&er(t.type)||t.tag===4}function nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&er(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function id(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=si));else if(o!==4&&(o===27&&er(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(id(t,i,a),t=t.sibling;t!==null;)id(t,i,a),t=t.sibling}function hc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&er(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(hc(t,i,a),t=t.sibling;t!==null;)hc(t,i,a),t=t.sibling}function Oy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Jt(i,o,a),i[Ot]=t,i[Ft]=a}catch(f){st(t,t.return,f)}}var ls=!1,jt=!1,sd=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function nb(t,i){if(t=t.containerInfo,wd=Dc,t=Fp(t),$h(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,b=-1,R=-1,z=0,K=0,Q=t,P=null;t:for(;;){for(var H;Q!==a||h!==0&&Q.nodeType!==3||(b=p+h),Q!==f||o!==0&&Q.nodeType!==3||(R=p+o),Q.nodeType===3&&(p+=Q.nodeValue.length),(H=Q.firstChild)!==null;)P=Q,Q=H;for(;;){if(Q===t)break t;if(P===a&&++z===h&&(b=p),P===f&&++K===o&&(R=p),(H=Q.nextSibling)!==null)break;Q=P,P=Q.parentNode}Q=H}a=b===-1||R===-1?null:{start:b,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(xd={focusedElem:t,selectionRange:a},Dc=!1,Kt=i;Kt!==null;)if(i=Kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Kt=t;else for(;Kt!==null;){switch(i=Kt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ue=ea(a.type,h);t=o.getSnapshotBeforeUpdate(ue,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){st(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Nd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Kt=t;break}Kt=i.return}}function ky(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:cs(t,a),o&4&&dl(5,a);break;case 1:if(cs(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(p){st(a,a.return,p)}else{var h=ea(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(p){st(a,a.return,p)}}o&64&&Ry(a),o&512&&ml(a,a.return);break;case 3:if(cs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{yg(t,i)}catch(p){st(a,a.return,p)}}break;case 27:i===null&&o&4&&Oy(a);case 26:case 5:cs(t,a),i===null&&o&4&&Ny(a),o&512&&ml(a,a.return);break;case 12:cs(t,a);break;case 31:cs(t,a),o&4&&Ly(t,a);break;case 13:cs(t,a),o&4&&jy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=hb.bind(null,a),Ob(t,a))));break;case 22:if(o=a.memoizedState!==null||ls,!o){i=i!==null&&i.memoizedState!==null||jt,h=ls;var f=jt;ls=o,(jt=i)&&!f?hs(t,a,(a.subtreeFlags&8772)!==0):cs(t,a),ls=h,jt=f}break;case 30:break;default:cs(t,a)}}function My(t){var i=t.alternate;i!==null&&(t.alternate=null,My(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ya(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,gn=!1;function us(t,i,a){for(a=a.child;a!==null;)Vy(t,i,a),a=a.sibling}function Vy(t,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ei,a)}catch{}switch(a.tag){case 26:jt||Li(a,i),us(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||Li(a,i);var o=_t,h=gn;er(a.type)&&(_t=a.stateNode,gn=!1),us(t,i,a),Al(a.stateNode),_t=o,gn=h;break;case 5:jt||Li(a,i);case 6:if(o=_t,h=gn,_t=null,us(t,i,a),_t=o,gn=h,_t!==null)if(gn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(f){st(a,i,f)}else try{_t.removeChild(a.stateNode)}catch(f){st(a,i,f)}break;case 18:_t!==null&&(gn?(t=_t,R0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),to(t)):R0(_t,a.stateNode));break;case 4:o=_t,h=gn,_t=a.stateNode.containerInfo,gn=!0,us(t,i,a),_t=o,gn=h;break;case 0:case 11:case 14:case 15:Ys(2,a,i),jt||Ys(4,a,i),us(t,i,a);break;case 1:jt||(Li(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Cy(a,i,o)),us(t,i,a);break;case 21:us(t,i,a);break;case 22:jt=(o=jt)||a.memoizedState!==null,us(t,i,a),jt=o;break;default:us(t,i,a)}}function Ly(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(a){st(i,i.return,a)}}}function jy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(a){st(i,i.return,a)}}function ib(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Dy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Dy),i;default:throw Error(r(435,t.tag))}}function fc(t,i){var a=ib(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=fb.bind(null,t,o);o.then(h,h)}})}function yn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,p=i,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(er(b.type)){_t=b.stateNode,gn=!1;break e}break;case 5:_t=b.stateNode,gn=!1;break e;case 3:case 4:_t=b.stateNode.containerInfo,gn=!0;break e}b=b.return}if(_t===null)throw Error(r(160));Vy(f,p,h),_t=null,gn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Uy(i,t),i=i.sibling}var ci=null;function Uy(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(i,t),_n(t),o&4&&(Ys(3,t,t.return),dl(3,t),Ys(5,t,t.return));break;case 1:yn(i,t),_n(t),o&512&&(jt||a===null||Li(a,a.return)),o&64&&ls&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ci;if(yn(i,t),_n(t),o&512&&(jt||a===null||Li(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[bi]||f[Ot]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Jt(f,o,a),f[Ot]=t,Dt(f),o=f;break e;case"link":var p=U0("link","href",h).get(o+(a.href||""));if(p){for(var b=0;b<p.length;b++)if(f=p[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(b,1);break t}}f=h.createElement(o),Jt(f,o,a),h.head.appendChild(f);break;case"meta":if(p=U0("meta","content",h).get(o+(a.content||""))){for(b=0;b<p.length;b++)if(f=p[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(b,1);break t}}f=h.createElement(o),Jt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ot]=t,Dt(f),o=f}t.stateNode=o}else z0(h,t.type,t.stateNode);else t.stateNode=j0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?z0(h,t.type,t.stateNode):j0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&td(t,t.memoizedProps,a.memoizedProps)}break;case 27:yn(i,t),_n(t),o&512&&(jt||a===null||Li(a,a.return)),a!==null&&o&4&&td(t,t.memoizedProps,a.memoizedProps);break;case 5:if(yn(i,t),_n(t),o&512&&(jt||a===null||Li(a,a.return)),t.flags&32){h=t.stateNode;try{pn(h,"")}catch(ue){st(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,td(t,h,a!==null?a.memoizedProps:h)),o&1024&&(sd=!0);break;case 6:if(yn(i,t),_n(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ue){st(t,t.return,ue)}}break;case 3:if(Cc=null,h=ci,ci=xc(i.containerInfo),yn(i,t),ci=h,_n(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{to(i.containerInfo)}catch(ue){st(t,t.return,ue)}sd&&(sd=!1,zy(t));break;case 4:o=ci,ci=xc(t.stateNode.containerInfo),yn(i,t),_n(t),ci=o;break;case 12:yn(i,t),_n(t);break;case 31:yn(i,t),_n(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 13:yn(i,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mc=$()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=ls,K=jt;if(ls=z||h,jt=K||R,yn(i,t),jt=K,ls=z,_n(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||ls||jt||ta(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=R.stateNode;var Q=R.memoizedProps.style,P=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;b.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ue){st(R,R.return,ue)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ue){st(R,R.return,ue)}}}else if(i.tag===18){if(a===null){R=i;try{var H=R.stateNode;h?C0(H,!0):C0(R.stateNode,!1)}catch(ue){st(R,R.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,fc(t,a))));break;case 19:yn(i,t),_n(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 30:break;case 21:break;default:yn(i,t),_n(t)}}function _n(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(Iy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=nd(t);hc(t,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(pn(p,""),a.flags&=-33);var b=nd(t);hc(t,b,p);break;case 3:case 4:var R=a.stateNode.containerInfo,z=nd(t);id(t,z,R);break;default:throw Error(r(161))}}catch(K){st(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function zy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function cs(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ky(t,i.alternate,i),i=i.sibling}function ta(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ys(4,i,i.return),ta(i);break;case 1:Li(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Cy(i,i.return,a),ta(i);break;case 27:Al(i.stateNode);case 26:case 5:Li(i,i.return),ta(i);break;case 22:i.memoizedState===null&&ta(i);break;case 30:ta(i);break;default:ta(i)}t=t.sibling}}function hs(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,p=f.flags;switch(f.tag){case 0:case 11:case 15:hs(h,f,a),dl(4,f);break;case 1:if(hs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){st(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)gg(R[h],b)}catch(z){st(o,o.return,z)}}a&&p&64&&Ry(f),ml(f,f.return);break;case 27:Oy(f);case 26:case 5:hs(h,f,a),a&&o===null&&p&4&&Ny(f),ml(f,f.return);break;case 12:hs(h,f,a);break;case 31:hs(h,f,a),a&&p&4&&Ly(h,f);break;case 13:hs(h,f,a),a&&p&4&&jy(h,f);break;case 22:f.memoizedState===null&&hs(h,f,a),ml(f,f.return);break;case 30:break;default:hs(h,f,a)}i=i.sibling}}function rd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function ad(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t))}function hi(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Py(t,i,a,o),i=i.sibling}function Py(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:hi(t,i,a,o),h&2048&&dl(9,i);break;case 1:hi(t,i,a,o);break;case 3:hi(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){hi(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,p=f.id,b=f.onPostCommit;typeof b=="function"&&b(p,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){st(i,i.return,R)}}else hi(t,i,a,o);break;case 31:hi(t,i,a,o);break;case 13:hi(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,p=i.alternate,i.memoizedState!==null?f._visibility&2?hi(t,i,a,o):pl(t,i):f._visibility&2?hi(t,i,a,o):(f._visibility|=2,Fa(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&rd(p,i);break;case 24:hi(t,i,a,o),h&2048&&ad(i.alternate,i);break;default:hi(t,i,a,o)}}function Fa(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,p=i,b=a,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Fa(f,p,b,R,h),dl(8,p);break;case 23:break;case 22:var K=p.stateNode;p.memoizedState!==null?K._visibility&2?Fa(f,p,b,R,h):pl(f,p):(K._visibility|=2,Fa(f,p,b,R,h)),h&&z&2048&&rd(p.alternate,p);break;case 24:Fa(f,p,b,R,h),h&&z&2048&&ad(p.alternate,p);break;default:Fa(f,p,b,R,h)}i=i.sibling}}function pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:pl(a,o),h&2048&&rd(o.alternate,o);break;case 24:pl(a,o),h&2048&&ad(o.alternate,o);break;default:pl(a,o)}i=i.sibling}}var gl=8192;function Ga(t,i,a){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)By(t,i,a),t=t.sibling}function By(t,i,a){switch(t.tag){case 26:Ga(t,i,a),t.flags&gl&&t.memoizedState!==null&&Hb(a,ci,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,i,a);break;case 3:case 4:var o=ci;ci=xc(t.stateNode.containerInfo),Ga(t,i,a),ci=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=gl,gl=16777216,Ga(t,i,a),gl=o):Ga(t,i,a));break;default:Ga(t,i,a)}}function qy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function yl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Kt=o,Fy(o,t)}qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hy(t),t=t.sibling}function Hy(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&Ys(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,dc(t)):yl(t);break;default:yl(t)}}function dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Kt=o,Fy(o,t)}qy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ys(8,i,i.return),dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,dc(i));break;default:dc(i)}t=t.sibling}}function Fy(t,i){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:Ys(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:el(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Kt=o;else e:for(a=t;Kt!==null;){o=Kt;var h=o.sibling,f=o.return;if(My(o),o===a){Kt=null;break e}if(h!==null){h.return=f,Kt=h;break e}Kt=f}}}var sb={getCacheForType:function(t){var i=Xt(Mt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Xt(Mt).controller.signal}},rb=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ht=null,Le=null,Pe=0,it=0,kn=null,Qs=!1,Ka=!1,od=!1,fs=0,At=0,Ws=0,na=0,ld=0,Mn=0,Ya=0,_l=null,vn=null,ud=!1,mc=0,Gy=0,pc=1/0,gc=null,$s=null,Bt=0,Xs=null,Qa=null,ds=0,cd=0,hd=null,Ky=null,vl=0,fd=null;function Vn(){return(Ze&2)!==0&&Pe!==0?Pe&-Pe:F.T!==null?_d():yu()}function Yy(){if(Mn===0)if((Pe&536870912)===0||Ke){var t=Nr;Nr<<=1,(Nr&3932160)===0&&(Nr=262144),Mn=t}else Mn=536870912;return t=On.current,t!==null&&(t.flags|=32),Mn}function En(t,i,a){(t===ht&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),Zs(t,Pe,Mn,!1)),Ir(t,a),((Ze&2)===0||t!==ht)&&(t===ht&&((Ze&2)===0&&(na|=a),At===4&&Zs(t,Pe,Mn,!1)),ji(t))}function Qy(t,i,a){if((Ze&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ti(t,i),h=o?lb(t,i):md(t,i,!0),f=o;do{if(h===0){Ka&&!o&&Zs(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!ab(a)){h=md(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){i=p;e:{var b=t;h=_l;var R=b.current.memoizedState.isDehydrated;if(R&&(Wa(b,p).flags|=256),p=md(b,p,!1),p!==2){if(od&&!R){b.errorRecoveryDisabledLanes|=f,na|=f,h=4;break e}f=vn,vn=h,f!==null&&(vn===null?vn=f:vn.push.apply(vn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Wa(t,0),Zs(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Zs(o,i,Mn,!Qs);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=mc+300-$(),10<h)){if(Zs(o,i,Mn,!Qs),vi(o,0,!0)!==0)break e;ds=i,o.timeoutHandle=w0(Wy.bind(null,o,a,vn,gc,ud,i,Mn,na,Ya,Qs,f,"Throttled",-0,0),h);break e}Wy(o,a,vn,gc,ud,i,Mn,na,Ya,Qs,f,null,-0,0)}}break}while(!0);ji(t)}function Wy(t,i,a,o,h,f,p,b,R,z,K,Q,P,H){if(t.timeoutHandle=-1,Q=i.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},By(i,f,Q);var ue=(f&62914560)===f?mc-$():(f&4194048)===f?Gy-$():0;if(ue=Fb(Q,ue),ue!==null){ds=f,t.cancelPendingCommit=ue(i0.bind(null,t,i,f,a,o,h,p,b,R,K,Q,null,P,H)),Zs(t,f,p,!z);return}}i0(t,i,f,a,o,h,p,b,R)}function ab(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Nn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Zs(t,i,a,o){i&=~ld,i&=~na,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-wt(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&Or(t,a,i)}function yc(){return(Ze&6)===0?(El(0),!1):!0}function dd(){if(Le!==null){if(it===0)var t=Le.return;else t=Le,ns=Yr=null,Nf(t),za=null,nl=0,t=Le;for(;t!==null;)xy(t.alternate,t),t=t.return;Le=null}}function Wa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,xb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ds=0,dd(),ht=t,Le=a=es(t.current,null),Pe=i,it=0,kn=null,Qs=!1,Ka=ti(t,i),od=!1,Ya=Mn=ld=na=Ws=At=0,vn=_l=null,ud=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-wt(o),f=1<<h;i|=t[h],o&=~f}return fs=i,Uu(),a}function $y(t,i){Me=null,F.H=cl,i===Ua||i===Ku?(i=fg(),it=3):i===yf?(i=fg(),it=4):it=i===Gf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,kn=i,Le===null&&(At=1,ac(t,Fn(i,t.current)))}function Xy(){var t=On.current;return t===null?!0:(Pe&4194048)===Pe?Qn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===Qn:!1}function Zy(){var t=F.H;return F.H=cl,t===null?cl:t}function Jy(){var t=F.A;return F.A=sb,t}function _c(){At=4,Qs||(Pe&4194048)!==Pe&&On.current!==null||(Ka=!0),(Ws&134217727)===0&&(na&134217727)===0||ht===null||Zs(ht,Pe,Mn,!1)}function md(t,i,a){var o=Ze;Ze|=2;var h=Zy(),f=Jy();(ht!==t||Pe!==i)&&(gc=null,Wa(t,i)),i=!1;var p=At;e:do try{if(it!==0&&Le!==null){var b=Le,R=kn;switch(it){case 8:dd(),p=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(i=!0);var z=it;if(it=0,kn=null,$a(t,b,R,z),a&&Ka){p=0;break e}break;default:z=it,it=0,kn=null,$a(t,b,R,z)}}ob(),p=At;break}catch(K){$y(t,K)}while(!0);return i&&t.shellSuspendCounter++,ns=Yr=null,Ze=o,F.H=h,F.A=f,Le===null&&(ht=null,Pe=0,Uu()),p}function ob(){for(;Le!==null;)e0(Le)}function lb(t,i){var a=Ze;Ze|=2;var o=Zy(),h=Jy();ht!==t||Pe!==i?(gc=null,pc=$()+500,Wa(t,i)):Ka=ti(t,i);e:do try{if(it!==0&&Le!==null){i=Le;var f=kn;t:switch(it){case 1:it=0,kn=null,$a(t,i,f,1);break;case 2:case 9:if(cg(f)){it=0,kn=null,t0(i);break}i=function(){it!==2&&it!==9||ht!==t||(it=7),ji(t)},f.then(i,i);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:cg(f)?(it=0,kn=null,t0(i)):(it=0,kn=null,$a(t,i,f,7));break;case 5:var p=null;switch(Le.tag){case 26:p=Le.memoizedState;case 5:case 27:var b=Le;if(p?P0(p):b.stateNode.complete){it=0,kn=null;var R=b.sibling;if(R!==null)Le=R;else{var z=b.return;z!==null?(Le=z,vc(z)):Le=null}break t}}it=0,kn=null,$a(t,i,f,5);break;case 6:it=0,kn=null,$a(t,i,f,6);break;case 8:dd(),At=6;break e;default:throw Error(r(462))}}ub();break}catch(K){$y(t,K)}while(!0);return ns=Yr=null,F.H=o,F.A=h,Ze=a,Le!==null?0:(ht=null,Pe=0,Uu(),At)}function ub(){for(;Le!==null&&!ce();)e0(Le)}function e0(t){var i=Sy(t.alternate,t,fs);t.memoizedProps=t.pendingProps,i===null?vc(t):Le=i}function t0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=_y(a,i,i.pendingProps,i.type,void 0,Pe);break;case 11:i=_y(a,i,i.pendingProps,i.type.render,i.ref,Pe);break;case 5:Nf(i);default:xy(a,i),i=Le=Jp(i,fs),i=Sy(a,i,fs)}t.memoizedProps=t.pendingProps,i===null?vc(t):Le=i}function $a(t,i,a,o){ns=Yr=null,Nf(i),za=null,nl=0;var h=i.return;try{if(XT(t,h,i,a,Pe)){At=1,ac(t,Fn(a,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;At=1,ac(t,Fn(a,t.current)),Le=null;return}i.flags&32768?(Ke||o===1?t=!0:Ka||(Pe&536870912)!==0?t=!1:(Qs=t=!0,(o===2||o===9||o===3||o===6)&&(o=On.current,o!==null&&o.tag===13&&(o.flags|=16384))),n0(i,t)):vc(i)}function vc(t){var i=t;do{if((i.flags&32768)!==0){n0(i,Qs);return}t=i.return;var a=eb(i.alternate,i,fs);if(a!==null){Le=a;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=t}while(i!==null);At===0&&(At=5)}function n0(t,i){do{var a=tb(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);At=6,Le=null}function i0(t,i,a,o,h,f,p,b,R){t.cancelPendingCommit=null;do Ec();while(Bt!==0);if((Ze&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=tf,Kh(t,a,f,p,b,R),t===ht&&(Le=ht=null,Pe=0),Qa=i,Xs=t,ds=a,cd=f,hd=h,Ky=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,db(et,function(){return l0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=te.p,te.p=2,p=Ze,Ze|=4;try{nb(t,i,a)}finally{Ze=p,te.p=h,F.T=o}}Bt=1,s0(),r0(),a0()}}function s0(){if(Bt===1){Bt=0;var t=Xs,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=Ze;Ze|=4;try{Uy(i,t);var f=xd,p=Fp(t.containerInfo),b=f.focusedElem,R=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&Hp(b.ownerDocument.documentElement,b)){if(R!==null&&$h(b)){var z=R.start,K=R.end;if(K===void 0&&(K=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min(K,b.value.length);else{var Q=b.ownerDocument||document,P=Q&&Q.defaultView||window;if(P.getSelection){var H=P.getSelection(),ue=b.textContent.length,_e=Math.min(R.start,ue),ut=R.end===void 0?_e:Math.min(R.end,ue);!H.extend&&_e>ut&&(p=ut,ut=_e,_e=p);var V=qp(b,_e),k=qp(b,ut);if(V&&k&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==k.node||H.focusOffset!==k.offset)){var U=Q.createRange();U.setStart(V.node,V.offset),H.removeAllRanges(),_e>ut?(H.addRange(U),H.extend(k.node,k.offset)):(U.setEnd(k.node,k.offset),H.addRange(U))}}}}for(Q=[],H=b;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Q.length;b++){var Y=Q[b];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Dc=!!wd,xd=wd=null}finally{Ze=h,te.p=o,F.T=a}}t.current=i,Bt=2}}function r0(){if(Bt===2){Bt=0;var t=Xs,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=Ze;Ze|=4;try{ky(t,i.alternate,i)}finally{Ze=h,te.p=o,F.T=a}}Bt=3}}function a0(){if(Bt===4||Bt===3){Bt=0,Oe();var t=Xs,i=Qa,a=ds,o=Ky;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Bt=5:(Bt=0,Qa=Xs=null,o0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&($s=null),$i(a),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ei,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=te.p,te.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var b=o[p];f(b.value,{componentStack:b.stack})}}finally{F.T=i,te.p=h}}(ds&3)!==0&&Ec(),ji(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===fd?vl++:(vl=0,fd=t):vl=0,El(0)}}function o0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,el(i)))}function Ec(){return s0(),r0(),a0(),l0()}function l0(){if(Bt!==5)return!1;var t=Xs,i=cd;cd=0;var a=$i(ds),o=F.T,h=te.p;try{te.p=32>a?32:a,F.T=null,a=hd,hd=null;var f=Xs,p=ds;if(Bt=0,Qa=Xs=null,ds=0,(Ze&6)!==0)throw Error(r(331));var b=Ze;if(Ze|=4,Hy(f.current),Py(f,f.current,p,a),Ze=b,El(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ei,f)}catch{}return!0}finally{te.p=h,F.T=o,o0(t,i)}}function u0(t,i,a){i=Fn(a,i),i=Ff(t.stateNode,i,2),t=Fs(t,i,2),t!==null&&(Ir(t,2),ji(t))}function st(t,i,a){if(t.tag===3)u0(t,t,a);else for(;i!==null;){if(i.tag===3){u0(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&($s===null||!$s.has(o))){t=Fn(a,t),a=cy(2),o=Fs(i,a,2),o!==null&&(hy(a,o,i,t),Ir(o,2),ji(o));break}}i=i.return}}function pd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new rb;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(od=!0,h.add(a),t=cb.bind(null,t,i,a),i.then(t,t))}function cb(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Pe&a)===a&&(At===4||At===3&&(Pe&62914560)===Pe&&300>$()-mc?(Ze&2)===0&&Wa(t,0):ld|=a,Ya===Pe&&(Ya=0)),ji(t)}function c0(t,i){i===0&&(i=gu()),t=Fr(t,i),t!==null&&(Ir(t,i),ji(t))}function hb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),c0(t,a)}function fb(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),c0(t,a)}function db(t,i){return Z(t,i)}var Tc=null,Xa=null,gd=!1,bc=!1,yd=!1,Js=0;function ji(t){t!==Xa&&t.next===null&&(Xa===null?Tc=Xa=t:Xa=Xa.next=t),bc=!0,gd||(gd=!0,pb())}function El(t,i){if(!yd&&bc){yd=!0;do for(var a=!1,o=Tc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-wt(42|t)+1)-1,f&=h&~(p&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,m0(o,f))}else f=Pe,f=vi(o,o===ht?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ti(o,f)||(a=!0,m0(o,f));o=o.next}while(a);yd=!1}}function mb(){h0()}function h0(){bc=gd=!1;var t=0;Js!==0&&wb()&&(t=Js);for(var i=$(),a=null,o=Tc;o!==null;){var h=o.next,f=f0(o,i);f===0?(o.next=null,a===null?Tc=h:a.next=h,h===null&&(Xa=a)):(a=o,(t!==0||(f&3)!==0)&&(bc=!0)),o=h}Bt!==0&&Bt!==5||El(t),Js!==0&&(Js=0)}function f0(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-wt(f),b=1<<p,R=h[p];R===-1?((b&a)===0||(b&o)!==0)&&(h[p]=Gh(b,i)):R<=i&&(t.expiredLanes|=b),f&=~b}if(i=ht,a=Pe,a=vi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(it===2||it===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&le(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ti(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&le(o),$i(a)){case 2:case 8:a=vt;break;case 32:a=et;break;case 268435456:a=Wi;break;default:a=et}return o=d0.bind(null,t),a=Z(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&le(o),t.callbackPriority=2,t.callbackNode=null,2}function d0(t,i){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ec()&&t.callbackNode!==a)return null;var o=Pe;return o=vi(t,t===ht?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Qy(t,o,i),f0(t,$()),t.callbackNode!=null&&t.callbackNode===a?d0.bind(null,t):null)}function m0(t,i){if(Ec())return null;Qy(t,i,!0)}function pb(){Rb(function(){(Ze&6)!==0?Z(De,mb):h0()})}function _d(){if(Js===0){var t=La;t===0&&(t=yi,yi<<=1,(yi&261888)===0&&(yi=256)),Js=t}return Js}function p0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function g0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function gb(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=p0((h[Ft]||null).action),p=o.submitter;p&&(i=(i=p[Ft]||null)?p0(i.formAction):p.getAttribute("formAction"),i!==null&&(f=i,p=null));var b=new Ii("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Js!==0){var R=p?g0(h,p):new FormData(h);Uf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(b.preventDefault(),R=p?g0(h,p):new FormData(h),Uf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var vd=0;vd<ef.length;vd++){var Ed=ef[vd],yb=Ed.toLowerCase(),_b=Ed[0].toUpperCase()+Ed.slice(1);ui(yb,"on"+_b)}ui(Yp,"onAnimationEnd"),ui(Qp,"onAnimationIteration"),ui(Wp,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(MT,"onTransitionRun"),ui(VT,"onTransitionStart"),ui(LT,"onTransitionCancel"),ui($p,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function y0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var p=o.length-1;0<=p;p--){var b=o[p],R=b.instance,z=b.currentTarget;if(b=b.listener,R!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch(K){ju(K)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(b=o[p],R=b.instance,z=b.currentTarget,b=b.listener,R!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch(K){ju(K)}h.currentTarget=null,f=R}}}}function je(t,i){var a=i[ga];a===void 0&&(a=i[ga]=new Set);var o=t+"__bubble";a.has(o)||(_0(i,t,2,!1),a.add(o))}function Td(t,i,a){var o=0;i&&(o|=4),_0(a,t,o,i)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function bd(t){if(!t[Ac]){t[Ac]=!0,ko.forEach(function(a){a!=="selectionchange"&&(vb.has(a)||Td(a,!1,t),Td(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ac]||(i[Ac]=!0,Td("selectionchange",!1,i))}}function _0(t,i,a,o){switch(Y0(i)){case 2:var h=Yb;break;case 8:h=Qb;break;default:h=jd}a=h.bind(null,i,a,t),h=void 0,!Lr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Ad(t,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var b=o.stateNode.containerInfo;if(b===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;b!==null;){if(p=Ai(b),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue e}b=b.parentNode}}o=o.return}Ms(function(){var z=f,K=Pn(a),Q=[];e:{var P=Xp.get(t);if(P!==void 0){var H=Ii,ue=t;switch(t){case"keypress":if(Ur(a)===0)break e;case"keydown":case"keyup":H=Mu;break;case"focusin":ue="focus",H=Pr;break;case"focusout":ue="blur",H=Pr;break;case"beforeblur":case"afterblur":H=Pr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Yp:case Qp:case Wp:H=Ru;break;case $p:H=A;break;case"scroll":case"scrollend":H=Go;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ji;break;case"toggle":case"beforetoggle":H=ke}var _e=(i&4)!==0,ut=!_e&&(t==="scroll"||t==="scrollend"),V=_e?P!==null?P+"Capture":null:P;_e=[];for(var k=z,U;k!==null;){var Y=k;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||V===null||(Y=ri(k,V),Y!=null&&_e.push(bl(k,Y,U))),ut)break;k=k.return}0<_e.length&&(P=new H(P,ue,null,a,K),Q.push({event:P,listeners:_e}))}}if((i&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",P&&a!==qo&&(ue=a.relatedTarget||a.fromElement)&&(Ai(ue)||ue[Ti]))break e;if((H||P)&&(P=K.window===K?K:(P=K.ownerDocument)?P.defaultView||P.parentWindow:window,H?(ue=a.relatedTarget||a.toElement,H=z,ue=ue?Ai(ue):null,ue!==null&&(ut=c(ue),_e=ue.tag,ue!==ut||_e!==5&&_e!==27&&_e!==6)&&(ue=null)):(H=null,ue=z),H!==ue)){if(_e=Ko,Y="onMouseLeave",V="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Ji,Y="onPointerLeave",V="onPointerEnter",k="pointer"),ut=H==null?P:Rn(H),U=ue==null?P:Rn(ue),P=new _e(Y,k+"leave",H,a,K),P.target=ut,P.relatedTarget=U,Y=null,Ai(K)===z&&(_e=new _e(V,k+"enter",ue,a,K),_e.target=U,_e.relatedTarget=ut,Y=_e),ut=Y,H&&ue)t:{for(_e=Eb,V=H,k=ue,U=0,Y=V;Y;Y=_e(Y))U++;Y=0;for(var me=k;me;me=_e(me))Y++;for(;0<U-Y;)V=_e(V),U--;for(;0<Y-U;)k=_e(k),Y--;for(;U--;){if(V===k||k!==null&&V===k.alternate){_e=V;break t}V=_e(V),k=_e(k)}_e=null}else _e=null;H!==null&&v0(Q,P,H,_e,!1),ue!==null&&ut!==null&&v0(Q,ut,ue,_e,!0)}}e:{if(P=z?Rn(z):window,H=P.nodeName&&P.nodeName.toLowerCase(),H==="select"||H==="input"&&P.type==="file")var We=Lp;else if(Mp(P))if(jp)We=OT;else{We=NT;var he=CT}else H=P.nodeName,!H||H.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&Ea(z.elementType)&&(We=Lp):We=IT;if(We&&(We=We(t,z))){Vp(Q,We,a,K);break e}he&&he(t,P,z),t==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&zo(P,"number",P.value)}switch(he=z?Rn(z):window,t){case"focusin":(Mp(he)||he.contentEditable==="true")&&(Ca=he,Xh=z,Xo=null);break;case"focusout":Xo=Xh=Ca=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Gp(Q,a,K);break;case"selectionchange":if(kT)break;case"keydown":case"keyup":Gp(Q,a,K)}var Ve;if(Xe)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ra?Br(t,a)&&(Be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(ki&&a.locale!=="ko"&&(Ra||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ra&&(Ve=Fo()):(Ni=K,Ho="value"in Ni?Ni.value:Ni.textContent,Ra=!0)),he=Sc(z,Be),0<he.length&&(Be=new Di(Be,t,null,a,K),Q.push({event:Be,listeners:he}),Ve?Be.data=Ve:(Ve=xa(a),Ve!==null&&(Be.data=Ve)))),(Ve=qn?ST(t,a):wT(t,a))&&(Be=Sc(z,"onBeforeInput"),0<Be.length&&(he=new Di("onBeforeInput","beforeinput",null,a,K),Q.push({event:he,listeners:Be}),he.data=Ve)),gb(Q,t,z,a,K)}y0(Q,i)})}function bl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Sc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ri(t,a),h!=null&&o.unshift(bl(t,h,f)),h=ri(t,i),h!=null&&o.push(bl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Eb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function v0(t,i,a,o,h){for(var f=i._reactName,p=[];a!==null&&a!==o;){var b=a,R=b.alternate,z=b.stateNode;if(b=b.tag,R!==null&&R===o)break;b!==5&&b!==26&&b!==27||z===null||(R=z,h?(z=ri(a,f),z!=null&&p.unshift(bl(a,z,R))):h||(z=ri(a,f),z!=null&&p.push(bl(a,z,R)))),a=a.return}p.length!==0&&t.push({event:i,listeners:p})}var Tb=/\r\n?/g,bb=/\u0000|\uFFFD/g;function E0(t){return(typeof t=="string"?t:""+t).replace(Tb,`
`).replace(bb,"")}function T0(t,i){return i=E0(i),E0(t)===i}function lt(t,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||pn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&pn(t,""+o);break;case"className":Cn(t,"class",o);break;case"tabIndex":Cn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,a,o);break;case"style":Bo(t,o,f);break;case"data":if(i!=="object"){Cn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ta(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&lt(t,i,"name",h.name,h,null),lt(t,i,"formEncType",h.formEncType,h,null),lt(t,i,"formMethod",h.formMethod,h,null),lt(t,i,"formTarget",h.formTarget,h,null)):(lt(t,i,"encType",h.encType,h,null),lt(t,i,"method",h.method,h,null),lt(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ta(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=si);break;case"onScroll":o!=null&&je("scroll",t);break;case"onScrollEnd":o!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ta(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":je("beforetoggle",t),je("toggle",t),_a(t,"popover",o);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":_a(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Su.get(a)||a,_a(t,a,o))}}function Sd(t,i,a,o,h,f){switch(a){case"style":Bo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?pn(t,o):(typeof o=="number"||typeof o=="bigint")&&pn(t,""+o);break;case"onScroll":o!=null&&je("scroll",t);break;case"onScrollEnd":o!=null&&je("scrollend",t);break;case"onClick":o!=null&&(t.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[Ft]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):_a(t,a,o)}}}function Jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:lt(t,i,f,p,a,null)}}h&&lt(t,i,"srcSet",a.srcSet,a,null),o&&lt(t,i,"src",a.src,a,null);return;case"input":je("invalid",t);var b=f=p=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":h=K;break;case"type":p=K;break;case"checked":R=K;break;case"defaultChecked":z=K;break;case"value":f=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:lt(t,i,o,K,a,null)}}Tu(t,f,b,R,z,p,h,!1);return;case"select":je("invalid",t),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":p=b;break;case"multiple":o=b;default:lt(t,i,h,b,a,null)}i=f,a=p,t.multiple=!!o,i!=null?Is(t,!!o,i,!1):a!=null&&Is(t,!!o,a,!0);return;case"textarea":je("invalid",t),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(b=a[p],b!=null))switch(p){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:lt(t,i,p,b,a,null)}Os(t,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":lt(t,i,R,o,a,null));return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(o=0;o<Tl.length;o++)je(Tl[o],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:lt(t,i,z,o,a,null)}return;default:if(Ea(i)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&Sd(t,i,K,o,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(o=a[b],o!=null&&lt(t,i,b,o,a,null))}function Ab(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,b=null,R=null,z=null,K=null;for(H in a){var Q=a[H];if(a.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(H)||lt(t,i,H,null,o,Q)}}for(var P in o){var H=o[P];if(Q=a[P],o.hasOwnProperty(P)&&(H!=null||Q!=null))switch(P){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":K=H;break;case"value":p=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==Q&&lt(t,i,P,H,o,Q)}}va(t,p,b,R,z,K,f,h);return;case"select":H=p=b=P=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||lt(t,i,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":P=f;break;case"defaultValue":b=f;break;case"multiple":p=f;default:f!==R&&lt(t,i,h,f,o,R)}i=b,a=p,o=H,P!=null?Is(t,!!a,P,!1):!!o!=!!a&&(i!=null?Is(t,!!a,i,!0):Is(t,!!a,a?[]:"",!1));return;case"textarea":H=P=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:lt(t,i,b,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":P=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&lt(t,i,p,h,o,f)}bu(t,P,H);return;case"option":for(var ue in a)P=a[ue],a.hasOwnProperty(ue)&&P!=null&&!o.hasOwnProperty(ue)&&(ue==="selected"?t.selected=!1:lt(t,i,ue,null,o,P));for(R in o)P=o[R],H=a[R],o.hasOwnProperty(R)&&P!==H&&(P!=null||H!=null)&&(R==="selected"?t.selected=P&&typeof P!="function"&&typeof P!="symbol":lt(t,i,R,P,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)P=a[_e],a.hasOwnProperty(_e)&&P!=null&&!o.hasOwnProperty(_e)&&lt(t,i,_e,null,o,P);for(z in o)if(P=o[z],H=a[z],o.hasOwnProperty(z)&&P!==H&&(P!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,i));break;default:lt(t,i,z,P,o,H)}return;default:if(Ea(i)){for(var ut in a)P=a[ut],a.hasOwnProperty(ut)&&P!==void 0&&!o.hasOwnProperty(ut)&&Sd(t,i,ut,void 0,o,P);for(K in o)P=o[K],H=a[K],!o.hasOwnProperty(K)||P===H||P===void 0&&H===void 0||Sd(t,i,K,P,o,H);return}}for(var V in a)P=a[V],a.hasOwnProperty(V)&&P!=null&&!o.hasOwnProperty(V)&&lt(t,i,V,null,o,P);for(Q in o)P=o[Q],H=a[Q],!o.hasOwnProperty(Q)||P===H||P==null&&H==null||lt(t,i,Q,P,o,H)}function b0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,b=h.duration;if(f&&b&&b0(p)){for(p=0,b=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>b)break;var K=R.transferSize,Q=R.initiatorType;K&&b0(Q)&&(R=R.responseEnd,p+=K*(R<b?1:(b-z)/(R-z)))}if(--o,i+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var wd=null,xd=null;function wc(t){return t.nodeType===9?t:t.ownerDocument}function A0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Rd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Cd=null;function wb(){var t=window.event;return t&&t.type==="popstate"?t===Cd?!1:(Cd=t,!0):(Cd=null,!1)}var w0=typeof setTimeout=="function"?setTimeout:void 0,xb=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,Rb=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(t){return x0.resolve(null).then(t).catch(Cb)}:w0;function Cb(t){setTimeout(function(){throw t})}function er(t){return t==="head"}function R0(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),to(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Al(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Al(a);for(var f=a.firstChild;f;){var p=f.nextSibling,b=f.nodeName;f[bi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&Al(t.ownerDocument.body);a=h}while(a);to(i)}function C0(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Nd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nd(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Nb(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[bi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function Ib(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function N0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Wn(t.nextSibling),t===null))return null;return t}function Id(t){return t.data==="$?"||t.data==="$~"}function Od(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Ob(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Wn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Dd=null;function I0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Wn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function O0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function D0(t,i,a){switch(i=wc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Al(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ya(t)}var $n=new Map,k0=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ms=te.d;te.d={f:Db,r:kb,D:Mb,C:Vb,L:Lb,m:jb,X:zb,S:Ub,M:Pb};function Db(){var t=ms.f(),i=yc();return t||i}function kb(t){var i=zn(t);i!==null&&i.tag===5&&i.type==="form"?$g(i):ms.r(t)}var Za=typeof document>"u"?null:document;function M0(t,i,a){var o=Za;if(o&&typeof i=="string"&&i){var h=mn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),k0.has(h)||(k0.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Jt(i,"link",t),Dt(i),o.head.appendChild(i)))}}function Mb(t){ms.D(t),M0("dns-prefetch",t,null)}function Vb(t,i){ms.C(t,i),M0("preconnect",t,i)}function Lb(t,i,a){ms.L(t,i,a);var o=Za;if(o&&t&&i){var h='link[rel="preload"][as="'+mn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+mn(a.imageSizes)+'"]')):h+='[href="'+mn(t)+'"]';var f=h;switch(i){case"style":f=Ja(t);break;case"script":f=eo(t)}$n.has(f)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),$n.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Sl(f))||i==="script"&&o.querySelector(wl(f))||(i=o.createElement("link"),Jt(i,"link",t),Dt(i),o.head.appendChild(i)))}}function jb(t,i){ms.m(t,i);var a=Za;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+mn(o)+'"][href="'+mn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=eo(t)}if(!$n.has(f)&&(t=S({rel:"modulepreload",href:t},i),$n.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(f)))return}o=a.createElement("link"),Jt(o,"link",t),Dt(o),a.head.appendChild(o)}}}function Ub(t,i,a){ms.S(t,i,a);var o=Za;if(o&&t){var h=Si(o).hoistableStyles,f=Ja(t);i=i||"default";var p=h.get(f);if(!p){var b={loading:0,preload:null};if(p=o.querySelector(Sl(f)))b.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=$n.get(f))&&kd(t,a);var R=p=o.createElement("link");Dt(R),Jt(R,"link",t),R._p=new Promise(function(z,K){R.onload=z,R.onerror=K}),R.addEventListener("load",function(){b.loading|=1}),R.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Rc(p,i,o)}p={type:"stylesheet",instance:p,count:1,state:b},h.set(f,p)}}}function zb(t,i){ms.X(t,i);var a=Za;if(a&&t){var o=Si(a).hoistableScripts,h=eo(t),f=o.get(h);f||(f=a.querySelector(wl(h)),f||(t=S({src:t,async:!0},i),(i=$n.get(h))&&Md(t,i),f=a.createElement("script"),Dt(f),Jt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Pb(t,i){ms.M(t,i);var a=Za;if(a&&t){var o=Si(a).hoistableScripts,h=eo(t),f=o.get(h);f||(f=a.querySelector(wl(h)),f||(t=S({src:t,async:!0,type:"module"},i),(i=$n.get(h))&&Md(t,i),f=a.createElement("script"),Dt(f),Jt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function V0(t,i,a,o){var h=(h=Ie.current)?xc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=Si(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var f=Si(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(Sl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),f||Bb(h,t,a,p.state))),i&&o===null)throw Error(r(528,""));return p}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=Si(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ja(t){return'href="'+mn(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function L0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Bb(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Jt(i,"link",a),Dt(i),t.head.appendChild(i))}function eo(t){return'[src="'+mn(t)+'"]'}function wl(t){return"script[async]"+t}function j0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+mn(a.href)+'"]');if(o)return i.instance=o,Dt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Dt(o),Jt(o,"style",h),Rc(o,a.precedence,t),i.instance=o;case"stylesheet":h=Ja(a.href);var f=t.querySelector(Sl(h));if(f)return i.state.loading|=4,i.instance=f,Dt(f),f;o=L0(a),(h=$n.get(h))&&kd(o,h),f=(t.ownerDocument||t).createElement("link"),Dt(f);var p=f;return p._p=new Promise(function(b,R){p.onload=b,p.onerror=R}),Jt(f,"link",o),i.state.loading|=4,Rc(f,a.precedence,t),i.instance=f;case"script":return f=eo(a.src),(h=t.querySelector(wl(f)))?(i.instance=h,Dt(h),h):(o=a,(h=$n.get(f))&&(o=S({},a),Md(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),Jt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Rc(o,a.precedence,t));return i.instance}function Rc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var b=o[p];if(b.dataset.precedence===i)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Md(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Cc=null;function U0(t,i,a){if(Cc===null){var o=new Map,h=Cc=new Map;h.set(a,o)}else h=Cc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[bi]||f[Ot]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(i)||"";p=t+p;var b=o.get(p);b?b.push(f):o.set(p,[f])}}return o}function z0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function qb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function P0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Hb(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ja(o.href),f=i.querySelector(Sl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Nc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,Dt(f);return}f=i.ownerDocument||i,o=L0(o),(h=$n.get(h))&&kd(o,h),f=f.createElement("link"),Dt(f);var p=f;p._p=new Promise(function(b,R){p.onload=b,p.onerror=R}),Jt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Nc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Vd=0;function Fb(t,i){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Vd===0&&(Vd=62500*Sb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Vd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Oc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,i.forEach(Gb,t),Ic=null,Nc.call(t))}function Gb(t,i){if(!(i.state.loading&4)){var a=Ic.get(t);if(a)var o=a.get(null);else{a=new Map,Ic.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=i.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=Nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var xl={$$typeof:Ae,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Kb(t,i,a,o,h,f,p,b,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function B0(t,i,a,o,h,f,p,b,R,z,K,Q){return t=new Kb(t,i,a,p,R,z,K,Q,b),i=1,f===!0&&(i|=24),f=In(3,null,null,i),t.current=f,f.stateNode=t,i=mf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},_f(f),t}function q0(t){return t?(t=Oa,t):Oa}function H0(t,i,a,o,h,f){h=q0(h),o.context===null?o.context=h:o.pendingContext=h,o=Hs(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Fs(t,o,i),a!==null&&(En(a,t,i),sl(a,t,i))}function F0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ld(t,i){F0(t,i),(t=t.alternate)&&F0(t,i)}function G0(t){if(t.tag===13||t.tag===31){var i=Fr(t,67108864);i!==null&&En(i,t,67108864),Ld(t,67108864)}}function K0(t){if(t.tag===13||t.tag===31){var i=Vn();i=Dr(i);var a=Fr(t,i);a!==null&&En(a,t,i),Ld(t,i)}}var Dc=!0;function Yb(t,i,a,o){var h=F.T;F.T=null;var f=te.p;try{te.p=2,jd(t,i,a,o)}finally{te.p=f,F.T=h}}function Qb(t,i,a,o){var h=F.T;F.T=null;var f=te.p;try{te.p=8,jd(t,i,a,o)}finally{te.p=f,F.T=h}}function jd(t,i,a,o){if(Dc){var h=Ud(o);if(h===null)Ad(t,i,o,kc,a),Q0(t,o);else if($b(h,t,i,a,o))o.stopPropagation();else if(Q0(t,o),i&4&&-1<Wb.indexOf(t)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=_i(f.pendingLanes);if(p!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var R=1<<31-wt(p);b.entanglements[1]|=R,p&=~R}ji(f),(Ze&6)===0&&(pc=$()+500,El(0))}}break;case 31:case 13:b=Fr(f,2),b!==null&&En(b,f,2),yc(),Ld(f,2)}if(f=Ud(o),f===null&&Ad(t,i,o,kc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ad(t,i,o,null,a)}}function Ud(t){return t=Pn(t),zd(t)}var kc=null;function zd(t){if(kc=null,t=Ai(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return kc=t,null}function Y0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pe()){case De:return 2;case vt:return 8;case et:case Io:return 32;case Wi:return 268435456;default:return 32}default:return 32}}var Pd=!1,tr=null,nr=null,ir=null,Rl=new Map,Cl=new Map,sr=[],Wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q0(t,i){switch(t){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(i.pointerId)}}function Nl(t,i,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=zn(i),i!==null&&G0(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function $b(t,i,a,o,h){switch(i){case"focusin":return tr=Nl(tr,t,i,a,o,h),!0;case"dragenter":return nr=Nl(nr,t,i,a,o,h),!0;case"mouseover":return ir=Nl(ir,t,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Rl.set(f,Nl(Rl.get(f)||null,t,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Cl.set(f,Nl(Cl.get(f)||null,t,i,a,o,h)),!0}return!1}function W0(t){var i=Ai(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,ni(t.priority,function(){K0(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,ni(t.priority,function(){K0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ud(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);qo=o,a.target.dispatchEvent(o),qo=null}else return i=zn(a),i!==null&&G0(i),t.blockedOn=a,!1;i.shift()}return!0}function $0(t,i,a){Mc(t)&&a.delete(i)}function Xb(){Pd=!1,tr!==null&&Mc(tr)&&(tr=null),nr!==null&&Mc(nr)&&(nr=null),ir!==null&&Mc(ir)&&(ir=null),Rl.forEach($0),Cl.forEach($0)}function Vc(t,i){t.blockedOn===i&&(t.blockedOn=null,Pd||(Pd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Xb)))}var Lc=null;function X0(t){Lc!==t&&(Lc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(zd(o||a)===null)continue;break}var f=zn(a);f!==null&&(t.splice(i,3),i-=3,Uf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function to(t){function i(R){return Vc(R,t)}tr!==null&&Vc(tr,t),nr!==null&&Vc(nr,t),ir!==null&&Vc(ir,t),Rl.forEach(i),Cl.forEach(i);for(var a=0;a<sr.length;a++){var o=sr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<sr.length&&(a=sr[0],a.blockedOn===null);)W0(a),a.blockedOn===null&&sr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[Ft]||null;if(typeof f=="function")p||X0(a);else if(p){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ft]||null)b=p.formAction;else if(zd(h)!==null)continue}else b=p.action;typeof b=="function"?a[o+1]=b:(a.splice(o,3),o-=3),X0(a)}}}function Z0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Bd(t){this._internalRoot=t}jc.prototype.render=Bd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Vn();H0(a,o,t,i,null,null)},jc.prototype.unmount=Bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;H0(t.current,2,null,t,null,null),yc(),i[Ti]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=yu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<sr.length&&i!==0&&i<sr[a].priority;a++);sr.splice(a,0,t),a===0&&W0(t)}};var J0=e.version;if(J0!=="19.2.4")throw Error(r(527,J0,"19.2.4"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Zb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{ei=Uc.inject(Zb),Qt=Uc}catch{}}return Ol.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",h=ay,f=oy,p=ly;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=B0(t,1,!1,null,null,a,o,null,h,f,p,Z0),t[Ti]=i.current,bd(t),new Bd(i)},Ol.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=ay,p=oy,b=ly,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),i=B0(t,1,!0,i,a??null,o,h,R,f,p,b,Z0),i.context=q0(null),a=i.current,o=Vn(),o=Dr(o),h=Hs(o),h.callback=null,Fs(a,h,o),a=o,i.current.lanes=a,Ir(i,a),ji(i),t[Ti]=i.current,bd(t),new jc(i)},Ol.version="19.2.4",Ol}var u_;function c2(){if(u_)return Fd.exports;u_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Fd.exports=u2(),Fd.exports}var h2=c2();const f2=()=>{};var c_={};const Qv=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},d2=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],g=s[n++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[n++],d=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let I=(g&15)<<2|y>>6,q=y&63;_||(q=64,d||(I=64)),r.push(n[E],n[S],n[I],n[q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Qv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):d2(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||S==null)throw new m2;const I=c<<2|g>>4;if(r.push(I),y!==64){const q=g<<4&240|y>>2;if(r.push(q),S!==64){const ee=y<<6&192|S;r.push(ee)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class m2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p2=function(s){const e=Qv(s);return Wv.encodeByteArray(e,!0)},sh=function(s){return p2(s).replace(/\./g,"")},$v=function(s){try{return Wv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function g2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const y2=()=>g2().__FIREBASE_DEFAULTS__,_2=()=>{if(typeof process>"u"||typeof c_>"u")return;const s=c_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},v2=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&$v(s[1]);return e&&JSON.parse(e)},wh=()=>{try{return f2()||y2()||_2()||v2()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Xv=s=>wh()?.emulatorHosts?.[s],E2=s=>{const e=Xv(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Zv=()=>wh()?.config,Jv=s=>wh()?.[`_${s}`];class T2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ao(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function e1(s){return(await fetch(s,{credentials:"include"})).ok}function b2(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(n)),sh(JSON.stringify(d)),""].join(".")}const Ul={};function A2(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?s.emulator.push(e):s.prod.push(e);return s}function S2(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let h_=!1;function t1(s,e){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||Ul[s]===e||Ul[s]||h_)return;Ul[s]=e;function n(I){return`__firebase__banner__${I}`}const r="__firebase__banner",c=A2().prod.length>0;function d(){const I=document.getElementById(r);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function _(I,q){I.setAttribute("width","24"),I.setAttribute("id",q),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{h_=!0,d()},I}function E(I,q){I.setAttribute("id",q),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function S(){const I=S2(r),q=n("text"),ee=document.getElementById(q)||document.createElement("span"),se=n("learnmore"),re=document.getElementById(se)||document.createElement("a"),ye=n("preprendIcon"),Ne=document.getElementById(ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const Ae=I.element;g(Ae),E(re,se);const Je=y();_(Ne,ye),Ae.append(Ne,ee,re,Je),document.body.appendChild(Ae)}c?(ee.innerText="Preview backend disconnected.",Ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function x2(){const s=wh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function N2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I2(){const s=ln();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function O2(){return!x2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D2(){try{return typeof indexedDB=="object"}catch{return!1}}function k2(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const M2="FirebaseError";class xs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=M2,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?V2(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new xs(l,g,r)}}function V2(s,e){return s.replace(L2,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const L2=/\{\$([^}]+)}/g;function j2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function _r(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(f_(c)&&f_(d)){if(!_r(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function f_(s){return s!==null&&typeof s=="object"}function eu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function U2(s,e){const n=new z2(s,e);return n.subscribe.bind(n)}class z2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");P2(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Qd),l.error===void 0&&(l.error=Qd),l.complete===void 0&&(l.complete=Qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P2(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Qd(){}function dn(s){return s&&s._delegate?s._delegate:s}class la{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class B2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new T2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H2(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:q2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q2(s){return s===ia?void 0:s}function H2(s){return s.instantiationMode==="EAGER"}class F2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new B2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qe||(qe={}));const G2={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},K2=qe.INFO,Y2={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},Q2=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=Y2[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=K2,this._logHandler=Q2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const W2=(s,e)=>e.some(n=>s instanceof n);let d_,m_;function $2(){return d_||(d_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X2(){return m_||(m_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n1=new WeakMap,ym=new WeakMap,i1=new WeakMap,Wd=new WeakMap,Gm=new WeakMap;function Z2(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(fr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&n1.set(n,s)}).catch(()=>{}),Gm.set(e,s),e}function J2(s){if(ym.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});ym.set(s,e)}let _m={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return ym.get(s);if(e==="objectStoreNames")return s.objectStoreNames||i1.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function eA(s){_m=s(_m)}function tA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call($d(this),e,...n);return i1.set(r,e.sort?e.sort():[e]),fr(r)}:X2().includes(s)?function(...e){return s.apply($d(this),e),fr(n1.get(this))}:function(...e){return fr(s.apply($d(this),e))}}function nA(s){return typeof s=="function"?tA(s):(s instanceof IDBTransaction&&J2(s),W2(s,$2())?new Proxy(s,_m):s)}function fr(s){if(s instanceof IDBRequest)return Z2(s);if(Wd.has(s))return Wd.get(s);const e=nA(s);return e!==s&&(Wd.set(s,e),Gm.set(e,s)),e}const $d=s=>Gm.get(s);function iA(s,e,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=fr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(fr(d.result),_.oldVersion,_.newVersion,fr(d.transaction),_)}),n&&d.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const sA=["get","getKey","getAll","getAllKeys","count"],rA=["put","add","delete","clear"],Xd=new Map;function p_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Xd.get(e))return Xd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=rA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||sA.includes(n)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&_.done]))[0]};return Xd.set(e,c),c}eA(s=>({...s,get:(e,n,r)=>p_(e,n)||s.get(e,n,r),has:(e,n)=>!!p_(e,n)||s.has(e,n)}));class aA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oA(s){return s.getComponent()?.type==="VERSION"}const vm="@firebase/app",g_="0.14.7";const Es=new Fm("@firebase/app"),lA="@firebase/app-compat",uA="@firebase/analytics-compat",cA="@firebase/analytics",hA="@firebase/app-check-compat",fA="@firebase/app-check",dA="@firebase/auth",mA="@firebase/auth-compat",pA="@firebase/database",gA="@firebase/data-connect",yA="@firebase/database-compat",_A="@firebase/functions",vA="@firebase/functions-compat",EA="@firebase/installations",TA="@firebase/installations-compat",bA="@firebase/messaging",AA="@firebase/messaging-compat",SA="@firebase/performance",wA="@firebase/performance-compat",xA="@firebase/remote-config",RA="@firebase/remote-config-compat",CA="@firebase/storage",NA="@firebase/storage-compat",IA="@firebase/firestore",OA="@firebase/ai",DA="@firebase/firestore-compat",kA="firebase",MA="12.8.0";const Em="[DEFAULT]",VA={[vm]:"fire-core",[lA]:"fire-core-compat",[cA]:"fire-analytics",[uA]:"fire-analytics-compat",[fA]:"fire-app-check",[hA]:"fire-app-check-compat",[dA]:"fire-auth",[mA]:"fire-auth-compat",[pA]:"fire-rtdb",[gA]:"fire-data-connect",[yA]:"fire-rtdb-compat",[_A]:"fire-fn",[vA]:"fire-fn-compat",[EA]:"fire-iid",[TA]:"fire-iid-compat",[bA]:"fire-fcm",[AA]:"fire-fcm-compat",[SA]:"fire-perf",[wA]:"fire-perf-compat",[xA]:"fire-rc",[RA]:"fire-rc-compat",[CA]:"fire-gcs",[NA]:"fire-gcs-compat",[IA]:"fire-fst",[DA]:"fire-fst-compat",[OA]:"fire-vertex","fire-js":"fire-js",[kA]:"fire-js-all"};const rh=new Map,LA=new Map,Tm=new Map;function y_(s,e){try{s.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function mo(s){const e=s.name;if(Tm.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Tm.set(e,s);for(const n of rh.values())y_(n,s);for(const n of LA.values())y_(n,s);return!0}function Km(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Zn(s){return s==null?!1:s.settings!==void 0}const jA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new Jl("app","Firebase",jA);class UA{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const So=MA;function s1(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Em,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw dr.create("bad-app-name",{appName:String(l)});if(n||(n=Zv()),!n)throw dr.create("no-options");const c=rh.get(l);if(c){if(_r(n,c.options)&&_r(r,c.config))return c;throw dr.create("duplicate-app",{appName:l})}const d=new F2(l);for(const _ of Tm.values())d.addComponent(_);const g=new UA(n,r,d);return rh.set(l,g),g}function r1(s=Em){const e=rh.get(s);if(!e&&s===Em&&Zv())return s1();if(!e)throw dr.create("no-app",{appName:s});return e}function mr(s,e,n){let r=VA[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(d.join(" "));return}mo(new la(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const zA="firebase-heartbeat-database",PA=1,Fl="firebase-heartbeat-store";let Zd=null;function a1(){return Zd||(Zd=iA(zA,PA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(s=>{throw dr.create("idb-open",{originalErrorMessage:s.message})})),Zd}async function BA(s){try{const n=(await a1()).transaction(Fl),r=await n.objectStore(Fl).get(o1(s));return await n.done,r}catch(e){if(e instanceof xs)Es.warn(e.message);else{const n=dr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(n.message)}}}async function __(s,e){try{const r=(await a1()).transaction(Fl,"readwrite");await r.objectStore(Fl).put(e,o1(s)),await r.done}catch(n){if(n instanceof xs)Es.warn(n.message);else{const r=dr.create("idb-set",{originalErrorMessage:n?.message});Es.warn(r.message)}}}function o1(s){return`${s.name}!${s.options.appId}`}const qA=1024,HA=30;class FA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=v_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>HA){const l=YA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=v_(),{heartbeatsToSend:n,unsentEntries:r}=GA(this._heartbeatsCache.heartbeats),l=sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Es.warn(e),""}}}function v_(){return new Date().toISOString().substring(0,10)}function GA(s,e=qA){const n=[];let r=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),E_(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),E_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D2()?k2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function E_(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function YA(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function QA(s){mo(new la("platform-logger",e=>new aA(e),"PRIVATE")),mo(new la("heartbeat",e=>new FA(e),"PRIVATE")),mr(vm,g_,s),mr(vm,g_,"esm2020"),mr("fire-js","")}QA("");var WA="firebase",$A="12.8.0";mr(WA,$A,"app");function l1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XA=l1,u1=new Jl("auth","Firebase",l1());const ah=new Fm("@firebase/auth");function ZA(s,...e){ah.logLevel<=qe.WARN&&ah.warn(`Auth (${So}): ${s}`,...e)}function Yc(s,...e){ah.logLevel<=qe.ERROR&&ah.error(`Auth (${So}): ${s}`,...e)}function Ts(s,...e){throw Ym(s,...e)}function zi(s,...e){return Ym(s,...e)}function c1(s,e,n){const r={...XA(),[e]:n};return new Jl("auth","Firebase",r).create(e,{appName:s.name})}function vs(s){return c1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ym(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return u1.create(s,...e)}function be(s,e,...n){if(!s)throw Ym(e,...n)}function ys(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Yc(e),new Error(e)}function bs(s,e){s||ys(e)}function bm(){return typeof self<"u"&&self.location?.href||""}function JA(){return T_()==="http:"||T_()==="https:"}function T_(){return typeof self<"u"&&self.location?.protocol||null}function eS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JA()||C2()||"connection"in navigator)?navigator.onLine:!0}function tS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,bs(n>e,"Short delay should be less than long delay!"),this.isMobile=w2()||N2()}get(){return eS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qm(s,e){bs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class h1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const iS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sS=new tu(3e4,6e4);function nu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function wo(s,e,n,r,l={}){return f1(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=eu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return R2()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Ao(s.emulatorConfig.host)&&(y.credentials="include"),h1.fetch()(await d1(s,s.config.apiHost,n,g),y)})}async function f1(s,e,n){s._canInitEmulator=!1;const r={...nS,...e};try{const l=new rS(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw zc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw zc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw zc(s,"user-disabled",d);const E=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw c1(s,E,y);Ts(s,E)}}catch(l){if(l instanceof xs)throw l;Ts(s,"network-request-failed",{message:String(l)})}}async function Wm(s,e,n,r,l={}){const c=await wo(s,e,n,r,l);return"mfaPendingCredential"in c&&Ts(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function d1(s,e,n,r){const l=`${e}${n}?${r}`,c=s,d=c.config.emulator?Qm(s.config,l):`${s.config.apiScheme}://${l}`;return iS.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class rS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zi(this.auth,"network-request-failed")),sS.get())})}}function zc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=zi(s,e,r);return l.customData._tokenResponse=n,l}async function aS(s,e){return wo(s,"POST","/v1/accounts:delete",e)}async function oh(s,e){return wo(s,"POST","/v1/accounts:lookup",e)}function zl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oS(s,e=!1){const n=dn(s),r=await n.getIdToken(e),l=$m(r);be(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:zl(Jd(l.auth_time)),issuedAtTime:zl(Jd(l.iat)),expirationTime:zl(Jd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Jd(s){return Number(s)*1e3}function $m(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const l=$v(n);return l?JSON.parse(l):(Yc("Failed to decode base64 JWT payload"),null)}catch(l){return Yc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function b_(s){const e=$m(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gl(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xs&&lS(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function lS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class uS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Am{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lh(s){const e=s.auth,n=await s.getIdToken(),r=await Gl(s,oh(e,{idToken:n}));be(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?m1(l.providerUserInfo):[],d=hS(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Am(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function cS(s){const e=dn(s);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hS(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function m1(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function fS(s,e){const n=await f1(s,{},async()=>{const r=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await d1(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&Ao(s.emulatorConfig.host)&&(_.credentials="include"),h1.fetch()(d,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dS(s,e){return wo(s,"POST","/v2/accounts:revokeToken",nu(s,e))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=b_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await fS(e,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,d=new oo;return r&&(be(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(be(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(be(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return ys("not implemented")}}function ar(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new uS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oS(this,e)}reload(){return cS(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Gl(this,aS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,_=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:I,isAnonymous:q,providerData:ee,stsTokenManager:se}=n;be(S&&se,e,"internal-error");const re=oo.fromJSON(this.name,se);be(typeof S=="string",e,"internal-error"),ar(r,e.name),ar(l,e.name),be(typeof I=="boolean",e,"internal-error"),be(typeof q=="boolean",e,"internal-error"),ar(c,e.name),ar(d,e.name),ar(g,e.name),ar(_,e.name),ar(y,e.name),ar(E,e.name);const ye=new fi({uid:S,auth:e,email:l,emailVerified:I,displayName:r,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:re,createdAt:y,lastLoginAt:E});return ee&&Array.isArray(ee)&&(ye.providerData=ee.map(Ne=>({...Ne}))),_&&(ye._redirectEventId=_),ye}static async _fromIdTokenResponse(e,n,r=!1){const l=new oo;l.updateFromServerResponse(n);const c=new fi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await lh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];be(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?m1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new oo;g.updateFromIdToken(r);const _=new fi({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const A_=new Map;function _s(s){bs(s instanceof Function,"Expected a class definition");let e=A_.get(s);return e?(bs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,A_.set(s,e),e)}class p1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}p1.type="NONE";const S_=p1;function Qc(s,e,n){return`firebase:${s}:${e}:${n}`}class lo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Qc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await oh(this.auth,{idToken:e}).catch(()=>{});return n?fi._fromGetAccountInfoResponse(this.auth,n,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lo(_s(S_),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||_s(S_);const d=Qc(r,e.config.apiKey,e.name);let g=null;for(const y of n)try{const E=await y._get(d);if(E){let S;if(typeof E=="string"){const I=await oh(e,{idToken:E}).catch(()=>{});if(!I)break;S=await fi._fromGetAccountInfoResponse(e,I,E)}else S=fi._fromJSON(e,E);y!==c&&(g=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new lo(c,e,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new lo(c,e,r))}}function w_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(v1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T1(e))return"Blackberry";if(b1(e))return"Webos";if(y1(e))return"Safari";if((e.includes("chrome/")||_1(e))&&!e.includes("edge/"))return"Chrome";if(E1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function g1(s=ln()){return/firefox\//i.test(s)}function y1(s=ln()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _1(s=ln()){return/crios\//i.test(s)}function v1(s=ln()){return/iemobile/i.test(s)}function E1(s=ln()){return/android/i.test(s)}function T1(s=ln()){return/blackberry/i.test(s)}function b1(s=ln()){return/webos/i.test(s)}function Xm(s=ln()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function mS(s=ln()){return Xm(s)&&!!window.navigator?.standalone}function pS(){return I2()&&document.documentMode===10}function A1(s=ln()){return Xm(s)||E1(s)||b1(s)||T1(s)||/windows phone/i.test(s)||v1(s)}function S1(s,e=[]){let n;switch(s){case"Browser":n=w_(ln());break;case"Worker":n=`${w_(ln())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${r}`}class gS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function yS(s,e={}){return wo(s,"GET","/v2/passwordPolicy",nu(s,e))}const _S=6;class vS{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_S,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class ES{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x_(this),this.idTokenSubscription=new x_(this),this.beforeStateQueue=new gS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_s(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oh(this,{idToken:e}),r=await fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(vs(this));const n=e?dn(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yS(this),n=new vS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dS(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_s(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[_s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,r,l);return()=>{d=!0,_()}}else{const _=e.addObserver(n);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=S1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ZA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function iu(s){return dn(s)}class x_{constructor(e){this.auth=e,this.observer=null,this.addObserver=U2(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TS(s){Zm=s}function bS(s){return Zm.loadJS(s)}function AS(){return Zm.gapiScript}function SS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function wS(s,e){const n=Km(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(_r(c,e??{}))return l;Ts(l,"already-initialized")}return n.initialize({options:e})}function xS(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_s);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function RS(s,e,n){const r=iu(s);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=w1(e),{host:d,port:g}=CS(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(_r(y,r.config.emulator)&&_r(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Ao(d)?(e1(`${c}//${d}${_}`),t1("Auth",!0)):NS()}function w1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function CS(s){const e=w1(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:R_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:R_(d)}}}function R_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function NS(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class x1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,n){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function uo(s,e){return Wm(s,"POST","/v1/accounts:signInWithIdp",nu(s,e))}const IS="http://localhost";class ua extends x1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const d=new ua(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:IS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eu(n)}return e}}class R1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends R1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class or extends su{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";class lr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return lr.credential(n,r)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";class ur extends su{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";class cr extends su{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";async function OS(s,e){return Wm(s,"POST","/v1/accounts:signUp",nu(s,e))}class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const c=await fi._fromIdTokenResponse(e,r,l),d=C_(r);return new As({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=C_(r);return new As({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function C_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function DS(s){if(Zn(s.app))return Promise.reject(vs(s));const e=iu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new As({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await OS(e,{returnSecureToken:!0}),r=await As._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class uh extends xs{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new uh(e,n,r,l)}}function C1(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(s,c,e,r):c})}async function kS(s,e,n=!1){const r=await Gl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return As._forOperation(s,"link",r)}async function MS(s,e,n=!1){const{auth:r}=s;if(Zn(r.app))return Promise.reject(vs(r));const l="reauthenticate";try{const c=await Gl(s,C1(r,l,e,s),n);be(c.idToken,r,"internal-error");const d=$m(c.idToken);be(d,r,"internal-error");const{sub:g}=d;return be(s.uid===g,r,"user-mismatch"),As._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ts(r,"user-mismatch"),c}}async function VS(s,e,n=!1){if(Zn(s.app))return Promise.reject(vs(s));const r="signIn",l=await C1(s,r,e),c=await As._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(c.user),c}async function LS(s,e){return Wm(s,"POST","/v1/accounts:signInWithCustomToken",nu(s,e))}async function jS(s,e){if(Zn(s.app))return Promise.reject(vs(s));const n=iu(s),r=await LS(n,{token:e,returnSecureToken:!0}),l=await As._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(l.user),l}function US(s,e,n,r){return dn(s).onIdTokenChanged(e,n,r)}function zS(s,e,n){return dn(s).beforeAuthStateChanged(e,n)}function PS(s,e,n,r){return dn(s).onAuthStateChanged(e,n,r)}const ch="__sak";class N1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const BS=1e3,qS=10;class I1 extends N1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);pS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,qS):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}I1.type="LOCAL";const HS=I1;class O1 extends N1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}O1.type="SESSION";const D1=O1;function FS(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async y=>y(n.origin,c)),_=await FS(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];function Jm(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class GS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Jm("",20);l.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const I=S;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(I.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function KS(s){Pi().location.href=s}function k1(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function YS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QS(){return navigator?.serviceWorker?.controller||null}function WS(){return k1()?self:null}const M1="firebaseLocalStorageDb",$S=1,hh="firebaseLocalStorage",V1="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rh(s,e){return s.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function XS(){const s=indexedDB.deleteDatabase(M1);return new ru(s).toPromise()}function Sm(){const s=indexedDB.open(M1,$S);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(hh,{keyPath:V1})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await XS(),e(await Sm()))})})}async function N_(s,e,n){const r=Rh(s,!0).put({[V1]:e,value:n});return new ru(r).toPromise()}async function ZS(s,e){const n=Rh(s,!1).get(e),r=await new ru(n).toPromise();return r===void 0?null:r.value}function I_(s,e){const n=Rh(s,!0).delete(e);return new ru(n).toPromise()}const JS=800,ew=3;class L1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ew)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(WS()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await YS(),!this.activeServiceWorker)return;this.sender=new GS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sm();return await N_(e,ch,"1"),await I_(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>N_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ZS(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>I_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Rh(l,!1).getAll();return new ru(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L1.type="LOCAL";const tw=L1;new tu(3e4,6e4);function nw(s,e){return e?_s(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class ep extends x1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iw(s){return VS(s.auth,new ep(s),s.bypassAuthState)}function sw(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),MS(n,new ep(s),s.bypassAuthState)}async function rw(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),kS(n,new ep(s),s.bypassAuthState)}class j1{constructor(e,n,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iw;case"linkViaPopup":case"linkViaRedirect":return rw;case"reauthViaPopup":case"reauthViaRedirect":return sw;default:Ts(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aw=new tu(2e3,1e4);class ao extends j1{constructor(e,n,r,l,c){super(e,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aw.get())};e()}}ao.currentPopupAction=null;const ow="pendingRedirect",Wc=new Map;class lw extends j1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const r=await uw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uw(s,e){const n=fw(e),r=hw(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function cw(s,e){Wc.set(s._key(),e)}function hw(s){return _s(s._redirectPersistence)}function fw(s){return Qc(ow,s.config.apiKey,s.name)}async function dw(s,e,n=!1){if(Zn(s.app))return Promise.reject(vs(s));const r=iu(s),l=nw(r,e),d=await new lw(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const mw=600*1e3;class pw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gw(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!U1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(zi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mw&&this.cachedEventUids.clear(),this.cachedEventUids.has(O_(e))}saveEventToCache(e){this.cachedEventUids.add(O_(e)),this.lastProcessedEventTime=Date.now()}}function O_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function U1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function gw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U1(s);default:return!1}}async function yw(s,e={}){return wo(s,"GET","/v1/projects",e)}const _w=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vw=/^https?/;async function Ew(s){if(s.config.emulator)return;const{authorizedDomains:e}=await yw(s);for(const n of e)try{if(Tw(n))return}catch{}Ts(s,"unauthorized-domain")}function Tw(s){const e=bm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!vw.test(n))return!1;if(_w.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const bw=new tu(3e4,6e4);function D_(){const s=Pi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function Aw(s){return new Promise((e,n)=>{function r(){D_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{D_(),n(zi(s,"network-request-failed"))},timeout:bw.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)r();else{const l=SS("iframefcb");return Pi()[l]=()=>{gapi.load?r():n(zi(s,"network-request-failed"))},bS(`${AS()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw $c=null,e})}let $c=null;function Sw(s){return $c=$c||Aw(s),$c}const ww=new tu(5e3,15e3),xw="__/auth/iframe",Rw="emulator/auth/iframe",Cw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iw(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Qm(e,Rw):`https://${s.config.authDomain}/${xw}`,r={apiKey:e.apiKey,appName:s.name,v:So},l=Nw.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${eu(r).slice(1)}`}async function Ow(s){const e=await Sw(s),n=Pi().gapi;return be(n,s,"internal-error"),e.open({where:document.body,url:Iw(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cw,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=zi(s,"network-request-failed"),g=Pi().setTimeout(()=>{c(d)},ww.get());function _(){Pi().clearTimeout(g),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const Dw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kw=500,Mw=600,Vw="_blank",Lw="http://localhost";class k_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jw(s,e,n,r=kw,l=Mw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...Dw,width:r.toString(),height:l.toString(),top:c,left:d},y=ln().toLowerCase();n&&(g=_1(y)?Vw:n),g1(y)&&(e=e||Lw,_.scrollbars="yes");const E=Object.entries(_).reduce((I,[q,ee])=>`${I}${q}=${ee},`,"");if(mS(y)&&g!=="_self")return Uw(e||"",g),new k_(null);const S=window.open(e||"",g,E);be(S,s,"popup-blocked");try{S.focus()}catch{}return new k_(S)}function Uw(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const zw="__/auth/handler",Pw="emulator/auth/handler",Bw=encodeURIComponent("fac");async function M_(s,e,n,r,l,c){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:So,eventId:l};if(e instanceof R1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",j2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))d[E]=S}if(e instanceof su){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const _=await s._getAppCheckToken(),y=_?`#${Bw}=${encodeURIComponent(_)}`:"";return`${qw(s)}?${eu(g).slice(1)}${y}`}function qw({config:s}){return s.emulator?Qm(s,Pw):`https://${s.authDomain}/${zw}`}const em="webStorageSupport";class Hw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D1,this._completeRedirectFn=dw,this._overrideRedirectResult=cw}async _openPopup(e,n,r,l){bs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await M_(e,n,r,bm(),l);return jw(e,c,Jm())}async _openRedirect(e,n,r,l){await this._originValidation(e);const c=await M_(e,n,r,bm(),l);return KS(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(bs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Ow(e),r=new pw(e);return n.register("authEvent",l=>(be(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(em,{type:em},l=>{const c=l?.[0]?.[em];c!==void 0&&n(!!c),Ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ew(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A1()||y1()||Xm()}}const Fw=Hw;var V_="@firebase/auth",L_="1.12.0";class Gw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Kw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yw(s){mo(new la("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S1(s)},y=new ES(r,l,c,_);return xS(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mo(new la("auth-internal",e=>{const n=iu(e.getProvider("auth").getImmediate());return(r=>new Gw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(V_,L_,Kw(s)),mr(V_,L_,"esm2020")}const Qw=300,Ww=Jv("authIdTokenMaxAge")||Qw;let j_=null;const $w=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ww)return;const l=n?.token;j_!==l&&(j_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Xw(s=r1()){const e=Km(s,"auth");if(e.isInitialized())return e.getImmediate();const n=wS(s,{popupRedirectResolver:Fw,persistence:[tw,HS,D1]}),r=Jv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=$w(c.toString());zS(n,d,()=>d(n.currentUser)),US(n,g=>d(g))}}const l=Xv("auth");return l&&RS(n,`http://${l}`),n}function Zw(){return document.getElementsByTagName("head")?.[0]??document}TS({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=zi("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",Zw().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yw("Browser");var U_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pr,z1;(function(){var s;function e(C,w){function N(){}N.prototype=w.prototype,C.F=w.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(M,O,L){for(var x=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)x[rt-2]=arguments[rt];return w.prototype[O].apply(M,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,N){N||(N=0);const M=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)M[O]=w.charCodeAt(N++)|w.charCodeAt(N++)<<8|w.charCodeAt(N++)<<16|w.charCodeAt(N++)<<24;else for(O=0;O<16;++O)M[O]=w[N++]|w[N++]<<8|w[N++]<<16|w[N++]<<24;w=C.g[0],N=C.g[1],O=C.g[2];let L=C.g[3],x;x=w+(L^N&(O^L))+M[0]+3614090360&4294967295,w=N+(x<<7&4294967295|x>>>25),x=L+(O^w&(N^O))+M[1]+3905402710&4294967295,L=w+(x<<12&4294967295|x>>>20),x=O+(N^L&(w^N))+M[2]+606105819&4294967295,O=L+(x<<17&4294967295|x>>>15),x=N+(w^O&(L^w))+M[3]+3250441966&4294967295,N=O+(x<<22&4294967295|x>>>10),x=w+(L^N&(O^L))+M[4]+4118548399&4294967295,w=N+(x<<7&4294967295|x>>>25),x=L+(O^w&(N^O))+M[5]+1200080426&4294967295,L=w+(x<<12&4294967295|x>>>20),x=O+(N^L&(w^N))+M[6]+2821735955&4294967295,O=L+(x<<17&4294967295|x>>>15),x=N+(w^O&(L^w))+M[7]+4249261313&4294967295,N=O+(x<<22&4294967295|x>>>10),x=w+(L^N&(O^L))+M[8]+1770035416&4294967295,w=N+(x<<7&4294967295|x>>>25),x=L+(O^w&(N^O))+M[9]+2336552879&4294967295,L=w+(x<<12&4294967295|x>>>20),x=O+(N^L&(w^N))+M[10]+4294925233&4294967295,O=L+(x<<17&4294967295|x>>>15),x=N+(w^O&(L^w))+M[11]+2304563134&4294967295,N=O+(x<<22&4294967295|x>>>10),x=w+(L^N&(O^L))+M[12]+1804603682&4294967295,w=N+(x<<7&4294967295|x>>>25),x=L+(O^w&(N^O))+M[13]+4254626195&4294967295,L=w+(x<<12&4294967295|x>>>20),x=O+(N^L&(w^N))+M[14]+2792965006&4294967295,O=L+(x<<17&4294967295|x>>>15),x=N+(w^O&(L^w))+M[15]+1236535329&4294967295,N=O+(x<<22&4294967295|x>>>10),x=w+(O^L&(N^O))+M[1]+4129170786&4294967295,w=N+(x<<5&4294967295|x>>>27),x=L+(N^O&(w^N))+M[6]+3225465664&4294967295,L=w+(x<<9&4294967295|x>>>23),x=O+(w^N&(L^w))+M[11]+643717713&4294967295,O=L+(x<<14&4294967295|x>>>18),x=N+(L^w&(O^L))+M[0]+3921069994&4294967295,N=O+(x<<20&4294967295|x>>>12),x=w+(O^L&(N^O))+M[5]+3593408605&4294967295,w=N+(x<<5&4294967295|x>>>27),x=L+(N^O&(w^N))+M[10]+38016083&4294967295,L=w+(x<<9&4294967295|x>>>23),x=O+(w^N&(L^w))+M[15]+3634488961&4294967295,O=L+(x<<14&4294967295|x>>>18),x=N+(L^w&(O^L))+M[4]+3889429448&4294967295,N=O+(x<<20&4294967295|x>>>12),x=w+(O^L&(N^O))+M[9]+568446438&4294967295,w=N+(x<<5&4294967295|x>>>27),x=L+(N^O&(w^N))+M[14]+3275163606&4294967295,L=w+(x<<9&4294967295|x>>>23),x=O+(w^N&(L^w))+M[3]+4107603335&4294967295,O=L+(x<<14&4294967295|x>>>18),x=N+(L^w&(O^L))+M[8]+1163531501&4294967295,N=O+(x<<20&4294967295|x>>>12),x=w+(O^L&(N^O))+M[13]+2850285829&4294967295,w=N+(x<<5&4294967295|x>>>27),x=L+(N^O&(w^N))+M[2]+4243563512&4294967295,L=w+(x<<9&4294967295|x>>>23),x=O+(w^N&(L^w))+M[7]+1735328473&4294967295,O=L+(x<<14&4294967295|x>>>18),x=N+(L^w&(O^L))+M[12]+2368359562&4294967295,N=O+(x<<20&4294967295|x>>>12),x=w+(N^O^L)+M[5]+4294588738&4294967295,w=N+(x<<4&4294967295|x>>>28),x=L+(w^N^O)+M[8]+2272392833&4294967295,L=w+(x<<11&4294967295|x>>>21),x=O+(L^w^N)+M[11]+1839030562&4294967295,O=L+(x<<16&4294967295|x>>>16),x=N+(O^L^w)+M[14]+4259657740&4294967295,N=O+(x<<23&4294967295|x>>>9),x=w+(N^O^L)+M[1]+2763975236&4294967295,w=N+(x<<4&4294967295|x>>>28),x=L+(w^N^O)+M[4]+1272893353&4294967295,L=w+(x<<11&4294967295|x>>>21),x=O+(L^w^N)+M[7]+4139469664&4294967295,O=L+(x<<16&4294967295|x>>>16),x=N+(O^L^w)+M[10]+3200236656&4294967295,N=O+(x<<23&4294967295|x>>>9),x=w+(N^O^L)+M[13]+681279174&4294967295,w=N+(x<<4&4294967295|x>>>28),x=L+(w^N^O)+M[0]+3936430074&4294967295,L=w+(x<<11&4294967295|x>>>21),x=O+(L^w^N)+M[3]+3572445317&4294967295,O=L+(x<<16&4294967295|x>>>16),x=N+(O^L^w)+M[6]+76029189&4294967295,N=O+(x<<23&4294967295|x>>>9),x=w+(N^O^L)+M[9]+3654602809&4294967295,w=N+(x<<4&4294967295|x>>>28),x=L+(w^N^O)+M[12]+3873151461&4294967295,L=w+(x<<11&4294967295|x>>>21),x=O+(L^w^N)+M[15]+530742520&4294967295,O=L+(x<<16&4294967295|x>>>16),x=N+(O^L^w)+M[2]+3299628645&4294967295,N=O+(x<<23&4294967295|x>>>9),x=w+(O^(N|~L))+M[0]+4096336452&4294967295,w=N+(x<<6&4294967295|x>>>26),x=L+(N^(w|~O))+M[7]+1126891415&4294967295,L=w+(x<<10&4294967295|x>>>22),x=O+(w^(L|~N))+M[14]+2878612391&4294967295,O=L+(x<<15&4294967295|x>>>17),x=N+(L^(O|~w))+M[5]+4237533241&4294967295,N=O+(x<<21&4294967295|x>>>11),x=w+(O^(N|~L))+M[12]+1700485571&4294967295,w=N+(x<<6&4294967295|x>>>26),x=L+(N^(w|~O))+M[3]+2399980690&4294967295,L=w+(x<<10&4294967295|x>>>22),x=O+(w^(L|~N))+M[10]+4293915773&4294967295,O=L+(x<<15&4294967295|x>>>17),x=N+(L^(O|~w))+M[1]+2240044497&4294967295,N=O+(x<<21&4294967295|x>>>11),x=w+(O^(N|~L))+M[8]+1873313359&4294967295,w=N+(x<<6&4294967295|x>>>26),x=L+(N^(w|~O))+M[15]+4264355552&4294967295,L=w+(x<<10&4294967295|x>>>22),x=O+(w^(L|~N))+M[6]+2734768916&4294967295,O=L+(x<<15&4294967295|x>>>17),x=N+(L^(O|~w))+M[13]+1309151649&4294967295,N=O+(x<<21&4294967295|x>>>11),x=w+(O^(N|~L))+M[4]+4149444226&4294967295,w=N+(x<<6&4294967295|x>>>26),x=L+(N^(w|~O))+M[11]+3174756917&4294967295,L=w+(x<<10&4294967295|x>>>22),x=O+(w^(L|~N))+M[2]+718787259&4294967295,O=L+(x<<15&4294967295|x>>>17),x=N+(L^(O|~w))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const N=w-this.blockSize,M=this.C;let O=this.h,L=0;for(;L<w;){if(O==0)for(;L<=N;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(M[O++]=C.charCodeAt(L++),O==this.blockSize){l(this,M),O=0;break}}else for(;L<w;)if(M[O++]=C[L++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)C[w++]=this.g[N]>>>M&255;return C};function c(C,w){var N=g;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=w(C)}function d(C,w){this.h=w;const N=[];let M=!0;for(let O=C.length-1;O>=0;O--){const L=C[O]|0;M&&L==w||(N[O]=L,M=!1)}this.g=N}var g={};function _(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return re(y(-C));const w=[];let N=1;for(let M=0;C>=N;M++)w[M]=C/N|0,N*=4294967296;return new d(w,0)}function E(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return re(E(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(w,8));let M=S;for(let L=0;L<C.length;L+=8){var O=Math.min(8,C.length-L);const x=parseInt(C.substring(L,L+O),w);O<8?(O=y(Math.pow(w,O)),M=M.j(O).add(y(x))):(M=M.j(N),M=M.add(y(x)))}return M}var S=_(0),I=_(1),q=_(16777216);s=d.prototype,s.m=function(){if(se(this))return-re(this).m();let C=0,w=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);C+=(M>=0?M:4294967296+M)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(ee(this))return"0";if(se(this))return"-"+re(this).toString(C);const w=y(Math.pow(C,6));var N=this;let M="";for(;;){const O=Je(N,w).g;N=ye(N,O.j(w));let L=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=O,ee(N))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function ee(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function se(C){return C.h==-1}s.l=function(C){return C=ye(this,C),se(C)?-1:ee(C)?0:1};function re(C){const w=C.g.length,N=[];for(let M=0;M<w;M++)N[M]=~C.g[M];return new d(N,~C.h).add(I)}s.abs=function(){return se(this)?re(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),N=[];let M=0;for(let O=0;O<=w;O++){let L=M+(this.i(O)&65535)+(C.i(O)&65535),x=(L>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);M=x>>>16,L&=65535,x&=65535,N[O]=x<<16|L}return new d(N,N[N.length-1]&-2147483648?-1:0)};function ye(C,w){return C.add(re(w))}s.j=function(C){if(ee(this)||ee(C))return S;if(se(this))return se(C)?re(this).j(re(C)):re(re(this).j(C));if(se(C))return re(this.j(re(C)));if(this.l(q)<0&&C.l(q)<0)return y(this.m()*C.m());const w=this.g.length+C.g.length,N=[];for(var M=0;M<2*w;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<C.g.length;O++){const L=this.i(M)>>>16,x=this.i(M)&65535,rt=C.i(O)>>>16,gt=C.i(O)&65535;N[2*M+2*O]+=x*gt,Ne(N,2*M+2*O),N[2*M+2*O+1]+=L*gt,Ne(N,2*M+2*O+1),N[2*M+2*O+1]+=x*rt,Ne(N,2*M+2*O+1),N[2*M+2*O+2]+=L*rt,Ne(N,2*M+2*O+2)}for(C=0;C<w;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=w;C<2*w;C++)N[C]=0;return new d(N,0)};function Ne(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function Ae(C,w){this.g=C,this.h=w}function Je(C,w){if(ee(w))throw Error("division by zero");if(ee(C))return new Ae(S,S);if(se(C))return w=Je(re(C),w),new Ae(re(w.g),re(w.h));if(se(w))return w=Je(C,re(w)),new Ae(re(w.g),w.h);if(C.g.length>30){if(se(C)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var N=I,M=w;M.l(C)<=0;)N=pt(N),M=pt(M);var O=Ue(N,1),L=Ue(M,1);for(M=Ue(M,2),N=Ue(N,2);!ee(M);){var x=L.add(M);x.l(C)<=0&&(O=O.add(N),L=x),M=Ue(M,1),N=Ue(N,1)}return w=ye(C,O.j(w)),new Ae(O,w)}for(O=S;C.l(w)>=0;){for(N=Math.max(1,Math.floor(C.m()/w.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(N),x=L.j(w);se(x)||x.l(C)>0;)N-=M,L=y(N),x=L.j(w);ee(L)&&(L=I),O=O.add(L),C=ye(C,x)}return new Ae(O,C)}s.B=function(C){return Je(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<w;M++)N[M]=this.i(M)&C.i(M);return new d(N,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<w;M++)N[M]=this.i(M)|C.i(M);return new d(N,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<w;M++)N[M]=this.i(M)^C.i(M);return new d(N,this.h^C.h)};function pt(C){const w=C.g.length+1,N=[];for(let M=0;M<w;M++)N[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(N,C.h)}function Ue(C,w){const N=w>>5;w%=32;const M=C.g.length-N,O=[];for(let L=0;L<M;L++)O[L]=w>0?C.i(L+N)>>>w|C.i(L+N+1)<<32-w:C.i(L+N);return new d(O,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,z1=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,pr=d}).apply(typeof U_<"u"?U_:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var P1,Ml,B1,Xc,wm,q1,H1,F1;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var j=u[A];if(!(j in v))break e;v=v[j]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,j,B){for(var ne=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ne[ke-2]=arguments[ke];return m.prototype[j].apply(A,ne)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function ee(u,m){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const B=j.length||0;u.length=v+B;for(let ne=0;ne<B;ne++)u[v+ne]=j[ne]}else u.push(j)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function re(u){d.setTimeout(()=>{throw u},0)}function ye(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,v){const A=Ae.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ae=new se(()=>new Je,u=>u.reset());class Je{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,Ue=!1,C=new Ne,w=()=>{const u=Promise.resolve(void 0);pt=()=>{u.then(N)}};function N(){for(var u;u=ye();){try{u.h.call(u.g)}catch(v){re(v)}var m=Ae;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ue=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function rt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(rt,O),rt.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var gt="closure_listenable_"+(Math.random()*1e6|0),F=0;function te(u,m,v,A,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=j,this.key=++F,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ge(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function xe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)u[v]=A[v];for(let B=0;B<G.length;B++)v=G[B],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,A,j){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ne=Ie(u,m,A,j);return ne>-1?(m=u[ne],v||(m.fa=!1)):(m=new te(m,this.src,B,!!A,j),m.fa=v,u.push(m)),m};function Ee(u,m){const v=m.type;if(v in u.g){var A=u.g[v],j=Array.prototype.indexOf.call(A,m,void 0),B;(B=j>=0)&&Array.prototype.splice.call(A,j,1),B&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ie(u,m,v,A){for(let j=0;j<u.length;++j){const B=u[j];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return j}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),St={};function ct(u,m,v,A,j){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ct(u,m[B],v,A,j);return null}return v=gi(v),u&&u[gt]?u.J(m,v,g(A)?!!A.capture:!1,j):Ki(u,m,v,!1,A,j)}function Ki(u,m,v,A,j,B){if(!m)throw Error("Invalid event type");const ne=g(j)?!!j.capture:!!j;let ke=Qi(u);if(ke||(u[ze]=ke=new ae(u)),v=ke.add(m,v,A,ne,B),v.proxy)return v;if(A=Yi(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)L||(j=ne),j===void 0&&(j=!1),u.addEventListener(m.toString(),A,j);else if(u.attachEvent)u.attachEvent(jn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yi(){function u(v){return m.call(u.src,u.listener,v)}const m=Rr;return u}function Rs(u,m,v,A,j){if(Array.isArray(m))for(var B=0;B<m.length;B++)Rs(u,m[B],v,A,j);else A=g(A)?!!A.capture:!!A,v=gi(v),u&&u[gt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ie(m,v,A,j),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Qi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ie(m,v,A,j)),(v=u>-1?m[u]:null)&&Cs(v))}function Cs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[gt])Ee(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(jn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Qi(m))?(Ee(v,u),v.h==0&&(v.src=null,m[ze]=null)):de(u)}}}function jn(u){return u in St?St[u]:St[u]="on"+u}function Rr(u,m){if(u.da)u=!0;else{m=new rt(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Cs(u),u=v.call(A,m)}return u}function Qi(u){return u=u[ze],u instanceof ae?u:null}var Cr="__closure_events_fn_"+(Math.random()*1e9>>>0);function gi(u){return typeof u=="function"?u:(u[Cr]||(u[Cr]=function(m){return u.handleEvent(m)}),u[Cr])}function J(){M.call(this),this.i=new ae(this),this.M=this,this.G=null}S(J,M),J.prototype[gt]=!0,J.prototype.removeEventListener=function(u,m,v,A){Rs(this,u,m,v,A)};function Z(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var j=m;m=new O(A,u),ie(m,j)}j=!0;let B,ne;if(v)for(ne=v.length-1;ne>=0;ne--)B=m.g=v[ne],j=le(B,A,!0,m)&&j;if(B=m.g=u,j=le(B,A,!0,m)&&j,j=le(B,A,!1,m)&&j,v)for(ne=0;ne<v.length;ne++)B=m.g=v[ne],j=le(B,A,!1,m)&&j}J.prototype.N=function(){if(J.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)de(v[A]);delete u.g[m],u.h--}}this.G=null},J.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},J.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function le(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let B=0;B<m.length;++B){const ne=m[B];if(ne&&!ne.da&&ne.capture==v){const ke=ne.listener,xt=ne.ha||ne.src;ne.fa&&Ee(u.i,ne),j=ke.call(xt,A)!==!1&&j}}return j&&!A.defaultPrevented}function ce(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Oe(u){u.g=ce(()=>{u.g=null,u.i&&(u.i=!1,Oe(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $ extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pe(u){M.call(this),this.h=u,this.g={}}S(pe,M);var De=[];function vt(u){Ge(u.g,function(m,v){this.g.hasOwnProperty(v)&&Cs(m)},u),u.g={}}pe.prototype.N=function(){pe.Z.N.call(this),vt(this)},pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var et=d.JSON.stringify,Io=d.JSON.parse,Wi=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function fu(){}function du(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){O.call(this,"d")}S(Qt,O);function Un(){O.call(this,"c")}S(Un,O);var wt={},mu=null;function pa(){return mu=mu||new J}wt.Ia="serverreachability";function pu(u){O.call(this,wt.Ia,u)}S(pu,O);function yi(u){const m=pa();Z(m,new pu(m))}wt.STAT_EVENT="statevent";function Nr(u,m){O.call(this,wt.STAT_EVENT,u),this.stat=m}S(Nr,O);function It(u){const m=pa();Z(m,new Nr(m,u))}wt.Ja="timingevent";function _i(u,m){O.call(this,wt.Ja,u),this.size=m}S(_i,O);function vi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Gh(u,m,v,A,j,B){u.info(function(){if(u.g)if(B){var ne="",ke=B.split("&");for(let Xe=0;Xe<ke.length;Xe++){var xt=ke[Xe].split("=");if(xt.length>1){const yt=xt[0];xt=xt[1];const qn=yt.split("_");ne=qn.length>=2&&qn[1]=="type"?ne+(yt+"="+xt+"&"):ne+(yt+"=redacted&")}}}else ne=null;else ne=B;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+m+`
`+v+`
`+ne})}function gu(u,m,v,A,j,B,ne){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+m+`
`+v+`
`+B+" "+ne})}function Ei(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Kh(u,v)+(A?" "+A:"")})}function Ir(u,m){u.info(function(){return"TIMEOUT: "+m})}ti.prototype.info=function(){};function Kh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ne=1;ne<A.length;ne++)A[ne]=""}}}}return et(B)}catch{return m}}var Or={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Do;function Dr(){}S(Dr,fu),Dr.prototype.g=function(){return new XMLHttpRequest},Do=new Dr;function $i(u){return encodeURIComponent(String(u))}function yu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ni(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new pe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var Ot={},Ft={};function Ti(u,m,v){u.M=1,u.A=kr(kt(m)),u.u=v,u.R=!0,ga(u,null)}function ga(u,m){u.F=Date.now(),bi(u),u.B=kt(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Ea(v.i,"t",A),u.C=0,v=u.j.L,u.h=new ii,u.g=Du(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(De[0]=j.toString()),j=De);for(let B=0;B<j.length;B++){const ne=ct(v,j[B],A||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),yi(),Gh(u.i,u.v,u.B,u.l,u.S,u.u)}ni.prototype.ba=function(u){u=u.target;const m=this.O;m&&ai(u)==3?m.j():this.Y(u)},ni.prototype.Y=function(u){try{if(u==this.g)e:{const ke=ai(this.g),xt=this.g.ya(),Xe=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||ke!=4||xt==7||(xt==8||Xe<=0?yi(3):yi(2)),Ai(this);var m=this.g.ca();this.X=m;var v=Yh(this);if(this.o=m==200,gu(this.i,this.v,this.B,this.l,this.S,ke,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var B=A;break t}}B=null}if(u=B)Ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,It(12),Rn(this),zn(this);break e}}if(this.R){u=!0;let yt;for(;!this.K&&this.C<v.length;)if(yt=vu(this,v),yt==Ft){ke==4&&(this.m=4,It(14),u=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Ot){this.m=4,It(15),Ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ei(this.i,this.l,yt,null),Si(this,yt);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||v.length!=0||this.h.h||(this.m=1,It(16),u=!1),this.o=this.o&&u,!u)Ei(this.i,this.l,v,"[Invalid Chunked Response]"),Rn(this),zn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(ne),ne.P=!0,It(11))}}else Ei(this.i,this.l,v,null),Si(this,v);ke==4&&Rn(this),this.o&&!this.K&&(ke==4?Cu(this.j,this):(this.o=!1,bi(this)))}else Zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Rn(this),zn(this)}}}catch{}};function Yh(u){if(!_u(u))return u.g.la();const m=Wt(u.g);if(m==="")return"";let v="";const A=m.length,j=ai(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Rn(u),zn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<A;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(j&&B==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function _u(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function vu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Ft:(v=Number(m.substring(v,A)),isNaN(v)?Ot:(A+=1,A+v>m.length?Ft:(m=m.slice(A,A+v),u.C=A+v,m)))}ni.prototype.cancel=function(){this.K=!0,Rn(this)};function bi(u){u.T=Date.now()+u.H,ya(u,u.H)}function ya(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=vi(y(u.aa,u),m)}function Ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ni.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ir(this.i,this.B),this.M!=2&&(yi(),It(17)),Rn(this),this.m=2,zn(this)):ya(this,this.T-u)};function zn(u){u.j.I==0||u.K||Cu(u.j,u)}function Rn(u){Ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vt(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||xi(v.h,u))){if(!u.L&&xi(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)wa(v),Ls(v);else break e;Pr(v),It(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=vi(y(v.Va,v),6e3));wi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Di(v,11)}else if((u.L||v.g==u)&&wa(v),!x(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let Xe=j[m];const yt=Xe[0];if(!(yt<=v.K))if(v.K=yt,Xe=Xe[1],v.I==2)if(Xe[0]=="c"){v.M=Xe[1],v.ba=Xe[2];const qn=Xe[3];qn!=null&&(v.ka=qn,v.j.info("VER="+v.ka));const ki=Xe[4];ki!=null&&(v.za=ki,v.j.info("SVER="+v.za));const oi=Xe[5];oi!=null&&typeof oi=="number"&&oi>0&&(A=1.5*oi,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const li=u.g;if(li){const Br=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var B=A.h;B.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Vo(B,B.h),B.h=null))}if(A.G){const xa=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(A.wa=xa,nt(A.J,A.G,xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ne=u;if(A.na=Ou(A,A.L?A.ba:null,A.W),ne.L){Lo(A.h,ne);var ke=ne,xt=A.O;xt&&(ke.H=xt),ke.D&&(Ai(ke),bi(ke)),A.g=ne}else xu(A);v.i.length>0&&Oi(v)}else Xe[0]!="stop"&&Xe[0]!="close"||Di(v,7);else v.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Di(v,7):Go(v):Xe[0]!="noop"&&v.l&&v.l.qa(Xe),v.A=0)}}yi(4)}catch{}}var Dt=class{constructor(u,m){this.g=u,this.map=m}};function ko(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wi(u){return u.h?1:u.g?u.g.size:0}function xi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Vo(u,m){u.g?u.g.add(m):u.h=m}function Lo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ko.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function jo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let j,B=null;A>=0?(j=u[v].substring(0,A),B=u[v].substring(A+1)):j=u[v],m(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Cn?(this.l=u.l,Gt(this,u.j),this.o=u.o,this.g=u.g,Ns(this,u.u),this.h=u.h,Uo(this,Su(u.i)),this.m=u.m):u&&(m=String(u).match(Eu))?(this.l=!1,Gt(this,m[1]||"",!0),this.o=Ri(m[2]||""),this.g=Ri(m[3]||"",!0),Ns(this,m[4]),this.h=Ri(m[5]||"",!0),Uo(this,m[6]||"",!0),this.m=Ri(m[7]||"")):(this.l=!1,this.i=new Os(null,this.l))}Cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Mr(m,va,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Mr(m,va,!0),"@"),u.push($i(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Mr(v,v.charAt(0)=="/"?zo:Tu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Mr(v,bu)),u.join("")},Cn.prototype.resolve=function(u){const m=kt(this);let v=!!u.j;v?Gt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)Ns(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=m.h.lastIndexOf("/");j!=-1&&(A=m.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const B=[];for(let ne=0;ne<j.length;){const ke=j[ne++];ke=="."?A&&ne==j.length&&B.push(""):ke==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&ne==j.length&&B.push("")):(B.push(ke),A=!0)}A=B.join("/")}else A=j}return v?m.h=A:v=u.i.toString()!=="",v?Uo(m,Su(u.i)):v=!!u.m,v&&(m.m=u.m),m};function kt(u){return new Cn(u)}function Gt(u,m,v){u.j=v?Ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ns(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Uo(u,m,v){m instanceof Os?(u.i=m,Ta(u.i,u.l)):(v||(m=Mr(m,Is)),u.i=new Os(m,u.l))}function nt(u,m,v){u.i.set(m,v)}function kr(u){return nt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,mn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var va=/[#\/\?@]/g,Tu=/[#\?:]/g,zo=/[#\?]/g,Is=/[#\?@]/g,bu=/#/g;function Os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&_a(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Os.prototype,s.add=function(u,m){pn(this),this.i=null,u=Ds(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Au(u,m){pn(u),m=Ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Po(u,m){return pn(u),m=Ds(u,m),u.g.has(m)}s.forEach=function(u,m){pn(this),this.g.forEach(function(v,A){v.forEach(function(j){u.call(m,j,A,this)},this)},this)};function Bo(u,m){pn(u);let v=[];if(typeof m=="string")Po(u,m)&&(v=v.concat(u.g.get(Ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return pn(this),this.i=null,u=Ds(this,u),Po(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Bo(this,u),u.length>0?String(u[0]):m):m};function Ea(u,m,v){Au(u,m),v.length>0&&(u.i=null,u.g.set(Ds(u,m),q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const j=$i(v);v=Bo(this,v);for(let B=0;B<v.length;B++){let ne=j;v[B]!==""&&(ne+="="+$i(v[B])),u.push(ne)}}return this.i=u.join("&")};function Su(u){const m=new Os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ta(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(Au(this,A),Ea(this,j,v))},u)),u.j=m}function si(u,m){const v=new ti;if(d.Image){const A=new Image;A.onload=E(Pn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=E(Pn,v,"TestLoadImage: error",!1,m,A),A.onabort=E(Pn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(Pn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function qo(u,m){const v=new ti,A=new AbortController,j=setTimeout(()=>{A.abort(),Pn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(B=>{clearTimeout(j),B.ok?Pn(v,"TestPingServer: ok",!0,m):Pn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Pn(v,"TestPingServer: error",!1,m)})}function Pn(u,m,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function ks(){this.g=new Wi}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ci,fu),Ci.prototype.g=function(){return new Vr(this.i,this.h)};function Vr(u,m){J.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Vr,J),s=Vr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ri(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ms(this):ri(this),this.readyState==3&&ba(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ms(this))},s.Na=function(u){this.g&&(this.response=u,Ms(this))},s.ga=function(){this.g&&Ms(this)};function Ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ri(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Bn(u){let m="";return Ge(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Lr(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Bn(v),typeof u=="string"?v!=null&&$i(v):nt(u,m,v))}function at(u){J.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(at,J);var Ni=/^https?$/i,Ho=["POST","PUT"];s=at.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Do.g(),this.g.onreadystatechange=I(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){jr(this,B);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ho,m,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of v)this.g.setRequestHeader(B,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){jr(this,B)}};function jr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Fo(u),Xi(u)}function Fo(u){u.A||(u.A=!0,Z(u,"complete"),Z(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Z(this,"complete"),Z(this,"abort"),Xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),at.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ur(this):this.Xa())},s.Xa=function(){Ur(this)};function Ur(u){if(u.h&&typeof c<"u"){if(u.v&&ai(u)==4)setTimeout(u.Ca.bind(u),0);else if(Z(u,"readystatechange"),ai(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let ne=String(u.D).match(Eu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),A=!Ni.test(ne?ne.toLowerCase():"")}v=A}if(v)Z(u,"complete"),Z(u,"success");else{u.o=6;try{var j=ai(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Fo(u)}}finally{Xi(u)}}}}function Xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Z(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ai(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Io(m)}};function Wt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(u){const m={};u=(u.g&&ai(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(x(u[A]))continue;var v=yu(u[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[j]||[];m[j]=B,B.push(v)}xe(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Vs(u){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(u&&u.concurrentRequestLimit),this.Ba=new ks,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Vs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){It(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Ou(this,null,this.W),Oi(this)};function Go(u){if(Aa(u),u.I==3){var m=u.V++,v=kt(u.J);if(nt(v,"SID",u.M),nt(v,"RID",m),nt(v,"TYPE","terminate"),zr(u,v),m=new ni(u,u.j,m),m.M=2,m.A=kr(kt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Du(m.j,null),m.g.ea(m.A)),m.F=Date.now(),bi(m)}Iu(u)}function Ls(u){u.g&&(Yo(u),u.g.cancel(),u.g=null)}function Aa(u){Ls(u),u.v&&(d.clearTimeout(u.v),u.v=null),wa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Oi(u){if(!Mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;pt||w(),Ue||(pt(),Ue=!0),C.add(m,u),u.D=0}}function Sa(u,m){return wi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=vi(y(u.Ea,u,m),Nu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new ni(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(j.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=wu(this,j,m),v=kt(this.J),nt(v,"RID",u),nt(v,"CVER",22),this.G&&nt(v,"X-HTTP-Session-Id",this.G),zr(this,v),B&&(this.R?m="headers="+$i(Bn(B))+"&"+m:this.u&&Lr(v,this.u,B)),Vo(this.h,j),this.Ra&&nt(v,"TYPE","init"),this.S?(nt(v,"$req",m),nt(v,"SID","null"),j.U=!0,Ti(j,v,null)):Ti(j,v,m),this.I=2}}else this.I==3&&(u?Ko(this,u):this.i.length==0||Mo(this.h)||Ko(this))};function Ko(u,m){var v;m?v=m.l:v=u.V++;const A=kt(u.J);nt(A,"SID",u.M),nt(A,"RID",v),nt(A,"AID",u.K),zr(u,A),u.u&&u.o&&Lr(A,u.u,u.o),v=new ni(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=wu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vo(u.h,v),Ti(v,A,m)}function zr(u,m){u.H&&Ge(u.H,function(v,A){nt(m,A,v)}),u.l&&Ge({},function(v,A){nt(m,A,v)})}function wu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var j=u.i;let ke=-1;for(;;){const xt=["count="+v];ke==-1?v>0?(ke=j[0].g,xt.push("ofs="+ke)):ke=0:xt.push("ofs="+ke);let Xe=!0;for(let yt=0;yt<v;yt++){var B=j[yt].g;const qn=j[yt].map;if(B-=ke,B<0)ke=Math.max(0,j[yt].g-100),Xe=!1;else try{B="req"+B+"_"||"";try{var ne=qn instanceof Map?qn:Object.entries(qn);for(const[ki,oi]of ne){let li=oi;g(oi)&&(li=et(oi)),xt.push(B+ki+"="+encodeURIComponent(li))}}catch(ki){throw xt.push(B+"type="+encodeURIComponent("_badmap")),ki}}catch{A&&A(qn)}}if(Xe){ne=xt.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),m.G=u,ne}function xu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;pt||w(),Ue||(pt(),Ue=!0),C.add(m,u),u.A=0}}function Pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=vi(y(u.Da,u),Nu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=vi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Ls(this),Ru(this))};function Yo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Ru(u){u.g=new ni(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=kt(u.na);nt(m,"RID","rpc"),nt(m,"SID",u.M),nt(m,"AID",u.K),nt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&nt(m,"TO",u.ia),nt(m,"TYPE","xmlhttp"),zr(u,m),u.u&&u.o&&Lr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=kr(kt(m)),v.u=null,v.R=!0,ga(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ls(this),Pr(this),It(19))};function wa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Cu(u,m){var v=null;if(u.g==m){wa(u),Yo(u),u.g=null;var A=2}else if(xi(u.h,m))v=m.G,Lo(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;A=pa(),Z(A,new _i(A,v)),Oi(u)}else xu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(A==1&&Sa(u,m)||A==2&&Pr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function Nu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const j=!A;A=new Cn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Gt(A,"https"),kr(A),j?si(A.toString(),v):qo(A.toString(),v)}else It(2);u.I=0,u.l&&u.l.pa(m),Iu(u),Aa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Iu(u){if(u.I=0,u.ja=[],u.l){const m=jo(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Ou(u,m,v){var A=v instanceof Cn?kt(v):new Cn(v);if(A.g!="")m&&(A.g=m+"."+A.g),Ns(A,A.u);else{var j=d.location;A=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const B=new Cn(null);A&&Gt(B,A),m&&(B.g=m),j&&Ns(B,j),v&&(B.h=v),A=B}return v=u.G,m=u.wa,v&&m&&nt(A,v,m),nt(A,"VER",u.ka),zr(u,A),A}function Du(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new at(new Ci({ab:v})):new at(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}s=ku.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function js(){}js.prototype.g=function(u,m){return new un(u,m)};function un(u,m){J.call(this),this.g=new Vs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ji(this)}S(un,J),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Go(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=et(u),u=v);m.i.push(new Dt(m.Ya++,u)),m.I==3&&Oi(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,un.Z.N.call(this)};function Mu(u){Qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Mu,Qt);function Vu(){Un.call(this),this.status=1}S(Vu,Un);function Ji(u){this.g=u}S(Ji,ku),Ji.prototype.ra=function(){Z(this.g,"a")},Ji.prototype.qa=function(u){Z(this.g,new Mu(u))},Ji.prototype.pa=function(u){Z(this.g,new Vu)},Ji.prototype.oa=function(){Z(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,F1=function(){return new js},H1=function(){return pa()},q1=wt,wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Or.NO_ERROR=0,Or.TIMEOUT=8,Or.HTTP_ERROR=6,Xc=Or,Oo.COMPLETE="complete",B1=Oo,du.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",J.prototype.listen=J.prototype.J,Ml=du,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,P1=at}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let xo="12.8.0";function Jw(s){xo=s}const ca=new Fm("@firebase/firestore");function no(){return ca.logLevel}function oe(s,...e){if(ca.logLevel<=qe.DEBUG){const n=e.map(tp);ca.debug(`Firestore (${xo}): ${s}`,...n)}}function Ss(s,...e){if(ca.logLevel<=qe.ERROR){const n=e.map(tp);ca.error(`Firestore (${xo}): ${s}`,...n)}}function po(s,...e){if(ca.logLevel<=qe.WARN){const n=e.map(tp);ca.warn(`Firestore (${xo}): ${s}`,...n)}}function tp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function ve(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,G1(s,r,n)}function G1(s,e,n){let r=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ss(r),new Error(r)}function tt(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||G1(e,l,r)}function Ce(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class K1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ex{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(an.UNAUTHENTICATED)))}shutdown(){}}class tx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class nx{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,n(_)):Promise.resolve();let c=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new gr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new gr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new K1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class ix{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class sx{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ix(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const r=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new z_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ax(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class np{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=ax(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=e.charAt(l[c]%62))}return r}}function He(s,e){return s<e?-1:s>e?1:0}function xm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return tm(l)===tm(c)?He(l,c):tm(l)?1:-1}return He(s.length,e.length)}const ox=55296,lx=57343;function tm(s){const e=s.charCodeAt(0);return e>=ox&&e<=lx}function go(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const P_="__name__";class Ui{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const c=Ui.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return He(e.length,n.length)}static compareSegments(e,n){const r=Ui.isNumericId(e),l=Ui.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Ui.extractNumericId(e).compare(Ui.extractNumericId(n)):xm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class Et extends Ui{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new Et(n)}static emptyPath(){return new Et([])}}const ux=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ui{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return ux.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P_}static keyField(){return new tn([P_])}static fromServerFormat(e){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new fe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new fe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new fe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new fe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Et.fromString(e))}static fromName(e){return new ge(Et.fromString(e).popFirst(5))}static empty(){return new ge(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Et(e.slice()))}}function cx(s,e,n){if(!n)throw new fe(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function hx(s,e,n,r){if(e===!0&&r===!0)throw new fe(X.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function B_(s){if(!ge.isDocumentKey(s))throw new fe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Y1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ip(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function di(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ip(s);throw new fe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function zt(s,e){const n={typeString:s};return e&&(n.value=e),n}function au(s,e){if(!Y1(s))throw new fe(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new fe(X.INVALID_ARGUMENT,n);return!0}const q_=-62135596800,H_=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*H_);return new mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<q_)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:zt("string",mt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new mt(0,0))}static max(){return new we(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Kl=-1;function fx(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=we.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new vr(l,ge.empty(),e)}function dx(s){return new vr(s.readTime,s.key,Kl)}class vr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vr(we.min(),ge.empty(),Kl)}static max(){return new vr(we.max(),ge.empty(),Kl)}}function mx(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(s.documentKey,e.documentKey),n!==0?n:He(s.largestBatchId,e.largestBatchId))}const px="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ro(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==px)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,r)=>{n(e)}))}static reject(e){return new W(((n,r)=>{r(e)}))}static waitFor(e){return new W(((n,r)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&n()}),(_=>r(_)))})),d=!0,c===l&&n()}))}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next((l=>l?W.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(e,n){return new W(((r,l)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;n(e[y]).next((E=>{d[y]=E,++g,g===c&&r(d)}),(E=>l(E)))}}))}static doWhile(e,n){return new W(((r,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):r()};c()}))}}function yx(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Co(s){return s.name==="IndexedDbTransactionError"}class Ch{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ch.ce=-1;const sp=-1;function Nh(s){return s==null}function fh(s){return s===0&&1/s==-1/0}function _x(s){return typeof s=="number"&&Number.isInteger(s)&&!fh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Q1="";function vx(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=F_(e)),e=Ex(s.get(n),e);return F_(e)}function Ex(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case Q1:n+="";break;default:n+=c}}return n}function F_(s){return s+Q1+""}function G_(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function wr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function W1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Tt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,r,l,c){this.key=e,this.value=n,this.color=r??en.RED,this.left=l??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,c){return new en(e??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return en.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,r,l,c){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(e){return new K_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class K_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Ht(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class $1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $1("Invalid base64 string: "+c):c}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const Tx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(s){if(tt(!!s,39018),typeof s=="string"){let e=0;const n=Tx.exec(s);if(tt(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(s.seconds),nanos:Nt(s.nanos)}}function Nt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Tr(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}const X1="server_timestamp",Z1="__type__",J1="__previous_value__",eE="__local_write_time__";function rp(s){return(s?.mapValue?.fields||{})[Z1]?.stringValue===X1}function Ih(s){const e=s.mapValue.fields[J1];return rp(e)?Ih(e):e}function Yl(s){const e=Er(s.mapValue.fields[eE].timestampValue);return new mt(e.seconds,e.nanos)}class bx{constructor(e,n,r,l,c,d,g,_,y,E,S){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const dh="(default)";class Ql{constructor(e,n){this.projectId=e,this.database=n||dh}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}function Ax(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new fe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(s.options.projectId,e)}const tE="__type__",Sx="__max__",qc={mapValue:{}},nE="__vector__",mh="value";function br(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?rp(s)?4:xx(s)?9007199254740991:wx(s)?10:11:ve(28295,{value:s})}function Fi(s,e){if(s===e)return!0;const n=br(s);if(n!==br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yl(s).isEqual(Yl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Er(l.timestampValue),g=Er(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return Tr(l.bytesValue).isEqual(Tr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Nt(l.geoPointValue.latitude)===Nt(c.geoPointValue.latitude)&&Nt(l.geoPointValue.longitude)===Nt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Nt(l.integerValue)===Nt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Nt(l.doubleValue),g=Nt(c.doubleValue);return d===g?fh(d)===fh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return go(s.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(G_(d)!==G_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Fi(d[_],g[_])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function Wl(s,e){return(s.values||[]).find((n=>Fi(n,e)))!==void 0}function yo(s,e){if(s===e)return 0;const n=br(s),r=br(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Nt(c.integerValue||c.doubleValue),_=Nt(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return Y_(s.timestampValue,e.timestampValue);case 4:return Y_(Yl(s),Yl(e));case 5:return xm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=Tr(c),_=Tr(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const E=He(g[y],_[y]);if(E!==0)return E}return He(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=He(Nt(c.latitude),Nt(d.latitude));return g!==0?g:He(Nt(c.longitude),Nt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Q_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[mh]?.arrayValue,E=_[mh]?.arrayValue,S=He(y?.values?.length||0,E?.values?.length||0);return S!==0?S:Q_(y,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===qc.mapValue&&d===qc.mapValue)return 0;if(c===qc.mapValue)return 1;if(d===qc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let S=0;S<_.length&&S<E.length;++S){const I=xm(_[S],E[S]);if(I!==0)return I;const q=yo(g[_[S]],y[E[S]]);if(q!==0)return q}return He(_.length,E.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function Y_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const n=Er(s),r=Er(e),l=He(n.seconds,r.seconds);return l!==0?l:He(n.nanos,r.nanos)}function Q_(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=yo(n[l],r[l]);if(c)return c}return He(n.length,r.length)}function _o(s){return Rm(s)}function Rm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Er(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Tr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ge.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=Rm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Rm(n.fields[d])}`;return l+"}"})(s.mapValue):ve(61005,{value:s})}function Zc(s){switch(br(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(s);return e?16+Zc(e):16;case 5:return 2*s.stringValue.length;case 6:return Tr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return wr(r.fields,((c,d)=>{l+=c.length+Zc(d)})),l})(s.mapValue);default:throw ve(13486,{value:s})}}function Cm(s){return!!s&&"integerValue"in s}function ap(s){return!!s&&"arrayValue"in s}function W_(s){return!!s&&"nullValue"in s}function $_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Jc(s){return!!s&&"mapValue"in s}function wx(s){return(s?.mapValue?.fields||{})[tE]?.stringValue===nE}function Pl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return wr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Pl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pl(s.arrayValue.values[n]);return e}return{...s}}function xx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Sx}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(n)}setAll(e){let n=tn.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const _=this.getFieldsMap(n);this.applyChanges(_,r,l),r={},l=[],n=g.popLast()}d?r[g.lastSegment()]=Pl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];Jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){wr(n,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new xn(Pl(this.value))}}function iE(s){const e=[];return wr(s.fields,((n,r)=>{const l=new tn([n]);if(Jc(r)){const c=iE(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Ln(e)}class on{constructor(e,n,r,l,c,d,g){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new on(e,0,we.min(),we.min(),we.min(),xn.empty(),0)}static newFoundDocument(e,n,r,l){return new on(e,1,n,we.min(),r,l,0)}static newNoDocument(e,n){return new on(e,2,n,we.min(),we.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,we.min(),we.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ph{constructor(e,n){this.position=e,this.inclusive=n}}function X_(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=ge.comparator(ge.fromName(d.referenceValue),n.key):r=yo(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Z_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Fi(s.position[n],e.position[n]))return!1;return!0}class gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Rx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class sE{}class qt extends sE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Nx(e,n,r):n==="array-contains"?new Dx(e,r):n==="in"?new kx(e,r):n==="not-in"?new Mx(e,r):n==="array-contains-any"?new Vx(e,r):new qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ix(e,r):new Ox(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&br(this.value)===br(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends sE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Gi(e,n)}matches(e){return rE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rE(s){return s.op==="and"}function aE(s){return Cx(s)&&rE(s)}function Cx(s){for(const e of s.filters)if(e instanceof Gi)return!1;return!0}function Nm(s){if(s instanceof qt)return s.field.canonicalString()+s.op.toString()+_o(s.value);if(aE(s))return s.filters.map((e=>Nm(e))).join(",");{const e=s.filters.map((n=>Nm(n))).join(",");return`${s.op}(${e})`}}function oE(s,e){return s instanceof qt?(function(r,l){return l instanceof qt&&r.op===l.op&&r.field.isEqual(l.field)&&Fi(r.value,l.value)})(s,e):s instanceof Gi?(function(r,l){return l instanceof Gi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&oE(d,l.filters[g])),!0):!1})(s,e):void ve(19439)}function lE(s){return s instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`})(s):s instanceof Gi?(function(n){return n.op.toString()+" {"+n.getFilters().map(lE).join(" ,")+"}"})(s):"Filter"}class Nx extends qt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ix extends qt{constructor(e,n){super(e,"in",n),this.keys=uE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Ox extends qt{constructor(e,n){super(e,"not-in",n),this.keys=uE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function uE(s,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class Dx extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ap(n)&&Wl(n.arrayValue,this.value)}}class kx extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class Mx extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wl(this.value.arrayValue,n)}}class Vx extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ap(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Wl(this.value.arrayValue,r)))}}class Lx{constructor(e,n=null,r=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function J_(s,e=null,n=[],r=[],l=null,c=null,d=null){return new Lx(s,e,n,r,l,c,d)}function op(s){const e=Ce(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Nm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>_o(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>_o(r))).join(",")),e.Te=n}return e.Te}function lp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!Rx(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!oE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Z_(s.startAt,e.startAt)&&Z_(s.endAt,e.endAt)}function Im(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Oh{constructor(e,n=null,r=[],l=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function jx(s,e,n,r,l,c,d,g){return new Oh(s,e,n,r,l,c,d,g)}function Dh(s){return new Oh(s)}function ev(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Ux(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function zx(s){return s.collectionGroup!==null}function Bl(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ht(tn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new gh(c,r))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new gh(tn.keyField(),r))}return e.Ie}function Bi(s){const e=Ce(s);return e.Ee||(e.Ee=Px(e,Bl(s))),e.Ee}function Px(s,e){if(s.limitType==="F")return J_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new gh(l.field,c)}));const n=s.endAt?new ph(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ph(s.startAt.position,s.startAt.inclusive):null;return J_(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Om(s,e,n){return new Oh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function kh(s,e){return lp(Bi(s),Bi(e))&&s.limitType===e.limitType}function cE(s){return`${op(Bi(s))}|lt:${s.limitType}`}function io(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>lE(l))).join(", ")}]`),Nh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>_o(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>_o(l))).join(",")),`Target(${r})`})(Bi(s))}; limitType=${s.limitType})`}function Mh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ge.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Bl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,_){const y=X_(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,Bl(r),l)||r.endAt&&!(function(d,g,_){const y=X_(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,Bl(r),l))})(s,e)}function Bx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function hE(s){return(e,n)=>{let r=!1;for(const l of Bl(s)){const c=qx(l,e,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function qx(s,e,n){const r=s.field.isKeyField()?ge.comparator(e.key,n.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?yo(_,y):ve(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ve(19790,{direction:s.dir})}}class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){wr(this.inner,((n,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return W1(this.inner)}size(){return this.innerSize}}const Hx=new Tt(ge.comparator);function ws(){return Hx}const fE=new Tt(ge.comparator);function Vl(...s){let e=fE;for(const n of s)e=e.insert(n.key,n);return e}function dE(s){let e=fE;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ra(){return ql()}function mE(){return ql()}function ql(){return new da((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Fx=new Tt(ge.comparator),Gx=new Ht(ge.comparator);function Fe(...s){let e=Gx;for(const n of s)e=e.add(n);return e}const Kx=new Ht(He);function Yx(){return Kx}function up(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function pE(s){return{integerValue:""+s}}function Qx(s,e){return _x(e)?pE(e):up(s,e)}class Vh{constructor(){this._=void 0}}function Wx(s,e,n){return s instanceof yh?(function(l,c){const d={fields:{[Z1]:{stringValue:X1},[eE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&rp(c)&&(c=Ih(c)),c&&(d.fields[J1]=c),{mapValue:d}})(n,e):s instanceof vo?yE(s,e):s instanceof $l?_E(s,e):(function(l,c){const d=gE(l,c),g=tv(d)+tv(l.Ae);return Cm(d)&&Cm(l.Ae)?pE(g):up(l.serializer,g)})(s,e)}function $x(s,e,n){return s instanceof vo?yE(s,e):s instanceof $l?_E(s,e):n}function gE(s,e){return s instanceof _h?(function(r){return Cm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class yh extends Vh{}class vo extends Vh{constructor(e){super(),this.elements=e}}function yE(s,e){const n=vE(e);for(const r of s.elements)n.some((l=>Fi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class $l extends Vh{constructor(e){super(),this.elements=e}}function _E(s,e){let n=vE(e);for(const r of s.elements)n=n.filter((l=>!Fi(l,r)));return{arrayValue:{values:n}}}class _h extends Vh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tv(s){return Nt(s.integerValue||s.doubleValue)}function vE(s){return ap(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Xx{constructor(e,n){this.field=e,this.transform=n}}function Zx(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof vo&&l instanceof vo||r instanceof $l&&l instanceof $l?go(r.elements,l.elements,Fi):r instanceof _h&&l instanceof _h?Fi(r.Ae,l.Ae):r instanceof yh&&l instanceof yh})(s.transform,e.transform)}class Jx{constructor(e,n){this.version=e,this.transformResults=n}}class mi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Lh{}function EE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new cp(s.key,mi.none()):new ou(s.key,s.data,mi.none());{const n=s.data,r=xn.empty();let l=new Ht(tn.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new xr(s.key,r,new Ln(l.toArray()),mi.none())}}function eR(s,e,n){s instanceof ou?(function(l,c,d){const g=l.value.clone(),_=iv(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):s instanceof xr?(function(l,c,d){if(!eh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=iv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(TE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Hl(s,e,n,r){return s instanceof ou?(function(c,d,g,_){if(!eh(c.precondition,d))return g;const y=c.value.clone(),E=sv(c.fieldTransforms,_,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof xr?(function(c,d,g,_){if(!eh(c.precondition,d))return g;const y=sv(c.fieldTransforms,_,d),E=d.data;return E.setAll(TE(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(c,d,g){return eh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,n)}function tR(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=gE(r.transform,l||null);c!=null&&(n===null&&(n=xn.empty()),n.set(r.field,c))}return n||null}function nv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&go(r,l,((c,d)=>Zx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ou extends Lh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class xr extends Lh{constructor(e,n,r,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function TE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function iv(s,e,n){const r=new Map;tt(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);r.set(c.field,$x(d,g,n[l]))}return r}function sv(s,e,n){const r=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);r.set(l.field,Wx(c,d,e))}return r}class cp extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nR extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iR{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&eR(c,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const _=EE(d,g);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((n,r)=>nv(n,r)))&&go(this.baseMutations,e.baseMutations,((n,r)=>nv(n,r)))}}class hp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){tt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return Fx})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new hp(e,n,r,l)}}class sR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rR{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ut,Ye;function aR(s){switch(s){case X.OK:return ve(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function bE(s){if(s===void 0)return Ss("GRPC error has no .code"),X.UNKNOWN;switch(s){case Ut.OK:return X.OK;case Ut.CANCELLED:return X.CANCELLED;case Ut.UNKNOWN:return X.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return X.INTERNAL;case Ut.UNAVAILABLE:return X.UNAVAILABLE;case Ut.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ut.NOT_FOUND:return X.NOT_FOUND;case Ut.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ut.ABORTED:return X.ABORTED;case Ut.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ut.DATA_LOSS:return X.DATA_LOSS;default:return ve(39323,{code:s})}}(Ye=Ut||(Ut={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function oR(){return new TextEncoder}const lR=new pr([4294967295,4294967295],0);function rv(s){const e=oR().encode(s),n=new z1;return n.update(e),new Uint8Array(n.digest())}function av(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new pr([n,r],0),new pr([l,c],0)]}class fp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=pr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(pr.fromNumber(r)));return l.compare(lR)===1&&(l=new pr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=rv(e),[r,l]=av(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new fp(c,l,n);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const n=rv(e),[r,l]=av(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jh{constructor(e,n,r,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jh(we.min(),l,new Tt(He),ws(),Fe())}}class lu{constructor(e,n,r,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lu(r,n,Fe(),Fe(),Fe())}}class th{constructor(e,n,r,l){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=l}}class AE{constructor(e,n){this.targetId=e,this.Ce=n}}class SE{constructor(e,n,r=nn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class ov{constructor(){this.ve=0,this.Fe=lv(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),r=Fe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:ve(38017,{changeType:c})}})),new lu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=lv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class uR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ws(),this.He=Hc(),this.Je=Hc(),this.Ze=new Tt(He)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Im(c))if(r===0){const d=new ge(c.path);this.et(n,d,on.newNoDocument(d,we.min()))}else tt(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(n);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=Tr(r).toUint8Array()}catch(_){if(_ instanceof $1)return po("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new fp(d,l,c)}catch(_){return po(_ instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Im(g.target)){const _=new ge(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,on.newNoDocument(_,e))}c.Be&&(n.set(d,c.ke()),c.Ke())}}));let r=Fe();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new jh(e,n,this.Ze,this.je,r);return this.je=ws(),this.He=Hc(),this.Je=Hc(),this.Ze=new Tt(He),l}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new ov,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ht(He),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ht(He),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ov),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Hc(){return new Tt(ge.comparator)}function lv(){return new Tt(ge.comparator)}const cR={asc:"ASCENDING",desc:"DESCENDING"},hR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fR={and:"AND",or:"OR"};class dR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dm(s,e){return s.useProto3Json||Nh(e)?e:{value:e}}function vh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function mR(s,e){return vh(s,e.toTimestamp())}function qi(s){return tt(!!s,49232),we.fromTimestamp((function(n){const r=Er(n);return new mt(r.seconds,r.nanos)})(s))}function dp(s,e){return km(s,e).canonicalString()}function km(s,e){const n=(function(l){return new Et(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function xE(s){const e=Et.fromString(s);return tt(OE(e),10190,{key:e.toString()}),e}function Mm(s,e){return dp(s.databaseId,e.path)}function nm(s,e){const n=xE(e);if(n.get(1)!==s.databaseId.projectId)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ge(CE(n))}function RE(s,e){return dp(s.databaseId,e)}function pR(s){const e=xE(s);return e.length===4?Et.emptyPath():CE(e)}function Vm(s){return new Et(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function CE(s){return tt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function uv(s,e,n){return{name:Mm(s,e),fields:n.value.mapValue.fields}}function gR(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(tt(E===void 0||typeof E=="string",58123),nn.fromBase64String(E||"")):(tt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),nn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const E=y.code===void 0?X.UNKNOWN:bE(y.code);return new fe(E,y.message||"")})(d);n=new SE(r,l,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=nm(s,r.document.name),c=qi(r.document.updateTime),d=r.document.createTime?qi(r.document.createTime):we.min(),g=new xn({mapValue:{fields:r.document.fields}}),_=on.newFoundDocument(l,c,d,g),y=r.targetIds||[],E=r.removedTargetIds||[];n=new th(y,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=nm(s,r.document),c=r.readTime?qi(r.readTime):we.min(),d=on.newNoDocument(l,c),g=r.removedTargetIds||[];n=new th([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=nm(s,r.document),c=r.removedTargetIds||[];n=new th([],c,l,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new rR(l,c),g=r.targetId;n=new AE(g,d)}}return n}function yR(s,e){let n;if(e instanceof ou)n={update:uv(s,e.key,e.value)};else if(e instanceof cp)n={delete:Mm(s,e.key)};else if(e instanceof xr)n={update:uv(s,e.key,e.data),updateMask:xR(e.fieldMask)};else{if(!(e instanceof nR))return ve(16599,{dt:e.type});n={verify:Mm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof yh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof vo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof $l)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof _h)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ve(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:mR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(s,e.precondition)),n}function _R(s,e){return s&&s.length>0?(tt(e!==void 0,14353),s.map((n=>(function(l,c){let d=l.updateTime?qi(l.updateTime):qi(c);return d.isEqual(we.min())&&(d=qi(c)),new Jx(d,l.transformResults||[])})(n,e)))):[]}function vR(s,e){return{documents:[RE(s,e.path)]}}function ER(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=RE(s,l);const c=(function(y){if(y.length!==0)return IE(Gi.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(I){return{field:so(I.field),direction:AR(I.dir)}})(E)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Dm(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function TR(s){let e=pR(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){tt(r===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(S){const I=NE(S);return I instanceof Gi&&aE(I)?I.getFilters():[I]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((I=>(function(ee){return new gh(ro(ee.field),(function(re){switch(re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(I)))})(n.orderBy));let g=null;n.limit&&(g=(function(S){let I;return I=typeof S=="object"?S.value:S,Nh(I)?null:I})(n.limit));let _=null;n.startAt&&(_=(function(S){const I=!!S.before,q=S.values||[];return new ph(q,I)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const I=!S.before,q=S.values||[];return new ph(q,I)})(n.endAt)),jx(e,l,d,c,g,"F",_,y)}function bR(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=ro(n.unaryFilter.field);return qt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ro(n.unaryFilter.field);return qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ro(n.unaryFilter.field);return qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(n){return qt.create(ro(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Gi.create(n.compositeFilter.filters.map((r=>NE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(s):ve(30097,{filter:s})}function AR(s){return cR[s]}function SR(s){return hR[s]}function wR(s){return fR[s]}function so(s){return{fieldPath:s.canonicalString()}}function ro(s){return tn.fromServerFormat(s.fieldPath)}function IE(s){return s instanceof qt?(function(n){if(n.op==="=="){if($_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(W_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(W_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:SR(n.op),value:n.value}}})(s):s instanceof Gi?(function(n){const r=n.getFilters().map((l=>IE(l)));return r.length===1?r[0]:{compositeFilter:{op:wR(n.op),filters:r}}})(s):ve(54877,{filter:s})}function xR(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function OE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function DE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class hr{constructor(e,n,r,l,c=we.min(),d=we.min(),g=nn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RR{constructor(e){this.yt=e}}function CR(s){const e=TR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Om(e,e.limit,"L"):e}class NR{constructor(){this.Sn=new IR}addToCollectionParentIndex(e,n){return this.Sn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(vr.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class IR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Ht(Et.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Ht(Et.comparator)).toArray()}}const cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kE=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(kE,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class Eo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Eo(0)}static ar(){return new Eo(-1)}}const hv="LruGarbageCollector",OR=1048576;function fv([s,e],[n,r]){const l=He(s,n);return l===0?He(e,r):l}class DR{constructor(e){this.Pr=e,this.buffer=new Ht(fv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){oe(hv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Co(n)?oe(hv,"Ignoring IndexedDB error during garbage collection: ",n):await Ro(n)}await this.Ar(3e5)}))}}class MR{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Ch.ce);const r=new DR(n);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(cv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cv):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,l,c,d,g,_,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,g=Date.now(),this.removeTargets(e,r,n)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),no()<=qe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function VR(s,e){return new MR(s,e)}class LR{constructor(){this.changes=new da((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UR{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Hl(r.mutation,l,Ln.empty(),mt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Fe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Fe()){const l=ra();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((c=>{let d=Vl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=ra();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Fe())))}populateOverlays(e,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,r,l){let c=ws();const d=ql(),g=(function(){return ql()})();return n.forEach(((_,y)=>{const E=r.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof xr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Hl(E.mutation,y,E.mutation.getFieldMask(),mt.now())):d.set(y.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,E)=>d.set(y,E))),n.forEach(((y,E)=>g.set(y,new jR(E,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,n){const r=ql();let l=new Tt(((d,g)=>d-g)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=n.get(_);if(y===null)return;let E=r.get(_)||Ln.empty();E=g.applyToLocalView(y,E),r.set(_,E);const S=(l.get(g.batchId)||Fe()).add(_);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,E=_.value,S=mE();E.forEach((I=>{if(!c.has(I)){const q=EE(n.get(I),r.get(I));q!==null&&S.set(I,q),c=c.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return W.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return Ux(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-c.size):W.resolve(ra());let g=Kl,_=c;return d.next((y=>W.forEach(y,((E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next((I=>{_=_.insert(E,I)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Fe()))).next((E=>({batchId:g,changes:dE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let l=Vl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const c=n.collectionGroup;let d=Vl();return this.indexManager.getCollectionParents(e,c).next((g=>W.forEach(g,(_=>{const y=(function(S,I){return new Oh(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((E=>{E.forEach(((S,I)=>{d=d.insert(S,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,on.newInvalidDocument(E)))}));let g=Vl();return d.forEach(((_,y)=>{const E=c.get(_);E!==void 0&&Hl(E.mutation,y,Ln.empty(),mt.now()),Mh(n,y)&&(g=g.insert(_,y))})),g}))}}class zR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return W.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:qi(l.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:CR(l.bundledQuery),readTime:qi(l.readTime)}})(n)),W.resolve()}}class PR{constructor(){this.overlays=new Tt(ge.comparator),this.Lr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ra();return W.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,c)=>{this.bt(e,n,c)})),W.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const l=ra(),c=n.length+1,d=new ge(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return W.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let c=new Tt(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=c.get(y.largestBatchId);E===null&&(E=ra(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=ra(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=l)););return W.resolve(g)}bt(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new sR(n,r));let c=this.Lr.get(n);c===void 0&&(c=Fe(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}class BR{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}class mp{constructor(){this.kr=new Ht(Yt.Kr),this.qr=new Ht(Yt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Yt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Yt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ge(new Et([])),r=new Yt(n,e),l=new Yt(n,e+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new Et([])),r=new Yt(n,e),l=new Yt(n,e+1);let c=Fe();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Yt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||He(e.Hr,n.Hr)}static Ur(e,n){return He(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}class qR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ht(Yt.Kr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new iR(c,n,r,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Yt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,n){return W.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.Xr(r),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?sp:this.Yn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yt(n,0),l=new Yt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ht(He);return n.forEach((l=>{const c=new Yt(l,0),d=new Yt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{r=r.add(g.Hr)}))})),W.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let c=r;ge.isDocumentKey(c)||(c=c.child(""));const d=new Yt(new ge(c),0);let g=new Ht(He);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Hr)),!0)}),d),W.resolve(this.Yr(g))}Yr(e){const n=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return W.forEach(n.mutations,(l=>{const c=new Yt(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Yt(n,0),l=this.Jr.firstAfterOrEqual(r);return W.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class HR{constructor(e){this.ti=e,this.docs=(function(){return new Tt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=ws();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():on.newInvalidDocument(l))})),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let c=ws();const d=n.path,g=new ge(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||mx(dx(E),r)<=0||(l.has(E.key)||Mh(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,n,r,l){ve(9500)}ni(e,n){return W.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new FR(this)}getSize(e){return W.resolve(this.size)}}class FR extends LR{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),W.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class GR{constructor(e){this.persistence=e,this.ri=new da((n=>op(n)),lp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new mp,this.targetCount=0,this.oi=Eo._r()}forEachTarget(e,n){return this.ri.forEach(((r,l)=>n(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),W.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.lr(n),W.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.si.containsKey(n))}}class ME{constructor(e,n){this._i={},this.overlays={},this.ai=new Ch(0),this.ui=!1,this.ui=!0,this.ci=new BR,this.referenceDelegate=e(this),this.li=new GR(this),this.indexManager=new NR,this.remoteDocumentCache=(function(l){return new HR(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new RR(n),this.Pi=new zR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new qR(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const l=new KR(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,n){return W.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class KR extends gx{constructor(e){super(),this.currentSequenceNumber=e}}class pp{constructor(e){this.persistence=e,this.Ri=new mp,this.Ai=null}static Vi(e){return new pp(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(r=>{const l=ge.fromPath(r);return this.mi(e,l).next((c=>{c||n.removeEntry(l,we.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Eh{constructor(e,n){this.persistence=e,this.fi=new da((r=>vx(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=VR(this,n)}static Vi(e,n){return new Eh(e,n)}Ti(){}Ii(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return W.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((c=>c?W.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,n).next((g=>{g||(r++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}wr(e,n,r){return W.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return W.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class gp{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=l}static Es(e,n){let r=Fe(),l=Fe();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new gp(e,n.fromCache,r,l)}}class YR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class QR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return O2()?8:yx(ln())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const c={result:null};return this.gs(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,n,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new YR;return this.ys(e,n,d).next((g=>{if(c.result=g,this.As)return this.ws(e,n,d,g.size)}))})).next((()=>c.result))}ws(e,n,r,l){return r.documentReadCount<this.Vs?(no()<=qe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(no()<=qe.DEBUG&&oe("QueryEngine","Query:",io(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(no()<=qe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(n))):W.resolve())}gs(e,n){if(ev(n))return W.resolve(null);let r=Bi(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Om(n,null,"F"),r=Bi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Fe(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.bs(n,g);return this.Ss(n,y,d,_.readTime)?this.gs(e,Om(n,null,"F")):this.Ds(e,y,n,_)}))))})))))}ps(e,n,r,l){return ev(n)||l.isEqual(we.min())?W.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(n,c);return this.Ss(n,d,r,l)?W.resolve(null):(no()<=qe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),io(n)),this.Ds(e,d,n,fx(l,Kl)).next((g=>g)))}))}bs(e,n){let r=new Ht(hE(e));return n.forEach(((l,c)=>{Mh(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,n,r){return no()<=qe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",io(n)),this.fs.getDocumentsMatchingQuery(e,n,vr.min(),r)}Ds(e,n,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const yp="LocalStore",WR=3e8;class $R{constructor(e,n,r,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new Tt(He),this.Fs=new da((c=>op(c)),lp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function XR(s,e,n,r){return new $R(s,e,n,r)}async function VE(s,e){const n=Ce(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=Fe();for(const y of l){d.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return n.localDocuments.getDocuments(r,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function ZR(s,e){const n=Ce(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,E){const S=y.batch,I=S.keys();let q=W.resolve();return I.forEach((ee=>{q=q.next((()=>E.getEntry(_,ee))).next((se=>{const re=y.docVersions.get(ee);tt(re!==null,48541),se.version.compareTo(re)<0&&(S.applyToRemoteDocument(se,y),se.isValidDocument()&&(se.setReadTime(y.commitVersion),E.addEntry(se)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=Fe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function LE(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function JR(s,e){const n=Ce(s),r=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const g=[];e.targetChanges.forEach(((E,S)=>{const I=l.get(S);if(!I)return;g.push(n.li.removeMatchingKeys(c,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(c,E.addedDocuments,S))));let q=I.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?q=q.withResumeToken(nn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,r)),l=l.insert(S,q),(function(se,re,ye){return se.resumeToken.approximateByteSize()===0||re.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=WR?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(I,q,E)&&g.push(n.li.updateTargetData(c,q))}));let _=ws(),y=Fe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(eC(c,d,e.documentUpdates).next((E=>{_=E.Bs,y=E.Ls}))),!r.isEqual(we.min())){const E=n.li.getLastRemoteSnapshotVersion(c).next((S=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(E)}return W.waitFor(g).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(n.vs=l,c)))}function eC(s,e,n){let r=Fe(),l=Fe();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=ws();return n.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(we.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):oe(yp,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function tC(s,e){const n=Ce(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=sp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function nC(s,e){const n=Ce(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,e).next((c=>c?(l=c,W.resolve(l)):n.li.allocateTargetId(r).next((d=>(l=new hr(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Lm(s,e,n){const r=Ce(s),l=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Co(d))throw d;oe(yp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function dv(s,e,n){const r=Ce(s);let l=we.min(),c=Fe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,E){const S=Ce(_),I=S.Fs.get(E);return I!==void 0?W.resolve(S.vs.get(I)):S.li.getTargetData(y,E)})(r,d,Bi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,n?l:we.min(),n?c:Fe()))).next((g=>(iC(r,Bx(e),g),{documents:g,ks:c})))))}function iC(s,e,n){let r=s.Ms.get(e)||we.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class mv{constructor(){this.activeTargetIds=Yx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sC{constructor(){this.vo=new mv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new mv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rC{Mo(e){}shutdown(){}}const pv="ConnectivityMonitor";class gv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){oe(pv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){oe(pv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function jm(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const im="RestConnection",aC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class oC{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===dh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,n,r,l,c){const d=jm(),g=this.Qo(e,n.toUriEncodedString());oe(im,`Sending RPC '${e}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(g),E=Ao(y);return this.zo(e,g,_,r,E).then((S=>(oe(im,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw po(im,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",r),S}))}jo(e,n,r,l,c,d){return this.Wo(e,n,r,l,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}Qo(e,n){const r=aC[e];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class lC{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const rn="WebChannelConnection",Dl=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class co extends oC{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!co.c_){const e=H1();Dl(e,q1.STAT_EVENT,(n=>{n.stat===wm.PROXY?oe(rn,"STAT_EVENT: detected buffering proxy"):n.stat===wm.NOPROXY&&oe(rn,"STAT_EVENT: detected no buffering proxy")})),co.c_=!0}}zo(e,n,r,l,c){const d=jm();return new Promise(((g,_)=>{const y=new P1;y.setWithCredentials(!0),y.listenOnce(B1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Xc.NO_ERROR:const S=y.getResponseJson();oe(rn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Xc.TIMEOUT:oe(rn,`RPC '${e}' ${d} timed out`),_(new fe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const I=y.getStatus();if(oe(rn,`RPC '${e}' ${d} failed with status:`,I,"response text:",y.getResponseText()),I>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const ee=q?.error;if(ee&&ee.status&&ee.message){const se=(function(ye){const Ne=ye.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Ne)>=0?Ne:X.UNKNOWN})(ee.status);_(new fe(se,ee.message))}else _(new fe(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new fe(X.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(rn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(l);oe(rn,`RPC '${e}' ${d} sending request:`,l),y.send(n,"POST",E,r,15)}))}T_(e,n,r){const l=jm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const y=c.join("");oe(rn,`Creating RPC '${e}' stream ${l}: ${y}`,g);const E=d.createWebChannel(y,g);this.I_(E);let S=!1,I=!1;const q=new lC({Ho:ee=>{I?oe(rn,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(S||(oe(rn,`Opening RPC '${e}' stream ${l} transport.`),E.open(),S=!0),oe(rn,`RPC '${e}' stream ${l} sending:`,ee),E.send(ee))},Jo:()=>E.close()});return Dl(E,Ml.EventType.OPEN,(()=>{I||(oe(rn,`RPC '${e}' stream ${l} transport opened.`),q.i_())})),Dl(E,Ml.EventType.CLOSE,(()=>{I||(I=!0,oe(rn,`RPC '${e}' stream ${l} transport closed`),q.o_(),this.E_(E))})),Dl(E,Ml.EventType.ERROR,(ee=>{I||(I=!0,po(rn,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),q.o_(new fe(X.UNAVAILABLE,"The operation could not be completed")))})),Dl(E,Ml.EventType.MESSAGE,(ee=>{if(!I){const se=ee.data[0];tt(!!se,16349);const re=se,ye=re?.error||re[0]?.error;if(ye){oe(rn,`RPC '${e}' stream ${l} received error:`,ye);const Ne=ye.status;let Ae=(function(Ue){const C=Ut[Ue];if(C!==void 0)return bE(C)})(Ne),Je=ye.message;Ae===void 0&&(Ae=X.INTERNAL,Je="Unknown error status: "+Ne+" with message "+ye.message),I=!0,q.o_(new fe(Ae,Je)),E.close()}else oe(rn,`RPC '${e}' stream ${l} received:`,se),q.__(se)}})),co.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return F1()}}function uC(s){return new co(s)}function sm(){return typeof document<"u"?document:null}function Uh(s){return new dR(s,!0)}co.c_=!1;class jE{constructor(e,n,r=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const yv="PersistentStream";class UE{constructor(e,n,r,l,c,d,g,_){this.Ci=e,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Ss(n.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new fe(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(yv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(oe(yv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cC extends UE{constructor(e,n,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gR(this.serializer,e),r=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?qi(d.readTime):we.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Vm(this.serializer),n.addTarget=(function(c,d){let g;const _=d.target;if(g=Im(_)?{documents:vR(c,_)}:{query:ER(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=wE(c,d.resumeToken);const y=Dm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(we.min())>0){g.readTime=vh(c,d.snapshotVersion.toTimestamp());const y=Dm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const r=bR(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Vm(this.serializer),n.removeTarget=e,this.K_(n)}}class hC extends UE{constructor(e,n,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=_R(e.writeResults,e.commitTime),r=qi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Vm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>yR(this.serializer,r)))};this.K_(n)}}class fC{}class dC extends fC{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,km(n,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(X.UNKNOWN,c.toString())}))}jo(e,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,km(n,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function mC(s,e,n,r){return new dC(s,e,n,r)}class pC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ha="RemoteStore";class gC{constructor(e,n,r,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ma(this)&&(oe(ha,"Restarting streams for network reachability change."),await(async function(_){const y=Ce(_);y.Ea.add(4),await uu(y),y.Va.set("Unknown"),y.Ea.delete(4),await zh(y)})(this))}))})),this.Va=new pC(r,l)}}async function zh(s){if(ma(s))for(const e of s.Ra)await e(!0)}async function uu(s){for(const e of s.Ra)await e(!1)}function zE(s,e){const n=Ce(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tp(n)?Ep(n):No(n).O_()&&vp(n,e))}function _p(s,e){const n=Ce(s),r=No(n);n.Ia.delete(e),r.O_()&&PE(n,e),n.Ia.size===0&&(r.O_()?r.L_():ma(n)&&n.Va.set("Unknown"))}function vp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(s).Z_(e)}function PE(s,e){s.da.$e(e),No(s).X_(e)}function Ep(s){s.da=new uR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),No(s).start(),s.Va.ua()}function Tp(s){return ma(s)&&!No(s).x_()&&s.Ia.size>0}function ma(s){return Ce(s).Ea.size===0}function BE(s){s.da=void 0}async function yC(s){s.Va.set("Online")}async function _C(s){s.Ia.forEach(((e,n)=>{vp(s,e)}))}async function vC(s,e){BE(s),Tp(s)?(s.Va.ha(e),Ep(s)):s.Va.set("Unknown")}async function EC(s,e,n){if(s.Va.set("Online"),e instanceof SE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,e)}catch(r){oe(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Th(s,r)}else if(e instanceof th?s.da.Xe(e):e instanceof AE?s.da.st(e):s.da.tt(e),!n.isEqual(we.min()))try{const r=await LE(s.localStore);n.compareTo(r)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(nn.EMPTY_BYTE_STRING,E.snapshotVersion)),PE(c,_);const S=new hr(E.target,_,y,E.sequenceNumber);vp(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(r){oe(ha,"Failed to raise snapshot:",r),await Th(s,r)}}async function Th(s,e,n){if(!Co(e))throw e;s.Ea.add(1),await uu(s),s.Va.set("Offline"),n||(n=()=>LE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(ha,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await zh(s)}))}function qE(s,e){return e().catch((n=>Th(s,n,e)))}async function Ph(s){const e=Ce(s),n=Ar(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sp;for(;TC(e);)try{const l=await tC(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,bC(e,l)}catch(l){await Th(e,l)}HE(e)&&FE(e)}function TC(s){return ma(s)&&s.Ta.length<10}function bC(s,e){s.Ta.push(e);const n=Ar(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function HE(s){return ma(s)&&!Ar(s).x_()&&s.Ta.length>0}function FE(s){Ar(s).start()}async function AC(s){Ar(s).ra()}async function SC(s){const e=Ar(s);for(const n of s.Ta)e.ea(n.mutations)}async function wC(s,e,n){const r=s.Ta.shift(),l=hp.from(r,e,n);await qE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ph(s)}async function xC(s,e){e&&Ar(s).Y_&&await(async function(r,l){if((function(d){return aR(d)&&d!==X.ABORTED})(l.code)){const c=r.Ta.shift();Ar(r).B_(),await qE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ph(r)}})(s,e),HE(s)&&FE(s)}async function _v(s,e){const n=Ce(s);n.asyncQueue.verifyOperationInProgress(),oe(ha,"RemoteStore received new credentials");const r=ma(n);n.Ea.add(3),await uu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zh(n)}async function RC(s,e){const n=Ce(s);e?(n.Ea.delete(2),await zh(n)):e||(n.Ea.add(2),await uu(n),n.Va.set("Unknown"))}function No(s){return s.ma||(s.ma=(function(n,r,l){const c=Ce(n);return c.sa(),new cC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:yC.bind(null,s),Yo:_C.bind(null,s),t_:vC.bind(null,s),J_:EC.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Tp(s)?Ep(s):s.Va.set("Unknown")):(await s.ma.stop(),BE(s))}))),s.ma}function Ar(s){return s.fa||(s.fa=(function(n,r,l){const c=Ce(n);return c.sa(),new hC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:AC.bind(null,s),t_:xC.bind(null,s),ta:SC.bind(null,s),na:wC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Ph(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(ha,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class bp{constructor(e,n,r,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,c){const d=Date.now()+r,g=new bp(e,n,d,l,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ap(s,e){if(Ss("AsyncQueue",`${e}: ${s}`),Co(s))return new fe(X.UNAVAILABLE,`${e}: ${s}`);throw s}class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Vl(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class vv{constructor(){this.ga=new Tt(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class To{constructor(e,n,r,l,c,d,g,_,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,c){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new To(e,n,ho.emptySet(n),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class CC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class NC{constructor(){this.queries=Ev(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Ce(n),c=l.queries;l.queries=Ev(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(r)}))})(this,new fe(X.ABORTED,"Firestore shutting down"))}}function Ev(){return new da((s=>cE(s)),kh)}async function GE(s,e){const n=Ce(s);let r=3;const l=e.query;let c=n.queries.get(l);c?!c.Sa()&&e.Da()&&(r=2):(c=new CC,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Ap(d,`Initialization of query '${io(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Sp(n)}async function KE(s,e){const n=Ce(s),r=e.query;let l=3;const c=n.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IC(s,e){const n=Ce(s);let r=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(r=!0);d.wa=l}}r&&Sp(n)}function OC(s,e,n){const r=Ce(s),l=r.queries.get(e);if(l)for(const c of l.ba)c.onError(n);r.queries.delete(e)}function Sp(s){s.Ca.forEach((e=>{e.next()}))}var Um,Tv;(Tv=Um||(Um={})).Ma="default",Tv.Cache="cache";class YE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new To(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Um.Cache}}class QE{constructor(e){this.key=e}}class WE{constructor(e){this.key=e}}class DC{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.eu=hE(e),this.tu=new ho(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new vv,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((E,S)=>{const I=l.get(E),q=Mh(this.query,S)?S:null,ee=!!I&&this.mutatedKeys.has(I.key),se=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let re=!1;I&&q?I.data.isEqual(q.data)?ee!==se&&(r.track({type:3,doc:q}),re=!0):this.su(I,q)||(r.track({type:2,doc:q}),re=!0,(_&&this.eu(q,_)>0||y&&this.eu(q,y)<0)&&(g=!0)):!I&&q?(r.track({type:0,doc:q}),re=!0):I&&!q&&(r.track({type:1,doc:I}),re=!0,(_||y)&&(g=!0)),re&&(q?(d=d.add(q),c=se?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:d,iu:r,Ss:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,S)=>(function(q,ee){const se=re=>{switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:re})}};return se(q)-se(ee)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(r),l=l??!1;const g=n&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new To(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new WE(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new QE(r))})),n}cu(e){this.Za=e.ks,this.Ya=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return To.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const wp="SyncEngine";class kC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MC{constructor(e){this.key=e,this.hu=!1}}class VC{constructor(e,n,r,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new da((g=>cE(g)),kh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Tt(ge.comparator),this.Au=new Map,this.Vu=new mp,this.du={},this.mu=new Map,this.fu=Eo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LC(s,e,n=!0){const r=tT(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await $E(r,e,n,!0),l}async function jC(s,e){const n=tT(s);await $E(n,e,!0,!1)}async function $E(s,e,n,r){const l=await nC(s.localStore,Bi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let g;return r&&(g=await UC(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&zE(s.remoteStore,l),g}async function UC(s,e,n,r,l){s.pu=(S,I,q)=>(async function(se,re,ye,Ne){let Ae=re.view.ru(ye);Ae.Ss&&(Ae=await dv(se.localStore,re.query,!1).then((({documents:C})=>re.view.ru(C,Ae))));const Je=Ne&&Ne.targetChanges.get(re.targetId),pt=Ne&&Ne.targetMismatches.get(re.targetId)!=null,Ue=re.view.applyChanges(Ae,se.isPrimaryClient,Je,pt);return Av(se,re.targetId,Ue.au),Ue.snapshot})(s,S,I,q);const c=await dv(s.localStore,e,!0),d=new DC(e,c.ks),g=d.ru(c.documents),_=lu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);Av(s,n,y.au);const E=new kC(e,n,d);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function zC(s,e,n){const r=Ce(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!kh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Lm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&_p(r.remoteStore,l.targetId),zm(r,l.targetId)})).catch(Ro)):(zm(r,l.targetId),await Lm(r.localStore,l.targetId,!0))}async function PC(s,e){const n=Ce(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_p(n.remoteStore,r.targetId))}async function BC(s,e,n){const r=QC(s);try{const l=await(function(d,g){const _=Ce(d),y=mt.now(),E=g.reduce(((q,ee)=>q.add(ee.key)),Fe());let S,I;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let ee=ws(),se=Fe();return _.xs.getEntries(q,E).next((re=>{ee=re,ee.forEach(((ye,Ne)=>{Ne.isValidDocument()||(se=se.add(ye))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,ee))).next((re=>{S=re;const ye=[];for(const Ne of g){const Ae=tR(Ne,S.get(Ne.key).overlayedDocument);Ae!=null&&ye.push(new xr(Ne.key,Ae,iE(Ae.value.mapValue),mi.exists(!0)))}return _.mutationQueue.addMutationBatch(q,y,ye,g)})).next((re=>{I=re;const ye=re.applyToLocalDocumentSet(S,se);return _.documentOverlayCache.saveOverlays(q,re.batchId,ye)}))})).then((()=>({batchId:I.batchId,changes:dE(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.du[d.currentUser.toKey()];y||(y=new Tt(He)),y=y.insert(g,_),d.du[d.currentUser.toKey()]=y})(r,l.batchId,n),await cu(r,l.changes),await Ph(r.remoteStore)}catch(l){const c=Ap(l,"Failed to persist write");n.reject(c)}}async function XE(s,e){const n=Ce(s);try{const r=await JR(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(tt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?tt(d.hu,14607):l.removedDocuments.size>0&&(tt(d.hu,42227),d.hu=!1))})),await cu(n,r,e)}catch(r){await Ro(r)}}function bv(s,e,n){const r=Ce(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Ce(d);_.onlineState=g;let y=!1;_.queries.forEach(((E,S)=>{for(const I of S.ba)I.va(g)&&(y=!0)})),y&&Sp(_)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qC(s,e,n){const r=Ce(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new Tt(ge.comparator);d=d.insert(c,on.newNoDocument(c,we.min()));const g=Fe().add(c),_=new jh(we.min(),new Map,new Tt(He),d,g);await XE(r,_),r.Ru=r.Ru.remove(c),r.Au.delete(e),xp(r)}else await Lm(r.localStore,e,!1).then((()=>zm(r,e,n))).catch(Ro)}async function HC(s,e){const n=Ce(s),r=e.batch.batchId;try{const l=await ZR(n.localStore,e);JE(n,r,null),ZE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cu(n,l)}catch(l){await Ro(l)}}async function FC(s,e,n){const r=Ce(s);try{const l=await(function(d,g){const _=Ce(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(tt(S!==null,37113),E=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(r.localStore,e);JE(r,e,n),ZE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cu(r,l)}catch(l){await Ro(l)}}function ZE(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function JE(s,e,n){const r=Ce(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function zm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||eT(s,r)}))}function eT(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(_p(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),xp(s))}function Av(s,e,n){for(const r of n)r instanceof QE?(s.Vu.addReference(r.key,e),GC(s,r)):r instanceof WE?(oe(wp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||eT(s,r.key)):ve(19791,{wu:r})}function GC(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(oe(wp,"New document in limbo: "+n),s.Eu.add(r),xp(s))}function xp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ge(Et.fromString(e)),r=s.fu.next();s.Au.set(r,new MC(n)),s.Ru=s.Ru.insert(n,r),zE(s.remoteStore,new hr(Bi(Dh(n.path)),r,"TargetPurposeLimboResolution",Ch.ce))}}async function cu(s,e,n){const r=Ce(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){l.push(y);const E=gp.Es(_.targetId,y);c.push(E)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(_,y){const E=Ce(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(y,(I=>W.forEach(I.Ts,(q=>E.persistence.referenceDelegate.addReference(S,I.targetId,q))).next((()=>W.forEach(I.Is,(q=>E.persistence.referenceDelegate.removeReference(S,I.targetId,q)))))))))}catch(S){if(!Co(S))throw S;oe(yp,"Failed to update sequence numbers: "+S)}for(const S of y){const I=S.targetId;if(!S.fromCache){const q=E.vs.get(I),ee=q.snapshotVersion,se=q.withLastLimboFreeSnapshotVersion(ee);E.vs=E.vs.insert(I,se)}}})(r.localStore,c))}async function KC(s,e){const n=Ce(s);if(!n.currentUser.isEqual(e)){oe(wp,"User change. New user:",e.toKey());const r=await VE(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new fe(X.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cu(n,r.Ns)}}function YC(s,e){const n=Ce(s),r=n.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let l=Fe();const c=n.Iu.get(e);if(!c)return l;for(const d of c){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function tT(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=XE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qC.bind(null,e),e.Pu.J_=IC.bind(null,e.eventManager),e.Pu.yu=OC.bind(null,e.eventManager),e}function QC(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FC.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XR(this.persistence,new QR,e.initialUser,this.serializer)}Cu(e){return new ME(pp.Vi,this.serializer)}Du(e){return new sC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class WC extends bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof Eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new kR(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new ME((r=>Eh.Vi(r,n)),this.serializer)}}class Pm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KC.bind(null,this.syncEngine),await RC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NC})()}createDatastore(e){const n=Uh(e.databaseInfo.databaseId),r=uC(e.databaseInfo);return mC(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,c,d,g){return new gC(r,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>bv(this.syncEngine,n,0)),(function(){return gv.v()?new gv:new rC})())}createSyncEngine(e,n){return(function(l,c,d,g,_,y,E){const S=new VC(l,c,d,g,_,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ce(n);oe(ha,"RemoteStore shutting down."),r.Ea.add(5),await uu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pm.provider={build:()=>new Pm};class nT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Sr="FirestoreClient";class $C{constructor(e,n,r,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=an.UNAUTHENTICATED,this.clientId=np.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{oe(Sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(oe(Sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ap(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function rm(s,e){s.asyncQueue.verifyOperationInProgress(),oe(Sr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await VE(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Sv(s,e){s.asyncQueue.verifyOperationInProgress();const n=await XC(s);oe(Sr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>_v(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>_v(e.remoteStore,l))),s._onlineComponents=e}async function XC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(Sr,"Using user provided OfflineComponentProvider");try{await rm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await rm(s,new bh)}}else oe(Sr,"Using default OfflineComponentProvider"),await rm(s,new WC(void 0));return s._offlineComponents}async function iT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(Sr,"Using user provided OnlineComponentProvider"),await Sv(s,s._uninitializedComponentsProvider._online)):(oe(Sr,"Using default OnlineComponentProvider"),await Sv(s,new Pm))),s._onlineComponents}function ZC(s){return iT(s).then((e=>e.syncEngine))}async function Bm(s){const e=await iT(s),n=e.eventManager;return n.onListen=LC.bind(null,e.syncEngine),n.onUnlisten=zC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PC.bind(null,e.syncEngine),n}function JC(s,e,n,r){const l=new nT(r),c=new YE(e,l,n);return s.asyncQueue.enqueueAndForget((async()=>GE(await Bm(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>KE(await Bm(s),c)))}}function eN(s,e,n={}){const r=new gr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const E=new nT({next:I=>{E.Nu(),d.enqueueAndForget((()=>KE(c,S)));const q=I.docs.has(g);!q&&I.fromCache?y.reject(new fe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&I.fromCache&&_&&_.source==="server"?y.reject(new fe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),S=new YE(Dh(g.path),E,{includeMetadataChanges:!0,Ka:!0});return GE(c,S)})(await Bm(s),s.asyncQueue,e,n,r))),r.promise}function tN(s,e){const n=new gr;return s.asyncQueue.enqueueAndForget((async()=>BC(await ZC(s),e,n))),n.promise}function sT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const nN="ComponentProvider",wv=new Map;function iN(s,e,n,r,l){return new bx(s,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,sT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const rT="firestore.googleapis.com",xv=!0;class Rv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rT,this.ssl=xv}else this.host=e.host,this.ssl=e.ssl??xv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OR)throw new fe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rp{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ex;switch(r.type){case"firstParty":return new sx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=wv.get(n);r&&(oe(nN,"Removing Datastore"),wv.delete(n),r.terminate())})(this),Promise.resolve()}}function sN(s,e,n,r={}){s=di(s,Rp);const l=Ao(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${n}`;l&&(e1(`https://${g}`),t1("Firestore",!0)),c.host!==rT&&c.host!==g&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:r};if(!_r(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=an.MOCK_USER;else{y=b2(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new fe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new an(S)}s._authCredentials=new tx(new K1(y,E))}}class Bh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bh(this.firestore,e,this._query)}}class Pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(au(n,Pt._jsonSchema))return new Pt(e,r||null,new ge(Et.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:zt("string",Pt._jsonSchemaVersion),referencePath:zt("string")};class Xl extends Bh{constructor(e,n,r){super(e,n,Dh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new ge(e))}withConverter(e){return new Xl(this.firestore,e,this._path)}}function hn(s,e,...n){if(s=dn(s),arguments.length===1&&(e=np.newId()),cx("doc","path",e),s instanceof Rp){const r=Et.fromString(e,...n);return B_(r),new Pt(s,null,new ge(r))}{if(!(s instanceof Pt||s instanceof Xl))throw new fe(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Et.fromString(e,...n));return B_(r),new Pt(s.firestore,s instanceof Xl?s.converter:null,new ge(r))}}const Cv="AsyncQueue";class Nv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jE(this,"async_queue_retry"),this._c=()=>{const r=sm();r&&oe(Cv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Co(e))throw e;oe(Cv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",Iv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=bp.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:Iv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Iv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class fa extends Rp{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new Nv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nv(e),this._firestoreClient=void 0,await e}}}function rN(s,e){const n=typeof s=="object"?s:r1(),r=typeof s=="string"?s:dh,l=Km(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=E2("firestore");c&&sN(l,...c)}return l}function Cp(s){if(s._terminated)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||aN(s),s._firestoreClient}function aN(s){const e=s._freezeSettings(),n=iN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new $C(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(nn.fromBase64String(e))}catch(n){throw new fe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:zt("string",Jn._jsonSchemaVersion),bytes:zt("string")};class Np{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qh{constructor(e){this._methodName=e}}class Hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(au(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:zt("string",Hi._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class pi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new pi(e.vectorValues);throw new fe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:zt("string",pi._jsonSchemaVersion),vectorValues:zt("object")};const oN=/^__.*__$/;class lN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ou(e,this.data,n,this.fieldTransforms)}}class aT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:s})}}class Hh{constructor(e,n,r,l,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Hh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ah(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(oT(this.dataSource)&&oN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class uN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uh(e)}createContext(e,n,r,l=!1){return new Hh({dataSource:e,methodName:n,targetDoc:r,path:tn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lT(s){const e=s._freezeSettings(),n=Uh(s._databaseId);return new uN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function cN(s,e,n,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,n,l);Op("Data must be an object, but it was:",d,r);const g=uT(r,d);let _,y;if(c.merge)_=new Ln(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const I=Zl(e,S,n);if(!d.contains(I))throw new fe(X.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);fT(E,I)||E.push(I)}_=new Ln(E),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new lN(new xn(g),_,y)}class Fh extends qh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fh}}function hN(s,e,n){return new Hh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ip extends qh{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=hN(this,e,!0),r=this.Ac.map((c=>hu(c,n))),l=new vo(r);return new Xx(e.path,l)}isEqual(e){return e instanceof Ip&&_r(this.Ac,e.Ac)}}function fN(s,e,n,r){const l=s.createContext(1,e,n);Op("Data must be an object, but it was:",l,r);const c=[],d=xn.empty();wr(r,((_,y)=>{const E=hT(e,_,n);y=dn(y);const S=l.childContextForFieldPath(E);if(y instanceof Fh)c.push(E);else{const I=hu(y,S);I!=null&&(c.push(E),d.set(E,I))}}));const g=new Ln(c);return new aT(d,g,l.fieldTransforms)}function dN(s,e,n,r,l,c){const d=s.createContext(1,e,n),g=[Zl(e,r,n)],_=[l];if(c.length%2!=0)throw new fe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<c.length;I+=2)g.push(Zl(e,c[I])),_.push(c[I+1]);const y=[],E=xn.empty();for(let I=g.length-1;I>=0;--I)if(!fT(y,g[I])){const q=g[I];let ee=_[I];ee=dn(ee);const se=d.childContextForFieldPath(q);if(ee instanceof Fh)y.push(q);else{const re=hu(ee,se);re!=null&&(y.push(q),E.set(q,re))}}const S=new Ln(y);return new aT(E,S,d.fieldTransforms)}function hu(s,e){if(cT(s=dn(s)))return Op("Unsupported field value:",e,s),uT(s,e);if(s instanceof qh)return(function(r,l){if(!oT(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let _=hu(g,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Qx(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=mt.fromDate(r);return{timestampValue:vh(l.serializer,c)}}if(r instanceof mt){const c=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vh(l.serializer,c)}}if(r instanceof Hi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jn)return{bytesValue:wE(l.serializer,r._byteString)};if(r instanceof Pt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:dp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof pi)return(function(d,g){const _=d instanceof pi?d.toArray():d;return{mapValue:{fields:{[tE]:{stringValue:nE},[mh]:{arrayValue:{values:_.map((E=>{if(typeof E!="number")throw g.createError("VectorValues must only contain numeric values.");return up(g.serializer,E)}))}}}}}})(r,l);if(DE(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${ip(r)}`)})(s,e)}function uT(s,e){const n={};return W1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wr(s,((r,l)=>{const c=hu(l,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function cT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof mt||s instanceof Hi||s instanceof Jn||s instanceof Pt||s instanceof qh||s instanceof pi||DE(s))}function Op(s,e,n){if(!cT(n)||!Y1(n)){const r=ip(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Zl(s,e,n){if((e=dn(e))instanceof Np)return e._internalPath;if(typeof e=="string")return hT(s,e);throw Ah("Field path arguments must be of type string or ",s,!1,void 0,n)}const mN=new RegExp("[~\\*/\\[\\]]");function hT(s,e,n){if(e.search(mN)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Np(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Ah(s,e,n,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new fe(X.INVALID_ARGUMENT,g+s+_)}function fT(s,e){return s.some((n=>n.isEqual(e)))}class pN{convertValue(e,n="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wr(e,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[mh].arrayValue?.values?.map((r=>Nt(r.doubleValue)));return new pi(n)}convertGeoPoint(e){return new Hi(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ih(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=Er(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);tt(OE(r),9688,{name:e});const l=new Ql(r.get(1),r.get(3)),c=new ge(r.popFirst(5));return l.isEqual(n)||Ss(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class dT extends pN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function ps(...s){return new Ip("arrayUnion",s)}const Ov="@firebase/firestore",Dv="4.10.0";function kv(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class mT{constructor(e,n,r,l,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Zl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gN extends mT{data(){return super.data()}}function yN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function _N(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends mT{constructor(e,n,r,l,c,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:zt("string",oa._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class nh extends oa{data(e={}){return super.data(e)}}class fo{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new jl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new nh(this._firestore,this._userDataWriter,r.key,r,new jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new nh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new jl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new nh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new jl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:vN(g.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=np.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:zt("string",fo._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};function EN(s){s=di(s,Pt);const e=di(s.firestore,fa),n=Cp(e);return eN(n,s._key).then((r=>pT(e,s,r)))}function TN(s,e,n){s=di(s,Pt);const r=di(s.firestore,fa),l=_N(s.converter,e),c=lT(r);return Dp(r,[cN(c,"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,mi.none())])}function Xn(s,e,n,...r){s=di(s,Pt);const l=di(s.firestore,fa),c=lT(l);let d;return d=typeof(e=dn(e))=="string"||e instanceof Np?dN(c,"updateDoc",s._key,e,n,r):fN(c,"updateDoc",s._key,e),Dp(l,[d.toMutation(s._key,mi.exists(!0))])}function bN(s){return Dp(di(s.firestore,fa),[new cp(s._key,mi.none())])}function Mv(s,...e){s=dn(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||kv(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(kv(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Pt)d=di(s.firestore,fa),g=Dh(s._key.path),c={next:y=>{e[r]&&e[r](pT(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=di(s,Bh);d=di(y.firestore,fa),g=y._query;const E=new dT(d);c={next:S=>{e[r]&&e[r](new fo(d,E,y,S))},error:e[r+1],complete:e[r+2]},yN(s._query)}const _=Cp(d);return JC(_,g,l,c)}function Dp(s,e){const n=Cp(s);return tN(n,e)}function pT(s,e,n){const r=n.docs.get(e._key),l=new dT(s);return new oa(s,l,e._key,r,new jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){Jw(So),mo(new la("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new fa(new nx(r.getProvider("auth-internal")),new rx(d,r.getProvider("app-check-internal")),Ax(d,l),d);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),mr(Ov,Dv,e),mr(Ov,Dv,"esm2020")})();const gT=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const AN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const SN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const Vv=s=>{const e=SN(s);return e.charAt(0).toUpperCase()+e.slice(1)};var wN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xN=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const RN=Qe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},_)=>Qe.createElement("svg",{ref:_,...wN,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:gT("lucide",l),...!c&&!xN(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,E])=>Qe.createElement(y,E)),...Array.isArray(c)?c:[c]]));const Se=(s,e)=>{const n=Qe.forwardRef(({className:r,...l},c)=>Qe.createElement(RN,{ref:c,iconNode:e,className:gT(`lucide-${AN(Vv(s))}`,`lucide-${s}`,r),...l}));return n.displayName=Vv(s),n};const CN=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],NN=Se("anchor",CN);const IN=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ON=Se("arrow-up",IN);const DN=[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]],am=Se("bird",DN);const kN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],om=Se("book-open",kN);const MN=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],Lv=Se("bug",MN);const VN=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],LN=Se("cat",VN);const jN=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],yT=Se("chart-no-axes-column",jN);const UN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qm=Se("circle-check-big",UN);const zN=[["path",{d:"M16.17 7.83 2 22",key:"t58vo8"}],["path",{d:"M4.02 12a2.827 2.827 0 1 1 3.81-4.17A2.827 2.827 0 1 1 12 4.02a2.827 2.827 0 1 1 4.17 3.81A2.827 2.827 0 1 1 19.98 12a2.827 2.827 0 1 1-3.81 4.17A2.827 2.827 0 1 1 12 19.98a2.827 2.827 0 1 1-4.17-3.81A1 1 0 1 1 4 12",key:"17k36q"}],["path",{d:"m7.83 7.83 8.34 8.34",key:"1d7sxk"}]],PN=Se("clover",zN);const BN=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],qN=Se("copy",BN);const HN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],_T=Se("crown",HN);const FN=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],GN=Se("ellipsis",FN);const KN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ih=Se("eye",KN);const YN=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],lm=Se("feather",YN);const QN=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],WN=Se("fish",QN);const $N=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],um=Se("flame",$N);const XN=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],jv=Se("flower",XN);const ZN=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],Uv=Se("footprints",ZN);const JN=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],eI=Se("ghost",JN);const tI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],nI=Se("grid-3x3",tI);const iI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],vT=Se("hammer",iI);const sI=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],bo=Se("hexagon",sI);const rI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],aI=Se("history",rI);const oI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],lI=Se("house",oI);const uI=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],cI=Se("leaf",uI);const hI=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],fI=Se("loader",hI);const dI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],zv=Se("log-out",dI);const mI=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],pI=Se("moon",mI);const gI=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],ET=Se("mountain",gI);const yI=[["path",{d:"M12 4V2",key:"1k5q1u"}],["path",{d:"M5 10v4a7.004 7.004 0 0 0 5.277 6.787c.412.104.802.292 1.102.592L12 22l.621-.621c.3-.3.69-.488 1.102-.592A7.003 7.003 0 0 0 19 14v-4",key:"1tgyif"}],["path",{d:"M12 4C8 4 4.5 6 4 8c-.243.97-.919 1.952-2 3 1.31-.082 1.972-.29 3-1 .54.92.982 1.356 2 2 1.452-.647 1.954-1.098 2.5-2 .595.995 1.151 1.427 2.5 2 1.31-.621 1.862-1.058 2.5-2 .629.977 1.162 1.423 2.5 2 1.209-.548 1.68-.967 2-2 1.032.916 1.683 1.157 3 1-1.297-1.036-1.758-2.03-2-3-.5-2-4-4-8-4Z",key:"tnsqj"}]],_I=Se("nut",yI);const vI=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],aa=Se("paw-print",vI);const EI=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],TI=Se("play",EI);const bI=[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]],AI=Se("rabbit",bI);const SI=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],cm=Se("rat",SI);const wI=[["path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44",key:"1cn552"}]],xI=Se("shell",wI);const RI=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],TT=Se("skip-forward",RI);const CI=[["path",{d:"M2 13a6 6 0 1 0 12 0 4 4 0 1 0-8 0 2 2 0 0 0 4 0",key:"hneq2s"}],["circle",{cx:"10",cy:"13",r:"8",key:"194lz3"}],["path",{d:"M2 21h12c4.4 0 8-3.6 8-8V7a2 2 0 1 0-4 0v6",key:"ixqyt7"}],["path",{d:"M18 3 19.1 5.2",key:"9tjm43"}],["path",{d:"M22 3 20.9 5.2",key:"j3odrs"}]],NI=Se("snail",CI);const II=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],Pv=Se("snowflake",II);const OI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],kl=Se("sparkles",OI);const DI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],kI=Se("target",DI);const MI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bv=Se("trash-2",MI);const VI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hm=Se("triangle-alert",VI);const LI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],jI=Se("trophy",LI);const UI=[["path",{d:"M16 8q6 0 6-6-6 0-6 6",key:"qsyyc4"}],["path",{d:"M17.41 3.59a10 10 0 1 0 3 3",key:"41m9h7"}],["path",{d:"M2 2a26.6 26.6 0 0 1 10 20c.9-6.82 1.5-9.5 4-14",key:"qiv7li"}]],zI=Se("vegan",UI);const PI=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],bT=Se("waves",PI);const BI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kp=Se("x",BI),qI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:31b2942ce74b65c66aa637"},AT=s1(qI),fm=Xw(AT),fn=rN(AT),Tn=typeof __app_id<"u"?__app_id:"equilibrium-game",HI="9",Gc=()=>T.jsx("style",{children:`
    .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); border-radius: 4px; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(16, 185, 129, 0.3); border-radius: 4px; }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(16, 185, 129, 0.6); }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(10deg); }
    }
    .animate-float { animation: float infinite ease-in-out; }
    
    @keyframes spin-slow {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    .animate-spin-slow { animation: spin-slow 12s linear infinite; }

    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    
    .mask-gradient-right { mask-image: linear-gradient(to right, black 85%, transparent 100%); }
  `}),dm=()=>T.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black"}),T.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),T.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-5",children:[...Array(15)].map((s,e)=>T.jsx("div",{className:"absolute animate-float text-emerald-500",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${20+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:T.jsx(bo,{size:48})},e))})]}),yr={WOOD:{id:"WOOD",color:"bg-amber-800",border:"border-amber-950",icon:GN,name:"Log",validOn:["EMPTY","WOOD"],scoreType:"TREE"},LEAF:{id:"LEAF",color:"bg-emerald-500",border:"border-emerald-700",icon:cI,name:"Foliage",validOn:["EMPTY","WOOD"],scoreType:"TREE"},STONE:{id:"STONE",color:"bg-slate-400",border:"border-slate-600",icon:ET,name:"Stone",validOn:["EMPTY","STONE"],scoreType:"MOUNTAIN"},WATER:{id:"WATER",color:"bg-cyan-500",border:"border-cyan-700",icon:bT,name:"Water",validOn:["EMPTY"],scoreType:"RIVER"},SAND:{id:"SAND",color:"bg-yellow-400",border:"border-yellow-600",icon:zI,name:"Sand",validOn:["EMPTY"],scoreType:"FIELD"},BRICK:{id:"BRICK",color:"bg-red-700",border:"border-red-900",icon:lI,name:"Brick",validOn:["EMPTY","BRICK","STONE","WOOD"],scoreType:"BUILDING"}},Sn=(s,e)=>[{q:s+1,r:e},{q:s+1,r:e-1},{q:s,r:e-1},{q:s-1,r:e},{q:s-1,r:e+1},{q:s,r:e+1}],sa=s=>{if(!s||s.stack.length!==2)return!1;const e=s.stack[1],n=s.stack[0];return e==="BRICK"&&["BRICK","STONE","WOOD"].includes(n)},Te=(s,e)=>!s||s.stack.length!==e.length?!1:s.stack.every((n,r)=>n===e[r]),bn=(s,e,n,r)=>Sn(e,n).some(c=>{const d=s[`${c.q},${c.r}`];return d&&r(d)}),FI=[{q:1,r:0},{q:1,r:-1},{q:0,r:-1},{q:-1,r:0},{q:-1,r:1},{q:0,r:1}],An=(s,e,n,r)=>FI.some(l=>r.every((c,d)=>{const g=e+l.q*(d+1),_=n+l.r*(d+1),y=s[`${g},${_}`];return y&&c(y)})),gs={SQUIRREL:{id:"SQUIRREL",name:"Squirrel",desc:"Small Tree (1 Log + Leaf)",points:[2,2,3],slots:3,icon:_I,iconColor:"text-orange-500",visual:{type:"stack",tokens:["WOOD","LEAF"]},check:s=>Te(s,["WOOD","LEAF"])},LIZARD:{id:"LIZARD",name:"Lizard",desc:"Small Rock (Stone) next to Bush (Leaf)",points:[2,2,2],slots:3,icon:cm,iconColor:"text-emerald-400",visual:{type:"adj",main:["STONE"],others:[["LEAF"]]},check:(s,e)=>Te(s,["STONE"])&&bn(e,s.q,s.r,n=>Te(n,["LEAF"]))},SNAIL:{id:"SNAIL",name:"Snail",desc:"Small Rock (Stone) next to Water",points:[2,2,2],slots:3,icon:NI,iconColor:"text-lime-300",visual:{type:"adj",main:["STONE"],others:[["WATER"]]},check:(s,e)=>Te(s,["STONE"])&&bn(e,s.q,s.r,n=>n.stack[0]==="WATER")},HERON:{id:"HERON",name:"Heron",desc:"Water next to Bush (Leaf)",points:[3,3,3],slots:3,icon:am,iconColor:"text-cyan-300",visual:{type:"adj",main:["WATER"],others:[["LEAF"]]},check:(s,e)=>s.stack[0]==="WATER"&&bn(e,s.q,s.r,n=>Te(n,["LEAF"]))},DUCK:{id:"DUCK",name:"Duck",desc:"Water next to Rush (Log)",points:[2,2,3],slots:3,icon:am,iconColor:"text-green-600",visual:{type:"adj",main:["WATER"],others:[["WOOD"]]},check:(s,e)=>s.stack[0]==="WATER"&&bn(e,s.q,s.r,n=>Te(n,["WOOD"]))},HAWK:{id:"HAWK",name:"Hawk",desc:"Dead Tree (3 Logs)",points:[3,4],slots:2,icon:lm,iconColor:"text-red-700",visual:{type:"stack",tokens:["WOOD","WOOD","WOOD"]},check:s=>Te(s,["WOOD","WOOD","WOOD"])},EAGLE:{id:"EAGLE",name:"Eagle",desc:"Highest Peak (3 Stone)",points:[4,4],slots:2,icon:kI,iconColor:"text-sky-600",visual:{type:"stack",tokens:["STONE","STONE","STONE"]},check:s=>Te(s,["STONE","STONE","STONE"])},FROG:{id:"FROG",name:"Frog",desc:"Bush (Leaf) next to Water",points:[2,3,3,4],slots:4,icon:PN,iconColor:"text-lime-500",visual:{type:"adj",main:["LEAF"],others:[["WATER"]]},check:(s,e)=>Te(s,["LEAF"])&&bn(e,s.q,s.r,n=>n.stack[0]==="WATER")},BEAVER:{id:"BEAVER",name:"Beaver",desc:"Log next to Water AND Tree",points:[3,3,4],slots:3,icon:vT,iconColor:"text-amber-800",visual:{type:"adj",main:["WOOD"],others:[["WATER"],["WOOD","LEAF"]]},check:(s,e)=>{if(!Te(s,["WOOD"]))return!1;const n=Sn(s.q,s.r).map(c=>e[`${c.q},${c.r}`]),r=n.some(c=>c&&c.stack[0]==="WATER"),l=n.some(c=>c&&Te(c,["WOOD","LEAF"]));return r&&l}},TURTLE:{id:"TURTLE",name:"Turtle",desc:"Water next to Sand AND Stone",points:[4,4],slots:2,icon:xI,iconColor:"text-teal-600",visual:{type:"adj",main:["WATER"],others:[["SAND"],["STONE"]]},check:(s,e)=>{if(s.stack[0]!=="WATER")return!1;const n=Sn(s.q,s.r).map(r=>e[`${r.q},${r.r}`]);return n.some(r=>r?.stack[0]==="SAND")&&n.some(r=>r?.stack[0]==="STONE")}},BOAR:{id:"BOAR",name:"Boar",desc:"Field (Sand) next to Water AND Tree",points:[3,3,3],slots:3,icon:cm,iconColor:"text-stone-600",visual:{type:"adj",main:["SAND"],others:[["WATER"],["WOOD","LEAF"]]},check:(s,e)=>{if(s.stack[0]!=="SAND")return!1;const n=Sn(s.q,s.r).map(r=>e[`${r.q},${r.r}`]);return n.some(r=>r?.stack[0]==="WATER")&&n.some(r=>r&&Te(r,["WOOD","LEAF"]))}},FOX:{id:"FOX",name:"Fox",desc:"Medium Rock (2 Stone) next to Medium Wood (2 Log)",points:[3,4],slots:2,icon:um,iconColor:"text-orange-600",visual:{type:"adj",main:["STONE","STONE"],others:[["WOOD","WOOD"]]},check:(s,e)=>Te(s,["STONE","STONE"])&&bn(e,s.q,s.r,n=>Te(n,["WOOD","WOOD"]))},DEER:{id:"DEER",name:"Deer",desc:"Tall Tree (2 Log+Leaf) next to Field",points:[3,3,4],slots:3,icon:Uv,iconColor:"text-amber-600",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["SAND"]]},check:(s,e)=>Te(s,["WOOD","WOOD","LEAF"])&&bn(e,s.q,s.r,n=>n.stack[0]==="SAND")},BEAR:{id:"BEAR",name:"Bear",desc:"Tall Tree (2 Log+Leaf) next to Mountain (2+ Stone)",points:[4,5],slots:2,icon:aa,iconColor:"text-stone-800",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["STONE","STONE"]]},check:(s,e)=>Te(s,["WOOD","WOOD","LEAF"])&&bn(e,s.q,s.r,n=>n.stack.length>=2&&n.stack[0]==="STONE")},PANDA:{id:"PANDA",name:"Panda",desc:"Tall Tree (2 Log+Leaf) next to Water",points:[5,5],slots:2,icon:aa,iconColor:"text-slate-900",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["WATER"]]},check:(s,e)=>Te(s,["WOOD","WOOD","LEAF"])&&bn(e,s.q,s.r,n=>n.stack[0]==="WATER")},SCORPION:{id:"SCORPION",name:"Scorpion",desc:"Medium Rock (2 Stone) next to Sand",points:[3,3,3],slots:3,icon:Lv,iconColor:"text-rose-600",visual:{type:"adj",main:["STONE","STONE"],others:[["SAND"]]},check:(s,e)=>Te(s,["STONE","STONE"])&&bn(e,s.q,s.r,n=>n.stack[0]==="SAND")},BEE:{id:"BEE",name:"Bee",desc:"Bush (Leaf) next to 2 other Bushes",points:[3,3,3],slots:3,icon:jv,iconColor:"text-yellow-400",visual:{type:"adj",main:["LEAF"],others:[["LEAF"],["LEAF"]]},check:(s,e)=>{if(!Te(s,["LEAF"]))return!1;let n=0;return Sn(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&Te(l,["LEAF"])&&n++}),n>=2}},WOLF:{id:"WOLF",name:"Wolf",desc:"Tree (1 Log+Leaf) next to 2 other Trees",points:[5,5],slots:2,icon:pI,iconColor:"text-slate-500",visual:{type:"adj",main:["WOOD","LEAF"],others:[["WOOD","LEAF"],["WOOD","LEAF"]]},check:(s,e)=>{if(!Te(s,["WOOD","LEAF"]))return!1;let n=0;return Sn(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&Te(l,["WOOD","LEAF"])&&n++}),n>=2}},SALMON:{id:"SALMON",name:"Salmon",desc:"Water next to 2 other Water tiles",points:[3,3,4],slots:3,icon:WN,iconColor:"text-rose-400",visual:{type:"adj",main:["WATER"],others:[["WATER"],["WATER"]]},check:(s,e)=>{if(s.stack[0]!=="WATER")return!1;let n=0;return Sn(s.q,s.r).forEach(r=>{e[`${r.q},${r.r}`]?.stack[0]==="WATER"&&n++}),n>=2}},RABBIT:{id:"RABBIT",name:"Rabbit",desc:"Field (Sand) next to 2 Bushes",points:[2,2,2,2],slots:4,icon:AI,iconColor:"text-stone-300",visual:{type:"adj",main:["SAND"],others:[["LEAF"],["LEAF"]]},check:(s,e)=>{if(s.stack[0]!=="SAND")return!1;let n=0;return Sn(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&Te(l,["LEAF"])&&n++}),n>=2}},MOLE:{id:"MOLE",name:"Mole",desc:"Stone surrounded by 3 Fields",points:[5,6],slots:2,icon:cm,iconColor:"text-stone-700",visual:{type:"adj",main:["STONE"],others:[["SAND"],["SAND"],["SAND"]]},check:(s,e)=>{if(s.stack[0]!=="STONE")return!1;let n=0;return Sn(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&l.stack[0]==="SAND"&&n++}),n>=3}},BAT:{id:"BAT",name:"Bat",desc:"Building (Ht 2) next to Water",points:[3,3,3],slots:3,icon:eI,iconColor:"text-violet-400",visual:{type:"adj",main:["BRICK","BRICK"],others:[["WATER"]]},check:(s,e)=>sa(s)&&bn(e,s.q,s.r,n=>n.stack[0]==="WATER")},CAT:{id:"CAT",name:"Cat",desc:"Building (Ht 2) next to 2 Fields",points:[5,5],slots:2,icon:LN,iconColor:"text-slate-300",visual:{type:"adj",main:["BRICK","BRICK"],others:[["SAND"],["SAND"]]},check:(s,e)=>{if(!sa(s))return!1;let n=0;return Sn(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&l.stack[0]==="SAND"&&n++}),n>=2}},OWL:{id:"OWL",name:"Owl",desc:"Tall Tree (2 Log+Leaf) next to Building",points:[4,5],slots:2,icon:ih,iconColor:"text-indigo-400",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["BRICK","BRICK"]]},check:(s,e)=>Te(s,["WOOD","WOOD","LEAF"])&&bn(e,s.q,s.r,n=>sa(n))},SPIDER:{id:"SPIDER",name:"Spider",desc:"Dead Tree (3 Log) next to Building",points:[3,4],slots:2,icon:Pv,iconColor:"text-slate-900",visual:{type:"adj",main:["WOOD","WOOD","WOOD"],others:[["BRICK","BRICK"]]},check:(s,e)=>Te(s,["WOOD","WOOD","WOOD"])&&bn(e,s.q,s.r,n=>sa(n))},CATERPILLAR:{id:"CATERPILLAR",name:"Caterpillar",desc:"Line: Leaf -> Leaf -> Leaf",points:[2,2,3],slots:3,icon:Lv,iconColor:"text-lime-600",visual:{type:"line",sequence:[["LEAF"],["LEAF"],["LEAF"]]},check:(s,e)=>Te(s,["LEAF"])?An(e,s.q,s.r,[n=>Te(n,["LEAF"]),n=>Te(n,["LEAF"])]):!1},SNAKE:{id:"SNAKE",name:"Snake",desc:"Line: Bush -> Bush -> Stone",points:[4,5],slots:2,icon:bT,iconColor:"text-emerald-500",visual:{type:"line",sequence:[["LEAF"],["LEAF"],["STONE"]]},check:(s,e)=>Te(s,["LEAF"])?An(e,s.q,s.r,[n=>Te(n,["LEAF"]),n=>n.stack[0]==="STONE"]):!1},CAMEL:{id:"CAMEL",name:"Camel",desc:"Line: Sand -> Sand -> Stone",points:[4,5],slots:2,icon:aa,iconColor:"text-amber-400",visual:{type:"line",sequence:[["SAND"],["SAND"],["STONE"]]},check:(s,e)=>s.stack[0]!=="SAND"?!1:An(e,s.q,s.r,[n=>n.stack[0]==="SAND",n=>n.stack[0]==="STONE"])},RHINO:{id:"RHINO",name:"Rhino",desc:"Line: Stone -> Stone -> Sand",points:[5,6],slots:2,icon:_T,iconColor:"text-stone-500",visual:{type:"line",sequence:[["STONE"],["STONE"],["SAND"]]},check:(s,e)=>s.stack[0]!=="STONE"?!1:An(e,s.q,s.r,[n=>n.stack[0]==="STONE",n=>n.stack[0]==="SAND"])},SWAN:{id:"SWAN",name:"Swan",desc:"Line: Water -> Water -> Leaf",points:[4,4],slots:2,icon:lm,iconColor:"text-pink-400",visual:{type:"line",sequence:[["WATER"],["WATER"],["LEAF"]]},check:(s,e)=>s.stack[0]!=="WATER"?!1:An(e,s.q,s.r,[n=>n.stack[0]==="WATER",n=>Te(n,["LEAF"])])},CRANE:{id:"CRANE",name:"Crane",desc:"Line: Water -> Log -> Water",points:[4,5],slots:2,icon:am,iconColor:"text-red-400",visual:{type:"line",sequence:[["WATER"],["WOOD"],["WATER"]]},check:(s,e)=>s.stack[0]!=="WATER"?!1:An(e,s.q,s.r,[n=>Te(n,["WOOD"]),n=>n.stack[0]==="WATER"])},OCTOPUS:{id:"OCTOPUS",name:"Octopus",desc:"Line: Water -> Stone -> Water",points:[4,5],slots:2,icon:Pv,iconColor:"text-indigo-600",visual:{type:"line",sequence:[["WATER"],["STONE"],["WATER"]]},check:(s,e)=>s.stack[0]!=="WATER"?!1:An(e,s.q,s.r,[n=>n.stack[0]==="STONE",n=>n.stack[0]==="WATER"])},MONKEY:{id:"MONKEY",name:"Monkey",desc:"Line: Small Tree -> Tall Tree",points:[5,6],slots:2,icon:aa,iconColor:"text-amber-500",visual:{type:"line",sequence:[["WOOD","LEAF"],["WOOD","WOOD","LEAF"]]},check:(s,e)=>Te(s,["WOOD","LEAF"])?An(e,s.q,s.r,[n=>Te(n,["WOOD","WOOD","LEAF"])]):!1},COUGAR:{id:"COUGAR",name:"Cougar",desc:"Line: Medium Rock -> High Peak",points:[6,7],slots:2,icon:um,iconColor:"text-red-600",visual:{type:"line",sequence:[["STONE","STONE"],["STONE","STONE","STONE"]]},check:(s,e)=>Te(s,["STONE","STONE"])?An(e,s.q,s.r,[n=>Te(n,["STONE","STONE","STONE"])]):!1},KINGFISHER:{id:"KINGFISHER",name:"Kingfisher",desc:"Line: Tree -> Water -> Tree",points:[6,6],slots:2,icon:lm,iconColor:"text-cyan-500",visual:{type:"line",sequence:[["WOOD","LEAF"],["WATER"],["WOOD","LEAF"]]},check:(s,e)=>Te(s,["WOOD","LEAF"])?An(e,s.q,s.r,[n=>n.stack[0]==="WATER",n=>Te(n,["WOOD","LEAF"])]):!1},ELEPHANT:{id:"ELEPHANT",name:"Elephant",desc:"Line: Sand -> Tree -> Water",points:[6,7],slots:2,icon:NN,iconColor:"text-slate-600",visual:{type:"line",sequence:[["SAND"],["WOOD","LEAF"],["WATER"]]},check:(s,e)=>s.stack[0]!=="SAND"?!1:An(e,s.q,s.r,[n=>Te(n,["WOOD","LEAF"]),n=>n.stack[0]==="WATER"])},GIRAFFE:{id:"GIRAFFE",name:"Giraffe",desc:"Line: Tree -> Bush -> Building",points:[5,6],slots:2,icon:Uv,iconColor:"text-yellow-600",visual:{type:"line",sequence:[["WOOD","LEAF"],["LEAF"],["BRICK","BRICK"]]},check:(s,e)=>Te(s,["WOOD","LEAF"])?An(e,s.q,s.r,[n=>Te(n,["LEAF"]),n=>sa(n)]):!1},TIGER:{id:"TIGER",name:"Tiger",desc:"Line: Bush -> Tall Tree -> Bush",points:[7,7],slots:2,icon:um,iconColor:"text-orange-500",visual:{type:"line",sequence:[["LEAF"],["WOOD","WOOD","LEAF"],["LEAF"]]},check:(s,e)=>Te(s,["LEAF"])?An(e,s.q,s.r,[n=>Te(n,["WOOD","WOOD","LEAF"]),n=>Te(n,["LEAF"])]):!1},PEACOCK:{id:"PEACOCK",name:"Peacock",desc:"Line: Tree -> Building -> Tree",points:[6,7],slots:2,icon:jv,iconColor:"text-purple-500",visual:{type:"line",sequence:[["WOOD","LEAF"],["BRICK","BRICK"],["WOOD","LEAF"]]},check:(s,e)=>Te(s,["WOOD","LEAF"])?An(e,s.q,s.r,[n=>sa(n),n=>Te(n,["WOOD","LEAF"])]):!1},GOAT:{id:"GOAT",name:"Goat",desc:"High Peak (3 Stone) next to another Stone",points:[5,5],slots:2,icon:ET,iconColor:"text-gray-400",visual:{type:"adj",main:["STONE","STONE","STONE"],others:[["STONE"]]},check:(s,e)=>Te(s,["STONE","STONE","STONE"])&&bn(e,s.q,s.r,n=>n.stack[0]==="STONE")}},qv=(s,e)=>{if(!s||s.animal||s.stack.length>=3||e==="BRICK"&&s.stack.length>=2||s.stack.length>=2&&s.stack[s.stack.length-1]==="BRICK")return!1;const n=s.stack.length>0?s.stack[s.stack.length-1]:"EMPTY";return yr[e].validOn.includes(n)},GI=s=>{let e={trees:0,mountains:0,fields:0,rivers:0,buildings:0};const n=new Set,r=Object.values(s);r.forEach(d=>{if(d.stack[d.stack.length-1]==="LEAF"){const g=d.stack.length;g===2&&d.stack[0]==="WOOD"&&(e.trees+=3),g===3&&d.stack[0]==="WOOD"&&d.stack[1]==="WOOD"&&(e.trees+=7)}}),r.forEach(d=>{if(d.stack[0]==="STONE"){const g=d.stack.length;Sn(d.q,d.r).some(E=>s[`${E.q},${E.r}`]?.stack[0]==="STONE")&&(g===1?e.mountains+=1:g===2?e.mountains+=3:g>=3&&(e.mountains+=7))}}),n.clear(),r.forEach(d=>{if(d.stack[0]==="SAND"&&!n.has(`${d.q},${d.r}`)){let g=0,_=[d];for(n.add(`${d.q},${d.r}`);_.length>0;){const y=_.pop();g++,Sn(y.q,y.r).forEach(E=>{const S=s[`${E.q},${E.r}`],I=`${E.q},${E.r}`;S&&S.stack[0]==="SAND"&&!n.has(I)&&(n.add(I),_.push(S))})}g>=2&&(e.fields+=5)}}),n.clear();let l=0;return r.forEach(d=>{if(d.stack[0]==="WATER"&&!n.has(`${d.q},${d.r}`)){let g=0,_=new Set,y=[d];for(n.add(`${d.q},${d.r}`),_.add(`${d.q},${d.r}`);y.length>0;){const E=y.pop();g++,Sn(E.q,E.r).forEach(S=>{const I=s[`${S.q},${S.r}`],q=`${S.q},${S.r}`;I&&I.stack[0]==="WATER"&&!_.has(q)&&(n.add(q),_.add(q),y.push(I))})}g>l&&(l=g)}}),l===2?e.rivers=2:l===3?e.rivers=5:l===4?e.rivers=8:l===5?e.rivers=11:l===6?e.rivers=15:l>6&&(e.rivers=15+(l-6)*4),r.forEach(d=>{if(sa(d)){const g=Sn(d.q,d.r),_=new Set;g.forEach(y=>{const E=s[`${y.q},${y.r}`];if(E&&E.stack.length>0){const S=E.stack[E.stack.length-1];S!=="BRICK"&&_.add(S)}}),_.size>=3&&(e.buildings+=5)}}),{total:Object.values(e).reduce((d,g)=>d+g,0),breakdown:e}},mm=()=>{const s={};return[{r:-2,qStart:-1,qEnd:3},{r:-1,qStart:-1,qEnd:2},{r:0,qStart:-2,qEnd:2},{r:1,qStart:-2,qEnd:1},{r:2,qStart:-3,qEnd:1}].forEach(({r:n,qStart:r,qEnd:l})=>{for(let c=r;c<=l;c++)s[`${c},${n}`]={q:c,r:n,stack:[],animal:null}}),s},Hv=()=>{const s={WOOD:21,LEAF:19,STONE:23,WATER:23,SAND:19,BRICK:15};let e=[];Object.entries(s).forEach(([n,r])=>{for(let l=0;l<r;l++)e.push(n)});for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e},Fv=()=>{let s=Object.keys(gs);for(let e=s.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[s[e],s[n]]=[s[n],s[e]]}return s},Gv=(s,e)=>{let n=[...s],r=[...e];for(;n.length<5&&r.length>=3;)n.push({id:Math.random().toString(36).substr(2,9),tokens:[r.pop(),r.pop(),r.pop()].filter(Boolean)});return{market:n,bag:r}},Kv=(s,e)=>{let n=[...s],r=[...e];for(;n.length<4&&r.length>0;){const l=r.pop();n.push({id:Math.random().toString(36).substr(2,9),type:l})}return{market:n,deck:r}},Kc=({tokens:s,scale:e=1,spacing:n=8})=>T.jsx("div",{className:"relative w-8 h-12 mx-auto",style:{transform:`scale(${e})`,height:`${s.length*n+24}px`},children:s.map((r,l)=>T.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 w-6 h-6 rounded-full border shadow-sm ${yr[r].color} ${yr[r].border} flex items-center justify-center`,style:{bottom:`${l*n}px`,zIndex:l},children:l===s.length-1&&(()=>{const c=yr[r].icon;return T.jsx(c,{size:12,className:"text-white/70"})})()},l))}),Sh=({visual:s})=>s?s.type==="stack"?T.jsx(Kc,{tokens:s.tokens}):s.type==="adj"?T.jsxs("div",{className:"flex items-end justify-center gap-2 py-2",children:[T.jsxs("div",{className:"relative z-10 border-2 border-white/50 rounded-xl p-1 bg-black/20",children:[T.jsx(Kc,{tokens:Array.isArray(s.main)?s.main:[s.main],scale:.9}),T.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-white rounded-full flex items-center justify-center border border-slate-500 shadow",children:T.jsx("div",{className:"w-1.5 h-1.5 bg-slate-900 rounded-full"})})]}),T.jsx("div",{className:"flex flex-col gap-1",children:s.others.map((e,n)=>T.jsx("div",{className:"opacity-80 scale-75 origin-bottom",children:T.jsx(Kc,{tokens:Array.isArray(e)?e:[e],scale:.8})},n))})]}):s.type==="line"?T.jsx("div",{className:"flex items-center justify-center gap-1 py-2",children:s.sequence.map((e,n)=>T.jsxs(s2.Fragment,{children:[n>0&&T.jsx("div",{className:"text-slate-500 opacity-50",children:T.jsx(TT,{size:10})}),T.jsxs("div",{className:`relative ${n===0?"z-10 scale-100":"opacity-80 scale-90"}`,children:[n===0&&T.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-white rounded-full flex items-center justify-center border border-slate-500 shadow z-20",children:T.jsx("div",{className:"w-1 h-1 bg-slate-900 rounded-full"})}),T.jsx(Kc,{tokens:Array.isArray(e)?e:[e],scale:.7})]})]},n))}):null:null,pm=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(bo,{size:12,className:"text-emerald-400"}),T.jsx("span",{className:"text-[10px] font-black tracking-widest text-emerald-400 uppercase",children:"EQUILIBRIUM"})]}),Yv=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(bo,{size:20,className:"text-emerald-400"}),T.jsx("span",{className:"text-[20px] font-black tracking-widest text-emerald-400 uppercase",children:"EQUILIBRIUM"})]}),KI=({q:s,r:e,stack:n,animal:r,onClick:l,ghostToken:c,isPlaceable:d,ghostAnimal:g,isValidTarget:_})=>{const E=44*(Math.sqrt(3)*s+Math.sqrt(3)/2*e),S=44*(3/2*e);return T.jsxs("div",{onClick:()=>l&&l(s,e),className:"absolute flex items-center justify-center transition-all duration-300",style:{left:`calc(50% + ${E}px)`,top:`calc(50% + ${S}px)`,width:`${44*1.8}px`,height:"88px",transform:"translate(-50%, -50%)",zIndex:10+e,cursor:d||g?"pointer":"default"},children:[T.jsx("div",{className:`w-full h-full absolute transition-all duration-300 ${_?"bg-emerald-500/60 hover:bg-emerald-400/70 hover:scale-110 shadow-[0_0_30px_rgba(16,185,129,0.6)] z-10":d||g?"bg-slate-700/80 hover:bg-slate-600 hover:scale-105 shadow-[0_0_15px_rgba(52,211,153,0.3)]":"bg-slate-800/90"}`,style:{clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)",zIndex:0}}),T.jsx("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 pointer-events-none z-10 overflow-visible",style:{width:"100%",height:"100%"},children:T.jsx("polygon",{points:"50 0, 100 25, 100 75, 50 100, 0 75, 0 25",fill:"none",stroke:_?"#10b981":"rgba(255,255,255,0.4)",strokeWidth:_?"4":"1.5",strokeDasharray:"4 2",className:_?"animate-pulse":""})}),T.jsxs("div",{className:"relative z-20 flex items-center justify-center w-full h-full pb-2 pointer-events-none",children:[n.map((I,q)=>{const ee=yr[I];return T.jsx("div",{className:`absolute w-10 h-10 rounded-full border-2 shadow-xl flex items-center justify-center ${ee.color} ${ee.border}`,style:{transform:`translateY(-${q*8}px) scale(${1-q*.02})`,zIndex:q},children:q===n.length-1&&T.jsx(ee.icon,{size:16,className:"text-white/80"})},q)}),d&&c&&T.jsx("div",{className:`absolute w-10 h-10 rounded-full border-2 border-dashed opacity-60 flex items-center justify-center animate-pulse ${yr[c].color} border-white`,style:{transform:`translateY(-${n.length*8}px)`,zIndex:10},children:T.jsx(ON,{size:16,className:"text-white"})}),_&&!r&&T.jsx("div",{className:"absolute -top-8 w-10 h-10 rounded-full border-4 border-emerald-400 bg-emerald-900 shadow-xl flex items-center justify-center z-50 animate-bounce",children:T.jsx(qm,{size:24,className:"text-emerald-400"})}),g&&!r&&T.jsx("div",{className:"absolute -top-8 w-8 h-8 rounded-full border-2 border-dashed border-white shadow-xl flex items-center justify-center z-50 animate-pulse opacity-70",children:(()=>{const I=gs[g];if(!I)return null;const q=I.icon;return T.jsx(q,{size:16,className:I.iconColor,fill:"currentColor",fillOpacity:.2})})()}),r&&T.jsx("div",{className:"absolute w-8 h-8 rounded-full bg-white border-2 border-emerald-500 shadow-[0_0_10px_rgba(0,0,0,0.5)] flex items-center justify-center z-50 animate-in zoom-in duration-300",style:{transform:`translateY(-${n.length*8+6}px)`},children:(()=>{const I=gs[r];if(!I)return T.jsx("div",{className:"text-black text-[8px]",children:"?"});const q=I.icon;return T.jsx(q,{size:18,className:I.iconColor,fill:"currentColor",fillOpacity:.2})})()})]})]})},YI=({type:s,message:e,subtext:n,icon:r})=>T.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:T.jsxs("div",{className:`flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-sm md:max-w-xl mx-4 text-center ${s==="success"?"bg-emerald-900/90 border-emerald-500 text-emerald-100":s==="failure"?"bg-red-900/90 border-red-500 text-red-100":s==="warning"?"bg-amber-900/90 border-amber-500 text-amber-100":"bg-blue-900/90 border-blue-500 text-blue-100"}`,children:[r&&T.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:T.jsx(r,{size:64,className:"animate-bounce"})}),T.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:e}),n&&T.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide",children:n})]})}),gm=({onClose:s})=>T.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-slate-900 border border-emerald-900/50 w-full max-w-3xl rounded-3xl shadow-2xl p-6 relative max-h-[90vh] overflow-y-auto custom-scrollbar",children:[T.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full hover:bg-slate-700 transition-colors",children:T.jsx(kp,{size:24})}),T.jsx("h2",{className:"text-3xl font-black text-center mb-6 text-emerald-400",children:"Architect's Handbook"}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("section",{children:[T.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[T.jsx(bo,{className:"text-emerald-500"})," Landscape Scoring"]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-slate-300",children:[T.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[T.jsx("strong",{className:"text-emerald-400 block mb-1",children:"Trees (Wood + Foliage)"}),T.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[T.jsx("li",{children:"2 High (1 Log + 1 Leaf): 3 Pts"}),T.jsx("li",{children:"3 High (2 Log + 2 Leaf): 7 Pts"}),T.jsx("li",{className:"text-slate-500 italic",children:"Foliage on ground: 0 Pts (Bush)"})]})]}),T.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[T.jsx("strong",{className:"text-slate-400 block mb-1",children:"Mountains (Stone)"}),T.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[T.jsx("li",{children:"Score = Height of stack (1=1pt, 2=3pts, 3=7pts)."}),T.jsx("li",{children:"Only scores if adjacent to at least one other Mountain stack."})]})]}),T.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[T.jsx("strong",{className:"text-yellow-400 block mb-1",children:"Fields (Sand)"}),T.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[T.jsx("li",{children:"5 Pts for every distinct group of 2+ connected Sand."}),T.jsx("li",{children:"Cannot stack tokens on Sand."})]})]}),T.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[T.jsx("strong",{className:"text-cyan-400 block mb-1",children:"Rivers (Water)"}),T.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[T.jsx("li",{children:"Longest Chain scoring:"}),T.jsx("li",{children:"2=2pts, 3=5pts, 4=8pts, 5=11pts, 6+ = +4pts for each."})]})]}),T.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl md:col-span-2 border border-emerald-900/30",children:[T.jsx("strong",{className:"text-red-400 block mb-1",children:"Buildings (Brick)"}),T.jsx("ul",{className:"list-disc pl-4 text-xs space-y-1",children:T.jsx("li",{children:"5 Pts if surrounded by 3+ distinct terrain types (colors)."})})]})]})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[T.jsx(aa,{className:"text-orange-500"})," Animal Scoring"]}),T.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Draft animals to your hand. When you create their pattern on the board, select the animal to place it!"}),T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.values(gs).map(e=>T.jsxs("div",{className:"bg-slate-800 p-3 rounded-xl border border-emerald-900/30 flex flex-col items-center gap-2 text-xs",children:[T.jsx("div",{className:"scale-75 mb-2",children:T.jsx(Sh,{visual:e.visual})}),T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"font-bold text-white text-sm",children:e.name}),T.jsx("div",{className:"text-[10px] text-slate-400 leading-tight mb-2 h-8 overflow-hidden",children:e.desc}),T.jsxs("div",{className:"text-[10px] text-yellow-500 font-bold bg-black/20 px-2 py-1 rounded-full",children:[e.points.join(" / ")," Pts"]})]})]},e.id))})]})]})]})}),QI=({gameState:s,onClose:e})=>T.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-slate-900 border border-emerald-900/50 w-full max-w-lg rounded-3xl shadow-2xl p-6 relative",children:[T.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full hover:bg-slate-700 transition-colors",children:T.jsx(kp,{size:24})}),T.jsxs("h2",{className:"text-2xl font-black text-center mb-6 text-emerald-400 flex items-center justify-center gap-2",children:[T.jsx(yT,{})," Live Scores"]}),T.jsx("div",{className:"space-y-4",children:s.players.map(n=>T.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[T.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2 mb-2",children:[T.jsx("span",{className:"font-bold text-lg text-white",children:n.name}),T.jsx("span",{className:"text-2xl font-black text-yellow-500",children:n.score+(n.landscapeScore||0)})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-slate-400",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Animals:"})," ",T.jsx("span",{className:"text-white font-bold",children:n.score})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Trees:"})," ",T.jsx("span",{className:"text-white font-bold",children:n.landscapeScoreBreakdown?.trees||0})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Mountains:"})," ",T.jsx("span",{className:"text-white font-bold",children:n.landscapeScoreBreakdown?.mountains||0})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Fields:"})," ",T.jsx("span",{className:"text-white font-bold",children:n.landscapeScoreBreakdown?.fields||0})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Rivers:"})," ",T.jsx("span",{className:"text-white font-bold",children:n.landscapeScoreBreakdown?.rivers||0})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Buildings:"})," ",T.jsx("span",{className:"text-white font-bold",children:n.landscapeScoreBreakdown?.buildings||0})]})]})]},n.id))})]})}),WI=({animal:s,onClose:e})=>T.jsx("div",{className:"fixed inset-0 z-[210] bg-black/80 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:e,children:T.jsxs("div",{className:"bg-slate-900 border-2 border-slate-700 p-6 rounded-2xl max-w-sm w-full text-center shadow-2xl relative",onClick:n=>n.stopPropagation(),children:[T.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 p-4 rounded-full border-4 border-slate-900",children:T.jsx(s.icon,{size:48,className:s.iconColor})}),T.jsx("h3",{className:"text-2xl font-black text-white mt-8 mb-2 uppercase",children:s.name}),T.jsxs("div",{className:"text-yellow-500 font-bold text-lg mb-4",children:["+",s.points[0]," Pts per placement"]}),T.jsx("div",{className:"flex justify-center mb-6 bg-black/20 p-4 rounded-xl",children:T.jsx(Sh,{visual:s.visual})}),T.jsx("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 mb-4",children:T.jsx("p",{className:"text-slate-300 text-sm",children:s.desc})}),T.jsx("div",{className:"flex justify-center gap-1 mb-4",children:Array.from({length:s.slots}).map((n,r)=>T.jsx("div",{className:"w-4 h-4 rounded-full bg-slate-700 border border-slate-600"},r))}),T.jsx("button",{onClick:e,className:"bg-slate-700 hover:bg-slate-600 w-full py-3 rounded-xl font-bold",children:"Close"})]})});function $I(){const[s,e]=Qe.useState(null),[n,r]=Qe.useState("menu"),[l,c]=Qe.useState(""),[d,g]=Qe.useState(""),[_,y]=Qe.useState(""),[E,S]=Qe.useState(null),[I,q]=Qe.useState(""),[ee,se]=Qe.useState(!1),[re,ye]=Qe.useState(!1),[Ne,Ae]=Qe.useState(!1),[Je,pt]=Qe.useState(!1),[Ue,C]=Qe.useState(!1),[w,N]=Qe.useState(!1),[M,O]=Qe.useState(!1),[L,x]=Qe.useState(null),[rt,gt]=Qe.useState(null),[F,te]=Qe.useState(null),[de,Ge]=Qe.useState(null),[xe,D]=Qe.useState(null),[G,ie]=Qe.useState(null),ae=Qe.useRef(null);Qe.useEffect(()=>{const J=localStorage.getItem("equilibrium_roomId");J&&y(J)},[]),Qe.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await jS(fm,__initial_auth_token):await DS(fm))();const Z=PS(fm,le=>{if(e(le),le){const ce=localStorage.getItem("gameHub_playerName");ce&&c(ce),gt(le.uid)}});return()=>Z()},[]),Qe.useEffect(()=>{const J=Mv(hn(fn,"game_hub_settings","config"),Z=>{Z.exists()&&Z.data()[HI]?.maintenance?ye(!0):ye(!1)},Z=>console.log("Config Read Error (Safe to ignore):",Z));return()=>J()},[]),Qe.useEffect(()=>{if(!_||!s)return;const J=hn(fn,"artifacts",Tn,"public","data","rooms",_),Z=Mv(J,le=>{if(le.exists()){const ce=le.data();if(!ce.players.some(Oe=>Oe.id===s.uid)){y(""),localStorage.removeItem("equilibrium_roomId"),r("menu"),q("You were removed from the world.");return}S(ce),ce.status==="playing"||ce.status==="finished"?r("game"):ce.status==="lobby"&&r("lobby")}else r("menu"),y(""),localStorage.removeItem("equilibrium_roomId"),q("Voyage ended.")},le=>{console.error(le),q("Connection lost.")});return()=>Z()},[_,s]),Qe.useEffect(()=>{if(!E?.logs||E.logs.length===0)return;const J=E.logs[E.logs.length-1];if(ae.current===null){ae.current=J.id;return}J.id<=ae.current||(ae.current=J.id,J.type==="success"?(x({type:"success",message:"HARMONY!",subtext:J.text,icon:kl}),setTimeout(()=>x(null),2500)):J.type==="warning"?(x({type:"warning",message:"ATTENTION",subtext:J.text,icon:hm}),setTimeout(()=>x(null),2500)):J.type==="failure"&&(x({type:"failure",message:"PENALTY",subtext:J.text,icon:hm}),setTimeout(()=>x(null),2500)))},[E?.logs]);const Ee=async()=>{if(!l)return q("Enter Name");localStorage.setItem("gameHub_playerName",l),se(!0);const J=Math.random().toString(36).substr(2,6).toUpperCase(),Z=Hv(),le=Fv(),{market:ce,bag:Oe}=Gv([],Z),$=Kv([],le),pe={roomId:J,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:l,score:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:mm(),holding:[],animals:[],ready:!0,hasDraftedTokens:!1,hasDraftedAnimal:!1}],market:ce,bag:Oe,animalMarket:$.market,animalDeck:$.deck,turnIndex:0,startPlayerIndex:0,isLastRound:!1,turnPhase:"PLAY",logs:[],winnerId:null};try{await TN(hn(fn,"artifacts",Tn,"public","data","rooms",J),pe),y(J),localStorage.setItem("equilibrium_roomId",J),gt(s.uid)}catch(De){console.error(De),q("Failed to create world.")}se(!1)},Ie=async()=>{if(!d||!l)return q("Enter details");localStorage.setItem("gameHub_playerName",l),se(!0);try{const J=d.toUpperCase().trim(),Z=hn(fn,"artifacts",Tn,"public","data","rooms",J),le=await EN(Z);if(le.exists()&&le.data().status==="lobby"){const ce=le.data();if(!ce.players.some(Oe=>Oe.id===s.uid)){if(ce.players.length>=4){q("World is full."),se(!1);return}const Oe=[...ce.players,{id:s.uid,name:l,score:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:mm(),holding:[],animals:[],ready:!1,hasDraftedTokens:!1,hasDraftedAnimal:!1}];await Xn(Z,{players:Oe})}y(J),localStorage.setItem("equilibrium_roomId",J),gt(s.uid)}else q("Room not found or in progress")}catch(J){q(J.message)}se(!1)},ze=async()=>{const J=E.players.length,Z=Math.floor(Math.random()*J);E.players[Z].name,await Xn(hn(fn,"artifacts",Tn,"public","data","rooms",_),{status:"playing",turnIndex:Z,startPlayerIndex:Z,isLastRound:!1,logs:ps({text:"The ecosystem awakens.",type:"neutral",id:Date.now()})})},St=async()=>{if(!E)return;const J=[...E.players],Z=J.find(le=>le.id===s.uid);Z&&(Z.ready=!Z.ready,await Xn(hn(fn,"artifacts",Tn,"public","data","rooms",_),{players:J}))},ct=async()=>{if(_){try{const J=hn(fn,"artifacts",Tn,"public","data","rooms",_);if(E.hostId===s.uid)await bN(J);else{const Z=E.players.filter(le=>le.id!==s.uid);await Xn(J,{players:Z})}}catch{console.log("Room gone")}localStorage.removeItem("equilibrium_roomId"),y(""),r("menu"),O(!1),S(null)}},Ki=async J=>{if(!(!E||E.hostId!==s.uid))try{const Z=E.players.filter(le=>le.id!==J);await Xn(hn(fn,"artifacts",Tn,"public","data","rooms",_),{players:Z,logs:ps({text:"A player was removed from the world.",type:"warning",id:Date.now()})})}catch(Z){console.error("Error kicking player:",Z)}},Yi=async()=>{if(E.hostId!==s.uid)return;const J=Hv(),Z=Fv(),{market:le,bag:ce}=Gv([],J),Oe=Kv([],Z),$=E.players.map(pe=>({...pe,score:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:mm(),holding:[],animals:[],ready:!1,hasDraftedTokens:!1,hasDraftedAnimal:!1}));await Xn(hn(fn,"artifacts",Tn,"public","data","rooms",_),{status:"lobby",players:$,market:le,bag:ce,animalMarket:Oe.market,animalDeck:Oe.deck,logs:[],winnerId:null,turnIndex:0,turnPhase:"PLAY"}),O(!1)},Rs=async J=>{const Z=E.players.findIndex(pe=>pe.id===s.uid);if(E.turnIndex!==Z)return;const le=[...E.players],ce=le[Z];if(ce.hasDraftedTokens)return;let Oe=[...E.market],$=[...E.bag];if(ce.holding=Oe[J].tokens,ce.hasDraftedTokens=!0,Oe.splice(J,1),$.length>=3){const pe={id:Math.random().toString(36).substr(2,9),tokens:[$.pop(),$.pop(),$.pop()].filter(Boolean)};Oe.push(pe)}await Xn(hn(fn,"artifacts",Tn,"public","data","rooms",_),{players:le,market:Oe,bag:$,logs:ps({text:`${ce.name} drafted tokens.`,type:"neutral",id:Date.now()})}),te(null)},Cs=async J=>{const Z=E.players.findIndex(et=>et.id===s.uid);if(E.turnIndex!==Z)return;const le=[...E.players],ce=le[Z];if(ce.hasDraftedAnimal||ce.animals.filter(et=>et.slotsFilled<et.maxSlots).length>=4)return;let $=[...E.animalMarket],pe=[...E.animalDeck];const De=$[J],vt=gs[De.type];if(ce.animals.push({...De,slotsFilled:0,maxSlots:vt.slots}),ce.hasDraftedAnimal=!0,$.splice(J,1),pe.length>0){const et={id:Math.random().toString(36).substr(2,9),type:pe.pop()};$.push(et)}await Xn(hn(fn,"artifacts",Tn,"public","data","rooms",_),{players:le,animalMarket:$,animalDeck:pe,logs:ps({text:`${ce.name} adopted a ${vt.name}.`,type:"neutral",id:Date.now()})}),te(null)},jn=async(J,Z)=>{try{const le=E.players.findIndex(pe=>pe.id===s.uid);if(E.turnIndex!==le)return;const ce=[...E.players],Oe=ce[le],$={players:ce};if(xe!==null&&Oe.holding[xe]){const pe=`${J},${Z}`,De=Oe.board[pe],vt=Oe.holding[xe];if(!qv(De,vt))return;De.stack.push(vt),Oe.holding.splice(xe,1),D(null);const et=GI(Oe.board);Oe.landscapeScore=et.total,Oe.landscapeScoreBreakdown=et.breakdown,!Object.values(Oe.board).some(Wi=>Wi.stack.length===0)&&!E.isLastRound&&($.isLastRound=!0,$.logs||($.logs=[]),$.logs.push({text:`${Oe.name}'s world is full! Finishing the round...`,type:"warning",id:Date.now()})),await Xn(hn(fn,"artifacts",Tn,"public","data","rooms",_),$);return}if(G!==null&&Oe.animals[G]){const pe=Oe.animals[G],De=gs[pe.type];if(!De){console.error("Animal definition missing for type:",pe.type);return}const vt=Oe.board[`${J},${Z}`];if(!vt.animal&&pe.slotsFilled<pe.maxSlots&&De.check(vt,Oe.board)){vt.animal=pe.type;const et=De.points[pe.slotsFilled];pe.slotsFilled+=1,Oe.score+=et,ie(null),$.logs||($.logs=[]),$.logs.push({text:`${Oe.name} placed a ${De.name} (+${et})!`,type:"success",id:Date.now()}),await Xn(hn(fn,"artifacts",Tn,"public","data","rooms",_),$)}}}catch(le){console.error("Placement error:",le),q("Something went wrong with placement. Try refreshing.")}},Rr=async()=>{const J=E.players.findIndex(ce=>ce.id===s.uid);if(E.turnIndex!==J)return;const Z=[...E.players],le=Z[J];xe===null||!le.holding[xe]||(le.holding.splice(xe,1),le.score=Math.max(0,le.score-2),D(null),await Xn(hn(fn,"artifacts",Tn,"public","data","rooms",_),{players:Z,logs:ps({text:`${le.name} discarded a token (-2 pts).`,type:"failure",id:Date.now()})}))},Qi=async()=>{const J=E.players.findIndex(pe=>pe.id===s.uid);if(E.turnIndex!==J)return;const Z=[...E.players],le=Z[J];if(le.holding.length>0||!le.hasDraftedTokens)return;le.hasDraftedTokens=!1,le.hasDraftedAnimal=!1;const ce={players:Z},Oe=(E.turnIndex+1)%E.players.length;let $=E.isLastRound;E.bag.length===0&&E.market.length===0?(ce.status="finished",ce.logs=ps({text:"The Market is empty! Game Over immediately.",type:"warning",id:Date.now()})):$&&Oe===E.startPlayerIndex?(ce.status="finished",ce.logs=ps({text:"Round complete. Game Over!",type:"neutral",id:Date.now()+1})):(E.bag.length===0&&!$&&(ce.isLastRound=!0,ce.logs=ps({text:"The Bag is empty! Finishing the round...",type:"warning",id:Date.now()})),ce.turnIndex=Oe,ce.logs=ps({text:`Turn passed to ${E.players[Oe].name}.`,type:"neutral",id:Date.now()})),await Xn(hn(fn,"artifacts",Tn,"public","data","rooms",_),ce)},Cr=()=>{const J=E.roomId,Z=()=>{Ae(!0),setTimeout(()=>Ae(!1),2e3),triggerFeedback&&triggerFeedback("neutral","COPIED!","",qm)};try{navigator.clipboard.writeText(J),Z()}catch{const ce=document.createElement("textarea");ce.value=J,document.body.appendChild(ce),ce.select(),document.execCommand("copy"),document.body.removeChild(ce),Z()}},gi=()=>{const J=E.players.findIndex(le=>le.id===s.uid);return E.turnIndex===J&&rt!==s.uid?(x({type:"warning",message:"WRONG WORLD",subtext:"Return to your world to make moves.",icon:ih}),setTimeout(()=>x(null),2e3),!1):!0};if(re)return T.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[T.jsx(Yv,{}),T.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[T.jsx(vT,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),T.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),T.jsx("p",{className:"text-gray-400",children:"Meteor impact detected! We're busy repairing the ecosystem."})]}),T.jsx("div",{className:"h-8"}),T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:T.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:T.jsx("div",{className:"text-center pb-12 animate-pulse",children:T.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[T.jsx(kl,{size:16})," Visit Gamehub...Try our other releases..."," ",T.jsx(kl,{size:16})]})})})}),T.jsx(pm,{})]});if(!s)return T.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-emerald-500 animate-pulse",children:"Initializing Ecosystem..."});if(_&&!E&&!I)return T.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center text-white p-4",children:[T.jsx(Gc,{}),T.jsx(dm,{}),T.jsxs("div",{className:"bg-slate-900/80 backdrop-blur p-8 rounded-2xl border border-slate-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[T.jsx(fI,{size:48,className:"text-emerald-500 animate-spin"}),T.jsxs("div",{className:"text-center",children:[T.jsx("h2",{className:"text-xl font-bold",children:"Resuming Session..."}),T.jsx("p",{className:"text-slate-400 text-sm",children:"Returning to the wild"})]})]})]});if(n==="menu")return T.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans select-none",children:[T.jsx(Gc,{}),T.jsx(dm,{}),Ue&&T.jsx(gm,{onClose:()=>C(!1)}),T.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[T.jsx(bo,{size:64,className:"text-emerald-400 mx-auto mb-4 animate-spin-slow"}),T.jsx("h1",{className:"text-5xl md:text-7xl font-thin text-transparent bg-clip-text bg-gradient-to-b from-emerald-400 to-teal-600 tracking-tighter drop-shadow-md",children:"EQUILIBRIUM"}),T.jsx("p",{className:"text-emerald-200/40 tracking-[0.5em] uppercase mt-2 text-xs",children:"Build. Balance. Score."})]}),T.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-emerald-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 relative",children:[I&&T.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 mb-4 rounded text-center text-sm font-bold flex items-center justify-center gap-2",children:[T.jsx(hm,{size:16})," ",I]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("input",{className:"w-full bg-black/50 border border-emerald-700 focus:border-emerald-500 p-4 rounded-xl text-white outline-none transition-all text-lg font-bold text-center",placeholder:"YOUR NAME",value:l,onChange:J=>c(J.target.value),maxLength:12}),T.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[T.jsxs("button",{onClick:Ee,disabled:ee,className:"bg-gradient-to-br from-emerald-600 to-teal-700 hover:from-emerald-500 hover:to-teal-600 p-4 rounded-xl font-bold flex flex-col items-center justify-center gap-1 transition-all active:scale-95 shadow-lg shadow-emerald-900/50",children:[T.jsx(kl,{size:24}),T.jsx("span",{children:"Create"})]}),T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx("input",{className:"bg-black/50 border border-emerald-700 focus:border-emerald-500 p-2 rounded-xl text-white text-center uppercase font-mono font-bold tracking-widest outline-none h-12",placeholder:"CODE",value:d,onChange:J=>g(J.target.value),maxLength:6}),T.jsx("button",{onClick:Ie,disabled:ee,className:"bg-slate-800 hover:bg-slate-700 p-2 rounded-xl font-bold text-slate-300 transition-all active:scale-95 h-full",children:"Join"})]})]}),T.jsxs("button",{onClick:()=>C(!0),className:"w-full mt-4 text-emerald-400 hover:text-emerald-300 text-sm font-bold flex items-center justify-center gap-2 transition-colors py-2",children:[T.jsx(om,{size:16})," Architect's Guide"]})]})]}),T.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center z-10",children:["Inspired by Harmonies.",T.jsx("br",{}),"Developed by"," ",T.jsx("strong",{className:"text-emerald-600",children:"RAWFID K SHUVO"}),"."]})]});if(n==="lobby"&&E){const J=E.hostId===s.uid;return T.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-6 relative",children:[T.jsx(Gc,{}),T.jsx(dm,{}),T.jsx(Yv,{}),Ue&&T.jsx(gm,{onClose:()=>C(!1)}),T.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-2xl border border-emerald-500/30 shadow-2xl animate-in slide-in-from-bottom-8",children:[T.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-lg md:text-xl text-emerald-500 font-bold uppercase",children:"New World:"}),T.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[T.jsx("div",{className:"text-2xl md:text-3xl font-mono text-white font-black",children:_}),T.jsxs("div",{className:"relative",children:[T.jsx("button",{onClick:Cr,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:Ne?T.jsx(qm,{size:16,className:"text-green-500"}):T.jsx(qN,{size:16})}),Ne&&T.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-cyan-500 text-black text-xs font-bold px-2 py-1 rounded shadow-lg animate-fade-in-up whitespace-nowrap",children:"Copied!"})]})]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>C(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:T.jsx(om,{size:20})}),T.jsx("button",{onClick:()=>O(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:T.jsx(zv,{size:20})})]})]}),T.jsxs("div",{className:"space-y-3 mb-8",children:[T.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:["Architects (",E.players.length,"/4)"]}),E.players.map(Z=>T.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-4 rounded-xl border border-slate-700",children:[T.jsxs("span",{className:"font-bold flex items-center gap-3 text-lg",children:[Z.name,Z.id===E.hostId&&T.jsx(_T,{size:16,className:"text-yellow-500"})]}),Z.ready?T.jsx("span",{className:"text-emerald-400 text-xs font-bold uppercase bg-emerald-900/20 px-2 py-1 rounded",children:"Ready"}):T.jsx("span",{className:"text-slate-500 text-xs font-bold uppercase",children:"Waiting"}),E.hostId===s.uid&&Z.id!==s.uid&&T.jsx("button",{onClick:()=>Ki(Z.id),className:"p-2 bg-red-900/20 hover:bg-red-900/50 text-red-500 rounded-lg transition-colors border border-red-900/30",title:"Kick Player",children:T.jsx(Bv,{size:16})})]},Z.id)),Array.from({length:4-E.players.length}).map((Z,le)=>T.jsx("div",{className:"border-2 border-dashed border-slate-700 rounded-xl p-4 flex items-center justify-center text-slate-600 font-bold uppercase text-sm",children:"Empty Slot"},le))]}),J?T.jsxs("button",{onClick:ze,className:"w-full bg-emerald-600 hover:bg-emerald-500 py-4 rounded-xl font-bold text-xl shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2",children:[T.jsx(TI,{size:24,fill:"currentColor"})," Start Game"]}):T.jsx("button",{onClick:St,className:`w-full py-4 rounded-xl font-bold text-xl transition-all active:scale-95 ${E.players.find(Z=>Z.id===s.uid)?.ready?"bg-slate-700 text-emerald-400":"bg-emerald-600 text-white"}`,children:E.players.find(Z=>Z.id===s.uid)?.ready?"READY":"MARK READY"})]}),M&&T.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[T.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase",children:"Leave World?"}),T.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:E.hostId===s.uid?"As Host, leaving ends the game for everyone.":"You will leave this session."}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>O(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Stay"}),T.jsx("button",{onClick:ct,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]})]})}),T.jsx(pm,{})]})}if(n==="game"&&E){const J=E.players.findIndex($=>$.id===s.uid),Z=E.players[J],le=E.turnIndex===J,ce=E.players.find($=>$.id===rt)||Z,Oe=le&&Z.hasDraftedTokens&&Z.holding.length===0;return T.jsxs("div",{className:"fixed inset-0 bg-slate-950 text-white flex flex-col overflow-hidden font-sans select-none",children:[T.jsx(Gc,{}),L&&T.jsx(YI,{type:L.type,message:L.message,subtext:L.subtext,icon:L.icon}),Ue&&T.jsx(gm,{onClose:()=>C(!1)}),w&&T.jsx(QI,{gameState:E,onClose:()=>N(!1)}),de&&T.jsx(WI,{animal:de,onClose:()=>Ge(null)}),T.jsxs("div",{className:"h-14 md:h-16 bg-slate-900 border-b border-emerald-900/30 flex items-center justify-between px-2 z-50 shrink-0 shadow-lg",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"w-10 h-10 bg-emerald-900/50 rounded-lg flex items-center justify-center border border-emerald-700",children:T.jsx(bo,{className:"text-emerald-400",size:20})}),T.jsxs("div",{children:[T.jsx("div",{className:"font-bold text-sm tracking-wider text-emerald-100",children:"EQUILIBRIUM"}),T.jsx("div",{className:"text-[10px] text-emerald-400 font-mono uppercase",children:E.status==="finished"?"GAME OVER":`Turn: ${E.players[E.turnIndex].name}`})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("button",{onClick:()=>N(!0),className:"p-2 hover:bg-slate-800 rounded text-yellow-500 hover:text-white",children:T.jsx(yT,{size:18})}),T.jsx("button",{onClick:()=>C(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:T.jsx(om,{size:18})}),T.jsx("button",{onClick:()=>pt(!Je),className:`p-2 rounded transition-colors ${Je?"bg-slate-800 text-white":"hover:bg-slate-800 text-slate-400"}`,children:T.jsx(aI,{size:18})}),T.jsx("button",{onClick:()=>O(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:T.jsx(zv,{size:18})})]})]}),Je&&T.jsxs("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-slate-900/95 border border-slate-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl custom-scrollbar",children:[T.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 sticky top-0 bg-slate-900/95 py-2",children:"World History"}),T.jsx("div",{className:"space-y-2",children:E.logs.slice().reverse().map($=>T.jsx("div",{className:`text-xs p-2 rounded border-l-2 ${$.type==="success"?"border-emerald-500 bg-emerald-900/10":$.type==="warning"?"border-amber-500 bg-amber-900/10":$.type==="failure"?"border-red-500 bg-red-900/10":"border-slate-500 bg-slate-800/30"}`,children:$.text},$.id))})]}),M&&T.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[T.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase",children:"Leave World?"}),T.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:E.hostId===s.uid?"As Host, leaving ends the game for everyone.":"You will leave this session."}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>O(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Stay"}),T.jsx("button",{onClick:ct,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]}),E.hostId===s.uid&&T.jsx("button",{onClick:Yi,className:"w-full bg-slate-700 hover:bg-slate-600 py-2 rounded font-bold text-emerald-400 mt-2 text-sm",children:"Return All to Lobby"})]})}),T.jsxs("div",{className:"flex-1 relative bg-slate-950 overflow-hidden flex flex-col items-center justify-center",children:[T.jsx("div",{className:"absolute top-2 md:top-4 left-0 right-0 z-10 grid grid-cols-4 gap-1 px-2 w-full max-w-2xl mx-auto pointer-events-auto",children:E.players.map($=>T.jsxs("button",{onClick:()=>gt($.id),className:`
                                flex flex-col items-center justify-center h-12 md:h-14 rounded-xl border-2 transition-all w-full
                                ${rt===$.id?"bg-slate-800 border-emerald-500 shadow-lg scale-105 z-10":"bg-slate-900/80 border-slate-700 hover:bg-slate-800/80 text-slate-400"}
                            `,children:[T.jsx("span",{className:`text-[9px] md:text-[10px] font-bold uppercase truncate max-w-full px-1 ${$.id===E.players[E.turnIndex].id?"text-emerald-400":""}`,children:$.name}),T.jsx("span",{className:"text-[10px] md:text-xs font-black text-yellow-500",children:$.score+$.landscapeScore})]},$.id))}),ce.id!==s.uid?T.jsxs("div",{className:"absolute top-20 bg-red-800/80 px-4 py-1 rounded-full text-xs font-bold text-slate-300 flex items-center gap-2 z-10 backdrop-blur animate-pulse",children:[T.jsx(ih,{size:12})," ",ce.name,"'s World"]}):T.jsxs("div",{className:"absolute top-20 bg-green-800/80 px-4 py-1 rounded-full text-xs font-bold text-slate-300 flex items-center gap-2 z-10 backdrop-blur animate-pulse",children:[T.jsx(ih,{size:12})," Your World"]}),T.jsx("div",{className:"relative w-[340px] h-[300px] transition-transform -mt-20 md:-mt-24 transform scale-100 md:scale-125",children:Object.values(ce.board).map($=>{let pe=!1;if(G!==null&&Z.animals[G]){const De=gs[Z.animals[G].type];De&&!$.animal&&Z.animals[G].slotsFilled<Z.animals[G].maxSlots&&(pe=De.check($,ce.board))}return T.jsx(KI,{...$,isPlaceable:le&&ce.id===s.uid&&(xe!==null&&Z.holding[xe]&&qv($,Z.holding[xe])||pe),ghostToken:xe!==null?Z.holding[xe]:null,ghostAnimal:G!==null?Z.animals[G].type:null,isValidTarget:pe,onClick:ce.id===s.uid?jn:void 0},`${$.q},${$.r}`)})}),F&&T.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>te(null),children:T.jsxs("div",{className:"bg-slate-900 border border-slate-600 p-6 rounded-3xl w-full max-w-lg shadow-2xl",onClick:$=>$.stopPropagation(),children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsxs("h3",{className:"text-xl font-bold text-white uppercase tracking-widest flex items-center gap-2",children:[F==="TOKENS"?T.jsx(kl,{className:"text-cyan-400"}):T.jsx(aa,{className:"text-orange-400"}),"Select ",F==="TOKENS"?"Tokens":"Animal"]}),T.jsx("button",{onClick:()=>te(null),className:"p-2 bg-slate-800 rounded-full text-slate-400",children:T.jsx(kp,{size:20})})]}),F==="TOKENS"?T.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-[60vh] overflow-y-auto custom-scrollbar",children:E.market.map(($,pe)=>T.jsx("button",{onClick:()=>Rs(pe),disabled:!le||Z.hasDraftedTokens,className:"bg-slate-800 border-2 border-slate-700 hover:border-cyan-500 p-4 rounded-xl flex items-center justify-center gap-2 hover:bg-slate-700 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:grayscale-0",children:$.tokens.map((De,vt)=>{const et=yr[De];return T.jsx("div",{className:`w-8 h-8 rounded-full border shadow-sm flex items-center justify-center ${et.color} ${et.border}`,children:T.jsx(et.icon,{size:14,className:"text-white/70"})},vt)})},$.id))}):T.jsxs("div",{className:"grid grid-cols-1 gap-3 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[E.animalMarket.map(($,pe)=>{const De=gs[$.type],vt=le&&!Z.hasDraftedAnimal&&Z.animals.filter(et=>et.slotsFilled<et.maxSlots).length<4;return T.jsxs("button",{onClick:()=>Cs(pe),disabled:!vt,className:`bg-slate-800 border-2 border-slate-700 p-4 rounded-xl flex items-center gap-4 text-left transition-all ${vt?"hover:border-orange-500 hover:bg-slate-700 active:scale-95":"opacity-50 cursor-not-allowed"}`,children:[T.jsx("div",{className:"bg-black/30 p-3 rounded-full shrink-0",children:T.jsx(De.icon,{className:De.iconColor,size:24})}),T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("div",{className:"font-bold text-white text-lg",children:De.name}),T.jsxs("span",{className:"text-yellow-500 text-sm font-bold",children:["+",De.points.join("/")]})]}),T.jsx("div",{className:"text-slate-400 text-xs",children:De.desc}),T.jsx("div",{className:"mt-2 flex justify-center scale-90 origin-left",children:T.jsx(Sh,{visual:De.visual})})]})]},$.id)}),E.animalMarket.length===0&&T.jsx("div",{className:"text-slate-500 text-center py-8",children:"No animals wandering by..."})]})]})}),E.status==="finished"&&T.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 flex items-center justify-center backdrop-blur-sm",children:T.jsxs("div",{className:"bg-slate-900 p-8 rounded-2xl border-2 border-yellow-500 text-center shadow-2xl animate-in zoom-in max-w-lg w-full m-4",children:[T.jsx(jI,{size:64,className:"text-yellow-400 mx-auto mb-4 animate-bounce"}),T.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-4",children:"Game Complete"}),T.jsx("div",{className:"space-y-3 mb-6 max-h-[50vh] overflow-y-auto custom-scrollbar text-sm",children:E.players.sort(($,pe)=>pe.score+pe.landscapeScore-($.score+$.landscapeScore)).map(($,pe)=>T.jsxs("div",{className:"bg-slate-800 p-3 rounded-xl border border-slate-700 flex flex-col gap-2",children:[T.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("span",{className:"font-mono text-emerald-500 font-bold",children:["#",pe+1]}),T.jsx("span",{className:"font-bold text-white text-lg",children:$.name})]}),T.jsx("span",{className:"text-2xl font-black text-yellow-500",children:$.score+$.landscapeScore})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-slate-400",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Animals:"})," ",T.jsx("span",{className:"text-white font-bold",children:$.score})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Trees:"})," ",T.jsx("span",{className:"text-white font-bold",children:$.landscapeScoreBreakdown?.trees||0})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Mountains:"})," ",T.jsx("span",{className:"text-white font-bold",children:$.landscapeScoreBreakdown?.mountains||0})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Fields:"})," ",T.jsx("span",{className:"text-white font-bold",children:$.landscapeScoreBreakdown?.fields||0})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Rivers:"})," ",T.jsx("span",{className:"text-white font-bold",children:$.landscapeScoreBreakdown?.rivers||0})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Buildings:"})," ",T.jsx("span",{className:"text-white font-bold",children:$.landscapeScoreBreakdown?.buildings||0})]})]})]},$.id))}),E.hostId===s.uid&&T.jsx("button",{onClick:Yi,className:"bg-slate-700 hover:bg-slate-600 px-6 py-3 rounded-xl font-bold w-full",children:"Return to Lobby"})]})})]}),T.jsx("div",{className:"h-40 bg-transparent absolute bottom-0 left-0 right-0 z-40 p-4 flex justify-between items-end pointer-events-none",children:T.jsxs("div",{className:"flex gap-4 pointer-events-auto items-end w-full",children:[T.jsxs("div",{className:"flex flex-col gap-4 mb-1",children:[le&&Z.holding.length>0&&T.jsxs("div",{className:"bg-emerald-900/90 border border-cyan-500/30 px-3 py-2 rounded-xl shadow-2xl flex flex-col items-center gap-2 backdrop-blur-md",children:[T.jsx("span",{className:"text-[8px] font-bold text-cyan-400 uppercase tracking-widest",children:"Placing"}),T.jsxs("div",{className:"flex items-center gap-2",children:[Z.holding.map(($,pe)=>{const De=yr[$];return T.jsx("button",{onClick:()=>{gi()&&(D(pe),ie(null))},className:`w-8 h-8 rounded-full border-2 shadow-lg flex items-center justify-center transition-all active:scale-90 ${De.color} ${De.border} ${xe===pe?"ring-4 ring-white scale-110 z-10":"opacity-80 hover:opacity-100 hover:scale-105"}`,children:T.jsx(De.icon,{size:14,className:"text-white/80"})},pe)}),xe!==null&&T.jsx("button",{onClick:Rr,className:"w-8 h-8 rounded-full border-2 border-red-500 bg-red-900/50 flex items-center justify-center hover:bg-red-800 transition-colors",title:"Discard Token (-2 pts)",children:T.jsx(Bv,{size:12,className:"text-red-300"})})]})]}),Oe&&T.jsxs("button",{onClick:Qi,className:"bg-red-600 hover:bg-red-500 text-white font-bold py-2 px-4 rounded-xl shadow-lg animate-bounce flex items-center justify-center gap-2 text-sm whitespace-nowrap",children:["End Turn ",T.jsx(TT,{size:14})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx("button",{onClick:()=>{gi()&&te("TOKENS")},className:`w-14 h-14 rounded-full border-2 shadow-xl flex items-center justify-center transition-all active:scale-90 ${le&&!Z.hasDraftedTokens?"bg-cyan-600 border-cyan-400 text-white animate-bounce-subtle":"bg-slate-800 border-slate-600 text-slate-500"}`,children:T.jsx(nI,{size:24})}),T.jsx("button",{onClick:()=>{gi()&&te("ANIMALS")},className:`w-14 h-14 rounded-full border-2 shadow-xl flex items-center justify-center transition-all active:scale-90 ${le&&!Z.hasDraftedAnimal&&Z.animals.filter($=>$.slotsFilled<$.maxSlots).length<4?"bg-orange-600 border-orange-400 text-white":"bg-slate-800 border-slate-600 text-slate-500"}`,children:T.jsx(aa,{size:24})})]})]}),T.jsx("div",{className:"flex gap-2 items-end ml-2 overflow-x-auto pb-1 max-w-[calc(100vw-160px)] no-scrollbar mask-gradient-right h-52",children:ce.animals.map(($,pe)=>{const De=gs[$.type],vt=pe===G&&ce.id===s.uid,et=$.slotsFilled>=$.maxSlots;return T.jsxs("button",{onClick:()=>{if(ce.id!==s.uid){gi();return}D(null),ie(vt?null:pe)},className:`relative w-28 h-44 bg-slate-900/90 border-2 rounded-xl flex flex-col shadow-xl shrink-0 backdrop-blur-md transition-all hover:-translate-y-2 text-left overflow-hidden ${vt?"border-yellow-400 ring-2 ring-yellow-500/50 scale-105 z-10":"border-slate-600"} ${et?"grayscale opacity-75":""}`,children:[T.jsxs("div",{className:"flex justify-between items-center p-2 border-b border-white/10 bg-black/20 h-10 shrink-0",children:[T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(De.icon,{size:14,className:De.iconColor}),T.jsx("span",{className:"text-xs font-bold text-white truncate max-w-[60px]",children:De.name})]}),T.jsxs("span",{className:"text-xs font-black text-yellow-500",children:["+",De.points[Math.min($.slotsFilled,De.points.length-1)]]})]}),T.jsxs("div",{className:"p-2 flex-1 flex flex-col items-center w-full min-h-0 justify-between",children:[T.jsx("div",{className:"scale-75 origin-center shrink-0",children:T.jsx(Sh,{visual:De.visual})}),T.jsx("div",{className:"text-[9px] text-slate-300 text-center leading-tight line-clamp-2 px-1 w-full break-words min-h-[24px] flex items-center justify-center",children:De.desc}),T.jsx("div",{className:"w-full shrink-0 pt-1",children:T.jsx("div",{className:"flex gap-1 justify-center",children:Array.from({length:$.maxSlots}).map((Io,Wi)=>T.jsx("div",{className:`h-1.5 w-full rounded-full border ${Wi<$.slotsFilled?"bg-green-500 border-green-400":"bg-slate-700 border-slate-600"}`},Wi))})})]})]},$.id)})})]})}),T.jsx(pm,{})]})}return null}h2.createRoot(document.getElementById("root")).render(T.jsx(Qe.StrictMode,{children:T.jsx($I,{})}));
