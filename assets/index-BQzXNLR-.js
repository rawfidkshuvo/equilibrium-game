(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function e2(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Hd={exports:{}},Il={};var e_;function t2(){if(e_)return Il;e_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var t_;function n2(){return t_||(t_=1,Hd.exports=t2()),Hd.exports}var E=n2(),Fd={exports:{}},Ne={};var n_;function i2(){if(n_)return Ne;n_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function H(D){return D===null||typeof D!="object"?null:(D=O&&D[O]||D["@@iterator"],typeof D=="function"?D:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,se={};function _e(D,G,ne){this.props=D,this.context=G,this.refs=se,this.updater=ne||Z}_e.prototype.isReactComponent={},_e.prototype.setState=function(D,G){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,G,"setState")},_e.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Ie(){}Ie.prototype=_e.prototype;function we(D,G,ne){this.props=D,this.context=G,this.refs=se,this.updater=ne||Z}var tt=we.prototype=new Ie;tt.constructor=we,ie(tt,_e.prototype),tt.isPureReactComponent=!0;var _t=Array.isArray;function Ue(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(D,G,ne){var ae=ne.ref;return{$$typeof:s,type:D,key:G,ref:ae!==void 0?ae:null,props:ne}}function M(D,G){return C(D.type,G,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function L(D){var G={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ne){return G[ne]})}var x=/\/+/g;function at(D,G){return typeof D=="object"&&D!==null&&D.key!=null?L(""+D.key):G.toString(36)}function vt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Ue,Ue):(D.status="pending",D.then(function(G){D.status==="pending"&&(D.status="fulfilled",D.value=G)},function(G){D.status==="pending"&&(D.status="rejected",D.reason=G)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,G,ne,ae,be){var Oe=typeof D;(Oe==="undefined"||Oe==="boolean")&&(D=null);var ze=!1;if(D===null)ze=!0;else switch(Oe){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(D.$$typeof){case s:case e:ze=!0;break;case T:return ze=D._init,F(ze(D._payload),G,ne,ae,be)}}if(ze)return be=be(D),ze=ae===""?"."+at(D,0):ae,_t(be)?(ne="",ze!=null&&(ne=ze.replace(x,"$&/")+"/"),F(be,G,ne,"",function(Ti){return Ti})):be!=null&&(I(be)&&(be=M(be,ne+(be.key==null||D&&D.key===be.key?"":(""+be.key).replace(x,"$&/")+"/")+ze)),G.push(be)),1;ze=0;var wt=ae===""?".":ae+":";if(_t(D))for(var dt=0;dt<D.length;dt++)ae=D[dt],Oe=wt+at(ae,dt),ze+=F(ae,G,ne,Oe,be);else if(dt=H(D),typeof dt=="function")for(D=dt.call(D),dt=0;!(ae=D.next()).done;)ae=ae.value,Oe=wt+at(ae,dt++),ze+=F(ae,G,ne,Oe,be);else if(Oe==="object"){if(typeof D.then=="function")return F(vt(D),G,ne,ae,be);throw G=String(D),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ze}function te(D,G,ne){if(D==null)return D;var ae=[],be=0;return F(D,ae,"","",function(Oe){return G.call(ne,Oe,be++)}),ae}function me(D){if(D._status===-1){var G=D._result;G=G(),G.then(function(ne){(D._status===0||D._status===-1)&&(D._status=1,D._result=ne)},function(ne){(D._status===0||D._status===-1)&&(D._status=2,D._result=ne)}),D._status===-1&&(D._status=0,D._result=G)}if(D._status===1)return D._result.default;throw D._result}var Ge=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Re={map:te,forEach:function(D,G,ne){te(D,function(){G.apply(this,arguments)},ne)},count:function(D){var G=0;return te(D,function(){G++}),G},toArray:function(D){return te(D,function(G){return G})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ne.Activity=S,Ne.Children=Re,Ne.Component=_e,Ne.Fragment=n,Ne.Profiler=l,Ne.PureComponent=we,Ne.StrictMode=r,Ne.Suspense=_,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},Ne.cache=function(D){return function(){return D.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(D,G,ne){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ae=ie({},D.props),be=D.key;if(G!=null)for(Oe in G.key!==void 0&&(be=""+G.key),G)!w.call(G,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&G.ref===void 0||(ae[Oe]=G[Oe]);var Oe=arguments.length-2;if(Oe===1)ae.children=ne;else if(1<Oe){for(var ze=Array(Oe),wt=0;wt<Oe;wt++)ze[wt]=arguments[wt+2];ae.children=ze}return C(D.type,be,ae)},Ne.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Ne.createElement=function(D,G,ne){var ae,be={},Oe=null;if(G!=null)for(ae in G.key!==void 0&&(Oe=""+G.key),G)w.call(G,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(be[ae]=G[ae]);var ze=arguments.length-2;if(ze===1)be.children=ne;else if(1<ze){for(var wt=Array(ze),dt=0;dt<ze;dt++)wt[dt]=arguments[dt+2];be.children=wt}if(D&&D.defaultProps)for(ae in ze=D.defaultProps,ze)be[ae]===void 0&&(be[ae]=ze[ae]);return C(D,Oe,be)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(D){return{$$typeof:g,render:D}},Ne.isValidElement=I,Ne.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:me}},Ne.memo=function(D,G){return{$$typeof:y,type:D,compare:G===void 0?null:G}},Ne.startTransition=function(D){var G=N.T,ne={};N.T=ne;try{var ae=D(),be=N.S;be!==null&&be(ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ue,Ge)}catch(Oe){Ge(Oe)}finally{G!==null&&ne.types!==null&&(G.types=ne.types),N.T=G}},Ne.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ne.use=function(D){return N.H.use(D)},Ne.useActionState=function(D,G,ne){return N.H.useActionState(D,G,ne)},Ne.useCallback=function(D,G){return N.H.useCallback(D,G)},Ne.useContext=function(D){return N.H.useContext(D)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(D,G){return N.H.useDeferredValue(D,G)},Ne.useEffect=function(D,G){return N.H.useEffect(D,G)},Ne.useEffectEvent=function(D){return N.H.useEffectEvent(D)},Ne.useId=function(){return N.H.useId()},Ne.useImperativeHandle=function(D,G,ne){return N.H.useImperativeHandle(D,G,ne)},Ne.useInsertionEffect=function(D,G){return N.H.useInsertionEffect(D,G)},Ne.useLayoutEffect=function(D,G){return N.H.useLayoutEffect(D,G)},Ne.useMemo=function(D,G){return N.H.useMemo(D,G)},Ne.useOptimistic=function(D,G){return N.H.useOptimistic(D,G)},Ne.useReducer=function(D,G,ne){return N.H.useReducer(D,G,ne)},Ne.useRef=function(D){return N.H.useRef(D)},Ne.useState=function(D){return N.H.useState(D)},Ne.useSyncExternalStore=function(D,G,ne){return N.H.useSyncExternalStore(D,G,ne)},Ne.useTransition=function(){return N.H.useTransition()},Ne.version="19.2.4",Ne}var i_;function Hm(){return i_||(i_=1,Fd.exports=i2()),Fd.exports}var We=Hm();const s2=e2(We);var Gd={exports:{}},Ol={},Kd={exports:{}},Yd={};var s_;function r2(){return s_||(s_=1,(function(s){function e(F,te){var me=F.length;F.push(te);e:for(;0<me;){var Ge=me-1>>>1,Re=F[Ge];if(0<l(Re,te))F[Ge]=te,F[me]=Re,me=Ge;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var te=F[0],me=F.pop();if(me!==te){F[0]=me;e:for(var Ge=0,Re=F.length,D=Re>>>1;Ge<D;){var G=2*(Ge+1)-1,ne=F[G],ae=G+1,be=F[ae];if(0>l(ne,me))ae<Re&&0>l(be,ne)?(F[Ge]=be,F[ae]=me,Ge=ae):(F[Ge]=ne,F[G]=me,Ge=G);else if(ae<Re&&0>l(be,me))F[Ge]=be,F[ae]=me,Ge=ae;else break e}}return te}function l(F,te){var me=F.sortIndex-te.sortIndex;return me!==0?me:F.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],T=1,S=null,O=3,H=!1,Z=!1,ie=!1,se=!1,_e=typeof setTimeout=="function"?setTimeout:null,Ie=typeof clearTimeout=="function"?clearTimeout:null,we=typeof setImmediate<"u"?setImmediate:null;function tt(F){for(var te=n(y);te!==null;){if(te.callback===null)r(y);else if(te.startTime<=F)r(y),te.sortIndex=te.expirationTime,e(_,te);else break;te=n(y)}}function _t(F){if(ie=!1,tt(F),!Z)if(n(_)!==null)Z=!0,Ue||(Ue=!0,L());else{var te=n(y);te!==null&&vt(_t,te.startTime-F)}}var Ue=!1,N=-1,w=5,C=-1;function M(){return se?!0:!(s.unstable_now()-C<w)}function I(){if(se=!1,Ue){var F=s.unstable_now();C=F;var te=!0;try{e:{Z=!1,ie&&(ie=!1,Ie(N),N=-1),H=!0;var me=O;try{t:{for(tt(F),S=n(_);S!==null&&!(S.expirationTime>F&&M());){var Ge=S.callback;if(typeof Ge=="function"){S.callback=null,O=S.priorityLevel;var Re=Ge(S.expirationTime<=F);if(F=s.unstable_now(),typeof Re=="function"){S.callback=Re,tt(F),te=!0;break t}S===n(_)&&r(_),tt(F)}else r(_);S=n(_)}if(S!==null)te=!0;else{var D=n(y);D!==null&&vt(_t,D.startTime-F),te=!1}}break e}finally{S=null,O=me,H=!1}te=void 0}}finally{te?L():Ue=!1}}}var L;if(typeof we=="function")L=function(){we(I)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,at=x.port2;x.port1.onmessage=I,L=function(){at.postMessage(null)}}else L=function(){_e(I,0)};function vt(F,te){N=_e(function(){F(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(F){switch(O){case 1:case 2:case 3:var te=3;break;default:te=O}var me=O;O=te;try{return F()}finally{O=me}},s.unstable_requestPaint=function(){se=!0},s.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var me=O;O=F;try{return te()}finally{O=me}},s.unstable_scheduleCallback=function(F,te,me){var Ge=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ge+me:Ge):me=Ge,F){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=me+Re,F={id:T++,callback:te,priorityLevel:F,startTime:me,expirationTime:Re,sortIndex:-1},me>Ge?(F.sortIndex=me,e(y,F),n(_)===null&&F===n(y)&&(ie?(Ie(N),N=-1):ie=!0,vt(_t,me-Ge))):(F.sortIndex=Re,e(_,F),Z||H||(Z=!0,Ue||(Ue=!0,L()))),F},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(F){var te=O;return function(){var me=O;O=te;try{return F.apply(this,arguments)}finally{O=me}}}})(Yd)),Yd}var r_;function a2(){return r_||(r_=1,Kd.exports=r2()),Kd.exports}var Qd={exports:{}},on={};var a_;function o2(){if(a_)return on;a_=1;var s=Hm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,T)},on.flushSync=function(_){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=T,r.d.f()}},on.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},on.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},on.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:H}):T==="script"&&r.d.X(_,{crossOrigin:S,integrity:O,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},on.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},on.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin);r.d.L(_,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},on.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},on.requestFormReset=function(_){r.d.r(_)},on.unstable_batchedUpdates=function(_,y){return _(y)},on.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},on.useFormStatus=function(){return d.H.useHostTransitionStatus()},on.version="19.2.4",on}var o_;function l2(){if(o_)return Qd.exports;o_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Qd.exports=o2(),Qd.exports}var l_;function u2(){if(l_)return Ol;l_=1;var s=a2(),e=Hm(),n=l2();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,b=h.child;b;){if(b===a){p=!0,a=h,o=f;break}if(b===o){p=!0,o=h,a=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===a){p=!0,a=f,o=h;break}if(b===o){p=!0,o=f,a=h;break}b=b.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),Ie=Symbol.for("react.consumer"),we=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case _e:return"Profiler";case se:return"StrictMode";case _t:return"Suspense";case Ue:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case we:return t.displayName||"Context";case Ie:return(t._context.displayName||"Context")+".Consumer";case tt:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:at(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return at(t(i))}catch{}}return null}var vt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ge=[],Re=-1;function D(t){return{current:t}}function G(t){0>Re||(t.current=Ge[Re],Ge[Re]=null,Re--)}function ne(t,i){Re++,Ge[Re]=t.current,t.current=i}var ae=D(null),be=D(null),Oe=D(null),ze=D(null);function wt(t,i){switch(ne(Oe,i),ne(be,t),ne(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Ay(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Ay(i),t=Sy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(ae),ne(ae,t)}function dt(){G(ae),G(be),G(Oe)}function Ti(t){t.memoizedState!==null&&ne(ze,t);var i=ae.current,a=Sy(i,t.type);i!==a&&(ne(be,t),ne(ae,a))}function Os(t){be.current===t&&(G(ae),G(be)),ze.current===t&&(G(ze),xl._currentValue=me)}var Ds,ks;function Pn(t){if(Ds===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ds=i&&i[1]||"",ks=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ds+t+ks}var Or=!1;function Ji(t,i){if(!t||Or)return"";Or=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var P=q}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(q){P=q}t.call(Q.prototype)}}else{try{throw Error()}catch(q){P=q}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],b=f[1];if(p&&b){var R=p.split(`
`),z=b.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var K=`
`+R[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=h);break}}}finally{Or=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Pn(a):""}function bi(t,i){switch(t.tag){case 26:case 27:case 5:return Pn(t.type);case 16:return Pn("Lazy");case 13:return t.child!==i&&i!==null?Pn("Suspense Fallback"):Pn("Suspense");case 19:return Pn("SuspenseList");case 0:case 15:return Ji(t.type,!1);case 11:return Ji(t.type.render,!1);case 1:return Ji(t.type,!0);case 31:return Pn("Activity");default:return""}}function oe(t){try{var i="",a=null;do i+=bi(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var X=Object.prototype.hasOwnProperty,re=s.unstable_scheduleCallback,ue=s.unstable_cancelCallback,De=s.unstable_shouldYield,J=s.unstable_requestPaint,ce=s.unstable_now,Ae=s.unstable_getCurrentPriorityLevel,Ye=s.unstable_ImmediatePriority,Ze=s.unstable_UserBlockingPriority,Bn=s.unstable_NormalPriority,ii=s.unstable_LowPriority,ht=s.unstable_IdlePriority,si=s.log,qn=s.unstable_setDisableYieldValue,an=null,mt=null;function fn(t){if(typeof si=="function"&&qn(t),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(an,t)}catch{}}var bt=Math.clz32?Math.clz32:mu,du=Math.log,ya=Math.LN2;function mu(t){return t>>>=0,t===0?32:31-(du(t)/ya|0)|0}var Ai=256,Dr=262144,Dt=4194304;function Si(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wi(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=Si(o):(p&=b,p!==0?h=Si(p):a||(a=b&~t,a!==0&&(h=Si(a))))):(b=o&~f,b!==0?h=Si(b):p!==0?h=Si(p):a||(a=o&~t,a!==0&&(h=Si(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function ri(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Kh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pu(){var t=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),t}function xi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function kr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yh(t,i,a,o,h,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(a=p&~a;0<a;){var K=31-bt(a),Q=1<<K;b[K]=0,R[K]=-1;var P=z[K];if(P!==null)for(z[K]=null,K=0;K<P.length;K++){var q=P[K];q!==null&&(q.lane&=-536870913)}a&=~Q}o!==0&&Mr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~i))}function Mr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-bt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Oo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-bt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Do(t,i){var a=i&-i;return a=(a&42)!==0?1:Vr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Vr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function es(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:Yy(t.type))}function ai(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var oi=Math.random().toString(36).slice(2),kt="__reactFiber$"+oi,Yt="__reactProps$"+oi,Ri="__reactContainer$"+oi,_a="__reactEvents$"+oi,Qh="__reactListeners$"+oi,yu="__reactHandles$"+oi,_u="__reactResources$"+oi,Ni="__reactMarker$"+oi;function va(t){delete t[kt],delete t[Yt],delete t[_a],delete t[Qh],delete t[yu]}function Ci(t){var i=t[kt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ri]||a[kt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Oy(t);t!==null;){if(a=t[kt])return a;t=Oy(t)}return i}t=a,a=t.parentNode}return null}function Hn(t){if(t=t[kt]||t[Ri]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Cn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Ii(t){var i=t[_u];return i||(i=t[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Mt(t){t[Ni]=!0}var ko=new Set,Mo={};function Oi(t,i){Di(t,i),Di(t+"Capture",i)}function Di(t,i){for(Mo[t]=i,t=0;t<i.length;t++)ko.add(i[t])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},jo={};function vu(t){return X.call(jo,t)?!0:X.call(Lo,t)?!1:Vo.test(t)?jo[t]=!0:(Lo[t]=!0,!1)}function Ea(t,i,a){if(vu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function In(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Vt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ms(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Uo(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function it(t){if(!t._valueTracker){var i=Ms(t)?"checked":"value";t._valueTracker=Uo(t,i,""+t[i])}}function Lr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=Ms(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function ki(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jr=/[\n"\\]/g;function gn(t){return t.replace(jr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ta(t,i,a,o,h,f,p,b){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),i!=null?p==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Qt(i)):t.value!==""+Qt(i)&&(t.value=""+Qt(i)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),i!=null?zo(t,p,Qt(i)):a!=null?zo(t,p,Qt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Qt(b):t.removeAttribute("name")}function Eu(t,i,a,o,h,f,p,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){it(t);return}a=a!=null?""+Qt(a):"",i=i!=null?""+Qt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),it(t)}function zo(t,i,a){i==="number"&&ki(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Vs(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Qt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Tu(t,i,a){if(i!=null&&(i=""+Qt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Qt(a):""}function Ls(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(vt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Qt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),it(t)}function yn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||bu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Bo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Po(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Po(t,f,i[f])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),js=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return js.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function li(){}var qo=null;function Fn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Us=null,Mi=null;function Ur(t){var i=Hn(t);if(i&&(t=i.stateNode)){var a=t[Yt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ta(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Yt]||null;if(!h)throw Error(r(90));Ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Lr(o)}break e;case"textarea":Tu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Vs(t,!!a.multiple,i,!1)}}}var Sa=!1;function zs(t,i,a){if(Sa)return t(i,a);Sa=!0;try{var o=t(i);return o}finally{if(Sa=!1,(Us!==null||Mi!==null)&&(gc(),Us&&(i=Us,t=Mi,Mi=Us=null,Ur(i),t)))for(i=0;i<t.length;i++)Ur(t[i])}}function ui(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Yt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zr=!1;if(Gn)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){zr=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{zr=!1}var Vi=null,Ho=null,Pr=null;function Fo(){if(Pr)return Pr;var t,i=Ho,a=i.length,o,h="value"in Vi?Vi.value:Vi.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var p=a-t;for(o=1;o<=p&&i[a-o]===h[f-o];o++);return Pr=h.slice(t,1<o?1-o:void 0)}function Br(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ts(){return!0}function ci(){return!1}function Xt(t){function i(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ts:ci,this.isPropagationStopped=ci,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),i}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=Xt(ns),Ps=S({},ns,{view:0,detail:0}),Go=Xt(Ps),Bs,wa,ji,xa=S({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ji&&(ji&&t.type==="mousemove"?(Bs=t.screenX-ji.screenX,wa=t.screenY-ji.screenY):wa=Bs=0,ji=t),Bs)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Ko=Xt(xa),qr=S({},xa,{dataTransfer:0}),Su=Xt(qr),wu=S({},Ps,{relatedTarget:0}),Hr=Xt(wu),Yo=S({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),xu=Xt(Yo),Ra=S({},ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ru=Xt(Ra),Nu=S({},ns,{data:0}),Ui=Xt(Nu),Cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ou[t])?!!i[t]:!1}function qs(){return Du}var dn=S({},Ps,{key:function(t){if(t.key){var i=Cu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Br(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(t){return t.type==="keypress"?Br(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Br(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ku=Xt(dn),Mu=S({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=Xt(Mu),u=S({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),m=Xt(u),v=S({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Xt(v),j=S({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Xt(j),ee=S({},ns,{newState:0,oldState:0}),ke=Xt(ee),Nt=[9,13,27,32],Je=Gn&&"CompositionEvent"in window,Et=null;Gn&&"documentMode"in document&&(Et=document.documentMode);var Kn=Gn&&"TextEvent"in window&&!Et,zi=Gn&&(!Je||Et&&8<Et&&11>=Et),hi=" ",fi=!1;function Fr(t,i){switch(t){case"keyup":return Nt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function ST(t,i){switch(t){case"compositionend":return Na(i);case"keypress":return i.which!==32?null:(fi=!0,hi);case"textInput":return t=i.data,t===hi&&fi?null:t;default:return null}}function wT(t,i){if(Ca)return t==="compositionend"||!Je&&Fr(t,i)?(t=Fo(),Pr=Ho=Vi=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return zi&&i.locale!=="ko"?null:i.data;default:return null}}var xT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!xT[t.type]:i==="textarea"}function Vp(t,i,a,o){Us?Mi?Mi.push(o):Mi=[o]:Us=o,i=Ac(i,"onChange"),0<i.length&&(a=new Li("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Qo=null,Wo=null;function RT(t){yy(t,0)}function Vu(t){var i=Cn(t);if(Lr(i))return t}function Lp(t,i){if(t==="change")return i}var jp=!1;if(Gn){var Wh;if(Gn){var $h="oninput"in document;if(!$h){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),$h=typeof Up.oninput=="function"}Wh=$h}else Wh=!1;jp=Wh&&(!document.documentMode||9<document.documentMode)}function zp(){Qo&&(Qo.detachEvent("onpropertychange",Pp),Wo=Qo=null)}function Pp(t){if(t.propertyName==="value"&&Vu(Wo)){var i=[];Vp(i,Wo,t,Fn(t)),zs(RT,i)}}function NT(t,i,a){t==="focusin"?(zp(),Qo=i,Wo=a,Qo.attachEvent("onpropertychange",Pp)):t==="focusout"&&zp()}function CT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(Wo)}function IT(t,i){if(t==="click")return Vu(i)}function OT(t,i){if(t==="input"||t==="change")return Vu(i)}function DT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var On=typeof Object.is=="function"?Object.is:DT;function $o(t,i){if(On(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!X.call(i,h)||!On(t[h],i[h]))return!1}return!0}function Bp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qp(t,i){var a=Bp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bp(a)}}function Hp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Hp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Fp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ki(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ki(t.document)}return i}function Xh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var kT=Gn&&"documentMode"in document&&11>=document.documentMode,Ia=null,Zh=null,Xo=null,Jh=!1;function Gp(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jh||Ia==null||Ia!==ki(o)||(o=Ia,"selectionStart"in o&&Xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Xo&&$o(Xo,o)||(Xo=o,o=Ac(Zh,"onSelect"),0<o.length&&(i=new Li("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Ia)))}function Gr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Oa={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionrun:Gr("Transition","TransitionRun"),transitionstart:Gr("Transition","TransitionStart"),transitioncancel:Gr("Transition","TransitionCancel"),transitionend:Gr("Transition","TransitionEnd")},ef={},Kp={};Gn&&(Kp=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Kr(t){if(ef[t])return ef[t];if(!Oa[t])return t;var i=Oa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Kp)return ef[t]=i[a];return t}var Yp=Kr("animationend"),Qp=Kr("animationiteration"),Wp=Kr("animationstart"),MT=Kr("transitionrun"),VT=Kr("transitionstart"),LT=Kr("transitioncancel"),$p=Kr("transitionend"),Xp=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function di(t,i){Xp.set(t,i),Oi(i,[t])}var Lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yn=[],Da=0,nf=0;function ju(){for(var t=Da,i=nf=Da=0;i<t;){var a=Yn[i];Yn[i++]=null;var o=Yn[i];Yn[i++]=null;var h=Yn[i];Yn[i++]=null;var f=Yn[i];if(Yn[i++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Zp(a,h,f)}}function Uu(t,i,a,o){Yn[Da++]=t,Yn[Da++]=i,Yn[Da++]=a,Yn[Da++]=o,nf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function sf(t,i,a,o){return Uu(t,i,a,o),zu(t)}function Yr(t,i){return Uu(t,null,null,i),zu(t)}function Zp(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-bt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function zu(t){if(50<vl)throw vl=0,dd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ka={};function jT(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,i,a,o){return new jT(t,i,a,o)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ss(t,i){var a=t.alternate;return a===null?(a=Dn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Jp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Pu(t,i,a,o,h,f){var p=0;if(o=t,typeof t=="function")rf(t)&&(p=1);else if(typeof t=="string")p=qb(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Dn(31,a,i,h),t.elementType=C,t.lanes=f,t;case ie:return Qr(a.children,h,f,i);case se:p=8,h|=24;break;case _e:return t=Dn(12,a,i,h|2),t.elementType=_e,t.lanes=f,t;case _t:return t=Dn(13,a,i,h),t.elementType=_t,t.lanes=f,t;case Ue:return t=Dn(19,a,i,h),t.elementType=Ue,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case we:p=10;break e;case Ie:p=9;break e;case tt:p=11;break e;case N:p=14;break e;case w:p=16,o=null;break e}p=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=Dn(p,a,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function Qr(t,i,a,o){return t=Dn(7,t,o,i),t.lanes=a,t}function af(t,i,a){return t=Dn(6,t,null,i),t.lanes=a,t}function eg(t){var i=Dn(18,null,null,0);return i.stateNode=t,i}function of(t,i,a){return i=Dn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var tg=new WeakMap;function Qn(t,i){if(typeof t=="object"&&t!==null){var a=tg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:oe(i)},tg.set(t,i),i)}return{value:t,source:i,stack:oe(i)}}var Ma=[],Va=0,Bu=null,Zo=0,Wn=[],$n=0,Hs=null,Pi=1,Bi="";function rs(t,i){Ma[Va++]=Zo,Ma[Va++]=Bu,Bu=t,Zo=i}function ng(t,i,a){Wn[$n++]=Pi,Wn[$n++]=Bi,Wn[$n++]=Hs,Hs=t;var o=Pi;t=Bi;var h=32-bt(o)-1;o&=~(1<<h),a+=1;var f=32-bt(i)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Pi=1<<32-bt(i)+h|a<<h|o,Bi=f+t}else Pi=1<<f|a<<h|o,Bi=t}function lf(t){t.return!==null&&(rs(t,1),ng(t,1,0))}function uf(t){for(;t===Bu;)Bu=Ma[--Va],Ma[Va]=null,Zo=Ma[--Va],Ma[Va]=null;for(;t===Hs;)Hs=Wn[--$n],Wn[$n]=null,Bi=Wn[--$n],Wn[$n]=null,Pi=Wn[--$n],Wn[$n]=null}function ig(t,i){Wn[$n++]=Pi,Wn[$n++]=Bi,Wn[$n++]=Hs,Pi=i.id,Bi=i.overflow,Hs=t}var Zt=null,pt=null,Ke=!1,Fs=null,Xn=!1,cf=Error(r(519));function Gs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(Qn(i,t)),cf}function sg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[kt]=t,i[Yt]=o,a){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)je(Tl[a],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),Eu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),Ls(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Ty(i.textContent,a)?(o.popover!=null&&(je("beforetoggle",i),je("toggle",i)),o.onScroll!=null&&je("scroll",i),o.onScrollEnd!=null&&je("scrollend",i),o.onClick!=null&&(i.onclick=li),i=!0):i=!1,i||Gs(t,!0)}function rg(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Zt=Zt.return}}function La(t){if(t!==Zt)return!1;if(!Ke)return rg(t),Ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Nd(t.type,t.memoizedProps)),a=!a),a&&pt&&Gs(t),rg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));pt=Iy(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));pt=Iy(t)}else i===27?(i=pt,rr(t.type)?(t=kd,kd=null,pt=t):pt=i):pt=Zt?Jn(t.stateNode.nextSibling):null;return!0}function Wr(){pt=Zt=null,Ke=!1}function hf(){var t=Fs;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),Fs=null),t}function Jo(t){Fs===null?Fs=[t]:Fs.push(t)}var ff=D(null),$r=null,as=null;function Ks(t,i,a){ne(ff,i._currentValue),i._currentValue=a}function os(t){t._currentValue=ff.current,G(ff)}function df(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function mf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var R=0;R<i.length;R++)if(b.context===i[R]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),df(f.return,a,t),o||(p=null);break e}f=b.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),df(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ja(t,i,a,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var b=h.type;On(h.pendingProps.value,p.value)||(t!==null?t.push(b):t=[b])}}else if(h===ze.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}h=h.return}t!==null&&mf(i,t,a,o),i.flags|=262144}function qu(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xr(t){$r=t,as=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return ag($r,t)}function Hu(t,i){return $r===null&&Xr(t),ag(t,i)}function ag(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},as===null){if(t===null)throw Error(r(308));as=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else as=as.next=i;return a}var UT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},zT=s.unstable_scheduleCallback,PT=s.unstable_NormalPriority,Lt={$$typeof:we,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new UT,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&zT(PT,function(){t.controller.abort()})}var tl=null,gf=0,Ua=0,za=null;function BT(t,i){if(tl===null){var a=tl=[];gf=0,Ua=vd(),za={status:"pending",value:void 0,then:function(o){a.push(o)}}}return gf++,i.then(og,og),i}function og(){if(--gf===0&&tl!==null){za!==null&&(za.status="fulfilled");var t=tl;tl=null,Ua=0,za=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function qT(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var lg=F.S;F.S=function(t,i){G0=ce(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&BT(t,i),lg!==null&&lg(t,i)};var Zr=D(null);function yf(){var t=Zr.current;return t!==null?t:ft.pooledCache}function Fu(t,i){i===null?ne(Zr,Zr.current):ne(Zr,i.pool)}function ug(){var t=yf();return t===null?null:{parent:Lt._currentValue,pool:t}}var Pa=Error(r(460)),_f=Error(r(474)),Gu=Error(r(542)),Ku={then:function(){}};function cg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(li,li),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,dg(t),t;default:if(typeof i.status=="string")i.then(li,li);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,dg(t),t}throw ea=i,Pa}}function Jr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ea=a,Pa):a}}var ea=null;function fg(){if(ea===null)throw Error(r(459));var t=ea;return ea=null,t}function dg(t){if(t===Pa||t===Gu)throw Error(r(483))}var Ba=null,nl=0;function Yu(t){var i=nl;return nl+=1,Ba===null&&(Ba=[]),hg(Ba,t,i)}function il(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Qu(t,i){throw i.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function mg(t){function i(V,k){if(t){var U=V.deletions;U===null?(V.deletions=[k],V.flags|=16):U.push(k)}}function a(V,k){if(!t)return null;for(;k!==null;)i(V,k),k=k.sibling;return null}function o(V){for(var k=new Map;V!==null;)V.key!==null?k.set(V.key,V):k.set(V.index,V),V=V.sibling;return k}function h(V,k){return V=ss(V,k),V.index=0,V.sibling=null,V}function f(V,k,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<k?(V.flags|=67108866,k):U):(V.flags|=67108866,k)):(V.flags|=1048576,k)}function p(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function b(V,k,U,Y){return k===null||k.tag!==6?(k=af(U,V.mode,Y),k.return=V,k):(k=h(k,U),k.return=V,k)}function R(V,k,U,Y){var pe=U.type;return pe===ie?K(V,k,U.props.children,Y,U.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Jr(pe)===k.type)?(k=h(k,U.props),il(k,U),k.return=V,k):(k=Pu(U.type,U.key,U.props,null,V.mode,Y),il(k,U),k.return=V,k)}function z(V,k,U,Y){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=of(U,V.mode,Y),k.return=V,k):(k=h(k,U.children||[]),k.return=V,k)}function K(V,k,U,Y,pe){return k===null||k.tag!==7?(k=Qr(U,V.mode,Y,pe),k.return=V,k):(k=h(k,U),k.return=V,k)}function Q(V,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=af(""+k,V.mode,U),k.return=V,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case H:return U=Pu(k.type,k.key,k.props,null,V.mode,U),il(U,k),U.return=V,U;case Z:return k=of(k,V.mode,U),k.return=V,k;case w:return k=Jr(k),Q(V,k,U)}if(vt(k)||L(k))return k=Qr(k,V.mode,U,null),k.return=V,k;if(typeof k.then=="function")return Q(V,Yu(k),U);if(k.$$typeof===we)return Q(V,Hu(V,k),U);Qu(V,k)}return null}function P(V,k,U,Y){var pe=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return pe!==null?null:b(V,k,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case H:return U.key===pe?R(V,k,U,Y):null;case Z:return U.key===pe?z(V,k,U,Y):null;case w:return U=Jr(U),P(V,k,U,Y)}if(vt(U)||L(U))return pe!==null?null:K(V,k,U,Y,null);if(typeof U.then=="function")return P(V,k,Yu(U),Y);if(U.$$typeof===we)return P(V,k,Hu(V,U),Y);Qu(V,U)}return null}function q(V,k,U,Y,pe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(U)||null,b(k,V,""+Y,pe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return V=V.get(Y.key===null?U:Y.key)||null,R(k,V,Y,pe);case Z:return V=V.get(Y.key===null?U:Y.key)||null,z(k,V,Y,pe);case w:return Y=Jr(Y),q(V,k,U,Y,pe)}if(vt(Y)||L(Y))return V=V.get(U)||null,K(k,V,Y,pe,null);if(typeof Y.then=="function")return q(V,k,U,Yu(Y),pe);if(Y.$$typeof===we)return q(V,k,U,Hu(k,Y),pe);Qu(k,Y)}return null}function he(V,k,U,Y){for(var pe=null,$e=null,fe=k,Ve=k=0,Be=null;fe!==null&&Ve<U.length;Ve++){fe.index>Ve?(Be=fe,fe=null):Be=fe.sibling;var Xe=P(V,fe,U[Ve],Y);if(Xe===null){fe===null&&(fe=Be);break}t&&fe&&Xe.alternate===null&&i(V,fe),k=f(Xe,k,Ve),$e===null?pe=Xe:$e.sibling=Xe,$e=Xe,fe=Be}if(Ve===U.length)return a(V,fe),Ke&&rs(V,Ve),pe;if(fe===null){for(;Ve<U.length;Ve++)fe=Q(V,U[Ve],Y),fe!==null&&(k=f(fe,k,Ve),$e===null?pe=fe:$e.sibling=fe,$e=fe);return Ke&&rs(V,Ve),pe}for(fe=o(fe);Ve<U.length;Ve++)Be=q(fe,V,Ve,U[Ve],Y),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?Ve:Be.key),k=f(Be,k,Ve),$e===null?pe=Be:$e.sibling=Be,$e=Be);return t&&fe.forEach(function(cr){return i(V,cr)}),Ke&&rs(V,Ve),pe}function ve(V,k,U,Y){if(U==null)throw Error(r(151));for(var pe=null,$e=null,fe=k,Ve=k=0,Be=null,Xe=U.next();fe!==null&&!Xe.done;Ve++,Xe=U.next()){fe.index>Ve?(Be=fe,fe=null):Be=fe.sibling;var cr=P(V,fe,Xe.value,Y);if(cr===null){fe===null&&(fe=Be);break}t&&fe&&cr.alternate===null&&i(V,fe),k=f(cr,k,Ve),$e===null?pe=cr:$e.sibling=cr,$e=cr,fe=Be}if(Xe.done)return a(V,fe),Ke&&rs(V,Ve),pe;if(fe===null){for(;!Xe.done;Ve++,Xe=U.next())Xe=Q(V,Xe.value,Y),Xe!==null&&(k=f(Xe,k,Ve),$e===null?pe=Xe:$e.sibling=Xe,$e=Xe);return Ke&&rs(V,Ve),pe}for(fe=o(fe);!Xe.done;Ve++,Xe=U.next())Xe=q(fe,V,Ve,Xe.value,Y),Xe!==null&&(t&&Xe.alternate!==null&&fe.delete(Xe.key===null?Ve:Xe.key),k=f(Xe,k,Ve),$e===null?pe=Xe:$e.sibling=Xe,$e=Xe);return t&&fe.forEach(function(Jb){return i(V,Jb)}),Ke&&rs(V,Ve),pe}function ct(V,k,U,Y){if(typeof U=="object"&&U!==null&&U.type===ie&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case H:e:{for(var pe=U.key;k!==null;){if(k.key===pe){if(pe=U.type,pe===ie){if(k.tag===7){a(V,k.sibling),Y=h(k,U.props.children),Y.return=V,V=Y;break e}}else if(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Jr(pe)===k.type){a(V,k.sibling),Y=h(k,U.props),il(Y,U),Y.return=V,V=Y;break e}a(V,k);break}else i(V,k);k=k.sibling}U.type===ie?(Y=Qr(U.props.children,V.mode,Y,U.key),Y.return=V,V=Y):(Y=Pu(U.type,U.key,U.props,null,V.mode,Y),il(Y,U),Y.return=V,V=Y)}return p(V);case Z:e:{for(pe=U.key;k!==null;){if(k.key===pe)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){a(V,k.sibling),Y=h(k,U.children||[]),Y.return=V,V=Y;break e}else{a(V,k);break}else i(V,k);k=k.sibling}Y=of(U,V.mode,Y),Y.return=V,V=Y}return p(V);case w:return U=Jr(U),ct(V,k,U,Y)}if(vt(U))return he(V,k,U,Y);if(L(U)){if(pe=L(U),typeof pe!="function")throw Error(r(150));return U=pe.call(U),ve(V,k,U,Y)}if(typeof U.then=="function")return ct(V,k,Yu(U),Y);if(U.$$typeof===we)return ct(V,k,Hu(V,U),Y);Qu(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(a(V,k.sibling),Y=h(k,U),Y.return=V,V=Y):(a(V,k),Y=af(U,V.mode,Y),Y.return=V,V=Y),p(V)):a(V,k)}return function(V,k,U,Y){try{nl=0;var pe=ct(V,k,U,Y);return Ba=null,pe}catch(fe){if(fe===Pa||fe===Gu)throw fe;var $e=Dn(29,fe,null,V.mode);return $e.lanes=Y,$e.return=V,$e}}}var ta=mg(!0),pg=mg(!1),Ys=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ws(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(et&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=zu(t),Zp(t,null,a),i}return Uu(t,o,i,a),zu(t)}function sl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Oo(t,a)}}function Tf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var bf=!1;function rl(){if(bf){var t=za;if(t!==null)throw t}}function al(t,i,a,o){bf=!1;var h=t.updateQueue;Ys=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var R=b,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var K=t.alternate;K!==null&&(K=K.updateQueue,b=K.lastBaseUpdate,b!==p&&(b===null?K.firstBaseUpdate=z:b.next=z,K.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;p=0,K=z=R=null,b=f;do{var P=b.lane&-536870913,q=P!==b.lane;if(q?(Pe&P)===P:(o&P)===P){P!==0&&P===Ua&&(bf=!0),K!==null&&(K=K.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var he=t,ve=b;P=i;var ct=a;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){Q=he.call(ct,Q,P);break e}Q=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,P=typeof he=="function"?he.call(ct,Q,P):he,P==null)break e;Q=S({},Q,P);break e;case 2:Ys=!0}}P=b.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[P]:q.push(P))}else q={lane:P,tag:b.tag,payload:b.payload,callback:b.callback,next:null},K===null?(z=K=q,R=Q):K=K.next=q,p|=P;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;q=b,b=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);K===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),er|=p,t.lanes=p,t.memoizedState=Q}}function gg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function yg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gg(a[t],i)}var qa=D(null),Wu=D(0);function _g(t,i){t=gs,ne(Wu,t),ne(qa,i),gs=t|i.baseLanes}function Af(){ne(Wu,gs),ne(qa,qa.current)}function Sf(){gs=Wu.current,G(qa),G(Wu)}var kn=D(null),Zn=null;function $s(t){var i=t.alternate;ne(Ct,Ct.current&1),ne(kn,t),Zn===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(Zn=t)}function wf(t){ne(Ct,Ct.current),ne(kn,t),Zn===null&&(Zn=t)}function vg(t){t.tag===22?(ne(Ct,Ct.current),ne(kn,t),Zn===null&&(Zn=t)):Xs()}function Xs(){ne(Ct,Ct.current),ne(kn,kn.current)}function Mn(t){G(kn),Zn===t&&(Zn=null),G(Ct)}var Ct=D(0);function $u(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Od(a)||Dd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ls=0,Me=null,lt=null,jt=null,Xu=!1,Ha=!1,na=!1,Zu=0,ol=0,Fa=null,HT=0;function xt(){throw Error(r(321))}function xf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!On(t[a],i[a]))return!1;return!0}function Rf(t,i,a,o,h,f){return ls=f,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?n0:qf,na=!1,f=a(o,h),na=!1,Ha&&(f=Tg(i,a,o,h)),Eg(t),f}function Eg(t){F.H=cl;var i=lt!==null&&lt.next!==null;if(ls=0,jt=lt=Me=null,Xu=!1,ol=0,Fa=null,i)throw Error(r(300));t===null||Ut||(t=t.dependencies,t!==null&&qu(t)&&(Ut=!0))}function Tg(t,i,a,o){Me=t;var h=0;do{if(Ha&&(Fa=null),ol=0,Ha=!1,25<=h)throw Error(r(301));if(h+=1,jt=lt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=i0,f=i(a,o)}while(Ha);return f}function FT(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?ll(i):i,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Me.flags|=1024),i}function Nf(){var t=Zu!==0;return Zu=0,t}function Cf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function If(t){if(Xu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Xu=!1}ls=0,jt=lt=Me=null,Ha=!1,ol=Zu=0,Fa=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Me.memoizedState=jt=t:jt=jt.next=t,jt}function It(){if(lt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var i=jt===null?Me.memoizedState:jt.next;if(i!==null)jt=i,lt=t;else{if(t===null)throw Me.alternate===null?Error(r(467)):Error(r(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},jt===null?Me.memoizedState=jt=t:jt=jt.next=t}return jt}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var i=ol;return ol+=1,Fa===null&&(Fa=[]),t=hg(Fa,t,i),i=Me,(jt===null?i.memoizedState:jt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?n0:qf),t}function ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===we)return Jt(t)}throw Error(r(438,String(t)))}function Of(t){var i=null,a=Me.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ju(),Me.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=M;return i.index++,a}function us(t,i){return typeof i=="function"?i(t):i}function tc(t){var i=It();return Df(i,lt,t)}function Df(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var b=p=null,R=null,z=i,K=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Pe&Q)===Q:(ls&Q)===Q){var P=z.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===Ua&&(K=!0);else if((ls&P)===P){z=z.next,P===Ua&&(K=!0);continue}else Q={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(b=R=Q,p=f):R=R.next=Q,Me.lanes|=P,er|=P;Q=z.action,na&&a(f,Q),f=z.hasEagerState?z.eagerState:a(f,Q)}else P={lane:Q,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(b=R=P,p=f):R=R.next=P,Me.lanes|=Q,er|=Q;z=z.next}while(z!==null&&z!==i);if(R===null?p=f:R.next=b,!On(f,t.memoizedState)&&(Ut=!0,K&&(a=za,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function kf(t){var i=It(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);On(f,i.memoizedState)||(Ut=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function bg(t,i,a){var o=Me,h=It(),f=Ke;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var p=!On((lt||h).memoizedState,a);if(p&&(h.memoizedState=a,Ut=!0),h=h.queue,Lf(wg.bind(null,o,h,t),[t]),h.getSnapshot!==i||p||jt!==null&&jt.memoizedState.tag&1){if(o.flags|=2048,Ga(9,{destroy:void 0},Sg.bind(null,o,h,a,i),null),ft===null)throw Error(r(349));f||(ls&127)!==0||Ag(o,i,a)}return a}function Ag(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Me.updateQueue,i===null?(i=Ju(),Me.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Sg(t,i,a,o){i.value=a,i.getSnapshot=o,xg(i)&&Rg(t)}function wg(t,i,a){return a(function(){xg(i)&&Rg(t)})}function xg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!On(t,a)}catch{return!0}}function Rg(t){var i=Yr(t,2);i!==null&&bn(i,t,2)}function Mf(t){var i=mn();if(typeof t=="function"){var a=t;if(t=a(),na){fn(!0);try{a()}finally{fn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:t},i}function Ng(t,i,a,o){return t.baseState=a,Df(t,lt,typeof o=="function"?o:us)}function GT(t,i,a,o,h){if(sc(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Cg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Cg(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=F.T,p={};F.T=p;try{var b=a(h,o),R=F.S;R!==null&&R(p,b),Ig(t,i,b)}catch(z){Vf(t,i,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=a(h,o),Ig(t,i,f)}catch(z){Vf(t,i,z)}}function Ig(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Og(t,i,o)},function(o){return Vf(t,i,o)}):Og(t,i,a)}function Og(t,i,a){i.status="fulfilled",i.value=a,Dg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Cg(t,a)))}function Vf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Dg(i),i=i.next;while(i!==o)}t.action=null}function Dg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function kg(t,i){return i}function Mg(t,i){if(Ke){var a=ft.formState;if(a!==null){e:{var o=Me;if(Ke){if(pt){t:{for(var h=pt,f=Xn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Jn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=Jn(h.nextSibling),o=h.data==="F!";break e}}Gs(o)}o=!1}o&&(i=a[0])}}return a=mn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kg,lastRenderedState:i},a.queue=o,a=Jg.bind(null,Me,o),o.dispatch=a,o=Mf(!1),f=Bf.bind(null,Me,!1,o.queue),o=mn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=GT.bind(null,Me,h,f,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function Vg(t){var i=It();return Lg(i,lt,t)}function Lg(t,i,a){if(i=Df(t,i,kg)[0],t=tc(us)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=ll(i)}catch(p){throw p===Pa?Gu:p}else o=i;i=It();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Me.flags|=2048,Ga(9,{destroy:void 0},KT.bind(null,h,a),null)),[o,f,t]}function KT(t,i){t.action=i}function jg(t){var i=It(),a=lt;if(a!==null)return Lg(i,a,t);It(),i=i.memoizedState,a=It();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ga(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Me.updateQueue,i===null&&(i=Ju(),Me.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Ug(){return It().memoizedState}function nc(t,i,a,o){var h=mn();Me.flags|=t,h.memoizedState=Ga(1|i,{destroy:void 0},a,o===void 0?null:o)}function ic(t,i,a,o){var h=It();o=o===void 0?null:o;var f=h.memoizedState.inst;lt!==null&&o!==null&&xf(o,lt.memoizedState.deps)?h.memoizedState=Ga(i,f,a,o):(Me.flags|=t,h.memoizedState=Ga(1|i,f,a,o))}function zg(t,i){nc(8390656,8,t,i)}function Lf(t,i){ic(2048,8,t,i)}function YT(t){Me.flags|=4;var i=Me.updateQueue;if(i===null)i=Ju(),Me.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Pg(t){var i=It().memoizedState;return YT({ref:i,nextImpl:t}),function(){if((et&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Bg(t,i){return ic(4,2,t,i)}function qg(t,i){return ic(4,4,t,i)}function Hg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Fg(t,i,a){a=a!=null?a.concat([t]):null,ic(4,4,Hg.bind(null,i,t),a)}function jf(){}function Gg(t,i){var a=It();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&xf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Kg(t,i){var a=It();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&xf(i,o[1]))return o[0];if(o=t(),na){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[o,i],o}function Uf(t,i,a){return a===void 0||(ls&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Y0(),Me.lanes|=t,er|=t,a)}function Yg(t,i,a,o){return On(a,i)?a:qa.current!==null?(t=Uf(t,a,o),On(t,i)||(Ut=!0),t):(ls&42)===0||(ls&1073741824)!==0&&(Pe&261930)===0?(Ut=!0,t.memoizedState=a):(t=Y0(),Me.lanes|=t,er|=t,i)}function Qg(t,i,a,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var p=F.T,b={};F.T=b,Bf(t,!1,i,a);try{var R=h(),z=F.S;if(z!==null&&z(b,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=qT(R,o);ul(t,i,K,jn(t))}else ul(t,i,o,jn(t))}catch(Q){ul(t,i,{then:function(){},status:"rejected",reason:Q},jn())}finally{te.p=f,p!==null&&b.types!==null&&(p.types=b.types),F.T=p}}function QT(){}function zf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var h=Wg(t).queue;Qg(t,h,i,me,a===null?QT:function(){return $g(t),a(o)})}function Wg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function $g(t){var i=Wg(t);i.next===null&&(i=t.alternate.memoizedState),ul(t,i.next.queue,{},jn())}function Pf(){return Jt(xl)}function Xg(){return It().memoizedState}function Zg(){return It().memoizedState}function WT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=jn();t=Qs(a);var o=Ws(i,t,a);o!==null&&(bn(o,i,a),sl(o,i,a)),i={cache:pf()},t.payload=i;return}i=i.return}}function $T(t,i,a){var o=jn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},sc(t)?e0(i,a):(a=sf(t,i,a,o),a!==null&&(bn(a,t,o),t0(a,i,o)))}function Jg(t,i,a){var o=jn();ul(t,i,a,o)}function ul(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(sc(t))e0(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var p=i.lastRenderedState,b=f(p,a);if(h.hasEagerState=!0,h.eagerState=b,On(b,p))return Uu(t,i,h,0),ft===null&&ju(),!1}catch{}if(a=sf(t,i,h,o),a!==null)return bn(a,t,o),t0(a,i,o),!0}return!1}function Bf(t,i,a,o){if(o={lane:2,revertLane:vd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},sc(t)){if(i)throw Error(r(479))}else i=sf(t,a,o,2),i!==null&&bn(i,t,2)}function sc(t){var i=t.alternate;return t===Me||i!==null&&i===Me}function e0(t,i){Ha=Xu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function t0(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Oo(t,a)}}var cl={readContext:Jt,use:ec,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};cl.useEffectEvent=xt;var n0={readContext:Jt,use:ec,useCallback:function(t,i){return mn().memoizedState=[t,i===void 0?null:i],t},useContext:Jt,useEffect:zg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,nc(4194308,4,Hg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return nc(4194308,4,t,i)},useInsertionEffect:function(t,i){nc(4,2,t,i)},useMemo:function(t,i){var a=mn();i=i===void 0?null:i;var o=t();if(na){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=mn();if(a!==void 0){var h=a(i);if(na){fn(!0);try{a(i)}finally{fn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=$T.bind(null,Me,t),[o.memoizedState,t]},useRef:function(t){var i=mn();return t={current:t},i.memoizedState=t},useState:function(t){t=Mf(t);var i=t.queue,a=Jg.bind(null,Me,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:jf,useDeferredValue:function(t,i){var a=mn();return Uf(a,t,i)},useTransition:function(){var t=Mf(!1);return t=Qg.bind(null,Me,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Me,h=mn();if(Ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ft===null)throw Error(r(349));(Pe&127)!==0||Ag(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,zg(wg.bind(null,o,f,t),[t]),o.flags|=2048,Ga(9,{destroy:void 0},Sg.bind(null,o,f,a,i),null),a},useId:function(){var t=mn(),i=ft.identifierPrefix;if(Ke){var a=Bi,o=Pi;a=(o&~(1<<32-bt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Zu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=HT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Pf,useFormState:Mg,useActionState:Mg,useOptimistic:function(t){var i=mn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Bf.bind(null,Me,!0,a),a.dispatch=i,[t,i]},useMemoCache:Of,useCacheRefresh:function(){return mn().memoizedState=WT.bind(null,Me)},useEffectEvent:function(t){var i=mn(),a={impl:t};return i.memoizedState=a,function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qf={readContext:Jt,use:ec,useCallback:Gg,useContext:Jt,useEffect:Lf,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Kg,useReducer:tc,useRef:Ug,useState:function(){return tc(us)},useDebugValue:jf,useDeferredValue:function(t,i){var a=It();return Yg(a,lt.memoizedState,t,i)},useTransition:function(){var t=tc(us)[0],i=It().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:bg,useId:Xg,useHostTransitionStatus:Pf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,i){var a=It();return Ng(a,lt,t,i)},useMemoCache:Of,useCacheRefresh:Zg};qf.useEffectEvent=Pg;var i0={readContext:Jt,use:ec,useCallback:Gg,useContext:Jt,useEffect:Lf,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Kg,useReducer:kf,useRef:Ug,useState:function(){return kf(us)},useDebugValue:jf,useDeferredValue:function(t,i){var a=It();return lt===null?Uf(a,t,i):Yg(a,lt.memoizedState,t,i)},useTransition:function(){var t=kf(us)[0],i=It().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:bg,useId:Xg,useHostTransitionStatus:Pf,useFormState:jg,useActionState:jg,useOptimistic:function(t,i){var a=It();return lt!==null?Ng(a,lt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Of,useCacheRefresh:Zg};i0.useEffectEvent=Pg;function Hf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ff={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=jn(),h=Qs(o);h.payload=i,a!=null&&(h.callback=a),i=Ws(t,h,o),i!==null&&(bn(i,t,o),sl(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=jn(),h=Qs(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ws(t,h,o),i!==null&&(bn(i,t,o),sl(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=jn(),o=Qs(a);o.tag=2,i!=null&&(o.callback=i),i=Ws(t,o,a),i!==null&&(bn(i,t,a),sl(i,t,a))}};function s0(t,i,a,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):i.prototype&&i.prototype.isPureReactComponent?!$o(a,o)||!$o(h,f):!0}function r0(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Ff.enqueueReplaceState(i,i.state,null)}function ia(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function a0(t){Lu(t)}function o0(t){console.error(t)}function l0(t){Lu(t)}function rc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function u0(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(t,i,a){return a=Qs(a),a.tag=3,a.payload={element:null},a.callback=function(){rc(t,i)},a}function c0(t){return t=Qs(t),t.tag=3,t}function h0(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){u0(i,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){u0(i,a,o),typeof h!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function XT(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&ja(i,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 31:case 13:return Zn===null?yc():a.alternate===null&&Rt===0&&(Rt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Ku?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),gd(t,o,h)),!1;case 22:return a.flags|=65536,o===Ku?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),gd(t,o,h)),!1}throw Error(r(435,a.tag))}return gd(t,o,h),yc(),!1}if(Ke)return i=kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==cf&&(t=Error(r(422),{cause:o}),Jo(Qn(t,a)))):(o!==cf&&(i=Error(r(423),{cause:o}),Jo(Qn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Qn(o,a),h=Gf(t.stateNode,o,h),Tf(t,h),Rt!==4&&(Rt=2)),!1;var f=Error(r(520),{cause:o});if(f=Qn(f,a),_l===null?_l=[f]:_l.push(f),Rt!==4&&(Rt=2),i===null)return!0;o=Qn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Gf(a.stateNode,o,t),Tf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(tr===null||!tr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=c0(h),h0(h,t,a,o),Tf(a,h),!1}a=a.return}while(a!==null);return!1}var Kf=Error(r(461)),Ut=!1;function en(t,i,a,o){i.child=t===null?pg(i,null,a,o):ta(i,t.child,a,o)}function f0(t,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var p={};for(var b in o)b!=="ref"&&(p[b]=o[b])}else p=o;return Xr(i),o=Rf(t,i,a,p,f,h),b=Nf(),t!==null&&!Ut?(Cf(t,i,h),cs(t,i,h)):(Ke&&b&&lf(i),i.flags|=1,en(t,i,o,h),i.child)}function d0(t,i,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!rf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,m0(t,i,f,o,h)):(t=Pu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!ed(t,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(p,o)&&t.ref===i.ref)return cs(t,i,h)}return i.flags|=1,t=ss(f,o),t.ref=i.ref,t.return=i,i.child=t}function m0(t,i,a,o,h){if(t!==null){var f=t.memoizedProps;if($o(f,o)&&t.ref===i.ref)if(Ut=!1,i.pendingProps=o=f,ed(t,h))(t.flags&131072)!==0&&(Ut=!0);else return i.lanes=t.lanes,cs(t,i,h)}return Yf(t,i,a,o,h)}function p0(t,i,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return g0(t,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fu(i,f!==null?f.cachePool:null),f!==null?_g(i,f):Af(),vg(i);else return o=i.lanes=536870912,g0(t,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Fu(i,f.cachePool),_g(i,f),Xs(),i.memoizedState=null):(t!==null&&Fu(i,null),Af(),Xs());return en(t,i,h,a),i.child}function hl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function g0(t,i,a,o,h){var f=yf();return f=f===null?null:{parent:Lt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Fu(i,null),Af(),vg(i),t!==null&&ja(t,i,o,!0),i.childLanes=h,null}function ac(t,i){return i=lc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function y0(t,i,a){return ta(i,t.child,null,a),t=ac(i,i.pendingProps),t.flags|=2,Mn(i),i.memoizedState=null,t}function ZT(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ke){if(o.mode==="hidden")return t=ac(i,o),i.lanes=536870912,hl(null,t);if(wf(i),(t=pt)?(t=Cy(t,Xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:Pi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},a=eg(t),a.return=i,i.child=a,Zt=i,pt=null)):t=null,t===null)throw Gs(i);return i.lanes=536870912,null}return ac(i,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(wf(i),h)if(i.flags&256)i.flags&=-257,i=y0(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ut||ja(t,i,a,!1),h=(a&t.childLanes)!==0,Ut||h){if(o=ft,o!==null&&(p=Do(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Yr(t,p),bn(o,t,p),Kf;yc(),i=y0(t,i,a)}else t=f.treeContext,pt=Jn(p.nextSibling),Zt=i,Ke=!0,Fs=null,Xn=!1,t!==null&&ig(i,t),i=ac(i,o),i.flags|=4096;return i}return t=ss(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function oc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Yf(t,i,a,o,h){return Xr(i),a=Rf(t,i,a,o,void 0,h),o=Nf(),t!==null&&!Ut?(Cf(t,i,h),cs(t,i,h)):(Ke&&o&&lf(i),i.flags|=1,en(t,i,a,h),i.child)}function _0(t,i,a,o,h,f){return Xr(i),i.updateQueue=null,a=Tg(i,o,a,h),Eg(t),o=Nf(),t!==null&&!Ut?(Cf(t,i,f),cs(t,i,f)):(Ke&&o&&lf(i),i.flags|=1,en(t,i,a,f),i.child)}function v0(t,i,a,o,h){if(Xr(i),i.stateNode===null){var f=ka,p=a.contextType;typeof p=="object"&&p!==null&&(f=Jt(p)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ff,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},vf(i),p=a.contextType,f.context=typeof p=="object"&&p!==null?Jt(p):ka,f.state=i.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Hf(i,a,p,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Ff.enqueueReplaceState(f,f.state,null),al(i,o,f,h),rl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var b=i.memoizedProps,R=ia(a,b);f.props=R;var z=f.context,K=a.contextType;p=ka,typeof K=="object"&&K!==null&&(p=Jt(K));var Q=a.getDerivedStateFromProps;K=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||z!==p)&&r0(i,f,o,p),Ys=!1;var P=i.memoizedState;f.state=P,al(i,o,f,h),rl(),z=i.memoizedState,b||P!==z||Ys?(typeof Q=="function"&&(Hf(i,a,Q,o),z=i.memoizedState),(R=Ys||s0(i,a,R,o,P,z,p))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),f.props=o,f.state=z,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Ef(t,i),p=i.memoizedProps,K=ia(a,p),f.props=K,Q=i.pendingProps,P=f.context,z=a.contextType,R=ka,typeof z=="object"&&z!==null&&(R=Jt(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Q||P!==R)&&r0(i,f,o,R),Ys=!1,P=i.memoizedState,f.state=P,al(i,o,f,h),rl();var q=i.memoizedState;p!==Q||P!==q||Ys||t!==null&&t.dependencies!==null&&qu(t.dependencies)?(typeof b=="function"&&(Hf(i,a,b,o),q=i.memoizedState),(K=Ys||s0(i,a,K,o,P,q,R)||t!==null&&t.dependencies!==null&&qu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),f.props=o,f.state=q,f.context=R,o=K):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,oc(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=ta(i,t.child,null,h),i.child=ta(i,null,a,h)):en(t,i,a,h),i.memoizedState=f.state,t=i.child):t=cs(t,i,h),t}function E0(t,i,a,o){return Wr(),i.flags|=256,en(t,i,a,o),i.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(t){return{baseLanes:t,cachePool:ug()}}function $f(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Ln),t}function T0(t,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),p&&(h=!0,i.flags&=-129),p=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ke){if(h?$s(i):Xs(),(t=pt)?(t=Cy(t,Xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:Pi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},a=eg(t),a.return=i,i.child=a,Zt=i,pt=null)):t=null,t===null)throw Gs(i);return Dd(t)?i.lanes=32:i.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(Xs(),h=i.mode,b=lc({mode:"hidden",children:b},h),o=Qr(o,h,a,null),b.return=i,o.return=i,b.sibling=o,i.child=b,o=i.child,o.memoizedState=Wf(a),o.childLanes=$f(t,p,a),i.memoizedState=Qf,hl(null,o)):($s(i),Xf(i,b))}var R=t.memoizedState;if(R!==null&&(b=R.dehydrated,b!==null)){if(f)i.flags&256?($s(i),i.flags&=-257,i=Zf(t,i,a)):i.memoizedState!==null?(Xs(),i.child=t.child,i.flags|=128,i=null):(Xs(),b=o.fallback,h=i.mode,o=lc({mode:"visible",children:o.children},h),b=Qr(b,h,a,null),b.flags|=2,o.return=i,b.return=i,o.sibling=b,i.child=o,ta(i,t.child,null,a),o=i.child,o.memoizedState=Wf(a),o.childLanes=$f(t,p,a),i.memoizedState=Qf,i=hl(null,o));else if($s(i),Dd(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(r(419)),o.stack="",o.digest=p,Jo({value:o,source:null,stack:null}),i=Zf(t,i,a)}else if(Ut||ja(t,i,a,!1),p=(a&t.childLanes)!==0,Ut||p){if(p=ft,p!==null&&(o=Do(p,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Yr(t,o),bn(p,t,o),Kf;Od(b)||yc(),i=Zf(t,i,a)}else Od(b)?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,pt=Jn(b.nextSibling),Zt=i,Ke=!0,Fs=null,Xn=!1,t!==null&&ig(i,t),i=Xf(i,o.children),i.flags|=4096);return i}return h?(Xs(),b=o.fallback,h=i.mode,R=t.child,z=R.sibling,o=ss(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?b=ss(z,b):(b=Qr(b,h,a,null),b.flags|=2),b.return=i,o.return=i,o.sibling=b,i.child=o,hl(null,o),o=i.child,b=t.child.memoizedState,b===null?b=Wf(a):(h=b.cachePool,h!==null?(R=Lt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=ug(),b={baseLanes:b.baseLanes|a,cachePool:h}),o.memoizedState=b,o.childLanes=$f(t,p,a),i.memoizedState=Qf,hl(t.child,o)):($s(i),a=t.child,t=a.sibling,a=ss(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(p=i.deletions,p===null?(i.deletions=[t],i.flags|=16):p.push(t)),i.child=a,i.memoizedState=null,a)}function Xf(t,i){return i=lc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function lc(t,i){return t=Dn(22,t,null,i),t.lanes=0,t}function Zf(t,i,a){return ta(i,t.child,null,a),t=Xf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function b0(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),df(t.return,i,a)}function Jf(t,i,a,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function A0(t,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Ct.current,b=(p&2)!==0;if(b?(p=p&1|2,i.flags|=128):p&=1,ne(Ct,p),en(t,i,o,a),o=Ke?Zo:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&b0(t,a,i);else if(t.tag===19)b0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&$u(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Jf(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&$u(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Jf(i,!0,a,null,f,o);break;case"together":Jf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function cs(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),er|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ja(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=ss(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ss(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ed(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&qu(t)))}function JT(t,i,a){switch(i.tag){case 3:wt(i,i.stateNode.containerInfo),Ks(i,Lt,t.memoizedState.cache),Wr();break;case 27:case 5:Ti(i);break;case 4:wt(i,i.stateNode.containerInfo);break;case 10:Ks(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,wf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?($s(i),i.flags|=128,null):(a&i.child.childLanes)!==0?T0(t,i,a):($s(i),t=cs(t,i,a),t!==null?t.sibling:null);$s(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(ja(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return A0(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(Ct,Ct.current),o)break;return null;case 22:return i.lanes=0,p0(t,i,a,i.pendingProps);case 24:Ks(i,Lt,t.memoizedState.cache)}return cs(t,i,a)}function S0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ut=!0;else{if(!ed(t,a)&&(i.flags&128)===0)return Ut=!1,JT(t,i,a);Ut=(t.flags&131072)!==0}else Ut=!1,Ke&&(i.flags&1048576)!==0&&ng(i,Zo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Jr(i.elementType),i.type=t,typeof t=="function")rf(t)?(o=ia(t,o),i.tag=1,i=v0(null,i,t,o,a)):(i.tag=0,i=Yf(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===tt){i.tag=11,i=f0(null,i,t,o,a);break e}else if(h===N){i.tag=14,i=d0(null,i,t,o,a);break e}}throw i=at(t)||t,Error(r(306,i,""))}}return i;case 0:return Yf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ia(o,i.pendingProps),v0(t,i,o,h,a);case 3:e:{if(wt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Ef(t,i),al(i,o,null,a);var p=i.memoizedState;if(o=p.cache,Ks(i,Lt,o),o!==f.cache&&mf(i,[Lt],a,!0),rl(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=E0(t,i,o,a);break e}else if(o!==h){h=Qn(Error(r(424)),i),Jo(h),i=E0(t,i,o,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,pt=Jn(t.firstChild),Zt=i,Ke=!0,Fs=null,Xn=!0,a=pg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Wr(),o===h){i=cs(t,i,a);break e}en(t,i,o,a)}i=i.child}return i;case 26:return oc(t,i),t===null?(a=Vy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ke||(a=i.type,t=i.pendingProps,o=Sc(Oe.current).createElement(a),o[kt]=i,o[Yt]=t,tn(o,a,t),Mt(o),i.stateNode=o):i.memoizedState=Vy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ti(i),t===null&&Ke&&(o=i.stateNode=Dy(i.type,i.pendingProps,Oe.current),Zt=i,Xn=!0,h=pt,rr(i.type)?(kd=h,pt=Jn(o.firstChild)):pt=h),en(t,i,i.pendingProps.children,a),oc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ke&&((h=o=pt)&&(o=Cb(o,i.type,i.pendingProps,Xn),o!==null?(i.stateNode=o,Zt=i,pt=Jn(o.firstChild),Xn=!1,h=!0):h=!1),h||Gs(i)),Ti(i),h=i.type,f=i.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,Nd(h,f)?o=null:p!==null&&Nd(h,p)&&(i.flags|=32),i.memoizedState!==null&&(h=Rf(t,i,FT,null,null,a),xl._currentValue=h),oc(t,i),en(t,i,o,a),i.child;case 6:return t===null&&Ke&&((t=a=pt)&&(a=Ib(a,i.pendingProps,Xn),a!==null?(i.stateNode=a,Zt=i,pt=null,t=!0):t=!1),t||Gs(i)),null;case 13:return T0(t,i,a);case 4:return wt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=ta(i,null,o,a):en(t,i,o,a),i.child;case 11:return f0(t,i,i.type,i.pendingProps,a);case 7:return en(t,i,i.pendingProps,a),i.child;case 8:return en(t,i,i.pendingProps.children,a),i.child;case 12:return en(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Ks(i,i.type,o.value),en(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Xr(i),h=Jt(h),o=o(h),i.flags|=1,en(t,i,o,a),i.child;case 14:return d0(t,i,i.type,i.pendingProps,a);case 15:return m0(t,i,i.type,i.pendingProps,a);case 19:return A0(t,i,a);case 31:return ZT(t,i,a);case 22:return p0(t,i,a,i.pendingProps);case 24:return Xr(i),o=Jt(Lt),t===null?(h=yf(),h===null&&(h=ft,f=pf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},vf(i),Ks(i,Lt,h)):((t.lanes&a)!==0&&(Ef(t,i),al(i,null,null,a),rl()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ks(i,Lt,o)):(o=f.cache,Ks(i,Lt,o),o!==h.cache&&mf(i,[Lt],a,!0))),en(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function hs(t){t.flags|=4}function td(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(X0())t.flags|=8192;else throw ea=Ku,_f}else t.flags&=-16777217}function w0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Py(i))if(X0())t.flags|=8192;else throw ea=Ku,_f}function uc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?pu():536870912,t.lanes|=i,Wa|=i)}function fl(t,i){if(!Ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function gt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function eb(t,i,a){var o=i.pendingProps;switch(uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return gt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),os(Lt),dt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(La(i)?hs(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hf())),gt(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(hs(i),f!==null?(gt(i),w0(i,f)):(gt(i),td(i,h,null,o,a))):f?f!==t.memoizedState?(hs(i),gt(i),w0(i,f)):(gt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&hs(i),gt(i),td(i,h,t,o,a)),null;case 27:if(Os(i),a=Oe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&hs(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return gt(i),null}t=ae.current,La(i)?sg(i):(t=Dy(h,o,a),i.stateNode=t,hs(i))}return gt(i),null;case 5:if(Os(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&hs(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return gt(i),null}if(f=ae.current,La(i))sg(i);else{var p=Sc(Oe.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[kt]=i,f[Yt]=o;e:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break e;for(;p.sibling===null;){if(p.return===null||p.return===i)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=f;e:switch(tn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&hs(i)}}return gt(i),td(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&hs(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=Oe.current,La(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[kt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Ty(t.nodeValue,a)),t||Gs(i,!0)}else t=Sc(t).createTextNode(o),t[kt]=i,i.stateNode=t}return gt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=La(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[kt]=i}else Wr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),t=!1}else a=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Mn(i),i):(Mn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return gt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=La(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[kt]=i}else Wr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),h=!1}else h=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Mn(i),i):(Mn(i),null)}return Mn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),uc(i,i.updateQueue),gt(i),null);case 4:return dt(),t===null&&Ad(i.stateNode.containerInfo),gt(i),null;case 10:return os(i.type),gt(i),null;case 19:if(G(Ct),o=i.memoizedState,o===null)return gt(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)fl(o,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=$u(t),f!==null){for(i.flags|=128,fl(o,!1),t=f.updateQueue,i.updateQueue=t,uc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Jp(a,t),a=a.sibling;return ne(Ct,Ct.current&1|2),Ke&&rs(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&ce()>mc&&(i.flags|=128,h=!0,fl(o,!1),i.lanes=4194304)}else{if(!h)if(t=$u(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,uc(i,t),fl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ke)return gt(i),null}else 2*ce()-o.renderingStartTime>mc&&a!==536870912&&(i.flags|=128,h=!0,fl(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ce(),t.sibling=null,a=Ct.current,ne(Ct,h?a&1|2:a&1),Ke&&rs(i,o.treeForkCount),t):(gt(i),null);case 22:case 23:return Mn(i),Sf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),a=i.updateQueue,a!==null&&uc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&G(Zr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),os(Lt),gt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function tb(t,i){switch(uf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return os(Lt),dt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Os(i),null;case 31:if(i.memoizedState!==null){if(Mn(i),i.alternate===null)throw Error(r(340));Wr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Mn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Wr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return G(Ct),null;case 4:return dt(),null;case 10:return os(i.type),null;case 22:case 23:return Mn(i),Sf(),t!==null&&G(Zr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return os(Lt),null;case 25:return null;default:return null}}function x0(t,i){switch(uf(i),i.tag){case 3:os(Lt),dt();break;case 26:case 27:case 5:Os(i);break;case 4:dt();break;case 31:i.memoizedState!==null&&Mn(i);break;case 13:Mn(i);break;case 19:G(Ct);break;case 10:os(i.type);break;case 22:case 23:Mn(i),Sf(),t!==null&&G(Zr);break;case 24:os(Lt)}}function dl(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(b){rt(i,i.return,b)}}function Zs(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,h=i;var R=a,z=b;try{z()}catch(K){rt(h,R,K)}}}o=o.next}while(o!==f)}}catch(K){rt(i,i.return,K)}}function R0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{yg(i,a)}catch(o){rt(t,t.return,o)}}}function N0(t,i,a){a.props=ia(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){rt(t,i,o)}}function ml(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){rt(t,i,h)}}function qi(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){rt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){rt(t,i,h)}else a.current=null}function C0(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){rt(t,t.return,h)}}function nd(t,i,a){try{var o=t.stateNode;Ab(o,t.type,a,i),o[Yt]=i}catch(h){rt(t,t.return,h)}}function I0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rr(t.type)||t.tag===4}function id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||I0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sd(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=li));else if(o!==4&&(o===27&&rr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(sd(t,i,a),t=t.sibling;t!==null;)sd(t,i,a),t=t.sibling}function cc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&rr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(cc(t,i,a),t=t.sibling;t!==null;)cc(t,i,a),t=t.sibling}function O0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);tn(i,o,a),i[kt]=t,i[Yt]=a}catch(f){rt(t,t.return,f)}}var fs=!1,zt=!1,rd=!1,D0=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function nb(t,i){if(t=t.containerInfo,xd=Oc,t=Fp(t),Xh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,b=-1,R=-1,z=0,K=0,Q=t,P=null;t:for(;;){for(var q;Q!==a||h!==0&&Q.nodeType!==3||(b=p+h),Q!==f||o!==0&&Q.nodeType!==3||(R=p+o),Q.nodeType===3&&(p+=Q.nodeValue.length),(q=Q.firstChild)!==null;)P=Q,Q=q;for(;;){if(Q===t)break t;if(P===a&&++z===h&&(b=p),P===f&&++K===o&&(R=p),(q=Q.nextSibling)!==null)break;Q=P,P=Q.parentNode}Q=q}a=b===-1||R===-1?null:{start:b,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rd={focusedElem:t,selectionRange:a},Oc=!1,Wt=i;Wt!==null;)if(i=Wt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Wt=t;else for(;Wt!==null;){switch(i=Wt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var he=ia(a.type,h);t=o.getSnapshotBeforeUpdate(he,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ve){rt(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Id(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Id(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Wt=t;break}Wt=i.return}}function k0(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ms(t,a),o&4&&dl(5,a);break;case 1:if(ms(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(p){rt(a,a.return,p)}else{var h=ia(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(p){rt(a,a.return,p)}}o&64&&R0(a),o&512&&ml(a,a.return);break;case 3:if(ms(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{yg(t,i)}catch(p){rt(a,a.return,p)}}break;case 27:i===null&&o&4&&O0(a);case 26:case 5:ms(t,a),i===null&&o&4&&C0(a),o&512&&ml(a,a.return);break;case 12:ms(t,a);break;case 31:ms(t,a),o&4&&L0(t,a);break;case 13:ms(t,a),o&4&&j0(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=hb.bind(null,a),Ob(t,a))));break;case 22:if(o=a.memoizedState!==null||fs,!o){i=i!==null&&i.memoizedState!==null||zt,h=fs;var f=zt;fs=o,(zt=i)&&!f?ps(t,a,(a.subtreeFlags&8772)!==0):ms(t,a),fs=h,zt=f}break;case 30:break;default:ms(t,a)}}function M0(t){var i=t.alternate;i!==null&&(t.alternate=null,M0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&va(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,_n=!1;function ds(t,i,a){for(a=a.child;a!==null;)V0(t,i,a),a=a.sibling}function V0(t,i,a){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(an,a)}catch{}switch(a.tag){case 26:zt||qi(a,i),ds(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||qi(a,i);var o=Tt,h=_n;rr(a.type)&&(Tt=a.stateNode,_n=!1),ds(t,i,a),Al(a.stateNode),Tt=o,_n=h;break;case 5:zt||qi(a,i);case 6:if(o=Tt,h=_n,Tt=null,ds(t,i,a),Tt=o,_n=h,Tt!==null)if(_n)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(a.stateNode)}catch(f){rt(a,i,f)}else try{Tt.removeChild(a.stateNode)}catch(f){rt(a,i,f)}break;case 18:Tt!==null&&(_n?(t=Tt,Ry(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),io(t)):Ry(Tt,a.stateNode));break;case 4:o=Tt,h=_n,Tt=a.stateNode.containerInfo,_n=!0,ds(t,i,a),Tt=o,_n=h;break;case 0:case 11:case 14:case 15:Zs(2,a,i),zt||Zs(4,a,i),ds(t,i,a);break;case 1:zt||(qi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&N0(a,i,o)),ds(t,i,a);break;case 21:ds(t,i,a);break;case 22:zt=(o=zt)||a.memoizedState!==null,ds(t,i,a),zt=o;break;default:ds(t,i,a)}}function L0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{io(t)}catch(a){rt(i,i.return,a)}}}function j0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{io(t)}catch(a){rt(i,i.return,a)}}function ib(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new D0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new D0),i;default:throw Error(r(435,t.tag))}}function hc(t,i){var a=ib(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=fb.bind(null,t,o);o.then(h,h)}})}function vn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,p=i,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(rr(b.type)){Tt=b.stateNode,_n=!1;break e}break;case 5:Tt=b.stateNode,_n=!1;break e;case 3:case 4:Tt=b.stateNode.containerInfo,_n=!0;break e}b=b.return}if(Tt===null)throw Error(r(160));V0(f,p,h),Tt=null,_n=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)U0(i,t),i=i.sibling}var mi=null;function U0(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(i,t),En(t),o&4&&(Zs(3,t,t.return),dl(3,t),Zs(5,t,t.return));break;case 1:vn(i,t),En(t),o&512&&(zt||a===null||qi(a,a.return)),o&64&&fs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=mi;if(vn(i,t),En(t),o&512&&(zt||a===null||qi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ni]||f[kt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),tn(f,o,a),f[kt]=t,Mt(f),o=f;break e;case"link":var p=Uy("link","href",h).get(o+(a.href||""));if(p){for(var b=0;b<p.length;b++)if(f=p[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(b,1);break t}}f=h.createElement(o),tn(f,o,a),h.head.appendChild(f);break;case"meta":if(p=Uy("meta","content",h).get(o+(a.content||""))){for(b=0;b<p.length;b++)if(f=p[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(b,1);break t}}f=h.createElement(o),tn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[kt]=t,Mt(f),o=f}t.stateNode=o}else zy(h,t.type,t.stateNode);else t.stateNode=jy(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?zy(h,t.type,t.stateNode):jy(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&nd(t,t.memoizedProps,a.memoizedProps)}break;case 27:vn(i,t),En(t),o&512&&(zt||a===null||qi(a,a.return)),a!==null&&o&4&&nd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(vn(i,t),En(t),o&512&&(zt||a===null||qi(a,a.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(he){rt(t,t.return,he)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,nd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(rd=!0);break;case 6:if(vn(i,t),En(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(he){rt(t,t.return,he)}}break;case 3:if(Rc=null,h=mi,mi=wc(i.containerInfo),vn(i,t),mi=h,En(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{io(i.containerInfo)}catch(he){rt(t,t.return,he)}rd&&(rd=!1,z0(t));break;case 4:o=mi,mi=wc(t.stateNode.containerInfo),vn(i,t),En(t),mi=o;break;case 12:vn(i,t),En(t);break;case 31:vn(i,t),En(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 13:vn(i,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dc=ce()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=fs,K=zt;if(fs=z||h,zt=K||R,vn(i,t),zt=K,fs=z,En(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||fs||zt||sa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=R.stateNode;var Q=R.memoizedProps.style,P=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;b.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(he){rt(R,R.return,he)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(he){rt(R,R.return,he)}}}else if(i.tag===18){if(a===null){R=i;try{var q=R.stateNode;h?Ny(q,!0):Ny(R.stateNode,!1)}catch(he){rt(R,R.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,hc(t,a))));break;case 19:vn(i,t),En(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 30:break;case 21:break;default:vn(i,t),En(t)}}function En(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(I0(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=id(t);cc(t,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(yn(p,""),a.flags&=-33);var b=id(t);cc(t,b,p);break;case 3:case 4:var R=a.stateNode.containerInfo,z=id(t);sd(t,z,R);break;default:throw Error(r(161))}}catch(K){rt(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function z0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;z0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ms(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)k0(t,i.alternate,i),i=i.sibling}function sa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Zs(4,i,i.return),sa(i);break;case 1:qi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&N0(i,i.return,a),sa(i);break;case 27:Al(i.stateNode);case 26:case 5:qi(i,i.return),sa(i);break;case 22:i.memoizedState===null&&sa(i);break;case 30:sa(i);break;default:sa(i)}t=t.sibling}}function ps(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,p=f.flags;switch(f.tag){case 0:case 11:case 15:ps(h,f,a),dl(4,f);break;case 1:if(ps(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){rt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)gg(R[h],b)}catch(z){rt(o,o.return,z)}}a&&p&64&&R0(f),ml(f,f.return);break;case 27:O0(f);case 26:case 5:ps(h,f,a),a&&o===null&&p&4&&C0(f),ml(f,f.return);break;case 12:ps(h,f,a);break;case 31:ps(h,f,a),a&&p&4&&L0(h,f);break;case 13:ps(h,f,a),a&&p&4&&j0(h,f);break;case 22:f.memoizedState===null&&ps(h,f,a),ml(f,f.return);break;case 30:break;default:ps(h,f,a)}i=i.sibling}}function ad(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function od(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t))}function pi(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)P0(t,i,a,o),i=i.sibling}function P0(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:pi(t,i,a,o),h&2048&&dl(9,i);break;case 1:pi(t,i,a,o);break;case 3:pi(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){pi(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,p=f.id,b=f.onPostCommit;typeof b=="function"&&b(p,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){rt(i,i.return,R)}}else pi(t,i,a,o);break;case 31:pi(t,i,a,o);break;case 13:pi(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,p=i.alternate,i.memoizedState!==null?f._visibility&2?pi(t,i,a,o):pl(t,i):f._visibility&2?pi(t,i,a,o):(f._visibility|=2,Ka(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ad(p,i);break;case 24:pi(t,i,a,o),h&2048&&od(i.alternate,i);break;default:pi(t,i,a,o)}}function Ka(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,p=i,b=a,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ka(f,p,b,R,h),dl(8,p);break;case 23:break;case 22:var K=p.stateNode;p.memoizedState!==null?K._visibility&2?Ka(f,p,b,R,h):pl(f,p):(K._visibility|=2,Ka(f,p,b,R,h)),h&&z&2048&&ad(p.alternate,p);break;case 24:Ka(f,p,b,R,h),h&&z&2048&&od(p.alternate,p);break;default:Ka(f,p,b,R,h)}i=i.sibling}}function pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:pl(a,o),h&2048&&ad(o.alternate,o);break;case 24:pl(a,o),h&2048&&od(o.alternate,o);break;default:pl(a,o)}i=i.sibling}}var gl=8192;function Ya(t,i,a){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)B0(t,i,a),t=t.sibling}function B0(t,i,a){switch(t.tag){case 26:Ya(t,i,a),t.flags&gl&&t.memoizedState!==null&&Hb(a,mi,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,i,a);break;case 3:case 4:var o=mi;mi=wc(t.stateNode.containerInfo),Ya(t,i,a),mi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=gl,gl=16777216,Ya(t,i,a),gl=o):Ya(t,i,a));break;default:Ya(t,i,a)}}function q0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function yl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Wt=o,F0(o,t)}q0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)H0(t),t=t.sibling}function H0(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&Zs(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,fc(t)):yl(t);break;default:yl(t)}}function fc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Wt=o,F0(o,t)}q0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Zs(8,i,i.return),fc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,fc(i));break;default:fc(i)}t=t.sibling}}function F0(t,i){for(;Wt!==null;){var a=Wt;switch(a.tag){case 0:case 11:case 15:Zs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:el(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Wt=o;else e:for(a=t;Wt!==null;){o=Wt;var h=o.sibling,f=o.return;if(M0(o),o===a){Wt=null;break e}if(h!==null){h.return=f,Wt=h;break e}Wt=f}}}var sb={getCacheForType:function(t){var i=Jt(Lt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Jt(Lt).controller.signal}},rb=typeof WeakMap=="function"?WeakMap:Map,et=0,ft=null,Le=null,Pe=0,st=0,Vn=null,Js=!1,Qa=!1,ld=!1,gs=0,Rt=0,er=0,ra=0,ud=0,Ln=0,Wa=0,_l=null,Tn=null,cd=!1,dc=0,G0=0,mc=1/0,pc=null,tr=null,Ht=0,nr=null,$a=null,ys=0,hd=0,fd=null,K0=null,vl=0,dd=null;function jn(){return(et&2)!==0&&Pe!==0?Pe&-Pe:F.T!==null?vd():gu()}function Y0(){if(Ln===0)if((Pe&536870912)===0||Ke){var t=Dr;Dr<<=1,(Dr&3932160)===0&&(Dr=262144),Ln=t}else Ln=536870912;return t=kn.current,t!==null&&(t.flags|=32),Ln}function bn(t,i,a){(t===ft&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),ir(t,Pe,Ln,!1)),kr(t,a),((et&2)===0||t!==ft)&&(t===ft&&((et&2)===0&&(ra|=a),Rt===4&&ir(t,Pe,Ln,!1)),Hi(t))}function Q0(t,i,a){if((et&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ri(t,i),h=o?lb(t,i):pd(t,i,!0),f=o;do{if(h===0){Qa&&!o&&ir(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!ab(a)){h=pd(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){i=p;e:{var b=t;h=_l;var R=b.current.memoizedState.isDehydrated;if(R&&(Xa(b,p).flags|=256),p=pd(b,p,!1),p!==2){if(ld&&!R){b.errorRecoveryDisabledLanes|=f,ra|=f,h=4;break e}f=Tn,Tn=h,f!==null&&(Tn===null?Tn=f:Tn.push.apply(Tn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Xa(t,0),ir(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ir(o,i,Ln,!Js);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=dc+300-ce(),10<h)){if(ir(o,i,Ln,!Js),wi(o,0,!0)!==0)break e;ys=i,o.timeoutHandle=wy(W0.bind(null,o,a,Tn,pc,cd,i,Ln,ra,Wa,Js,f,"Throttled",-0,0),h);break e}W0(o,a,Tn,pc,cd,i,Ln,ra,Wa,Js,f,null,-0,0)}}break}while(!0);Hi(t)}function W0(t,i,a,o,h,f,p,b,R,z,K,Q,P,q){if(t.timeoutHandle=-1,Q=i.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},B0(i,f,Q);var he=(f&62914560)===f?dc-ce():(f&4194048)===f?G0-ce():0;if(he=Fb(Q,he),he!==null){ys=f,t.cancelPendingCommit=he(iy.bind(null,t,i,f,a,o,h,p,b,R,K,Q,null,P,q)),ir(t,f,p,!z);return}}iy(t,i,f,a,o,h,p,b,R)}function ab(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!On(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ir(t,i,a,o){i&=~ud,i&=~ra,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-bt(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&Mr(t,a,i)}function gc(){return(et&6)===0?(El(0),!1):!0}function md(){if(Le!==null){if(st===0)var t=Le.return;else t=Le,as=$r=null,If(t),Ba=null,nl=0,t=Le;for(;t!==null;)x0(t.alternate,t),t=t.return;Le=null}}function Xa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,xb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ys=0,md(),ft=t,Le=a=ss(t.current,null),Pe=i,st=0,Vn=null,Js=!1,Qa=ri(t,i),ld=!1,Wa=Ln=ud=ra=er=Rt=0,Tn=_l=null,cd=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-bt(o),f=1<<h;i|=t[h],o&=~f}return gs=i,ju(),a}function $0(t,i){Me=null,F.H=cl,i===Pa||i===Gu?(i=fg(),st=3):i===_f?(i=fg(),st=4):st=i===Kf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Vn=i,Le===null&&(Rt=1,rc(t,Qn(i,t.current)))}function X0(){var t=kn.current;return t===null?!0:(Pe&4194048)===Pe?Zn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===Zn:!1}function Z0(){var t=F.H;return F.H=cl,t===null?cl:t}function J0(){var t=F.A;return F.A=sb,t}function yc(){Rt=4,Js||(Pe&4194048)!==Pe&&kn.current!==null||(Qa=!0),(er&134217727)===0&&(ra&134217727)===0||ft===null||ir(ft,Pe,Ln,!1)}function pd(t,i,a){var o=et;et|=2;var h=Z0(),f=J0();(ft!==t||Pe!==i)&&(pc=null,Xa(t,i)),i=!1;var p=Rt;e:do try{if(st!==0&&Le!==null){var b=Le,R=Vn;switch(st){case 8:md(),p=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(i=!0);var z=st;if(st=0,Vn=null,Za(t,b,R,z),a&&Qa){p=0;break e}break;default:z=st,st=0,Vn=null,Za(t,b,R,z)}}ob(),p=Rt;break}catch(K){$0(t,K)}while(!0);return i&&t.shellSuspendCounter++,as=$r=null,et=o,F.H=h,F.A=f,Le===null&&(ft=null,Pe=0,ju()),p}function ob(){for(;Le!==null;)ey(Le)}function lb(t,i){var a=et;et|=2;var o=Z0(),h=J0();ft!==t||Pe!==i?(pc=null,mc=ce()+500,Xa(t,i)):Qa=ri(t,i);e:do try{if(st!==0&&Le!==null){i=Le;var f=Vn;t:switch(st){case 1:st=0,Vn=null,Za(t,i,f,1);break;case 2:case 9:if(cg(f)){st=0,Vn=null,ty(i);break}i=function(){st!==2&&st!==9||ft!==t||(st=7),Hi(t)},f.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:cg(f)?(st=0,Vn=null,ty(i)):(st=0,Vn=null,Za(t,i,f,7));break;case 5:var p=null;switch(Le.tag){case 26:p=Le.memoizedState;case 5:case 27:var b=Le;if(p?Py(p):b.stateNode.complete){st=0,Vn=null;var R=b.sibling;if(R!==null)Le=R;else{var z=b.return;z!==null?(Le=z,_c(z)):Le=null}break t}}st=0,Vn=null,Za(t,i,f,5);break;case 6:st=0,Vn=null,Za(t,i,f,6);break;case 8:md(),Rt=6;break e;default:throw Error(r(462))}}ub();break}catch(K){$0(t,K)}while(!0);return as=$r=null,F.H=o,F.A=h,et=a,Le!==null?0:(ft=null,Pe=0,ju(),Rt)}function ub(){for(;Le!==null&&!De();)ey(Le)}function ey(t){var i=S0(t.alternate,t,gs);t.memoizedProps=t.pendingProps,i===null?_c(t):Le=i}function ty(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=_0(a,i,i.pendingProps,i.type,void 0,Pe);break;case 11:i=_0(a,i,i.pendingProps,i.type.render,i.ref,Pe);break;case 5:If(i);default:x0(a,i),i=Le=Jp(i,gs),i=S0(a,i,gs)}t.memoizedProps=t.pendingProps,i===null?_c(t):Le=i}function Za(t,i,a,o){as=$r=null,If(i),Ba=null,nl=0;var h=i.return;try{if(XT(t,h,i,a,Pe)){Rt=1,rc(t,Qn(a,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;Rt=1,rc(t,Qn(a,t.current)),Le=null;return}i.flags&32768?(Ke||o===1?t=!0:Qa||(Pe&536870912)!==0?t=!1:(Js=t=!0,(o===2||o===9||o===3||o===6)&&(o=kn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ny(i,t)):_c(i)}function _c(t){var i=t;do{if((i.flags&32768)!==0){ny(i,Js);return}t=i.return;var a=eb(i.alternate,i,gs);if(a!==null){Le=a;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=t}while(i!==null);Rt===0&&(Rt=5)}function ny(t,i){do{var a=tb(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);Rt=6,Le=null}function iy(t,i,a,o,h,f,p,b,R){t.cancelPendingCommit=null;do vc();while(Ht!==0);if((et&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=nf,Yh(t,a,f,p,b,R),t===ft&&(Le=ft=null,Pe=0),$a=i,nr=t,ys=a,hd=f,fd=h,K0=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,db(Bn,function(){return ly(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=te.p,te.p=2,p=et,et|=4;try{nb(t,i,a)}finally{et=p,te.p=h,F.T=o}}Ht=1,sy(),ry(),ay()}}function sy(){if(Ht===1){Ht=0;var t=nr,i=$a,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=et;et|=4;try{U0(i,t);var f=Rd,p=Fp(t.containerInfo),b=f.focusedElem,R=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&Hp(b.ownerDocument.documentElement,b)){if(R!==null&&Xh(b)){var z=R.start,K=R.end;if(K===void 0&&(K=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min(K,b.value.length);else{var Q=b.ownerDocument||document,P=Q&&Q.defaultView||window;if(P.getSelection){var q=P.getSelection(),he=b.textContent.length,ve=Math.min(R.start,he),ct=R.end===void 0?ve:Math.min(R.end,he);!q.extend&&ve>ct&&(p=ct,ct=ve,ve=p);var V=qp(b,ve),k=qp(b,ct);if(V&&k&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==k.node||q.focusOffset!==k.offset)){var U=Q.createRange();U.setStart(V.node,V.offset),q.removeAllRanges(),ve>ct?(q.addRange(U),q.extend(k.node,k.offset)):(U.setEnd(k.node,k.offset),q.addRange(U))}}}}for(Q=[],q=b;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Q.length;b++){var Y=Q[b];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Oc=!!xd,Rd=xd=null}finally{et=h,te.p=o,F.T=a}}t.current=i,Ht=2}}function ry(){if(Ht===2){Ht=0;var t=nr,i=$a,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=et;et|=4;try{k0(t,i.alternate,i)}finally{et=h,te.p=o,F.T=a}}Ht=3}}function ay(){if(Ht===4||Ht===3){Ht=0,J();var t=nr,i=$a,a=ys,o=K0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ht=5:(Ht=0,$a=nr=null,oy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(tr=null),es(a),i=i.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(an,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=te.p,te.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var b=o[p];f(b.value,{componentStack:b.stack})}}finally{F.T=i,te.p=h}}(ys&3)!==0&&vc(),Hi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===dd?vl++:(vl=0,dd=t):vl=0,El(0)}}function oy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,el(i)))}function vc(){return sy(),ry(),ay(),ly()}function ly(){if(Ht!==5)return!1;var t=nr,i=hd;hd=0;var a=es(ys),o=F.T,h=te.p;try{te.p=32>a?32:a,F.T=null,a=fd,fd=null;var f=nr,p=ys;if(Ht=0,$a=nr=null,ys=0,(et&6)!==0)throw Error(r(331));var b=et;if(et|=4,H0(f.current),P0(f,f.current,p,a),et=b,El(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(an,f)}catch{}return!0}finally{te.p=h,F.T=o,oy(t,i)}}function uy(t,i,a){i=Qn(a,i),i=Gf(t.stateNode,i,2),t=Ws(t,i,2),t!==null&&(kr(t,2),Hi(t))}function rt(t,i,a){if(t.tag===3)uy(t,t,a);else for(;i!==null;){if(i.tag===3){uy(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(tr===null||!tr.has(o))){t=Qn(a,t),a=c0(2),o=Ws(i,a,2),o!==null&&(h0(a,o,i,t),kr(o,2),Hi(o));break}}i=i.return}}function gd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new rb;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(ld=!0,h.add(a),t=cb.bind(null,t,i,a),i.then(t,t))}function cb(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ft===t&&(Pe&a)===a&&(Rt===4||Rt===3&&(Pe&62914560)===Pe&&300>ce()-dc?(et&2)===0&&Xa(t,0):ud|=a,Wa===Pe&&(Wa=0)),Hi(t)}function cy(t,i){i===0&&(i=pu()),t=Yr(t,i),t!==null&&(kr(t,i),Hi(t))}function hb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),cy(t,a)}function fb(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),cy(t,a)}function db(t,i){return re(t,i)}var Ec=null,Ja=null,yd=!1,Tc=!1,_d=!1,sr=0;function Hi(t){t!==Ja&&t.next===null&&(Ja===null?Ec=Ja=t:Ja=Ja.next=t),Tc=!0,yd||(yd=!0,pb())}function El(t,i){if(!_d&&Tc){_d=!0;do for(var a=!1,o=Ec;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-bt(42|t)+1)-1,f&=h&~(p&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,my(o,f))}else f=Pe,f=wi(o,o===ft?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ri(o,f)||(a=!0,my(o,f));o=o.next}while(a);_d=!1}}function mb(){hy()}function hy(){Tc=yd=!1;var t=0;sr!==0&&wb()&&(t=sr);for(var i=ce(),a=null,o=Ec;o!==null;){var h=o.next,f=fy(o,i);f===0?(o.next=null,a===null?Ec=h:a.next=h,h===null&&(Ja=a)):(a=o,(t!==0||(f&3)!==0)&&(Tc=!0)),o=h}Ht!==0&&Ht!==5||El(t),sr!==0&&(sr=0)}function fy(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-bt(f),b=1<<p,R=h[p];R===-1?((b&a)===0||(b&o)!==0)&&(h[p]=Kh(b,i)):R<=i&&(t.expiredLanes|=b),f&=~b}if(i=ft,a=Pe,a=wi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(st===2||st===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ue(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ri(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&ue(o),es(a)){case 2:case 8:a=Ze;break;case 32:a=Bn;break;case 268435456:a=ht;break;default:a=Bn}return o=dy.bind(null,t),a=re(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&ue(o),t.callbackPriority=2,t.callbackNode=null,2}function dy(t,i){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(vc()&&t.callbackNode!==a)return null;var o=Pe;return o=wi(t,t===ft?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Q0(t,o,i),fy(t,ce()),t.callbackNode!=null&&t.callbackNode===a?dy.bind(null,t):null)}function my(t,i){if(vc())return null;Q0(t,i,!0)}function pb(){Rb(function(){(et&6)!==0?re(Ye,mb):hy()})}function vd(){if(sr===0){var t=Ua;t===0&&(t=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),sr=t}return sr}function py(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function gy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function gb(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=py((h[Yt]||null).action),p=o.submitter;p&&(i=(i=p[Yt]||null)?py(i.formAction):p.getAttribute("formAction"),i!==null&&(f=i,p=null));var b=new Li("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(sr!==0){var R=p?gy(h,p):new FormData(h);zf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(b.preventDefault(),R=p?gy(h,p):new FormData(h),zf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Ed=0;Ed<tf.length;Ed++){var Td=tf[Ed],yb=Td.toLowerCase(),_b=Td[0].toUpperCase()+Td.slice(1);di(yb,"on"+_b)}di(Yp,"onAnimationEnd"),di(Qp,"onAnimationIteration"),di(Wp,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(MT,"onTransitionRun"),di(VT,"onTransitionStart"),di(LT,"onTransitionCancel"),di($p,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function yy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var p=o.length-1;0<=p;p--){var b=o[p],R=b.instance,z=b.currentTarget;if(b=b.listener,R!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch(K){Lu(K)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(b=o[p],R=b.instance,z=b.currentTarget,b=b.listener,R!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch(K){Lu(K)}h.currentTarget=null,f=R}}}}function je(t,i){var a=i[_a];a===void 0&&(a=i[_a]=new Set);var o=t+"__bubble";a.has(o)||(_y(i,t,2,!1),a.add(o))}function bd(t,i,a){var o=0;i&&(o|=4),_y(a,t,o,i)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Ad(t){if(!t[bc]){t[bc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(vb.has(a)||bd(a,!1,t),bd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[bc]||(i[bc]=!0,bd("selectionchange",!1,i))}}function _y(t,i,a,o){switch(Yy(i)){case 2:var h=Yb;break;case 8:h=Qb;break;default:h=Ud}a=h.bind(null,i,a,t),h=void 0,!zr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Sd(t,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var b=o.stateNode.containerInfo;if(b===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;b!==null;){if(p=Ci(b),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue e}b=b.parentNode}}o=o.return}zs(function(){var z=f,K=Fn(a),Q=[];e:{var P=Xp.get(t);if(P!==void 0){var q=Li,he=t;switch(t){case"keypress":if(Br(a)===0)break e;case"keydown":case"keyup":q=ku;break;case"focusin":he="focus",q=Hr;break;case"focusout":he="blur",q=Hr;break;case"beforeblur":case"afterblur":q=Hr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Yp:case Qp:case Wp:q=xu;break;case $p:q=A;break;case"scroll":case"scrollend":q=Go;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=is;break;case"toggle":case"beforetoggle":q=ke}var ve=(i&4)!==0,ct=!ve&&(t==="scroll"||t==="scrollend"),V=ve?P!==null?P+"Capture":null:P;ve=[];for(var k=z,U;k!==null;){var Y=k;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||V===null||(Y=ui(k,V),Y!=null&&ve.push(bl(k,Y,U))),ct)break;k=k.return}0<ve.length&&(P=new q(P,he,null,a,K),Q.push({event:P,listeners:ve}))}}if((i&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&a!==qo&&(he=a.relatedTarget||a.fromElement)&&(Ci(he)||he[Ri]))break e;if((q||P)&&(P=K.window===K?K:(P=K.ownerDocument)?P.defaultView||P.parentWindow:window,q?(he=a.relatedTarget||a.toElement,q=z,he=he?Ci(he):null,he!==null&&(ct=c(he),ve=he.tag,he!==ct||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(q=null,he=z),q!==he)){if(ve=Ko,Y="onMouseLeave",V="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(ve=is,Y="onPointerLeave",V="onPointerEnter",k="pointer"),ct=q==null?P:Cn(q),U=he==null?P:Cn(he),P=new ve(Y,k+"leave",q,a,K),P.target=ct,P.relatedTarget=U,Y=null,Ci(K)===z&&(ve=new ve(V,k+"enter",he,a,K),ve.target=U,ve.relatedTarget=ct,Y=ve),ct=Y,q&&he)t:{for(ve=Eb,V=q,k=he,U=0,Y=V;Y;Y=ve(Y))U++;Y=0;for(var pe=k;pe;pe=ve(pe))Y++;for(;0<U-Y;)V=ve(V),U--;for(;0<Y-U;)k=ve(k),Y--;for(;U--;){if(V===k||k!==null&&V===k.alternate){ve=V;break t}V=ve(V),k=ve(k)}ve=null}else ve=null;q!==null&&vy(Q,P,q,ve,!1),he!==null&&ct!==null&&vy(Q,ct,he,ve,!0)}}e:{if(P=z?Cn(z):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var $e=Lp;else if(Mp(P))if(jp)$e=OT;else{$e=CT;var fe=NT}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&ba(z.elementType)&&($e=Lp):$e=IT;if($e&&($e=$e(t,z))){Vp(Q,$e,a,K);break e}fe&&fe(t,P,z),t==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&zo(P,"number",P.value)}switch(fe=z?Cn(z):window,t){case"focusin":(Mp(fe)||fe.contentEditable==="true")&&(Ia=fe,Zh=z,Xo=null);break;case"focusout":Xo=Zh=Ia=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,Gp(Q,a,K);break;case"selectionchange":if(kT)break;case"keydown":case"keyup":Gp(Q,a,K)}var Ve;if(Je)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ca?Fr(t,a)&&(Be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(zi&&a.locale!=="ko"&&(Ca||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ca&&(Ve=Fo()):(Vi=K,Ho="value"in Vi?Vi.value:Vi.textContent,Ca=!0)),fe=Ac(z,Be),0<fe.length&&(Be=new Ui(Be,t,null,a,K),Q.push({event:Be,listeners:fe}),Ve?Be.data=Ve:(Ve=Na(a),Ve!==null&&(Be.data=Ve)))),(Ve=Kn?ST(t,a):wT(t,a))&&(Be=Ac(z,"onBeforeInput"),0<Be.length&&(fe=new Ui("onBeforeInput","beforeinput",null,a,K),Q.push({event:fe,listeners:Be}),fe.data=Ve)),gb(Q,t,z,a,K)}yy(Q,i)})}function bl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ac(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ui(t,a),h!=null&&o.unshift(bl(t,h,f)),h=ui(t,i),h!=null&&o.push(bl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Eb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function vy(t,i,a,o,h){for(var f=i._reactName,p=[];a!==null&&a!==o;){var b=a,R=b.alternate,z=b.stateNode;if(b=b.tag,R!==null&&R===o)break;b!==5&&b!==26&&b!==27||z===null||(R=z,h?(z=ui(a,f),z!=null&&p.unshift(bl(a,z,R))):h||(z=ui(a,f),z!=null&&p.push(bl(a,z,R)))),a=a.return}p.length!==0&&t.push({event:i,listeners:p})}var Tb=/\r\n?/g,bb=/\u0000|\uFFFD/g;function Ey(t){return(typeof t=="string"?t:""+t).replace(Tb,`
`).replace(bb,"")}function Ty(t,i){return i=Ey(i),Ey(t)===i}function ut(t,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||yn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&yn(t,""+o);break;case"className":In(t,"class",o);break;case"tabIndex":In(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,a,o);break;case"style":Bo(t,o,f);break;case"data":if(i!=="object"){In(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Aa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&ut(t,i,"name",h.name,h,null),ut(t,i,"formEncType",h.formEncType,h,null),ut(t,i,"formMethod",h.formMethod,h,null),ut(t,i,"formTarget",h.formTarget,h,null)):(ut(t,i,"encType",h.encType,h,null),ut(t,i,"method",h.method,h,null),ut(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Aa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=li);break;case"onScroll":o!=null&&je("scroll",t);break;case"onScrollEnd":o!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Aa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":je("beforetoggle",t),je("toggle",t),Ea(t,"popover",o);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ea(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Au.get(a)||a,Ea(t,a,o))}}function wd(t,i,a,o,h,f){switch(a){case"style":Bo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?yn(t,o):(typeof o=="number"||typeof o=="bigint")&&yn(t,""+o);break;case"onScroll":o!=null&&je("scroll",t);break;case"onScrollEnd":o!=null&&je("scrollend",t);break;case"onClick":o!=null&&(t.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[Yt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Ea(t,a,o)}}}function tn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ut(t,i,f,p,a,null)}}h&&ut(t,i,"srcSet",a.srcSet,a,null),o&&ut(t,i,"src",a.src,a,null);return;case"input":je("invalid",t);var b=f=p=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":h=K;break;case"type":p=K;break;case"checked":R=K;break;case"defaultChecked":z=K;break;case"value":f=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:ut(t,i,o,K,a,null)}}Eu(t,f,b,R,z,p,h,!1);return;case"select":je("invalid",t),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":p=b;break;case"multiple":o=b;default:ut(t,i,h,b,a,null)}i=f,a=p,t.multiple=!!o,i!=null?Vs(t,!!o,i,!1):a!=null&&Vs(t,!!o,a,!0);return;case"textarea":je("invalid",t),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(b=a[p],b!=null))switch(p){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:ut(t,i,p,b,a,null)}Ls(t,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ut(t,i,R,o,a,null));return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(o=0;o<Tl.length;o++)je(Tl[o],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ut(t,i,z,o,a,null)}return;default:if(ba(i)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&wd(t,i,K,o,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(o=a[b],o!=null&&ut(t,i,b,o,a,null))}function Ab(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,b=null,R=null,z=null,K=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(q)||ut(t,i,q,null,o,Q)}}for(var P in o){var q=o[P];if(Q=a[P],o.hasOwnProperty(P)&&(q!=null||Q!=null))switch(P){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":K=q;break;case"value":p=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:q!==Q&&ut(t,i,P,q,o,Q)}}Ta(t,p,b,R,z,K,f,h);return;case"select":q=p=b=P=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||ut(t,i,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":P=f;break;case"defaultValue":b=f;break;case"multiple":p=f;default:f!==R&&ut(t,i,h,f,o,R)}i=b,a=p,o=q,P!=null?Vs(t,!!a,P,!1):!!o!=!!a&&(i!=null?Vs(t,!!a,i,!0):Vs(t,!!a,a?[]:"",!1));return;case"textarea":q=P=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ut(t,i,b,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":P=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ut(t,i,p,h,o,f)}Tu(t,P,q);return;case"option":for(var he in a)P=a[he],a.hasOwnProperty(he)&&P!=null&&!o.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:ut(t,i,he,null,o,P));for(R in o)P=o[R],q=a[R],o.hasOwnProperty(R)&&P!==q&&(P!=null||q!=null)&&(R==="selected"?t.selected=P&&typeof P!="function"&&typeof P!="symbol":ut(t,i,R,P,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)P=a[ve],a.hasOwnProperty(ve)&&P!=null&&!o.hasOwnProperty(ve)&&ut(t,i,ve,null,o,P);for(z in o)if(P=o[z],q=a[z],o.hasOwnProperty(z)&&P!==q&&(P!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,i));break;default:ut(t,i,z,P,o,q)}return;default:if(ba(i)){for(var ct in a)P=a[ct],a.hasOwnProperty(ct)&&P!==void 0&&!o.hasOwnProperty(ct)&&wd(t,i,ct,void 0,o,P);for(K in o)P=o[K],q=a[K],!o.hasOwnProperty(K)||P===q||P===void 0&&q===void 0||wd(t,i,K,P,o,q);return}}for(var V in a)P=a[V],a.hasOwnProperty(V)&&P!=null&&!o.hasOwnProperty(V)&&ut(t,i,V,null,o,P);for(Q in o)P=o[Q],q=a[Q],!o.hasOwnProperty(Q)||P===q||P==null&&q==null||ut(t,i,Q,P,o,q)}function by(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,b=h.duration;if(f&&b&&by(p)){for(p=0,b=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>b)break;var K=R.transferSize,Q=R.initiatorType;K&&by(Q)&&(R=R.responseEnd,p+=K*(R<b?1:(b-z)/(R-z)))}if(--o,i+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xd=null,Rd=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function Ay(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Nd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Cd=null;function wb(){var t=window.event;return t&&t.type==="popstate"?t===Cd?!1:(Cd=t,!0):(Cd=null,!1)}var wy=typeof setTimeout=="function"?setTimeout:void 0,xb=typeof clearTimeout=="function"?clearTimeout:void 0,xy=typeof Promise=="function"?Promise:void 0,Rb=typeof queueMicrotask=="function"?queueMicrotask:typeof xy<"u"?function(t){return xy.resolve(null).then(t).catch(Nb)}:wy;function Nb(t){setTimeout(function(){throw t})}function rr(t){return t==="head"}function Ry(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),io(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Al(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Al(a);for(var f=a.firstChild;f;){var p=f.nextSibling,b=f.nodeName;f[Ni]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&Al(t.ownerDocument.body);a=h}while(a);io(i)}function Ny(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Id(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Id(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Cb(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ni])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function Ib(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Jn(t.nextSibling),t===null))return null;return t}function Cy(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Jn(t.nextSibling),t===null))return null;return t}function Od(t){return t.data==="$?"||t.data==="$~"}function Dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Ob(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Jn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var kd=null;function Iy(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Jn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Oy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Dy(t,i,a){switch(i=Sc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Al(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);va(t)}var ei=new Map,ky=new Set;function wc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _s=te.d;te.d={f:Db,r:kb,D:Mb,C:Vb,L:Lb,m:jb,X:zb,S:Ub,M:Pb};function Db(){var t=_s.f(),i=gc();return t||i}function kb(t){var i=Hn(t);i!==null&&i.tag===5&&i.type==="form"?$g(i):_s.r(t)}var eo=typeof document>"u"?null:document;function My(t,i,a){var o=eo;if(o&&typeof i=="string"&&i){var h=gn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ky.has(h)||(ky.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),tn(i,"link",t),Mt(i),o.head.appendChild(i)))}}function Mb(t){_s.D(t),My("dns-prefetch",t,null)}function Vb(t,i){_s.C(t,i),My("preconnect",t,i)}function Lb(t,i,a){_s.L(t,i,a);var o=eo;if(o&&t&&i){var h='link[rel="preload"][as="'+gn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gn(a.imageSizes)+'"]')):h+='[href="'+gn(t)+'"]';var f=h;switch(i){case"style":f=to(t);break;case"script":f=no(t)}ei.has(f)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),ei.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Sl(f))||i==="script"&&o.querySelector(wl(f))||(i=o.createElement("link"),tn(i,"link",t),Mt(i),o.head.appendChild(i)))}}function jb(t,i){_s.m(t,i);var a=eo;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=no(t)}if(!ei.has(f)&&(t=S({rel:"modulepreload",href:t},i),ei.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(f)))return}o=a.createElement("link"),tn(o,"link",t),Mt(o),a.head.appendChild(o)}}}function Ub(t,i,a){_s.S(t,i,a);var o=eo;if(o&&t){var h=Ii(o).hoistableStyles,f=to(t);i=i||"default";var p=h.get(f);if(!p){var b={loading:0,preload:null};if(p=o.querySelector(Sl(f)))b.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=ei.get(f))&&Md(t,a);var R=p=o.createElement("link");Mt(R),tn(R,"link",t),R._p=new Promise(function(z,K){R.onload=z,R.onerror=K}),R.addEventListener("load",function(){b.loading|=1}),R.addEventListener("error",function(){b.loading|=2}),b.loading|=4,xc(p,i,o)}p={type:"stylesheet",instance:p,count:1,state:b},h.set(f,p)}}}function zb(t,i){_s.X(t,i);var a=eo;if(a&&t){var o=Ii(a).hoistableScripts,h=no(t),f=o.get(h);f||(f=a.querySelector(wl(h)),f||(t=S({src:t,async:!0},i),(i=ei.get(h))&&Vd(t,i),f=a.createElement("script"),Mt(f),tn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Pb(t,i){_s.M(t,i);var a=eo;if(a&&t){var o=Ii(a).hoistableScripts,h=no(t),f=o.get(h);f||(f=a.querySelector(wl(h)),f||(t=S({src:t,async:!0,type:"module"},i),(i=ei.get(h))&&Vd(t,i),f=a.createElement("script"),Mt(f),tn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Vy(t,i,a,o){var h=(h=Oe.current)?wc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=to(a.href),a=Ii(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=to(a.href);var f=Ii(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(Sl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),ei.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ei.set(t,a),f||Bb(h,t,a,p.state))),i&&o===null)throw Error(r(528,""));return p}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(a),a=Ii(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function to(t){return'href="'+gn(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function Ly(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Bb(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),tn(i,"link",a),Mt(i),t.head.appendChild(i))}function no(t){return'[src="'+gn(t)+'"]'}function wl(t){return"script[async]"+t}function jy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+gn(a.href)+'"]');if(o)return i.instance=o,Mt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Mt(o),tn(o,"style",h),xc(o,a.precedence,t),i.instance=o;case"stylesheet":h=to(a.href);var f=t.querySelector(Sl(h));if(f)return i.state.loading|=4,i.instance=f,Mt(f),f;o=Ly(a),(h=ei.get(h))&&Md(o,h),f=(t.ownerDocument||t).createElement("link"),Mt(f);var p=f;return p._p=new Promise(function(b,R){p.onload=b,p.onerror=R}),tn(f,"link",o),i.state.loading|=4,xc(f,a.precedence,t),i.instance=f;case"script":return f=no(a.src),(h=t.querySelector(wl(f)))?(i.instance=h,Mt(h),h):(o=a,(h=ei.get(f))&&(o=S({},a),Vd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Mt(h),tn(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,xc(o,a.precedence,t));return i.instance}function xc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var b=o[p];if(b.dataset.precedence===i)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Md(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Vd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Rc=null;function Uy(t,i,a){if(Rc===null){var o=new Map,h=Rc=new Map;h.set(a,o)}else h=Rc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ni]||f[kt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(i)||"";p=t+p;var b=o.get(p);b?b.push(f):o.set(p,[f])}}return o}function zy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function qb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Py(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Hb(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=to(o.href),f=i.querySelector(Sl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Nc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,Mt(f);return}f=i.ownerDocument||i,o=Ly(o),(h=ei.get(h))&&Md(o,h),f=f.createElement("link"),Mt(f);var p=f;p._p=new Promise(function(b,R){p.onload=b,p.onerror=R}),tn(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Nc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Ld=0;function Fb(t,i){return t.stylesheets&&t.count===0&&Ic(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Ld===0&&(Ld=62500*Sb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ld?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cc=null;function Ic(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cc=new Map,i.forEach(Gb,t),Cc=null,Nc.call(t))}function Gb(t,i){if(!(i.state.loading&4)){var a=Cc.get(t);if(a)var o=a.get(null);else{a=new Map,Cc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=i.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=Nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var xl={$$typeof:we,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Kb(t,i,a,o,h,f,p,b,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function By(t,i,a,o,h,f,p,b,R,z,K,Q){return t=new Kb(t,i,a,p,R,z,K,Q,b),i=1,f===!0&&(i|=24),f=Dn(3,null,null,i),t.current=f,f.stateNode=t,i=pf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},vf(f),t}function qy(t){return t?(t=ka,t):ka}function Hy(t,i,a,o,h,f){h=qy(h),o.context===null?o.context=h:o.pendingContext=h,o=Qs(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ws(t,o,i),a!==null&&(bn(a,t,i),sl(a,t,i))}function Fy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function jd(t,i){Fy(t,i),(t=t.alternate)&&Fy(t,i)}function Gy(t){if(t.tag===13||t.tag===31){var i=Yr(t,67108864);i!==null&&bn(i,t,67108864),jd(t,67108864)}}function Ky(t){if(t.tag===13||t.tag===31){var i=jn();i=Vr(i);var a=Yr(t,i);a!==null&&bn(a,t,i),jd(t,i)}}var Oc=!0;function Yb(t,i,a,o){var h=F.T;F.T=null;var f=te.p;try{te.p=2,Ud(t,i,a,o)}finally{te.p=f,F.T=h}}function Qb(t,i,a,o){var h=F.T;F.T=null;var f=te.p;try{te.p=8,Ud(t,i,a,o)}finally{te.p=f,F.T=h}}function Ud(t,i,a,o){if(Oc){var h=zd(o);if(h===null)Sd(t,i,o,Dc,a),Qy(t,o);else if($b(h,t,i,a,o))o.stopPropagation();else if(Qy(t,o),i&4&&-1<Wb.indexOf(t)){for(;h!==null;){var f=Hn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Si(f.pendingLanes);if(p!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var R=1<<31-bt(p);b.entanglements[1]|=R,p&=~R}Hi(f),(et&6)===0&&(mc=ce()+500,El(0))}}break;case 31:case 13:b=Yr(f,2),b!==null&&bn(b,f,2),gc(),jd(f,2)}if(f=zd(o),f===null&&Sd(t,i,o,Dc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Sd(t,i,o,null,a)}}function zd(t){return t=Fn(t),Pd(t)}var Dc=null;function Pd(t){if(Dc=null,t=Ci(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Dc=t,null}function Yy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case Ye:return 2;case Ze:return 8;case Bn:case ii:return 32;case ht:return 268435456;default:return 32}default:return 32}}var Bd=!1,ar=null,or=null,lr=null,Rl=new Map,Nl=new Map,ur=[],Wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qy(t,i){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(i.pointerId)}}function Cl(t,i,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Hn(i),i!==null&&Gy(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function $b(t,i,a,o,h){switch(i){case"focusin":return ar=Cl(ar,t,i,a,o,h),!0;case"dragenter":return or=Cl(or,t,i,a,o,h),!0;case"mouseover":return lr=Cl(lr,t,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Rl.set(f,Cl(Rl.get(f)||null,t,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Nl.set(f,Cl(Nl.get(f)||null,t,i,a,o,h)),!0}return!1}function Wy(t){var i=Ci(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,ai(t.priority,function(){Ky(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,ai(t.priority,function(){Ky(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=zd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);qo=o,a.target.dispatchEvent(o),qo=null}else return i=Hn(a),i!==null&&Gy(i),t.blockedOn=a,!1;i.shift()}return!0}function $y(t,i,a){kc(t)&&a.delete(i)}function Xb(){Bd=!1,ar!==null&&kc(ar)&&(ar=null),or!==null&&kc(or)&&(or=null),lr!==null&&kc(lr)&&(lr=null),Rl.forEach($y),Nl.forEach($y)}function Mc(t,i){t.blockedOn===i&&(t.blockedOn=null,Bd||(Bd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Xb)))}var Vc=null;function Xy(t){Vc!==t&&(Vc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Pd(o||a)===null)continue;break}var f=Hn(a);f!==null&&(t.splice(i,3),i-=3,zf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function io(t){function i(R){return Mc(R,t)}ar!==null&&Mc(ar,t),or!==null&&Mc(or,t),lr!==null&&Mc(lr,t),Rl.forEach(i),Nl.forEach(i);for(var a=0;a<ur.length;a++){var o=ur[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ur.length&&(a=ur[0],a.blockedOn===null);)Wy(a),a.blockedOn===null&&ur.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[Yt]||null;if(typeof f=="function")p||Xy(a);else if(p){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Yt]||null)b=p.formAction;else if(Pd(h)!==null)continue}else b=p.action;typeof b=="function"?a[o+1]=b:(a.splice(o,3),o-=3),Xy(a)}}}function Zy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function qd(t){this._internalRoot=t}Lc.prototype.render=qd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=jn();Hy(a,o,t,i,null,null)},Lc.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Hy(t.current,2,null,t,null,null),gc(),i[Ri]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var i=gu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ur.length&&i!==0&&i<ur[a].priority;a++);ur.splice(a,0,t),a===0&&Wy(t)}};var Jy=e.version;if(Jy!=="19.2.4")throw Error(r(527,Jy,"19.2.4"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var Zb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{an=jc.inject(Zb),mt=jc}catch{}}return Ol.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",h=a0,f=o0,p=l0;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=By(t,1,!1,null,null,a,o,null,h,f,p,Zy),t[Ri]=i.current,Ad(t),new qd(i)},Ol.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=a0,p=o0,b=l0,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),i=By(t,1,!0,i,a??null,o,h,R,f,p,b,Zy),i.context=qy(null),a=i.current,o=jn(),o=Vr(o),h=Qs(o),h.callback=null,Ws(a,h,o),a=o,i.current.lanes=a,kr(i,a),Hi(i),t[Ri]=i.current,Ad(t),new Lc(i)},Ol.version="19.2.4",Ol}var u_;function c2(){if(u_)return Gd.exports;u_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Gd.exports=u2(),Gd.exports}var h2=c2();const f2=()=>{};var c_={};const Z1=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},d2=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],g=s[n++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[n++],d=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},J1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,T=c>>2,S=(c&3)<<4|g>>4;let O=(g&15)<<2|y>>6,H=y&63;_||(H=64,d||(O=64)),r.push(n[T],n[S],n[O],n[H])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Z1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):d2(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||S==null)throw new m2;const O=c<<2|g>>4;if(r.push(O),y!==64){const H=g<<4&240|y>>2;if(r.push(H),S!==64){const Z=y<<6&192|S;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class m2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p2=function(s){const e=Z1(s);return J1.encodeByteArray(e,!0)},rh=function(s){return p2(s).replace(/\./g,"")},ev=function(s){try{return J1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function g2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const y2=()=>g2().__FIREBASE_DEFAULTS__,_2=()=>{if(typeof process>"u"||typeof c_>"u")return;const s=c_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},v2=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&ev(s[1]);return e&&JSON.parse(e)},xh=()=>{try{return f2()||y2()||_2()||v2()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},tv=s=>xh()?.emulatorHosts?.[s],E2=s=>{const e=tv(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nv=()=>xh()?.config,iv=s=>xh()?.[`_${s}`];class T2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function So(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sv(s){return(await fetch(s,{credentials:"include"})).ok}function b2(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[rh(JSON.stringify(n)),rh(JSON.stringify(d)),""].join(".")}const Ul={};function A2(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?s.emulator.push(e):s.prod.push(e);return s}function S2(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let h_=!1;function rv(s,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||Ul[s]===e||Ul[s]||h_)return;Ul[s]=e;function n(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=A2().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,H){O.setAttribute("width","24"),O.setAttribute("id",H),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{h_=!0,d()},O}function T(O,H){O.setAttribute("id",H),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=S2(r),H=n("text"),Z=document.getElementById(H)||document.createElement("span"),ie=n("learnmore"),se=document.getElementById(ie)||document.createElement("a"),_e=n("preprendIcon"),Ie=document.getElementById(_e)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const we=O.element;g(we),T(se,ie);const tt=y();_(Ie,_e),we.append(Ie,Z,se,tt),document.body.appendChild(we)}c?(Z.innerText="Preview backend disconnected.",Ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function x2(){const s=xh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function N2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function C2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I2(){const s=hn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function O2(){return!x2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D2(){try{return typeof indexedDB=="object"}catch{return!1}}function k2(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const M2="FirebaseError";class Is extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=M2,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?V2(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Is(l,g,r)}}function V2(s,e){return s.replace(L2,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const L2=/\{\$([^}]+)}/g;function j2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function br(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(f_(c)&&f_(d)){if(!br(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function f_(s){return s!==null&&typeof s=="object"}function tu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function U2(s,e){const n=new z2(s,e);return n.subscribe.bind(n)}class z2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");P2(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Wd),l.error===void 0&&(l.error=Wd),l.complete===void 0&&(l.complete=Wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P2(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Wd(){}function pn(s){return s&&s._delegate?s._delegate:s}class ca{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const aa="[DEFAULT]";class B2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new T2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H2(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:q2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q2(s){return s===aa?void 0:s}function H2(s){return s.instantiationMode==="EAGER"}class F2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new B2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qe||(qe={}));const G2={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},K2=qe.INFO,Y2={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},Q2=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=Y2[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=K2,this._logHandler=Q2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const W2=(s,e)=>e.some(n=>s instanceof n);let d_,m_;function $2(){return d_||(d_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X2(){return m_||(m_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const av=new WeakMap,pm=new WeakMap,ov=new WeakMap,$d=new WeakMap,Gm=new WeakMap;function Z2(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(yr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&av.set(n,s)}).catch(()=>{}),Gm.set(e,s),e}function J2(s){if(pm.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});pm.set(s,e)}let gm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return pm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||ov.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function eA(s){gm=s(gm)}function tA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Xd(this),e,...n);return ov.set(r,e.sort?e.sort():[e]),yr(r)}:X2().includes(s)?function(...e){return s.apply(Xd(this),e),yr(av.get(this))}:function(...e){return yr(s.apply(Xd(this),e))}}function nA(s){return typeof s=="function"?tA(s):(s instanceof IDBTransaction&&J2(s),W2(s,$2())?new Proxy(s,gm):s)}function yr(s){if(s instanceof IDBRequest)return Z2(s);if($d.has(s))return $d.get(s);const e=nA(s);return e!==s&&($d.set(s,e),Gm.set(e,s)),e}const Xd=s=>Gm.get(s);function iA(s,e,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=yr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(yr(d.result),_.oldVersion,_.newVersion,yr(d.transaction),_)}),n&&d.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const sA=["get","getKey","getAll","getAllKeys","count"],rA=["put","add","delete","clear"],Zd=new Map;function p_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Zd.get(e))return Zd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=rA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||sA.includes(n)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&_.done]))[0]};return Zd.set(e,c),c}eA(s=>({...s,get:(e,n,r)=>p_(e,n)||s.get(e,n,r),has:(e,n)=>!!p_(e,n)||s.has(e,n)}));class aA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oA(s){return s.getComponent()?.type==="VERSION"}const ym="@firebase/app",g_="0.14.7";const Ss=new Fm("@firebase/app"),lA="@firebase/app-compat",uA="@firebase/analytics-compat",cA="@firebase/analytics",hA="@firebase/app-check-compat",fA="@firebase/app-check",dA="@firebase/auth",mA="@firebase/auth-compat",pA="@firebase/database",gA="@firebase/data-connect",yA="@firebase/database-compat",_A="@firebase/functions",vA="@firebase/functions-compat",EA="@firebase/installations",TA="@firebase/installations-compat",bA="@firebase/messaging",AA="@firebase/messaging-compat",SA="@firebase/performance",wA="@firebase/performance-compat",xA="@firebase/remote-config",RA="@firebase/remote-config-compat",NA="@firebase/storage",CA="@firebase/storage-compat",IA="@firebase/firestore",OA="@firebase/ai",DA="@firebase/firestore-compat",kA="firebase",MA="12.8.0";const _m="[DEFAULT]",VA={[ym]:"fire-core",[lA]:"fire-core-compat",[cA]:"fire-analytics",[uA]:"fire-analytics-compat",[fA]:"fire-app-check",[hA]:"fire-app-check-compat",[dA]:"fire-auth",[mA]:"fire-auth-compat",[pA]:"fire-rtdb",[gA]:"fire-data-connect",[yA]:"fire-rtdb-compat",[_A]:"fire-fn",[vA]:"fire-fn-compat",[EA]:"fire-iid",[TA]:"fire-iid-compat",[bA]:"fire-fcm",[AA]:"fire-fcm-compat",[SA]:"fire-perf",[wA]:"fire-perf-compat",[xA]:"fire-rc",[RA]:"fire-rc-compat",[NA]:"fire-gcs",[CA]:"fire-gcs-compat",[IA]:"fire-fst",[DA]:"fire-fst-compat",[OA]:"fire-vertex","fire-js":"fire-js",[kA]:"fire-js-all"};const ah=new Map,LA=new Map,vm=new Map;function y_(s,e){try{s.container.addComponent(e)}catch(n){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function go(s){const e=s.name;if(vm.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,s);for(const n of ah.values())y_(n,s);for(const n of LA.values())y_(n,s);return!0}function Km(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function ti(s){return s==null?!1:s.settings!==void 0}const jA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new eu("app","Firebase",jA);class UA{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const wo=MA;function lv(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:_m,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw _r.create("bad-app-name",{appName:String(l)});if(n||(n=nv()),!n)throw _r.create("no-options");const c=ah.get(l);if(c){if(br(n,c.options)&&br(r,c.config))return c;throw _r.create("duplicate-app",{appName:l})}const d=new F2(l);for(const _ of vm.values())d.addComponent(_);const g=new UA(n,r,d);return ah.set(l,g),g}function uv(s=_m){const e=ah.get(s);if(!e&&s===_m&&nv())return lv();if(!e)throw _r.create("no-app",{appName:s});return e}function vr(s,e,n){let r=VA[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(d.join(" "));return}go(new ca(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const zA="firebase-heartbeat-database",PA=1,Fl="firebase-heartbeat-store";let Jd=null;function cv(){return Jd||(Jd=iA(zA,PA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(s=>{throw _r.create("idb-open",{originalErrorMessage:s.message})})),Jd}async function BA(s){try{const n=(await cv()).transaction(Fl),r=await n.objectStore(Fl).get(hv(s));return await n.done,r}catch(e){if(e instanceof Is)Ss.warn(e.message);else{const n=_r.create("idb-get",{originalErrorMessage:e?.message});Ss.warn(n.message)}}}async function __(s,e){try{const r=(await cv()).transaction(Fl,"readwrite");await r.objectStore(Fl).put(e,hv(s)),await r.done}catch(n){if(n instanceof Is)Ss.warn(n.message);else{const r=_r.create("idb-set",{originalErrorMessage:n?.message});Ss.warn(r.message)}}}function hv(s){return`${s.name}!${s.options.appId}`}const qA=1024,HA=30;class FA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=v_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>HA){const l=YA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=v_(),{heartbeatsToSend:n,unsentEntries:r}=GA(this._heartbeatsCache.heartbeats),l=rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ss.warn(e),""}}}function v_(){return new Date().toISOString().substring(0,10)}function GA(s,e=qA){const n=[];let r=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),E_(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),E_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D2()?k2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function E_(s){return rh(JSON.stringify({version:2,heartbeats:s})).length}function YA(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function QA(s){go(new ca("platform-logger",e=>new aA(e),"PRIVATE")),go(new ca("heartbeat",e=>new FA(e),"PRIVATE")),vr(ym,g_,s),vr(ym,g_,"esm2020"),vr("fire-js","")}QA("");var WA="firebase",$A="12.8.0";vr(WA,$A,"app");function fv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XA=fv,dv=new eu("auth","Firebase",fv());const oh=new Fm("@firebase/auth");function ZA(s,...e){oh.logLevel<=qe.WARN&&oh.warn(`Auth (${wo}): ${s}`,...e)}function Qc(s,...e){oh.logLevel<=qe.ERROR&&oh.error(`Auth (${wo}): ${s}`,...e)}function ws(s,...e){throw Ym(s,...e)}function Gi(s,...e){return Ym(s,...e)}function mv(s,e,n){const r={...XA(),[e]:n};return new eu("auth","Firebase",r).create(e,{appName:s.name})}function As(s){return mv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ym(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return dv.create(s,...e)}function Se(s,e,...n){if(!s)throw Ym(e,...n)}function Ts(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Qc(e),new Error(e)}function xs(s,e){s||Ts(e)}function Em(){return typeof self<"u"&&self.location?.href||""}function JA(){return T_()==="http:"||T_()==="https:"}function T_(){return typeof self<"u"&&self.location?.protocol||null}function eS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JA()||N2()||"connection"in navigator)?navigator.onLine:!0}function tS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,xs(n>e,"Short delay should be less than long delay!"),this.isMobile=w2()||C2()}get(){return eS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qm(s,e){xs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class pv{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const iS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sS=new nu(3e4,6e4);function iu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function xo(s,e,n,r,l={}){return gv(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=tu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return R2()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&So(s.emulatorConfig.host)&&(y.credentials="include"),pv.fetch()(await yv(s,s.config.apiHost,n,g),y)})}async function gv(s,e,n){s._canInitEmulator=!1;const r={...nS,...e};try{const l=new rS(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Uc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Uc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Uc(s,"user-disabled",d);const T=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw mv(s,T,y);ws(s,T)}}catch(l){if(l instanceof Is)throw l;ws(s,"network-request-failed",{message:String(l)})}}async function Wm(s,e,n,r,l={}){const c=await xo(s,e,n,r,l);return"mfaPendingCredential"in c&&ws(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function yv(s,e,n,r){const l=`${e}${n}?${r}`,c=s,d=c.config.emulator?Qm(s.config,l):`${s.config.apiScheme}://${l}`;return iS.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class rS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gi(this.auth,"network-request-failed")),sS.get())})}}function Uc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Gi(s,e,r);return l.customData._tokenResponse=n,l}async function aS(s,e){return xo(s,"POST","/v1/accounts:delete",e)}async function lh(s,e){return xo(s,"POST","/v1/accounts:lookup",e)}function zl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oS(s,e=!1){const n=pn(s),r=await n.getIdToken(e),l=$m(r);Se(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:zl(em(l.auth_time)),issuedAtTime:zl(em(l.iat)),expirationTime:zl(em(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function em(s){return Number(s)*1e3}function $m(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const l=ev(n);return l?JSON.parse(l):(Qc("Failed to decode base64 JWT payload"),null)}catch(l){return Qc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function b_(s){const e=$m(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gl(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Is&&lS(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function lS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class uS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function uh(s){const e=s.auth,n=await s.getIdToken(),r=await Gl(s,lh(e,{idToken:n}));Se(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?_v(l.providerUserInfo):[],d=hS(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Tm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function cS(s){const e=pn(s);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hS(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function _v(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function fS(s,e){const n=await gv(s,{},async()=>{const r=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await yv(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&So(s.emulatorConfig.host)&&(_.credentials="include"),pv.fetch()(d,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dS(s,e){return xo(s,"POST","/v2/accounts:revokeToken",iu(s,e))}class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=b_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await fS(e,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,d=new uo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Se(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Se(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return Ts("not implemented")}}function hr(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class yi{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new uS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oS(this,e)}reload(){return cS(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(As(this.auth));const e=await this.getIdToken();return await Gl(this,aS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,_=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:H,providerData:Z,stsTokenManager:ie}=n;Se(S&&ie,e,"internal-error");const se=uo.fromJSON(this.name,ie);Se(typeof S=="string",e,"internal-error"),hr(r,e.name),hr(l,e.name),Se(typeof O=="boolean",e,"internal-error"),Se(typeof H=="boolean",e,"internal-error"),hr(c,e.name),hr(d,e.name),hr(g,e.name),hr(_,e.name),hr(y,e.name),hr(T,e.name);const _e=new yi({uid:S,auth:e,email:l,emailVerified:O,displayName:r,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:se,createdAt:y,lastLoginAt:T});return Z&&Array.isArray(Z)&&(_e.providerData=Z.map(Ie=>({...Ie}))),_&&(_e._redirectEventId=_),_e}static async _fromIdTokenResponse(e,n,r=!1){const l=new uo;l.updateFromServerResponse(n);const c=new yi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await uh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];Se(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?_v(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new uo;g.updateFromIdToken(r);const _=new yi({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const A_=new Map;function bs(s){xs(s instanceof Function,"Expected a class definition");let e=A_.get(s);return e?(xs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,A_.set(s,e),e)}class vv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vv.type="NONE";const S_=vv;function Wc(s,e,n){return`firebase:${s}:${e}:${n}`}class co{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Wc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Wc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lh(this.auth,{idToken:e}).catch(()=>{});return n?yi._fromGetAccountInfoResponse(this.auth,n,e):null}return yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new co(bs(S_),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||bs(S_);const d=Wc(r,e.config.apiKey,e.name);let g=null;for(const y of n)try{const T=await y._get(d);if(T){let S;if(typeof T=="string"){const O=await lh(e,{idToken:T}).catch(()=>{});if(!O)break;S=await yi._fromGetAccountInfoResponse(e,O,T)}else S=yi._fromJSON(e,T);y!==c&&(g=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new co(c,e,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new co(c,e,r))}}function w_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Av(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ev(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wv(e))return"Blackberry";if(xv(e))return"Webos";if(Tv(e))return"Safari";if((e.includes("chrome/")||bv(e))&&!e.includes("edge/"))return"Chrome";if(Sv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function Ev(s=hn()){return/firefox\//i.test(s)}function Tv(s=hn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bv(s=hn()){return/crios\//i.test(s)}function Av(s=hn()){return/iemobile/i.test(s)}function Sv(s=hn()){return/android/i.test(s)}function wv(s=hn()){return/blackberry/i.test(s)}function xv(s=hn()){return/webos/i.test(s)}function Xm(s=hn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function mS(s=hn()){return Xm(s)&&!!window.navigator?.standalone}function pS(){return I2()&&document.documentMode===10}function Rv(s=hn()){return Xm(s)||Sv(s)||xv(s)||wv(s)||/windows phone/i.test(s)||Av(s)}function Nv(s,e=[]){let n;switch(s){case"Browser":n=w_(hn());break;case"Worker":n=`${w_(hn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wo}/${r}`}class gS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function yS(s,e={}){return xo(s,"GET","/v2/passwordPolicy",iu(s,e))}const _S=6;class vS{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_S,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class ES{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x_(this),this.idTokenSubscription=new x_(this),this.beforeStateQueue=new gS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lh(this,{idToken:e}),r=await yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(As(this));const n=e?pn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yS(this),n=new vS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dS(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bs(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,r,l);return()=>{d=!0,_()}}else{const _=e.addObserver(n);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ZA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function su(s){return pn(s)}class x_{constructor(e){this.auth=e,this.observer=null,this.addObserver=U2(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TS(s){Zm=s}function bS(s){return Zm.loadJS(s)}function AS(){return Zm.gapiScript}function SS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function wS(s,e){const n=Km(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(br(c,e??{}))return l;ws(l,"already-initialized")}return n.initialize({options:e})}function xS(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(bs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function RS(s,e,n){const r=su(s);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=Cv(e),{host:d,port:g}=NS(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(br(y,r.config.emulator)&&br(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,So(d)?(sv(`${c}//${d}${_}`),rv("Auth",!0)):CS()}function Cv(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function NS(s){const e=Cv(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:R_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:R_(d)}}}function R_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function CS(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Iv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,n){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}}async function ho(s,e){return Wm(s,"POST","/v1/accounts:signInWithIdp",iu(s,e))}const IS="http://localhost";class ha extends Iv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ws("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const d=new ha(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:IS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tu(n)}return e}}class Ov{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ru extends Ov{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fr extends ru{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";class dr extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return dr.credential(n,r)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";class mr extends ru{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";class pr extends ru{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pr.credential(n,r)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";async function OS(s,e){return Wm(s,"POST","/v1/accounts:signUp",iu(s,e))}class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const c=await yi._fromIdTokenResponse(e,r,l),d=N_(r);return new Rs({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=N_(r);return new Rs({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function N_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function DS(s){if(ti(s.app))return Promise.reject(As(s));const e=su(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Rs({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await OS(e,{returnSecureToken:!0}),r=await Rs._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class ch extends Is{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new ch(e,n,r,l)}}function Dv(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(s,c,e,r):c})}async function kS(s,e,n=!1){const r=await Gl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Rs._forOperation(s,"link",r)}async function MS(s,e,n=!1){const{auth:r}=s;if(ti(r.app))return Promise.reject(As(r));const l="reauthenticate";try{const c=await Gl(s,Dv(r,l,e,s),n);Se(c.idToken,r,"internal-error");const d=$m(c.idToken);Se(d,r,"internal-error");const{sub:g}=d;return Se(s.uid===g,r,"user-mismatch"),Rs._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ws(r,"user-mismatch"),c}}async function VS(s,e,n=!1){if(ti(s.app))return Promise.reject(As(s));const r="signIn",l=await Dv(s,r,e),c=await Rs._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(c.user),c}async function LS(s,e){return Wm(s,"POST","/v1/accounts:signInWithCustomToken",iu(s,e))}async function jS(s,e){if(ti(s.app))return Promise.reject(As(s));const n=su(s),r=await LS(n,{token:e,returnSecureToken:!0}),l=await Rs._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(l.user),l}function US(s,e,n,r){return pn(s).onIdTokenChanged(e,n,r)}function zS(s,e,n){return pn(s).beforeAuthStateChanged(e,n)}function PS(s,e,n,r){return pn(s).onAuthStateChanged(e,n,r)}const hh="__sak";class kv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const BS=1e3,qS=10;class Mv extends kv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);pS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,qS):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mv.type="LOCAL";const HS=Mv;class Vv extends kv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Vv.type="SESSION";const Lv=Vv;function FS(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Rh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async y=>y(n.origin,c)),_=await FS(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];function Jm(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class GS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Jm("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const O=S;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ki(){return window}function KS(s){Ki().location.href=s}function jv(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function YS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QS(){return navigator?.serviceWorker?.controller||null}function WS(){return jv()?self:null}const Uv="firebaseLocalStorageDb",$S=1,fh="firebaseLocalStorage",zv="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nh(s,e){return s.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function XS(){const s=indexedDB.deleteDatabase(Uv);return new au(s).toPromise()}function bm(){const s=indexedDB.open(Uv,$S);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(fh,{keyPath:zv})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(fh)?e(r):(r.close(),await XS(),e(await bm()))})})}async function C_(s,e,n){const r=Nh(s,!0).put({[zv]:e,value:n});return new au(r).toPromise()}async function ZS(s,e){const n=Nh(s,!1).get(e),r=await new au(n).toPromise();return r===void 0?null:r.value}function I_(s,e){const n=Nh(s,!0).delete(e);return new au(n).toPromise()}const JS=800,ew=3;class Pv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ew)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(WS()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await YS(),!this.activeServiceWorker)return;this.sender=new GS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bm();return await C_(e,hh,"1"),await I_(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>C_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ZS(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>I_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Nh(l,!1).getAll();return new au(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Pv.type="LOCAL";const tw=Pv;new nu(3e4,6e4);function nw(s,e){return e?bs(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class ep extends Iv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iw(s){return VS(s.auth,new ep(s),s.bypassAuthState)}function sw(s){const{auth:e,user:n}=s;return Se(n,e,"internal-error"),MS(n,new ep(s),s.bypassAuthState)}async function rw(s){const{auth:e,user:n}=s;return Se(n,e,"internal-error"),kS(n,new ep(s),s.bypassAuthState)}class Bv{constructor(e,n,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iw;case"linkViaPopup":case"linkViaRedirect":return rw;case"reauthViaPopup":case"reauthViaRedirect":return sw;default:ws(this.auth,"internal-error")}}resolve(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aw=new nu(2e3,1e4);class lo extends Bv{constructor(e,n,r,l,c){super(e,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const e=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aw.get())};e()}}lo.currentPopupAction=null;const ow="pendingRedirect",$c=new Map;class lw extends Bv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await uw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uw(s,e){const n=fw(e),r=hw(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function cw(s,e){$c.set(s._key(),e)}function hw(s){return bs(s._redirectPersistence)}function fw(s){return Wc(ow,s.config.apiKey,s.name)}async function dw(s,e,n=!1){if(ti(s.app))return Promise.reject(As(s));const r=su(s),l=nw(r,e),d=await new lw(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const mw=600*1e3;class pw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gw(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!qv(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Gi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mw&&this.cachedEventUids.clear(),this.cachedEventUids.has(O_(e))}saveEventToCache(e){this.cachedEventUids.add(O_(e)),this.lastProcessedEventTime=Date.now()}}function O_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function qv({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function gw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qv(s);default:return!1}}async function yw(s,e={}){return xo(s,"GET","/v1/projects",e)}const _w=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vw=/^https?/;async function Ew(s){if(s.config.emulator)return;const{authorizedDomains:e}=await yw(s);for(const n of e)try{if(Tw(n))return}catch{}ws(s,"unauthorized-domain")}function Tw(s){const e=Em(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!vw.test(n))return!1;if(_w.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const bw=new nu(3e4,6e4);function D_(){const s=Ki().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function Aw(s){return new Promise((e,n)=>{function r(){D_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{D_(),n(Gi(s,"network-request-failed"))},timeout:bw.get()})}if(Ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ki().gapi?.load)r();else{const l=SS("iframefcb");return Ki()[l]=()=>{gapi.load?r():n(Gi(s,"network-request-failed"))},bS(`${AS()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Xc=null,e})}let Xc=null;function Sw(s){return Xc=Xc||Aw(s),Xc}const ww=new nu(5e3,15e3),xw="__/auth/iframe",Rw="emulator/auth/iframe",Nw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iw(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Qm(e,Rw):`https://${s.config.authDomain}/${xw}`,r={apiKey:e.apiKey,appName:s.name,v:wo},l=Cw.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${tu(r).slice(1)}`}async function Ow(s){const e=await Sw(s),n=Ki().gapi;return Se(n,s,"internal-error"),e.open({where:document.body,url:Iw(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nw,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Gi(s,"network-request-failed"),g=Ki().setTimeout(()=>{c(d)},ww.get());function _(){Ki().clearTimeout(g),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const Dw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kw=500,Mw=600,Vw="_blank",Lw="http://localhost";class k_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jw(s,e,n,r=kw,l=Mw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...Dw,width:r.toString(),height:l.toString(),top:c,left:d},y=hn().toLowerCase();n&&(g=bv(y)?Vw:n),Ev(y)&&(e=e||Lw,_.scrollbars="yes");const T=Object.entries(_).reduce((O,[H,Z])=>`${O}${H}=${Z},`,"");if(mS(y)&&g!=="_self")return Uw(e||"",g),new k_(null);const S=window.open(e||"",g,T);Se(S,s,"popup-blocked");try{S.focus()}catch{}return new k_(S)}function Uw(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const zw="__/auth/handler",Pw="emulator/auth/handler",Bw=encodeURIComponent("fac");async function M_(s,e,n,r,l,c){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:wo,eventId:l};if(e instanceof Ov){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",j2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(e instanceof ru){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await s._getAppCheckToken(),y=_?`#${Bw}=${encodeURIComponent(_)}`:"";return`${qw(s)}?${tu(g).slice(1)}${y}`}function qw({config:s}){return s.emulator?Qm(s,Pw):`https://${s.authDomain}/${zw}`}const tm="webStorageSupport";class Hw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lv,this._completeRedirectFn=dw,this._overrideRedirectResult=cw}async _openPopup(e,n,r,l){xs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await M_(e,n,r,Em(),l);return jw(e,c,Jm())}async _openRedirect(e,n,r,l){await this._originValidation(e);const c=await M_(e,n,r,Em(),l);return KS(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(xs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Ow(e),r=new pw(e);return n.register("authEvent",l=>(Se(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tm,{type:tm},l=>{const c=l?.[0]?.[tm];c!==void 0&&n(!!c),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ew(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Rv()||Tv()||Xm()}}const Fw=Hw;var V_="@firebase/auth",L_="1.12.0";class Gw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Kw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yw(s){go(new ca("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nv(s)},y=new ES(r,l,c,_);return xS(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),go(new ca("auth-internal",e=>{const n=su(e.getProvider("auth").getImmediate());return(r=>new Gw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(V_,L_,Kw(s)),vr(V_,L_,"esm2020")}const Qw=300,Ww=iv("authIdTokenMaxAge")||Qw;let j_=null;const $w=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ww)return;const l=n?.token;j_!==l&&(j_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Xw(s=uv()){const e=Km(s,"auth");if(e.isInitialized())return e.getImmediate();const n=wS(s,{popupRedirectResolver:Fw,persistence:[tw,HS,Lv]}),r=iv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=$w(c.toString());zS(n,d,()=>d(n.currentUser)),US(n,g=>d(g))}}const l=tv("auth");return l&&RS(n,`http://${l}`),n}function Zw(){return document.getElementsByTagName("head")?.[0]??document}TS({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Gi("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",Zw().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yw("Browser");var U_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Er,Hv;(function(){var s;function e(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(M,I,L){for(var x=Array(arguments.length-2),at=2;at<arguments.length;at++)x[at-2]=arguments[at];return w.prototype[I].apply(M,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,C){C||(C=0);const M=Array(16);if(typeof w=="string")for(var I=0;I<16;++I)M[I]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(I=0;I<16;++I)M[I]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],I=N.g[2];let L=N.g[3],x;x=w+(L^C&(I^L))+M[0]+3614090360&4294967295,w=C+(x<<7&4294967295|x>>>25),x=L+(I^w&(C^I))+M[1]+3905402710&4294967295,L=w+(x<<12&4294967295|x>>>20),x=I+(C^L&(w^C))+M[2]+606105819&4294967295,I=L+(x<<17&4294967295|x>>>15),x=C+(w^I&(L^w))+M[3]+3250441966&4294967295,C=I+(x<<22&4294967295|x>>>10),x=w+(L^C&(I^L))+M[4]+4118548399&4294967295,w=C+(x<<7&4294967295|x>>>25),x=L+(I^w&(C^I))+M[5]+1200080426&4294967295,L=w+(x<<12&4294967295|x>>>20),x=I+(C^L&(w^C))+M[6]+2821735955&4294967295,I=L+(x<<17&4294967295|x>>>15),x=C+(w^I&(L^w))+M[7]+4249261313&4294967295,C=I+(x<<22&4294967295|x>>>10),x=w+(L^C&(I^L))+M[8]+1770035416&4294967295,w=C+(x<<7&4294967295|x>>>25),x=L+(I^w&(C^I))+M[9]+2336552879&4294967295,L=w+(x<<12&4294967295|x>>>20),x=I+(C^L&(w^C))+M[10]+4294925233&4294967295,I=L+(x<<17&4294967295|x>>>15),x=C+(w^I&(L^w))+M[11]+2304563134&4294967295,C=I+(x<<22&4294967295|x>>>10),x=w+(L^C&(I^L))+M[12]+1804603682&4294967295,w=C+(x<<7&4294967295|x>>>25),x=L+(I^w&(C^I))+M[13]+4254626195&4294967295,L=w+(x<<12&4294967295|x>>>20),x=I+(C^L&(w^C))+M[14]+2792965006&4294967295,I=L+(x<<17&4294967295|x>>>15),x=C+(w^I&(L^w))+M[15]+1236535329&4294967295,C=I+(x<<22&4294967295|x>>>10),x=w+(I^L&(C^I))+M[1]+4129170786&4294967295,w=C+(x<<5&4294967295|x>>>27),x=L+(C^I&(w^C))+M[6]+3225465664&4294967295,L=w+(x<<9&4294967295|x>>>23),x=I+(w^C&(L^w))+M[11]+643717713&4294967295,I=L+(x<<14&4294967295|x>>>18),x=C+(L^w&(I^L))+M[0]+3921069994&4294967295,C=I+(x<<20&4294967295|x>>>12),x=w+(I^L&(C^I))+M[5]+3593408605&4294967295,w=C+(x<<5&4294967295|x>>>27),x=L+(C^I&(w^C))+M[10]+38016083&4294967295,L=w+(x<<9&4294967295|x>>>23),x=I+(w^C&(L^w))+M[15]+3634488961&4294967295,I=L+(x<<14&4294967295|x>>>18),x=C+(L^w&(I^L))+M[4]+3889429448&4294967295,C=I+(x<<20&4294967295|x>>>12),x=w+(I^L&(C^I))+M[9]+568446438&4294967295,w=C+(x<<5&4294967295|x>>>27),x=L+(C^I&(w^C))+M[14]+3275163606&4294967295,L=w+(x<<9&4294967295|x>>>23),x=I+(w^C&(L^w))+M[3]+4107603335&4294967295,I=L+(x<<14&4294967295|x>>>18),x=C+(L^w&(I^L))+M[8]+1163531501&4294967295,C=I+(x<<20&4294967295|x>>>12),x=w+(I^L&(C^I))+M[13]+2850285829&4294967295,w=C+(x<<5&4294967295|x>>>27),x=L+(C^I&(w^C))+M[2]+4243563512&4294967295,L=w+(x<<9&4294967295|x>>>23),x=I+(w^C&(L^w))+M[7]+1735328473&4294967295,I=L+(x<<14&4294967295|x>>>18),x=C+(L^w&(I^L))+M[12]+2368359562&4294967295,C=I+(x<<20&4294967295|x>>>12),x=w+(C^I^L)+M[5]+4294588738&4294967295,w=C+(x<<4&4294967295|x>>>28),x=L+(w^C^I)+M[8]+2272392833&4294967295,L=w+(x<<11&4294967295|x>>>21),x=I+(L^w^C)+M[11]+1839030562&4294967295,I=L+(x<<16&4294967295|x>>>16),x=C+(I^L^w)+M[14]+4259657740&4294967295,C=I+(x<<23&4294967295|x>>>9),x=w+(C^I^L)+M[1]+2763975236&4294967295,w=C+(x<<4&4294967295|x>>>28),x=L+(w^C^I)+M[4]+1272893353&4294967295,L=w+(x<<11&4294967295|x>>>21),x=I+(L^w^C)+M[7]+4139469664&4294967295,I=L+(x<<16&4294967295|x>>>16),x=C+(I^L^w)+M[10]+3200236656&4294967295,C=I+(x<<23&4294967295|x>>>9),x=w+(C^I^L)+M[13]+681279174&4294967295,w=C+(x<<4&4294967295|x>>>28),x=L+(w^C^I)+M[0]+3936430074&4294967295,L=w+(x<<11&4294967295|x>>>21),x=I+(L^w^C)+M[3]+3572445317&4294967295,I=L+(x<<16&4294967295|x>>>16),x=C+(I^L^w)+M[6]+76029189&4294967295,C=I+(x<<23&4294967295|x>>>9),x=w+(C^I^L)+M[9]+3654602809&4294967295,w=C+(x<<4&4294967295|x>>>28),x=L+(w^C^I)+M[12]+3873151461&4294967295,L=w+(x<<11&4294967295|x>>>21),x=I+(L^w^C)+M[15]+530742520&4294967295,I=L+(x<<16&4294967295|x>>>16),x=C+(I^L^w)+M[2]+3299628645&4294967295,C=I+(x<<23&4294967295|x>>>9),x=w+(I^(C|~L))+M[0]+4096336452&4294967295,w=C+(x<<6&4294967295|x>>>26),x=L+(C^(w|~I))+M[7]+1126891415&4294967295,L=w+(x<<10&4294967295|x>>>22),x=I+(w^(L|~C))+M[14]+2878612391&4294967295,I=L+(x<<15&4294967295|x>>>17),x=C+(L^(I|~w))+M[5]+4237533241&4294967295,C=I+(x<<21&4294967295|x>>>11),x=w+(I^(C|~L))+M[12]+1700485571&4294967295,w=C+(x<<6&4294967295|x>>>26),x=L+(C^(w|~I))+M[3]+2399980690&4294967295,L=w+(x<<10&4294967295|x>>>22),x=I+(w^(L|~C))+M[10]+4293915773&4294967295,I=L+(x<<15&4294967295|x>>>17),x=C+(L^(I|~w))+M[1]+2240044497&4294967295,C=I+(x<<21&4294967295|x>>>11),x=w+(I^(C|~L))+M[8]+1873313359&4294967295,w=C+(x<<6&4294967295|x>>>26),x=L+(C^(w|~I))+M[15]+4264355552&4294967295,L=w+(x<<10&4294967295|x>>>22),x=I+(w^(L|~C))+M[6]+2734768916&4294967295,I=L+(x<<15&4294967295|x>>>17),x=C+(L^(I|~w))+M[13]+1309151649&4294967295,C=I+(x<<21&4294967295|x>>>11),x=w+(I^(C|~L))+M[4]+4149444226&4294967295,w=C+(x<<6&4294967295|x>>>26),x=L+(C^(w|~I))+M[11]+3174756917&4294967295,L=w+(x<<10&4294967295|x>>>22),x=I+(w^(L|~C))+M[2]+718787259&4294967295,I=L+(x<<15&4294967295|x>>>17),x=C+(L^(I|~w))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(I+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,M=this.C;let I=this.h,L=0;for(;L<w;){if(I==0)for(;L<=C;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<w;)if(M[I++]=N.charCodeAt(L++),I==this.blockSize){l(this,M),I=0;break}}else for(;L<w;)if(M[I++]=N[L++],I==this.blockSize){l(this,M),I=0;break}}this.h=I,this.o+=w},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)N[w++]=this.g[C]>>>M&255;return N};function c(N,w){var C=g;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let M=!0;for(let I=N.length-1;I>=0;I--){const L=N[I]|0;M&&L==w||(C[I]=L,M=!1)}this.g=C}var g={};function _(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return se(y(-N));const w=[];let C=1;for(let M=0;N>=C;M++)w[M]=N/C|0,C*=4294967296;return new d(w,0)}function T(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return se(T(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let M=S;for(let L=0;L<N.length;L+=8){var I=Math.min(8,N.length-L);const x=parseInt(N.substring(L,L+I),w);I<8?(I=y(Math.pow(w,I)),M=M.j(I).add(y(x))):(M=M.j(C),M=M.add(y(x)))}return M}var S=_(0),O=_(1),H=_(16777216);s=d.prototype,s.m=function(){if(ie(this))return-se(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);N+=(M>=0?M:4294967296+M)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(ie(this))return"-"+se(this).toString(N);const w=y(Math.pow(N,6));var C=this;let M="";for(;;){const I=tt(C,w).g;C=_e(C,I.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=I,Z(C))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function ie(N){return N.h==-1}s.l=function(N){return N=_e(this,N),ie(N)?-1:Z(N)?0:1};function se(N){const w=N.g.length,C=[];for(let M=0;M<w;M++)C[M]=~N.g[M];return new d(C,~N.h).add(O)}s.abs=function(){return ie(this)?se(this):this},s.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let M=0;for(let I=0;I<=w;I++){let L=M+(this.i(I)&65535)+(N.i(I)&65535),x=(L>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);M=x>>>16,L&=65535,x&=65535,C[I]=x<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function _e(N,w){return N.add(se(w))}s.j=function(N){if(Z(this)||Z(N))return S;if(ie(this))return ie(N)?se(this).j(se(N)):se(se(this).j(N));if(ie(N))return se(this.j(se(N)));if(this.l(H)<0&&N.l(H)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var M=0;M<2*w;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<N.g.length;I++){const L=this.i(M)>>>16,x=this.i(M)&65535,at=N.i(I)>>>16,vt=N.i(I)&65535;C[2*M+2*I]+=x*vt,Ie(C,2*M+2*I),C[2*M+2*I+1]+=L*vt,Ie(C,2*M+2*I+1),C[2*M+2*I+1]+=x*at,Ie(C,2*M+2*I+1),C[2*M+2*I+2]+=L*at,Ie(C,2*M+2*I+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function Ie(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function we(N,w){this.g=N,this.h=w}function tt(N,w){if(Z(w))throw Error("division by zero");if(Z(N))return new we(S,S);if(ie(N))return w=tt(se(N),w),new we(se(w.g),se(w.h));if(ie(w))return w=tt(N,se(w)),new we(se(w.g),w.h);if(N.g.length>30){if(ie(N)||ie(w))throw Error("slowDivide_ only works with positive integers.");for(var C=O,M=w;M.l(N)<=0;)C=_t(C),M=_t(M);var I=Ue(C,1),L=Ue(M,1);for(M=Ue(M,2),C=Ue(C,2);!Z(M);){var x=L.add(M);x.l(N)<=0&&(I=I.add(C),L=x),M=Ue(M,1),C=Ue(C,1)}return w=_e(N,I.j(w)),new we(I,w)}for(I=S;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(C),x=L.j(w);ie(x)||x.l(N)>0;)C-=M,L=y(C),x=L.j(w);Z(L)&&(L=O),I=I.add(L),N=_e(N,x)}return new we(I,N)}s.B=function(N){return tt(this,N).h},s.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)&N.i(M);return new d(C,this.h&N.h)},s.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)|N.i(M);return new d(C,this.h|N.h)},s.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)^N.i(M);return new d(C,this.h^N.h)};function _t(N){const w=N.g.length+1,C=[];for(let M=0;M<w;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(C,N.h)}function Ue(N,w){const C=w>>5;w%=32;const M=N.g.length-C,I=[];for(let L=0;L<M;L++)I[L]=w>0?N.i(L+C)>>>w|N.i(L+C+1)<<32-w:N.i(L+C);return new d(I,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Hv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Er=d}).apply(typeof U_<"u"?U_:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fv,Ml,Gv,Zc,Am,Kv,Yv,Qv;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var j=u[A];if(!(j in v))break e;v=v[j]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,j,B){for(var ee=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ee[ke-2]=arguments[ke];return m.prototype[j].apply(A,ee)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function Z(u,m){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const B=j.length||0;u.length=v+B;for(let ee=0;ee<B;ee++)u[v+ee]=j[ee]}else u.push(j)}}class ie{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function se(u){d.setTimeout(()=>{throw u},0)}function _e(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ie{constructor(){this.h=this.g=null}add(m,v){const A=we.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var we=new ie(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,Ue=!1,N=new Ie,w=()=>{const u=Promise.resolve(void 0);_t=()=>{u.then(C)}};function C(){for(var u;u=_e();){try{u.h.call(u.g)}catch(v){se(v)}var m=we;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ue=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function at(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(at,I),at.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),F=0;function te(u,m,v,A,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=j,this.key=++F,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ge(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Re(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)u[v]=A[v];for(let B=0;B<G.length;B++)v=G[B],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,A,j){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ee=Oe(u,m,A,j);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new te(m,this.src,B,!!A,j),m.fa=v,u.push(m)),m};function be(u,m){const v=m.type;if(v in u.g){var A=u.g[v],j=Array.prototype.indexOf.call(A,m,void 0),B;(B=j>=0)&&Array.prototype.splice.call(A,j,1),B&&(me(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Oe(u,m,v,A){for(let j=0;j<u.length;++j){const B=u[j];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return j}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),wt={};function dt(u,m,v,A,j){if(Array.isArray(m)){for(let B=0;B<m.length;B++)dt(u,m[B],v,A,j);return null}return v=oe(v),u&&u[vt]?u.J(m,v,g(A)?!!A.capture:!1,j):Ti(u,m,v,!1,A,j)}function Ti(u,m,v,A,j,B){if(!m)throw Error("Invalid event type");const ee=g(j)?!!j.capture:!!j;let ke=Ji(u);if(ke||(u[ze]=ke=new ae(u)),v=ke.add(m,v,A,ee,B),v.proxy)return v;if(A=Os(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)L||(j=ee),j===void 0&&(j=!1),u.addEventListener(m.toString(),A,j);else if(u.attachEvent)u.attachEvent(Pn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Os(){function u(v){return m.call(u.src,u.listener,v)}const m=Or;return u}function Ds(u,m,v,A,j){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ds(u,m[B],v,A,j);else A=g(A)?!!A.capture:!!A,v=oe(v),u&&u[vt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Oe(m,v,A,j),v>-1&&(me(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Ji(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Oe(m,v,A,j)),(v=u>-1?m[u]:null)&&ks(v))}function ks(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[vt])be(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Pn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Ji(m))?(be(v,u),v.h==0&&(v.src=null,m[ze]=null)):me(u)}}}function Pn(u){return u in wt?wt[u]:wt[u]="on"+u}function Or(u,m){if(u.da)u=!0;else{m=new at(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&ks(u),u=v.call(A,m)}return u}function Ji(u){return u=u[ze],u instanceof ae?u:null}var bi="__closure_events_fn_"+(Math.random()*1e9>>>0);function oe(u){return typeof u=="function"?u:(u[bi]||(u[bi]=function(m){return u.handleEvent(m)}),u[bi])}function X(){M.call(this),this.i=new ae(this),this.M=this,this.G=null}S(X,M),X.prototype[vt]=!0,X.prototype.removeEventListener=function(u,m,v,A){Ds(this,u,m,v,A)};function re(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var j=m;m=new I(A,u),ne(m,j)}j=!0;let B,ee;if(v)for(ee=v.length-1;ee>=0;ee--)B=m.g=v[ee],j=ue(B,A,!0,m)&&j;if(B=m.g=u,j=ue(B,A,!0,m)&&j,j=ue(B,A,!1,m)&&j,v)for(ee=0;ee<v.length;ee++)B=m.g=v[ee],j=ue(B,A,!1,m)&&j}X.prototype.N=function(){if(X.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)me(v[A]);delete u.g[m],u.h--}}this.G=null},X.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},X.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function ue(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let B=0;B<m.length;++B){const ee=m[B];if(ee&&!ee.da&&ee.capture==v){const ke=ee.listener,Nt=ee.ha||ee.src;ee.fa&&be(u.i,ee),j=ke.call(Nt,A)!==!1&&j}}return j&&!A.defaultPrevented}function De(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function J(u){u.g=De(()=>{u.g=null,u.i&&(u.i=!1,J(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ce extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:J(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ae(u){M.call(this),this.h=u,this.g={}}S(Ae,M);var Ye=[];function Ze(u){Ge(u.g,function(m,v){this.g.hasOwnProperty(v)&&ks(m)},u),u.g={}}Ae.prototype.N=function(){Ae.Z.N.call(this),Ze(this)},Ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=d.JSON.stringify,ii=d.JSON.parse,ht=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function si(){}function qn(){}var an={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mt(){I.call(this,"d")}S(mt,I);function fn(){I.call(this,"c")}S(fn,I);var bt={},du=null;function ya(){return du=du||new X}bt.Ia="serverreachability";function mu(u){I.call(this,bt.Ia,u)}S(mu,I);function Ai(u){const m=ya();re(m,new mu(m))}bt.STAT_EVENT="statevent";function Dr(u,m){I.call(this,bt.STAT_EVENT,u),this.stat=m}S(Dr,I);function Dt(u){const m=ya();re(m,new Dr(m,u))}bt.Ja="timingevent";function Si(u,m){I.call(this,bt.Ja,u),this.size=m}S(Si,I);function wi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function Kh(u,m,v,A,j,B){u.info(function(){if(u.g)if(B){var ee="",ke=B.split("&");for(let Je=0;Je<ke.length;Je++){var Nt=ke[Je].split("=");if(Nt.length>1){const Et=Nt[0];Nt=Nt[1];const Kn=Et.split("_");ee=Kn.length>=2&&Kn[1]=="type"?ee+(Et+"="+Nt+"&"):ee+(Et+"=redacted&")}}}else ee=null;else ee=B;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+m+`
`+v+`
`+ee})}function pu(u,m,v,A,j,B,ee){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+m+`
`+v+`
`+B+" "+ee})}function xi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yh(u,v)+(A?" "+A:"")})}function kr(u,m){u.info(function(){return"TIMEOUT: "+m})}ri.prototype.info=function(){};function Yh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ee=1;ee<A.length;ee++)A[ee]=""}}}}return Bn(B)}catch{return m}}var Mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Do;function Vr(){}S(Vr,si),Vr.prototype.g=function(){return new XMLHttpRequest},Do=new Vr;function es(u){return encodeURIComponent(String(u))}function gu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ai(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new Ae(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var kt={},Yt={};function Ri(u,m,v){u.M=1,u.A=Lr(Vt(m)),u.u=v,u.R=!0,_a(u,null)}function _a(u,m){u.F=Date.now(),Ni(u),u.B=Vt(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),ba(v.i,"t",A),u.C=0,v=u.j.L,u.h=new oi,u.g=Ou(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ce(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(Ye[0]=j.toString()),j=Ye);for(let B=0;B<j.length;B++){const ee=dt(v,j[B],A||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ai(),Kh(u.i,u.v,u.B,u.l,u.S,u.u)}ai.prototype.ba=function(u){u=u.target;const m=this.O;m&&ci(u)==3?m.j():this.Y(u)},ai.prototype.Y=function(u){try{if(u==this.g)e:{const ke=ci(this.g),Nt=this.g.ya(),Je=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||ke!=4||Nt==7||(Nt==8||Je<=0?Ai(3):Ai(2)),Ci(this);var m=this.g.ca();this.X=m;var v=Qh(this);if(this.o=m==200,pu(this.i,this.v,this.B,this.l,this.S,ke,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var B=A;break t}}B=null}if(u=B)xi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,u);else{this.o=!1,this.m=3,Dt(12),Cn(this),Hn(this);break e}}if(this.R){u=!0;let Et;for(;!this.K&&this.C<v.length;)if(Et=_u(this,v),Et==Yt){ke==4&&(this.m=4,Dt(14),u=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==kt){this.m=4,Dt(15),xi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else xi(this.i,this.l,Et,null),Ii(this,Et);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||v.length!=0||this.h.h||(this.m=1,Dt(16),u=!1),this.o=this.o&&u,!u)xi(this.i,this.l,v,"[Invalid Chunked Response]"),Cn(this),Hn(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(ee),ee.P=!0,Dt(11))}}else xi(this.i,this.l,v,null),Ii(this,v);ke==4&&Cn(this),this.o&&!this.K&&(ke==4?Ru(this.j,this):(this.o=!1,Ni(this)))}else ns(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),Cn(this),Hn(this)}}}catch{}};function Qh(u){if(!yu(u))return u.g.la();const m=Xt(u.g);if(m==="")return"";let v="";const A=m.length,j=ci(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Cn(u),Hn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<A;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(j&&B==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function yu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function _u(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Yt:(v=Number(m.substring(v,A)),isNaN(v)?kt:(A+=1,A+v>m.length?Yt:(m=m.slice(A,A+v),u.C=A+v,m)))}ai.prototype.cancel=function(){this.K=!0,Cn(this)};function Ni(u){u.T=Date.now()+u.H,va(u,u.H)}function va(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=wi(y(u.aa,u),m)}function Ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ai.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(kr(this.i,this.B),this.M!=2&&(Ai(),Dt(17)),Cn(this),this.m=2,Hn(this)):va(this,this.T-u)};function Hn(u){u.j.I==0||u.K||Ru(u.j,u)}function Cn(u){Ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ze(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ii(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Di(v.h,u))){if(!u.L&&Di(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ra(v),Bs(v);else break e;Hr(v),Dt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=wi(y(v.Va,v),6e3));Oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ui(v,11)}else if((u.L||v.g==u)&&Ra(v),!x(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let Je=j[m];const Et=Je[0];if(!(Et<=v.K))if(v.K=Et,Je=Je[1],v.I==2)if(Je[0]=="c"){v.M=Je[1],v.ba=Je[2];const Kn=Je[3];Kn!=null&&(v.ka=Kn,v.j.info("VER="+v.ka));const zi=Je[4];zi!=null&&(v.za=zi,v.j.info("SVER="+v.za));const hi=Je[5];hi!=null&&typeof hi=="number"&&hi>0&&(A=1.5*hi,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const fi=u.g;if(fi){const Fr=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var B=A.h;B.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Vo(B,B.h),B.h=null))}if(A.G){const Na=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(A.wa=Na,it(A.J,A.G,Na))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ee=u;if(A.na=Iu(A,A.L?A.ba:null,A.W),ee.L){Lo(A.h,ee);var ke=ee,Nt=A.O;Nt&&(ke.H=Nt),ke.D&&(Ci(ke),Ni(ke)),A.g=ee}else wu(A);v.i.length>0&&ji(v)}else Je[0]!="stop"&&Je[0]!="close"||Ui(v,7);else v.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Ui(v,7):Go(v):Je[0]!="noop"&&v.l&&v.l.qa(Je),v.A=0)}}Ai(4)}catch{}}var Mt=class{constructor(u,m){this.g=u,this.map=m}};function ko(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Oi(u){return u.h?1:u.g?u.g.size:0}function Di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Vo(u,m){u.g?u.g.add(m):u.h=m}function Lo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ko.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function jo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let j,B=null;A>=0?(j=u[v].substring(0,A),B=u[v].substring(A+1)):j=u[v],m(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function In(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof In?(this.l=u.l,Qt(this,u.j),this.o=u.o,this.g=u.g,Ms(this,u.u),this.h=u.h,Uo(this,Au(u.i)),this.m=u.m):u&&(m=String(u).match(vu))?(this.l=!1,Qt(this,m[1]||"",!0),this.o=ki(m[2]||""),this.g=ki(m[3]||"",!0),Ms(this,m[4]),this.h=ki(m[5]||"",!0),Uo(this,m[6]||"",!0),this.m=ki(m[7]||"")):(this.l=!1,this.i=new Ls(null,this.l))}In.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(jr(m,Ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(jr(m,Ta,!0),"@"),u.push(es(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(jr(v,v.charAt(0)=="/"?zo:Eu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",jr(v,Tu)),u.join("")},In.prototype.resolve=function(u){const m=Vt(this);let v=!!u.j;v?Qt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)Ms(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=m.h.lastIndexOf("/");j!=-1&&(A=m.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const B=[];for(let ee=0;ee<j.length;){const ke=j[ee++];ke=="."?A&&ee==j.length&&B.push(""):ke==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&ee==j.length&&B.push("")):(B.push(ke),A=!0)}A=B.join("/")}else A=j}return v?m.h=A:v=u.i.toString()!=="",v?Uo(m,Au(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Vt(u){return new In(u)}function Qt(u,m,v){u.j=v?ki(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ms(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Uo(u,m,v){m instanceof Ls?(u.i=m,Aa(u.i,u.l)):(v||(m=jr(m,Vs)),u.i=new Ls(m,u.l))}function it(u,m,v){u.i.set(m,v)}function Lr(u){return it(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ki(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,gn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ta=/[#\/\?@]/g,Eu=/[#\?:]/g,zo=/[#\?]/g,Vs=/[#\?@]/g,Tu=/#/g;function Ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ls.prototype,s.add=function(u,m){yn(this),this.i=null,u=js(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function bu(u,m){yn(u),m=js(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Po(u,m){return yn(u),m=js(u,m),u.g.has(m)}s.forEach=function(u,m){yn(this),this.g.forEach(function(v,A){v.forEach(function(j){u.call(m,j,A,this)},this)},this)};function Bo(u,m){yn(u);let v=[];if(typeof m=="string")Po(u,m)&&(v=v.concat(u.g.get(js(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return yn(this),this.i=null,u=js(this,u),Po(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Bo(this,u),u.length>0?String(u[0]):m):m};function ba(u,m,v){bu(u,m),v.length>0&&(u.i=null,u.g.set(js(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const j=es(v);v=Bo(this,v);for(let B=0;B<v.length;B++){let ee=j;v[B]!==""&&(ee+="="+es(v[B])),u.push(ee)}}return this.i=u.join("&")};function Au(u){const m=new Ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function js(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Aa(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(bu(this,A),ba(this,j,v))},u)),u.j=m}function li(u,m){const v=new ri;if(d.Image){const A=new Image;A.onload=T(Fn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Fn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Fn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Fn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function qo(u,m){const v=new ri,A=new AbortController,j=setTimeout(()=>{A.abort(),Fn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(B=>{clearTimeout(j),B.ok?Fn(v,"TestPingServer: ok",!0,m):Fn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Fn(v,"TestPingServer: error",!1,m)})}function Fn(u,m,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function Us(){this.g=new ht}function Mi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Mi,si),Mi.prototype.g=function(){return new Ur(this.i,this.h)};function Ur(u,m){X.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ur,X),s=Ur.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ui(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?zs(this):ui(this),this.readyState==3&&Sa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,zs(this))},s.Na=function(u){this.g&&(this.response=u,zs(this))},s.ga=function(){this.g&&zs(this)};function zs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ui(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ui(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Gn(u){let m="";return Ge(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function zr(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Gn(v),typeof u=="string"?v!=null&&es(v):it(u,m,v))}function ot(u){X.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ot,X);var Vi=/^https?$/i,Ho=["POST","PUT"];s=ot.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Do.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Pr(this,B);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ho,m,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of v)this.g.setRequestHeader(B,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Pr(this,B)}};function Pr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Fo(u),ts(u)}function Fo(u){u.A||(u.A=!0,re(u,"complete"),re(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,re(this,"complete"),re(this,"abort"),ts(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),ot.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},s.Xa=function(){Br(this)};function Br(u){if(u.h&&typeof c<"u"){if(u.v&&ci(u)==4)setTimeout(u.Ca.bind(u),0);else if(re(u,"readystatechange"),ci(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let ee=String(u.D).match(vu)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),A=!Vi.test(ee?ee.toLowerCase():"")}v=A}if(v)re(u,"complete"),re(u,"success");else{u.o=6;try{var j=ci(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Fo(u)}}finally{ts(u)}}}}function ts(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||re(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ci(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ii(m)}};function Xt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(u){const m={};u=(u.g&&ci(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(x(u[A]))continue;var v=gu(u[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[j]||[];m[j]=B,B.push(v)}Re(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ps(u){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,u),this.Za=Li("retryDelaySeedMs",1e4,u),this.Ta=Li("forwardChannelMaxRetries",2,u),this.va=Li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(u&&u.concurrentRequestLimit),this.Ba=new Us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ps.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){Dt(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Iu(this,null,this.W),ji(this)};function Go(u){if(wa(u),u.I==3){var m=u.V++,v=Vt(u.J);if(it(v,"SID",u.M),it(v,"RID",m),it(v,"TYPE","terminate"),qr(u,v),m=new ai(u,u.j,m),m.M=2,m.A=Lr(Vt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ou(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ni(m)}Cu(u)}function Bs(u){u.g&&(Yo(u),u.g.cancel(),u.g=null)}function wa(u){Bs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ji(u){if(!Mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;_t||w(),Ue||(_t(),Ue=!0),N.add(m,u),u.D=0}}function xa(u,m){return Oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=wi(y(u.Ea,u,m),Nu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new ai(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),ne(B,this.U)):B=this.U),this.u!==null||this.R||(j.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Su(this,j,m),v=Vt(this.J),it(v,"RID",u),it(v,"CVER",22),this.G&&it(v,"X-HTTP-Session-Id",this.G),qr(this,v),B&&(this.R?m="headers="+es(Gn(B))+"&"+m:this.u&&zr(v,this.u,B)),Vo(this.h,j),this.Ra&&it(v,"TYPE","init"),this.S?(it(v,"$req",m),it(v,"SID","null"),j.U=!0,Ri(j,v,null)):Ri(j,v,m),this.I=2}}else this.I==3&&(u?Ko(this,u):this.i.length==0||Mo(this.h)||Ko(this))};function Ko(u,m){var v;m?v=m.l:v=u.V++;const A=Vt(u.J);it(A,"SID",u.M),it(A,"RID",v),it(A,"AID",u.K),qr(u,A),u.u&&u.o&&zr(A,u.u,u.o),v=new ai(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Su(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vo(u.h,v),Ri(v,A,m)}function qr(u,m){u.H&&Ge(u.H,function(v,A){it(m,A,v)}),u.l&&Ge({},function(v,A){it(m,A,v)})}function Su(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var j=u.i;let ke=-1;for(;;){const Nt=["count="+v];ke==-1?v>0?(ke=j[0].g,Nt.push("ofs="+ke)):ke=0:Nt.push("ofs="+ke);let Je=!0;for(let Et=0;Et<v;Et++){var B=j[Et].g;const Kn=j[Et].map;if(B-=ke,B<0)ke=Math.max(0,j[Et].g-100),Je=!1;else try{B="req"+B+"_"||"";try{var ee=Kn instanceof Map?Kn:Object.entries(Kn);for(const[zi,hi]of ee){let fi=hi;g(hi)&&(fi=Bn(hi)),Nt.push(B+zi+"="+encodeURIComponent(fi))}}catch(zi){throw Nt.push(B+"type="+encodeURIComponent("_badmap")),zi}}catch{A&&A(Kn)}}if(Je){ee=Nt.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function wu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;_t||w(),Ue||(_t(),Ue=!0),N.add(m,u),u.A=0}}function Hr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=wi(y(u.Da,u),Nu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=wi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Bs(this),xu(this))};function Yo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function xu(u){u.g=new ai(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Vt(u.na);it(m,"RID","rpc"),it(m,"SID",u.M),it(m,"AID",u.K),it(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&it(m,"TO",u.ia),it(m,"TYPE","xmlhttp"),qr(u,m),u.u&&u.o&&zr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Lr(Vt(m)),v.u=null,v.R=!0,_a(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Bs(this),Hr(this),Dt(19))};function Ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ru(u,m){var v=null;if(u.g==m){Ra(u),Yo(u),u.g=null;var A=2}else if(Di(u.h,m))v=m.G,Lo(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;A=ya(),re(A,new Si(A,v)),ji(u)}else wu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(A==1&&xa(u,m)||A==2&&Hr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:Ui(u,5);break;case 4:Ui(u,10);break;case 3:Ui(u,6);break;default:Ui(u,2)}}}function Nu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ui(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const j=!A;A=new In(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qt(A,"https"),Lr(A),j?li(A.toString(),v):qo(A.toString(),v)}else Dt(2);u.I=0,u.l&&u.l.pa(m),Cu(u),wa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Cu(u){if(u.I=0,u.ja=[],u.l){const m=jo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Iu(u,m,v){var A=v instanceof In?Vt(v):new In(v);if(A.g!="")m&&(A.g=m+"."+A.g),Ms(A,A.u);else{var j=d.location;A=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const B=new In(null);A&&Qt(B,A),m&&(B.g=m),j&&Ms(B,j),v&&(B.h=v),A=B}return v=u.G,m=u.wa,v&&m&&it(A,v,m),it(A,"VER",u.ka),qr(u,A),A}function Ou(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ot(new Mi({ab:v})):new ot(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function qs(){}qs.prototype.g=function(u,m){return new dn(u,m)};function dn(u,m){X.call(this),this.g=new Ps(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new is(this)}S(dn,X),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Go(this.g)},dn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Bn(u),u=v);m.i.push(new Mt(m.Ya++,u)),m.I==3&&ji(m)},dn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,dn.Z.N.call(this)};function ku(u){mt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(ku,mt);function Mu(){fn.call(this),this.status=1}S(Mu,fn);function is(u){this.g=u}S(is,Du),is.prototype.ra=function(){re(this.g,"a")},is.prototype.qa=function(u){re(this.g,new ku(u))},is.prototype.pa=function(u){re(this.g,new Mu)},is.prototype.oa=function(){re(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,Qv=function(){return new qs},Yv=function(){return ya()},Kv=bt,Am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,Zc=Mr,Oo.COMPLETE="complete",Gv=Oo,qn.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",X.prototype.listen=X.prototype.J,Ml=qn,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,Fv=ot}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let Ro="12.8.0";function Jw(s){Ro=s}const fa=new Fm("@firebase/firestore");function so(){return fa.logLevel}function le(s,...e){if(fa.logLevel<=qe.DEBUG){const n=e.map(tp);fa.debug(`Firestore (${Ro}): ${s}`,...n)}}function Ns(s,...e){if(fa.logLevel<=qe.ERROR){const n=e.map(tp);fa.error(`Firestore (${Ro}): ${s}`,...n)}}function yo(s,...e){if(fa.logLevel<=qe.WARN){const n=e.map(tp);fa.warn(`Firestore (${Ro}): ${s}`,...n)}}function tp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Te(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Wv(s,r,n)}function Wv(s,e,n){let r=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ns(r),new Error(r)}function nt(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||Wv(e,l,r)}function Ce(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $v{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ex{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class tx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class nx{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,n(_)):Promise.resolve();let c=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Tr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Tr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new $v(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class ix{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class sx{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ix(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const r=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new z_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ax(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class np{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=ax(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=e.charAt(l[c]%62))}return r}}function He(s,e){return s<e?-1:s>e?1:0}function Sm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return nm(l)===nm(c)?He(l,c):nm(l)?1:-1}return He(s.length,e.length)}const ox=55296,lx=57343;function nm(s){const e=s.charCodeAt(0);return e>=ox&&e<=lx}function _o(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const P_="__name__";class Fi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const c=Fi.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return He(e.length,n.length)}static compareSegments(e,n){const r=Fi.isNumericId(e),l=Fi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Fi.extractNumericId(e).compare(Fi.extractNumericId(n)):Sm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class At extends Fi{construct(e,n,r){return new At(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new At(n)}static emptyPath(){return new At([])}}const ux=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Fi{construct(e,n,r){return new sn(e,n,r)}static isValidIdentifier(e){return ux.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P_}static keyField(){return new sn([P_])}static fromServerFormat(e){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new de($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new de($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new de($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new de($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(At.fromString(e))}static fromName(e){return new ye(At.fromString(e).popFirst(5))}static empty(){return new ye(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new At(e.slice()))}}function cx(s,e,n){if(!n)throw new de($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function hx(s,e,n,r){if(e===!0&&r===!0)throw new de($.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function B_(s){if(!ye.isDocumentKey(s))throw new de($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Xv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ip(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function _i(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ip(s);throw new de($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Bt(s,e){const n={typeString:s};return e&&(n.value=e),n}function ou(s,e){if(!Xv(s))throw new de($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new de($.INVALID_ARGUMENT,n);return!0}const q_=-62135596800,H_=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*H_);return new yt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<q_)throw new de($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Bt("string",yt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new yt(0,0))}static max(){return new xe(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Kl=-1;function fx(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=xe.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new Ar(l,ye.empty(),e)}function dx(s){return new Ar(s.readTime,s.key,Kl)}class Ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ar(xe.min(),ye.empty(),Kl)}static max(){return new Ar(xe.max(),ye.empty(),Kl)}}function mx(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(s.documentKey,e.documentKey),n!==0?n:He(s.largestBatchId,e.largestBatchId))}const px="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function No(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==px)throw s;le("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,r)=>{n(e)}))}static reject(e){return new W(((n,r)=>{r(e)}))}static waitFor(e){return new W(((n,r)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&n()}),(_=>r(_)))})),d=!0,c===l&&n()}))}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next((l=>l?W.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(e,n){return new W(((r,l)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;n(e[y]).next((T=>{d[y]=T,++g,g===c&&r(d)}),(T=>l(T)))}}))}static doWhile(e,n){return new W(((r,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):r()};c()}))}}function yx(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Co(s){return s.name==="IndexedDbTransactionError"}class Ch{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ch.ce=-1;const sp=-1;function Ih(s){return s==null}function dh(s){return s===0&&1/s==-1/0}function _x(s){return typeof s=="number"&&Number.isInteger(s)&&!dh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Zv="";function vx(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=F_(e)),e=Ex(s.get(n),e);return F_(e)}function Ex(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case Zv:n+="";break;default:n+=c}}return n}function F_(s){return s+Zv+""}function G_(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Cr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function Jv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class St{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,r,l,c){this.key=e,this.value=n,this.color=r??nn.RED,this.left=l??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,c){return new nn(e??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return nn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,l,c){return this}insert(e,n,r){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(e){return new K_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class K_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Kt(sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class eE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new eE("Invalid base64 string: "+c):c}})(e);return new rn(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const Tx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(s){if(nt(!!s,39018),typeof s=="string"){let e=0;const n=Tx.exec(s);if(nt(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(s.seconds),nanos:Ot(s.nanos)}}function Ot(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function wr(s){return typeof s=="string"?rn.fromBase64String(s):rn.fromUint8Array(s)}const tE="server_timestamp",nE="__type__",iE="__previous_value__",sE="__local_write_time__";function rp(s){return(s?.mapValue?.fields||{})[nE]?.stringValue===tE}function Oh(s){const e=s.mapValue.fields[iE];return rp(e)?Oh(e):e}function Yl(s){const e=Sr(s.mapValue.fields[sE].timestampValue);return new yt(e.seconds,e.nanos)}class bx{constructor(e,n,r,l,c,d,g,_,y,T,S){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=S}}const mh="(default)";class Ql{constructor(e,n){this.projectId=e,this.database=n||mh}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}function Ax(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new de($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(s.options.projectId,e)}const rE="__type__",Sx="__max__",Bc={mapValue:{}},aE="__vector__",ph="value";function xr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?rp(s)?4:xx(s)?9007199254740991:wx(s)?10:11:Te(28295,{value:s})}function Xi(s,e){if(s===e)return!0;const n=xr(s);if(n!==xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yl(s).isEqual(Yl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Sr(l.timestampValue),g=Sr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return wr(l.bytesValue).isEqual(wr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ot(l.geoPointValue.latitude)===Ot(c.geoPointValue.latitude)&&Ot(l.geoPointValue.longitude)===Ot(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ot(l.integerValue)===Ot(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ot(l.doubleValue),g=Ot(c.doubleValue);return d===g?dh(d)===dh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return _o(s.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(G_(d)!==G_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Xi(d[_],g[_])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function Wl(s,e){return(s.values||[]).find((n=>Xi(n,e)))!==void 0}function vo(s,e){if(s===e)return 0;const n=xr(s),r=xr(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Ot(c.integerValue||c.doubleValue),_=Ot(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return Y_(s.timestampValue,e.timestampValue);case 4:return Y_(Yl(s),Yl(e));case 5:return Sm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=wr(c),_=wr(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const T=He(g[y],_[y]);if(T!==0)return T}return He(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=He(Ot(c.latitude),Ot(d.latitude));return g!==0?g:He(Ot(c.longitude),Ot(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Q_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[ph]?.arrayValue,T=_[ph]?.arrayValue,S=He(y?.values?.length||0,T?.values?.length||0);return S!==0?S:Q_(y,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Bc.mapValue&&d===Bc.mapValue)return 0;if(c===Bc.mapValue)return 1;if(d===Bc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let S=0;S<_.length&&S<T.length;++S){const O=Sm(_[S],T[S]);if(O!==0)return O;const H=vo(g[_[S]],y[T[S]]);if(H!==0)return H}return He(_.length,T.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function Y_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const n=Sr(s),r=Sr(e),l=He(n.seconds,r.seconds);return l!==0?l:He(n.nanos,r.nanos)}function Q_(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=vo(n[l],r[l]);if(c)return c}return He(n.length,r.length)}function Eo(s){return wm(s)}function wm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Sr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return wr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ye.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=wm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${wm(n.fields[d])}`;return l+"}"})(s.mapValue):Te(61005,{value:s})}function Jc(s){switch(xr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(s);return e?16+Jc(e):16;case 5:return 2*s.stringValue.length;case 6:return wr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Jc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Cr(r.fields,((c,d)=>{l+=c.length+Jc(d)})),l})(s.mapValue);default:throw Te(13486,{value:s})}}function xm(s){return!!s&&"integerValue"in s}function ap(s){return!!s&&"arrayValue"in s}function W_(s){return!!s&&"nullValue"in s}function $_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function eh(s){return!!s&&"mapValue"in s}function wx(s){return(s?.mapValue?.fields||{})[rE]?.stringValue===aE}function Pl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Cr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Pl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pl(s.arrayValue.values[n]);return e}return{...s}}function xx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Sx}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(n)}setAll(e){let n=sn.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const _=this.getFieldsMap(n);this.applyChanges(_,r,l),r={},l=[],n=g.popLast()}d?r[g.lastSegment()]=Pl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];eh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){Cr(n,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new Nn(Pl(this.value))}}function oE(s){const e=[];return Cr(s.fields,((n,r)=>{const l=new sn([n]);if(eh(r)){const c=oE(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new zn(e)}class cn{constructor(e,n,r,l,c,d,g){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new cn(e,0,xe.min(),xe.min(),xe.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,l){return new cn(e,1,n,xe.min(),r,l,0)}static newNoDocument(e,n){return new cn(e,2,n,xe.min(),xe.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,xe.min(),xe.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gh{constructor(e,n){this.position=e,this.inclusive=n}}function X_(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=ye.comparator(ye.fromName(d.referenceValue),n.key):r=vo(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Z_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Xi(s.position[n],e.position[n]))return!1;return!0}class yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Rx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class lE{}class Gt extends lE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Cx(e,n,r):n==="array-contains"?new Dx(e,r):n==="in"?new kx(e,r):n==="not-in"?new Mx(e,r):n==="array-contains-any"?new Vx(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ix(e,r):new Ox(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&xr(this.value)===xr(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends lE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Zi(e,n)}matches(e){return uE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uE(s){return s.op==="and"}function cE(s){return Nx(s)&&uE(s)}function Nx(s){for(const e of s.filters)if(e instanceof Zi)return!1;return!0}function Rm(s){if(s instanceof Gt)return s.field.canonicalString()+s.op.toString()+Eo(s.value);if(cE(s))return s.filters.map((e=>Rm(e))).join(",");{const e=s.filters.map((n=>Rm(n))).join(",");return`${s.op}(${e})`}}function hE(s,e){return s instanceof Gt?(function(r,l){return l instanceof Gt&&r.op===l.op&&r.field.isEqual(l.field)&&Xi(r.value,l.value)})(s,e):s instanceof Zi?(function(r,l){return l instanceof Zi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&hE(d,l.filters[g])),!0):!1})(s,e):void Te(19439)}function fE(s){return s instanceof Gt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`})(s):s instanceof Zi?(function(n){return n.op.toString()+" {"+n.getFilters().map(fE).join(" ,")+"}"})(s):"Filter"}class Cx extends Gt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ix extends Gt{constructor(e,n){super(e,"in",n),this.keys=dE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Ox extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=dE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function dE(s,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class Dx extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ap(n)&&Wl(n.arrayValue,this.value)}}class kx extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class Mx extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wl(this.value.arrayValue,n)}}class Vx extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ap(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Wl(this.value.arrayValue,r)))}}class Lx{constructor(e,n=null,r=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function J_(s,e=null,n=[],r=[],l=null,c=null,d=null){return new Lx(s,e,n,r,l,c,d)}function op(s){const e=Ce(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Rm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Eo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Eo(r))).join(",")),e.Te=n}return e.Te}function lp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!Rx(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!hE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Z_(s.startAt,e.startAt)&&Z_(s.endAt,e.endAt)}function Nm(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Dh{constructor(e,n=null,r=[],l=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function jx(s,e,n,r,l,c,d,g){return new Dh(s,e,n,r,l,c,d,g)}function kh(s){return new Dh(s)}function e1(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Ux(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function zx(s){return s.collectionGroup!==null}function Bl(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Kt(sn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new yh(c,r))})),n.has(sn.keyField().canonicalString())||e.Ie.push(new yh(sn.keyField(),r))}return e.Ie}function Yi(s){const e=Ce(s);return e.Ee||(e.Ee=Px(e,Bl(s))),e.Ee}function Px(s,e){if(s.limitType==="F")return J_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new yh(l.field,c)}));const n=s.endAt?new gh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new gh(s.startAt.position,s.startAt.inclusive):null;return J_(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Cm(s,e,n){return new Dh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Mh(s,e){return lp(Yi(s),Yi(e))&&s.limitType===e.limitType}function mE(s){return`${op(Yi(s))}|lt:${s.limitType}`}function ro(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>fE(l))).join(", ")}]`),Ih(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>Eo(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>Eo(l))).join(",")),`Target(${r})`})(Yi(s))}; limitType=${s.limitType})`}function Vh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ye.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Bl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,_){const y=X_(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,Bl(r),l)||r.endAt&&!(function(d,g,_){const y=X_(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,Bl(r),l))})(s,e)}function Bx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function pE(s){return(e,n)=>{let r=!1;for(const l of Bl(s)){const c=qx(l,e,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function qx(s,e,n){const r=s.field.isKeyField()?ye.comparator(e.key,n.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?vo(_,y):Te(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:s.dir})}}class pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Cr(this.inner,((n,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return Jv(this.inner)}size(){return this.innerSize}}const Hx=new St(ye.comparator);function Cs(){return Hx}const gE=new St(ye.comparator);function Vl(...s){let e=gE;for(const n of s)e=e.insert(n.key,n);return e}function yE(s){let e=gE;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function la(){return ql()}function _E(){return ql()}function ql(){return new pa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Fx=new St(ye.comparator),Gx=new Kt(ye.comparator);function Fe(...s){let e=Gx;for(const n of s)e=e.add(n);return e}const Kx=new Kt(He);function Yx(){return Kx}function up(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function vE(s){return{integerValue:""+s}}function Qx(s,e){return _x(e)?vE(e):up(s,e)}class Lh{constructor(){this._=void 0}}function Wx(s,e,n){return s instanceof _h?(function(l,c){const d={fields:{[nE]:{stringValue:tE},[sE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&rp(c)&&(c=Oh(c)),c&&(d.fields[iE]=c),{mapValue:d}})(n,e):s instanceof To?TE(s,e):s instanceof $l?bE(s,e):(function(l,c){const d=EE(l,c),g=t1(d)+t1(l.Ae);return xm(d)&&xm(l.Ae)?vE(g):up(l.serializer,g)})(s,e)}function $x(s,e,n){return s instanceof To?TE(s,e):s instanceof $l?bE(s,e):n}function EE(s,e){return s instanceof vh?(function(r){return xm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class _h extends Lh{}class To extends Lh{constructor(e){super(),this.elements=e}}function TE(s,e){const n=AE(e);for(const r of s.elements)n.some((l=>Xi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class $l extends Lh{constructor(e){super(),this.elements=e}}function bE(s,e){let n=AE(e);for(const r of s.elements)n=n.filter((l=>!Xi(l,r)));return{arrayValue:{values:n}}}class vh extends Lh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function t1(s){return Ot(s.integerValue||s.doubleValue)}function AE(s){return ap(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Xx{constructor(e,n){this.field=e,this.transform=n}}function Zx(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof To&&l instanceof To||r instanceof $l&&l instanceof $l?_o(r.elements,l.elements,Xi):r instanceof vh&&l instanceof vh?Xi(r.Ae,l.Ae):r instanceof _h&&l instanceof _h})(s.transform,e.transform)}class Jx{constructor(e,n){this.version=e,this.transformResults=n}}class vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class jh{}function SE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new cp(s.key,vi.none()):new lu(s.key,s.data,vi.none());{const n=s.data,r=Nn.empty();let l=new Kt(sn.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Ir(s.key,r,new zn(l.toArray()),vi.none())}}function eR(s,e,n){s instanceof lu?(function(l,c,d){const g=l.value.clone(),_=i1(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):s instanceof Ir?(function(l,c,d){if(!th(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=i1(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(wE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Hl(s,e,n,r){return s instanceof lu?(function(c,d,g,_){if(!th(c.precondition,d))return g;const y=c.value.clone(),T=s1(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof Ir?(function(c,d,g,_){if(!th(c.precondition,d))return g;const y=s1(c.fieldTransforms,_,d),T=d.data;return T.setAll(wE(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(c,d,g){return th(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,n)}function tR(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=EE(r.transform,l||null);c!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,c))}return n||null}function n1(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&_o(r,l,((c,d)=>Zx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class lu extends jh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ir extends jh{constructor(e,n,r,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function i1(s,e,n){const r=new Map;nt(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);r.set(c.field,$x(d,g,n[l]))}return r}function s1(s,e,n){const r=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);r.set(l.field,Wx(c,d,e))}return r}class cp extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nR extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iR{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&eR(c,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_E();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const _=SE(d,g);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,((n,r)=>n1(n,r)))&&_o(this.baseMutations,e.baseMutations,((n,r)=>n1(n,r)))}}class hp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){nt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return Fx})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new hp(e,n,r,l)}}class sR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rR{constructor(e,n){this.count=e,this.unchangedNames=n}}var Pt,Qe;function aR(s){switch(s){case $.OK:return Te(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function xE(s){if(s===void 0)return Ns("GRPC error has no .code"),$.UNKNOWN;switch(s){case Pt.OK:return $.OK;case Pt.CANCELLED:return $.CANCELLED;case Pt.UNKNOWN:return $.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return $.INTERNAL;case Pt.UNAVAILABLE:return $.UNAVAILABLE;case Pt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Pt.NOT_FOUND:return $.NOT_FOUND;case Pt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Pt.ABORTED:return $.ABORTED;case Pt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Pt.DATA_LOSS:return $.DATA_LOSS;default:return Te(39323,{code:s})}}(Qe=Pt||(Pt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function oR(){return new TextEncoder}const lR=new Er([4294967295,4294967295],0);function r1(s){const e=oR().encode(s),n=new Hv;return n.update(e),new Uint8Array(n.digest())}function a1(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Er([n,r],0),new Er([l,c],0)]}class fp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Er.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(Er.fromNumber(r)));return l.compare(lR)===1&&(l=new Er([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=r1(e),[r,l]=a1(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new fp(c,l,n);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const n=r1(e),[r,l]=a1(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uh{constructor(e,n,r,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Uh(xe.min(),l,new St(He),Cs(),Fe())}}class uu{constructor(e,n,r,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new uu(r,n,Fe(),Fe(),Fe())}}class nh{constructor(e,n,r,l){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=l}}class RE{constructor(e,n){this.targetId=e,this.Ce=n}}class NE{constructor(e,n,r=rn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class o1{constructor(){this.ve=0,this.Fe=l1(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),r=Fe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Te(38017,{changeType:c})}})),new uu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=l1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class uR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cs(),this.He=qc(),this.Je=qc(),this.Ze=new St(He)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Nm(c))if(r===0){const d=new ye(c.path);this.et(n,d,cn.newNoDocument(d,xe.min()))}else nt(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(n);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=wr(r).toUint8Array()}catch(_){if(_ instanceof eE)return yo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new fp(d,l,c)}catch(_){return yo(_ instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Nm(g.target)){const _=new ye(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,cn.newNoDocument(_,e))}c.Be&&(n.set(d,c.ke()),c.Ke())}}));let r=Fe();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Uh(e,n,this.Ze,this.je,r);return this.je=Cs(),this.He=qc(),this.Je=qc(),this.Ze=new St(He),l}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new o1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Kt(He),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Kt(He),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new o1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qc(){return new St(ye.comparator)}function l1(){return new St(ye.comparator)}const cR={asc:"ASCENDING",desc:"DESCENDING"},hR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fR={and:"AND",or:"OR"};class dR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Im(s,e){return s.useProto3Json||Ih(e)?e:{value:e}}function Eh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function mR(s,e){return Eh(s,e.toTimestamp())}function Qi(s){return nt(!!s,49232),xe.fromTimestamp((function(n){const r=Sr(n);return new yt(r.seconds,r.nanos)})(s))}function dp(s,e){return Om(s,e).canonicalString()}function Om(s,e){const n=(function(l){return new At(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function IE(s){const e=At.fromString(s);return nt(VE(e),10190,{key:e.toString()}),e}function Dm(s,e){return dp(s.databaseId,e.path)}function im(s,e){const n=IE(e);if(n.get(1)!==s.databaseId.projectId)throw new de($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new de($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ye(DE(n))}function OE(s,e){return dp(s.databaseId,e)}function pR(s){const e=IE(s);return e.length===4?At.emptyPath():DE(e)}function km(s){return new At(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function DE(s){return nt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function u1(s,e,n){return{name:Dm(s,e),fields:n.value.mapValue.fields}}function gR(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(nt(T===void 0||typeof T=="string",58123),rn.fromBase64String(T||"")):(nt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),rn.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const T=y.code===void 0?$.UNKNOWN:xE(y.code);return new de(T,y.message||"")})(d);n=new NE(r,l,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=im(s,r.document.name),c=Qi(r.document.updateTime),d=r.document.createTime?Qi(r.document.createTime):xe.min(),g=new Nn({mapValue:{fields:r.document.fields}}),_=cn.newFoundDocument(l,c,d,g),y=r.targetIds||[],T=r.removedTargetIds||[];n=new nh(y,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=im(s,r.document),c=r.readTime?Qi(r.readTime):xe.min(),d=cn.newNoDocument(l,c),g=r.removedTargetIds||[];n=new nh([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=im(s,r.document),c=r.removedTargetIds||[];n=new nh([],c,l,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new rR(l,c),g=r.targetId;n=new RE(g,d)}}return n}function yR(s,e){let n;if(e instanceof lu)n={update:u1(s,e.key,e.value)};else if(e instanceof cp)n={delete:Dm(s,e.key)};else if(e instanceof Ir)n={update:u1(s,e.key,e.data),updateMask:xR(e.fieldMask)};else{if(!(e instanceof nR))return Te(16599,{dt:e.type});n={verify:Dm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof _h)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof To)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof $l)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof vh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Te(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:mR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),n}function _R(s,e){return s&&s.length>0?(nt(e!==void 0,14353),s.map((n=>(function(l,c){let d=l.updateTime?Qi(l.updateTime):Qi(c);return d.isEqual(xe.min())&&(d=Qi(c)),new Jx(d,l.transformResults||[])})(n,e)))):[]}function vR(s,e){return{documents:[OE(s,e.path)]}}function ER(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=OE(s,l);const c=(function(y){if(y.length!==0)return ME(Zi.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(O){return{field:ao(O.field),direction:AR(O.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Im(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function TR(s){let e=pR(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){nt(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(S){const O=kE(S);return O instanceof Zi&&cE(O)?O.getFilters():[O]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((O=>(function(Z){return new yh(oo(Z.field),(function(se){switch(se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(O)))})(n.orderBy));let g=null;n.limit&&(g=(function(S){let O;return O=typeof S=="object"?S.value:S,Ih(O)?null:O})(n.limit));let _=null;n.startAt&&(_=(function(S){const O=!!S.before,H=S.values||[];return new gh(H,O)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const O=!S.before,H=S.values||[];return new gh(H,O)})(n.endAt)),jx(e,l,d,c,g,"F",_,y)}function bR(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oo(n.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=oo(n.unaryFilter.field);return Gt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=oo(n.unaryFilter.field);return Gt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=oo(n.unaryFilter.field);return Gt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Gt.create(oo(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Zi.create(n.compositeFilter.filters.map((r=>kE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(s):Te(30097,{filter:s})}function AR(s){return cR[s]}function SR(s){return hR[s]}function wR(s){return fR[s]}function ao(s){return{fieldPath:s.canonicalString()}}function oo(s){return sn.fromServerFormat(s.fieldPath)}function ME(s){return s instanceof Gt?(function(n){if(n.op==="=="){if($_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(W_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(W_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:SR(n.op),value:n.value}}})(s):s instanceof Zi?(function(n){const r=n.getFilters().map((l=>ME(l)));return r.length===1?r[0]:{compositeFilter:{op:wR(n.op),filters:r}}})(s):Te(54877,{filter:s})}function xR(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function VE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function LE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class gr{constructor(e,n,r,l,c=xe.min(),d=xe.min(),g=rn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RR{constructor(e){this.yt=e}}function NR(s){const e=TR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Cm(e,e.limit,"L"):e}class CR{constructor(){this.Sn=new IR}addToCollectionParentIndex(e,n){return this.Sn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Ar.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class IR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Kt(At.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Kt(At.comparator)).toArray()}}const c1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jE=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(jE,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class bo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new bo(0)}static ar(){return new bo(-1)}}const h1="LruGarbageCollector",OR=1048576;function f1([s,e],[n,r]){const l=He(s,n);return l===0?He(e,r):l}class DR{constructor(e){this.Pr=e,this.buffer=new Kt(f1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();f1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(h1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Co(n)?le(h1,"Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.Ar(3e5)}))}}class MR{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Ch.ce);const r=new DR(n);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(c1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,l,c,d,g,_,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,g=Date.now(),this.removeTargets(e,r,n)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),so()<=qe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function VR(s,e){return new MR(s,e)}class LR{constructor(){this.changes=new pa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UR{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Hl(r.mutation,l,zn.empty(),yt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Fe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Fe()){const l=la();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((c=>{let d=Vl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=la();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Fe())))}populateOverlays(e,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,r,l){let c=Cs();const d=ql(),g=(function(){return ql()})();return n.forEach(((_,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof Ir)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Hl(T.mutation,y,T.mutation.getFieldMask(),yt.now())):d.set(y.key,zn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),n.forEach(((y,T)=>g.set(y,new jR(T,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,n){const r=ql();let l=new St(((d,g)=>d-g)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=n.get(_);if(y===null)return;let T=r.get(_)||zn.empty();T=g.applyToLocalView(y,T),r.set(_,T);const S=(l.get(g.batchId)||Fe()).add(_);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,T=_.value,S=_E();T.forEach((O=>{if(!c.has(O)){const H=SE(n.get(O),r.get(O));H!==null&&S.set(O,H),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return W.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return Ux(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-c.size):W.resolve(la());let g=Kl,_=c;return d.next((y=>W.forEach(y,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next((O=>{_=_.insert(T,O)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Fe()))).next((T=>({batchId:g,changes:yE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((r=>{let l=Vl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const c=n.collectionGroup;let d=Vl();return this.indexManager.getCollectionParents(e,c).next((g=>W.forEach(g,(_=>{const y=(function(S,O){return new Dh(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((T=>{T.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,cn.newInvalidDocument(T)))}));let g=Vl();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&Hl(T.mutation,y,zn.empty(),yt.now()),Vh(n,y)&&(g=g.insert(_,y))})),g}))}}class zR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return W.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Qi(l.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:NR(l.bundledQuery),readTime:Qi(l.readTime)}})(n)),W.resolve()}}class PR{constructor(){this.overlays=new St(ye.comparator),this.Lr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=la();return W.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,c)=>{this.bt(e,n,c)})),W.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const l=la(),c=n.length+1,d=new ye(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return W.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let c=new St(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=c.get(y.largestBatchId);T===null&&(T=la(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=la(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=l)););return W.resolve(g)}bt(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new sR(n,r));let c=this.Lr.get(n);c===void 0&&(c=Fe(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}class BR{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}class mp{constructor(){this.kr=new Kt($t.Kr),this.qr=new Kt($t.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new $t(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new $t(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ye(new At([])),r=new $t(n,e),l=new $t(n,e+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new At([])),r=new $t(n,e),l=new $t(n,e+1);let c=Fe();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new $t(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||He(e.Hr,n.Hr)}static Ur(e,n){return He(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}class qR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Kt($t.Kr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new iR(c,n,r,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new $t(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,n){return W.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.Xr(r),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?sp:this.Yn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),l=new $t(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(He);return n.forEach((l=>{const c=new $t(l,0),d=new $t(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{r=r.add(g.Hr)}))})),W.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let c=r;ye.isDocumentKey(c)||(c=c.child(""));const d=new $t(new ye(c),0);let g=new Kt(He);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Hr)),!0)}),d),W.resolve(this.Yr(g))}Yr(e){const n=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){nt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return W.forEach(n.mutations,(l=>{const c=new $t(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new $t(n,0),l=this.Jr.firstAfterOrEqual(r);return W.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class HR{constructor(e){this.ti=e,this.docs=(function(){return new St(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=Cs();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():cn.newInvalidDocument(l))})),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let c=Cs();const d=n.path,g=new ye(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||mx(dx(T),r)<=0||(l.has(T.key)||Vh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,n,r,l){Te(9500)}ni(e,n){return W.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new FR(this)}getSize(e){return W.resolve(this.size)}}class FR extends LR{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),W.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class GR{constructor(e){this.persistence=e,this.ri=new pa((n=>op(n)),lp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.ii=0,this.si=new mp,this.targetCount=0,this.oi=bo._r()}forEachTarget(e,n){return this.ri.forEach(((r,l)=>n(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),W.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.lr(n),W.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.si.containsKey(n))}}class UE{constructor(e,n){this._i={},this.overlays={},this.ai=new Ch(0),this.ui=!1,this.ui=!0,this.ci=new BR,this.referenceDelegate=e(this),this.li=new GR(this),this.indexManager=new CR,this.remoteDocumentCache=(function(l){return new HR(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new RR(n),this.Pi=new zR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new qR(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const l=new KR(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,n){return W.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class KR extends gx{constructor(e){super(),this.currentSequenceNumber=e}}class pp{constructor(e){this.persistence=e,this.Ri=new mp,this.Ai=null}static Vi(e){return new pp(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(r=>{const l=ye.fromPath(r);return this.mi(e,l).next((c=>{c||n.removeEntry(l,xe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.fi=new pa((r=>vx(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=VR(this,n)}static Vi(e,n){return new Th(e,n)}Ti(){}Ii(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return W.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((c=>c?W.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,n).next((g=>{g||(r++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jc(e.data.value)),n}wr(e,n,r){return W.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return W.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class gp{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=l}static Es(e,n){let r=Fe(),l=Fe();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new gp(e,n.fromCache,r,l)}}class YR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class QR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return O2()?8:yx(hn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const c={result:null};return this.gs(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,n,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new YR;return this.ys(e,n,d).next((g=>{if(c.result=g,this.As)return this.ws(e,n,d,g.size)}))})).next((()=>c.result))}ws(e,n,r,l){return r.documentReadCount<this.Vs?(so()<=qe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(so()<=qe.DEBUG&&le("QueryEngine","Query:",ro(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(so()<=qe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):W.resolve())}gs(e,n){if(e1(n))return W.resolve(null);let r=Yi(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Cm(n,null,"F"),r=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Fe(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.bs(n,g);return this.Ss(n,y,d,_.readTime)?this.gs(e,Cm(n,null,"F")):this.Ds(e,y,n,_)}))))})))))}ps(e,n,r,l){return e1(n)||l.isEqual(xe.min())?W.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(n,c);return this.Ss(n,d,r,l)?W.resolve(null):(so()<=qe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ro(n)),this.Ds(e,d,n,fx(l,Kl)).next((g=>g)))}))}bs(e,n){let r=new Kt(pE(e));return n.forEach(((l,c)=>{Vh(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,n,r){return so()<=qe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ro(n)),this.fs.getDocumentsMatchingQuery(e,n,Ar.min(),r)}Ds(e,n,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const yp="LocalStore",WR=3e8;class $R{constructor(e,n,r,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new St(He),this.Fs=new pa((c=>op(c)),lp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function XR(s,e,n,r){return new $R(s,e,n,r)}async function zE(s,e){const n=Ce(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=Fe();for(const y of l){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return n.localDocuments.getDocuments(r,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function ZR(s,e){const n=Ce(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,T){const S=y.batch,O=S.keys();let H=W.resolve();return O.forEach((Z=>{H=H.next((()=>T.getEntry(_,Z))).next((ie=>{const se=y.docVersions.get(Z);nt(se!==null,48541),ie.version.compareTo(se)<0&&(S.applyToRemoteDocument(ie,y),ie.isValidDocument()&&(ie.setReadTime(y.commitVersion),T.addEntry(ie)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=Fe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function PE(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function JR(s,e){const n=Ce(s),r=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const g=[];e.targetChanges.forEach(((T,S)=>{const O=l.get(S);if(!O)return;g.push(n.li.removeMatchingKeys(c,T.removedDocuments,S).next((()=>n.li.addMatchingKeys(c,T.addedDocuments,S))));let H=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?H=H.withResumeToken(rn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,r)),l=l.insert(S,H),(function(ie,se,_e){return ie.resumeToken.approximateByteSize()===0||se.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=WR?!0:_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0})(O,H,T)&&g.push(n.li.updateTargetData(c,H))}));let _=Cs(),y=Fe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(e4(c,d,e.documentUpdates).next((T=>{_=T.Bs,y=T.Ls}))),!r.isEqual(xe.min())){const T=n.li.getLastRemoteSnapshotVersion(c).next((S=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(T)}return W.waitFor(g).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(n.vs=l,c)))}function e4(s,e,n){let r=Fe(),l=Fe();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Cs();return n.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(xe.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):le(yp,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function t4(s,e){const n=Ce(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=sp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function n4(s,e){const n=Ce(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,e).next((c=>c?(l=c,W.resolve(l)):n.li.allocateTargetId(r).next((d=>(l=new gr(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Mm(s,e,n){const r=Ce(s),l=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Co(d))throw d;le(yp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function d1(s,e,n){const r=Ce(s);let l=xe.min(),c=Fe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const S=Ce(_),O=S.Fs.get(T);return O!==void 0?W.resolve(S.vs.get(O)):S.li.getTargetData(y,T)})(r,d,Yi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,n?l:xe.min(),n?c:Fe()))).next((g=>(i4(r,Bx(e),g),{documents:g,ks:c})))))}function i4(s,e,n){let r=s.Ms.get(e)||xe.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class m1{constructor(){this.activeTargetIds=Yx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s4{constructor(){this.vo=new m1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new m1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class r4{Mo(e){}shutdown(){}}const p1="ConnectivityMonitor";class g1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(p1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(p1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hc=null;function Vm(){return Hc===null?Hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hc++,"0x"+Hc.toString(16)}const sm="RestConnection",a4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class o4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===mh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,n,r,l,c){const d=Vm(),g=this.Qo(e,n.toUriEncodedString());le(sm,`Sending RPC '${e}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(g),T=So(y);return this.zo(e,g,_,r,T).then((S=>(le(sm,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw yo(sm,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",r),S}))}jo(e,n,r,l,c,d){return this.Wo(e,n,r,l,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}Qo(e,n){const r=a4[e];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class l4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ln="WebChannelConnection",Dl=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class fo extends o4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!fo.c_){const e=Yv();Dl(e,Kv.STAT_EVENT,(n=>{n.stat===Am.PROXY?le(ln,"STAT_EVENT: detected buffering proxy"):n.stat===Am.NOPROXY&&le(ln,"STAT_EVENT: detected no buffering proxy")})),fo.c_=!0}}zo(e,n,r,l,c){const d=Vm();return new Promise(((g,_)=>{const y=new Fv;y.setWithCredentials(!0),y.listenOnce(Gv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Zc.NO_ERROR:const S=y.getResponseJson();le(ln,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Zc.TIMEOUT:le(ln,`RPC '${e}' ${d} timed out`),_(new de($.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const O=y.getStatus();if(le(ln,`RPC '${e}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const Z=H?.error;if(Z&&Z.status&&Z.message){const ie=(function(_e){const Ie=_e.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Ie)>=0?Ie:$.UNKNOWN})(Z.status);_(new de(ie,Z.message))}else _(new de($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new de($.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(ln,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);le(ln,`RPC '${e}' ${d} sending request:`,l),y.send(n,"POST",T,r,15)}))}T_(e,n,r){const l=Vm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const y=c.join("");le(ln,`Creating RPC '${e}' stream ${l}: ${y}`,g);const T=d.createWebChannel(y,g);this.I_(T);let S=!1,O=!1;const H=new l4({Ho:Z=>{O?le(ln,`Not sending because RPC '${e}' stream ${l} is closed:`,Z):(S||(le(ln,`Opening RPC '${e}' stream ${l} transport.`),T.open(),S=!0),le(ln,`RPC '${e}' stream ${l} sending:`,Z),T.send(Z))},Jo:()=>T.close()});return Dl(T,Ml.EventType.OPEN,(()=>{O||(le(ln,`RPC '${e}' stream ${l} transport opened.`),H.i_())})),Dl(T,Ml.EventType.CLOSE,(()=>{O||(O=!0,le(ln,`RPC '${e}' stream ${l} transport closed`),H.o_(),this.E_(T))})),Dl(T,Ml.EventType.ERROR,(Z=>{O||(O=!0,yo(ln,`RPC '${e}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),H.o_(new de($.UNAVAILABLE,"The operation could not be completed")))})),Dl(T,Ml.EventType.MESSAGE,(Z=>{if(!O){const ie=Z.data[0];nt(!!ie,16349);const se=ie,_e=se?.error||se[0]?.error;if(_e){le(ln,`RPC '${e}' stream ${l} received error:`,_e);const Ie=_e.status;let we=(function(Ue){const N=Pt[Ue];if(N!==void 0)return xE(N)})(Ie),tt=_e.message;we===void 0&&(we=$.INTERNAL,tt="Unknown error status: "+Ie+" with message "+_e.message),O=!0,H.o_(new de(we,tt)),T.close()}else le(ln,`RPC '${e}' stream ${l} received:`,ie),H.__(ie)}})),fo.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Qv()}}function u4(s){return new fo(s)}function rm(){return typeof document<"u"?document:null}function zh(s){return new dR(s,!0)}fo.c_=!1;class BE{constructor(e,n,r=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&le("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const y1="PersistentStream";class qE{constructor(e,n,r,l,c,d,g,_){this.Ci=e,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ns(n.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new de($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(y1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(y1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class c4 extends qE{constructor(e,n,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gR(this.serializer,e),r=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?Qi(d.readTime):xe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=km(this.serializer),n.addTarget=(function(c,d){let g;const _=d.target;if(g=Nm(_)?{documents:vR(c,_)}:{query:ER(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=CE(c,d.resumeToken);const y=Im(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(xe.min())>0){g.readTime=Eh(c,d.snapshotVersion.toTimestamp());const y=Im(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const r=bR(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=km(this.serializer),n.removeTarget=e,this.K_(n)}}class h4 extends qE{constructor(e,n,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=_R(e.writeResults,e.commitTime),r=Qi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=km(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>yR(this.serializer,r)))};this.K_(n)}}class f4{}class d4 extends f4{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new de($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Om(n,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de($.UNKNOWN,c.toString())}))}jo(e,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,Om(n,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function m4(s,e,n,r){return new d4(s,e,n,r)}class p4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class g4{constructor(e,n,r,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ga(this)&&(le(da,"Restarting streams for network reachability change."),await(async function(_){const y=Ce(_);y.Ea.add(4),await cu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Ph(y)})(this))}))})),this.Va=new p4(r,l)}}async function Ph(s){if(ga(s))for(const e of s.Ra)await e(!0)}async function cu(s){for(const e of s.Ra)await e(!1)}function HE(s,e){const n=Ce(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tp(n)?Ep(n):Io(n).O_()&&vp(n,e))}function _p(s,e){const n=Ce(s),r=Io(n);n.Ia.delete(e),r.O_()&&FE(n,e),n.Ia.size===0&&(r.O_()?r.L_():ga(n)&&n.Va.set("Unknown"))}function vp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(s).Z_(e)}function FE(s,e){s.da.$e(e),Io(s).X_(e)}function Ep(s){s.da=new uR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Io(s).start(),s.Va.ua()}function Tp(s){return ga(s)&&!Io(s).x_()&&s.Ia.size>0}function ga(s){return Ce(s).Ea.size===0}function GE(s){s.da=void 0}async function y4(s){s.Va.set("Online")}async function _4(s){s.Ia.forEach(((e,n)=>{vp(s,e)}))}async function v4(s,e){GE(s),Tp(s)?(s.Va.ha(e),Ep(s)):s.Va.set("Unknown")}async function E4(s,e,n){if(s.Va.set("Online"),e instanceof NE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,e)}catch(r){le(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bh(s,r)}else if(e instanceof nh?s.da.Xe(e):e instanceof RE?s.da.st(e):s.da.tt(e),!n.isEqual(xe.min()))try{const r=await PE(s.localStore);n.compareTo(r)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(rn.EMPTY_BYTE_STRING,T.snapshotVersion)),FE(c,_);const S=new gr(T.target,_,y,T.sequenceNumber);vp(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(r){le(da,"Failed to raise snapshot:",r),await bh(s,r)}}async function bh(s,e,n){if(!Co(e))throw e;s.Ea.add(1),await cu(s),s.Va.set("Offline"),n||(n=()=>PE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(da,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Ph(s)}))}function KE(s,e){return e().catch((n=>bh(s,n,e)))}async function Bh(s){const e=Ce(s),n=Rr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sp;for(;T4(e);)try{const l=await t4(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,b4(e,l)}catch(l){await bh(e,l)}YE(e)&&QE(e)}function T4(s){return ga(s)&&s.Ta.length<10}function b4(s,e){s.Ta.push(e);const n=Rr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function YE(s){return ga(s)&&!Rr(s).x_()&&s.Ta.length>0}function QE(s){Rr(s).start()}async function A4(s){Rr(s).ra()}async function S4(s){const e=Rr(s);for(const n of s.Ta)e.ea(n.mutations)}async function w4(s,e,n){const r=s.Ta.shift(),l=hp.from(r,e,n);await KE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Bh(s)}async function x4(s,e){e&&Rr(s).Y_&&await(async function(r,l){if((function(d){return aR(d)&&d!==$.ABORTED})(l.code)){const c=r.Ta.shift();Rr(r).B_(),await KE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Bh(r)}})(s,e),YE(s)&&QE(s)}async function _1(s,e){const n=Ce(s);n.asyncQueue.verifyOperationInProgress(),le(da,"RemoteStore received new credentials");const r=ga(n);n.Ea.add(3),await cu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ph(n)}async function R4(s,e){const n=Ce(s);e?(n.Ea.delete(2),await Ph(n)):e||(n.Ea.add(2),await cu(n),n.Va.set("Unknown"))}function Io(s){return s.ma||(s.ma=(function(n,r,l){const c=Ce(n);return c.sa(),new c4(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:y4.bind(null,s),Yo:_4.bind(null,s),t_:v4.bind(null,s),J_:E4.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Tp(s)?Ep(s):s.Va.set("Unknown")):(await s.ma.stop(),GE(s))}))),s.ma}function Rr(s){return s.fa||(s.fa=(function(n,r,l){const c=Ce(n);return c.sa(),new h4(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:A4.bind(null,s),t_:x4.bind(null,s),ta:S4.bind(null,s),na:w4.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Bh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(da,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class bp{constructor(e,n,r,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,c){const d=Date.now()+r,g=new bp(e,n,d,l,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ap(s,e){if(Ns("AsyncQueue",`${e}: ${s}`),Co(s))return new de($.UNAVAILABLE,`${e}: ${s}`);throw s}class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Vl(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class v1{constructor(){this.ga=new St(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ao{constructor(e,n,r,l,c,d,g,_,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,c){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new Ao(e,n,mo.emptySet(n),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class N4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class C4{constructor(){this.queries=E1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Ce(n),c=l.queries;l.queries=E1(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(r)}))})(this,new de($.ABORTED,"Firestore shutting down"))}}function E1(){return new pa((s=>mE(s)),Mh)}async function WE(s,e){const n=Ce(s);let r=3;const l=e.query;let c=n.queries.get(l);c?!c.Sa()&&e.Da()&&(r=2):(c=new N4,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Ap(d,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Sp(n)}async function $E(s,e){const n=Ce(s),r=e.query;let l=3;const c=n.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function I4(s,e){const n=Ce(s);let r=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(r=!0);d.wa=l}}r&&Sp(n)}function O4(s,e,n){const r=Ce(s),l=r.queries.get(e);if(l)for(const c of l.ba)c.onError(n);r.queries.delete(e)}function Sp(s){s.Ca.forEach((e=>{e.next()}))}var Lm,T1;(T1=Lm||(Lm={})).Ma="default",T1.Cache="cache";class XE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lm.Cache}}class ZE{constructor(e){this.key=e}}class JE{constructor(e){this.key=e}}class D4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.eu=pE(e),this.tu=new mo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new v1,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,S)=>{const O=l.get(T),H=Vh(this.query,S)?S:null,Z=!!O&&this.mutatedKeys.has(O.key),ie=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let se=!1;O&&H?O.data.isEqual(H.data)?Z!==ie&&(r.track({type:3,doc:H}),se=!0):this.su(O,H)||(r.track({type:2,doc:H}),se=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(g=!0)):!O&&H?(r.track({type:0,doc:H}),se=!0):O&&!H&&(r.track({type:1,doc:O}),se=!0,(_||y)&&(g=!0)),se&&(H?(d=d.add(H),c=ie?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(H,Z){const ie=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:se})}};return ie(H)-ie(Z)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const g=n&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new Ao(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new v1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new JE(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new ZE(r))})),n}cu(e){this.Za=e.ks,this.Ya=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const wp="SyncEngine";class k4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class M4{constructor(e){this.key=e,this.hu=!1}}class V4{constructor(e,n,r,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new pa((g=>mE(g)),Mh),this.Iu=new Map,this.Eu=new Set,this.Ru=new St(ye.comparator),this.Au=new Map,this.Vu=new mp,this.du={},this.mu=new Map,this.fu=bo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function L4(s,e,n=!0){const r=rT(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await eT(r,e,n,!0),l}async function j4(s,e){const n=rT(s);await eT(n,e,!0,!1)}async function eT(s,e,n,r){const l=await n4(s.localStore,Yi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let g;return r&&(g=await U4(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&HE(s.remoteStore,l),g}async function U4(s,e,n,r,l){s.pu=(S,O,H)=>(async function(ie,se,_e,Ie){let we=se.view.ru(_e);we.Ss&&(we=await d1(ie.localStore,se.query,!1).then((({documents:N})=>se.view.ru(N,we))));const tt=Ie&&Ie.targetChanges.get(se.targetId),_t=Ie&&Ie.targetMismatches.get(se.targetId)!=null,Ue=se.view.applyChanges(we,ie.isPrimaryClient,tt,_t);return A1(ie,se.targetId,Ue.au),Ue.snapshot})(s,S,O,H);const c=await d1(s.localStore,e,!0),d=new D4(e,c.ks),g=d.ru(c.documents),_=uu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);A1(s,n,y.au);const T=new k4(e,n,d);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function z4(s,e,n){const r=Ce(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Mh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Mm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&_p(r.remoteStore,l.targetId),jm(r,l.targetId)})).catch(No)):(jm(r,l.targetId),await Mm(r.localStore,l.targetId,!0))}async function P4(s,e){const n=Ce(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_p(n.remoteStore,r.targetId))}async function B4(s,e,n){const r=Q4(s);try{const l=await(function(d,g){const _=Ce(d),y=yt.now(),T=g.reduce(((H,Z)=>H.add(Z.key)),Fe());let S,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let Z=Cs(),ie=Fe();return _.xs.getEntries(H,T).next((se=>{Z=se,Z.forEach(((_e,Ie)=>{Ie.isValidDocument()||(ie=ie.add(_e))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,Z))).next((se=>{S=se;const _e=[];for(const Ie of g){const we=tR(Ie,S.get(Ie.key).overlayedDocument);we!=null&&_e.push(new Ir(Ie.key,we,oE(we.value.mapValue),vi.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,_e,g)})).next((se=>{O=se;const _e=se.applyToLocalDocumentSet(S,ie);return _.documentOverlayCache.saveOverlays(H,se.batchId,_e)}))})).then((()=>({batchId:O.batchId,changes:yE(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.du[d.currentUser.toKey()];y||(y=new St(He)),y=y.insert(g,_),d.du[d.currentUser.toKey()]=y})(r,l.batchId,n),await hu(r,l.changes),await Bh(r.remoteStore)}catch(l){const c=Ap(l,"Failed to persist write");n.reject(c)}}async function tT(s,e){const n=Ce(s);try{const r=await JR(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(nt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?nt(d.hu,14607):l.removedDocuments.size>0&&(nt(d.hu,42227),d.hu=!1))})),await hu(n,r,e)}catch(r){await No(r)}}function b1(s,e,n){const r=Ce(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Ce(d);_.onlineState=g;let y=!1;_.queries.forEach(((T,S)=>{for(const O of S.ba)O.va(g)&&(y=!0)})),y&&Sp(_)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function q4(s,e,n){const r=Ce(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new St(ye.comparator);d=d.insert(c,cn.newNoDocument(c,xe.min()));const g=Fe().add(c),_=new Uh(xe.min(),new Map,new St(He),d,g);await tT(r,_),r.Ru=r.Ru.remove(c),r.Au.delete(e),xp(r)}else await Mm(r.localStore,e,!1).then((()=>jm(r,e,n))).catch(No)}async function H4(s,e){const n=Ce(s),r=e.batch.batchId;try{const l=await ZR(n.localStore,e);iT(n,r,null),nT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hu(n,l)}catch(l){await No(l)}}async function F4(s,e,n){const r=Ce(s);try{const l=await(function(d,g){const _=Ce(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(nt(S!==null,37113),T=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);iT(r,e,n),nT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hu(r,l)}catch(l){await No(l)}}function nT(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function iT(s,e,n){const r=Ce(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function jm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||sT(s,r)}))}function sT(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(_p(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),xp(s))}function A1(s,e,n){for(const r of n)r instanceof ZE?(s.Vu.addReference(r.key,e),G4(s,r)):r instanceof JE?(le(wp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||sT(s,r.key)):Te(19791,{wu:r})}function G4(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(le(wp,"New document in limbo: "+n),s.Eu.add(r),xp(s))}function xp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ye(At.fromString(e)),r=s.fu.next();s.Au.set(r,new M4(n)),s.Ru=s.Ru.insert(n,r),HE(s.remoteStore,new gr(Yi(kh(n.path)),r,"TargetPurposeLimboResolution",Ch.ce))}}async function hu(s,e,n){const r=Ce(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){l.push(y);const T=gp.Es(_.targetId,y);c.push(T)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(_,y){const T=Ce(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(y,(O=>W.forEach(O.Ts,(H=>T.persistence.referenceDelegate.addReference(S,O.targetId,H))).next((()=>W.forEach(O.Is,(H=>T.persistence.referenceDelegate.removeReference(S,O.targetId,H)))))))))}catch(S){if(!Co(S))throw S;le(yp,"Failed to update sequence numbers: "+S)}for(const S of y){const O=S.targetId;if(!S.fromCache){const H=T.vs.get(O),Z=H.snapshotVersion,ie=H.withLastLimboFreeSnapshotVersion(Z);T.vs=T.vs.insert(O,ie)}}})(r.localStore,c))}async function K4(s,e){const n=Ce(s);if(!n.currentUser.isEqual(e)){le(wp,"User change. New user:",e.toKey());const r=await zE(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new de($.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hu(n,r.Ns)}}function Y4(s,e){const n=Ce(s),r=n.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let l=Fe();const c=n.Iu.get(e);if(!c)return l;for(const d of c){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function rT(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=tT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q4.bind(null,e),e.Pu.J_=I4.bind(null,e.eventManager),e.Pu.yu=O4.bind(null,e.eventManager),e}function Q4(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F4.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XR(this.persistence,new QR,e.initialUser,this.serializer)}Cu(e){return new UE(pp.Vi,this.serializer)}Du(e){return new s4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class W4 extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof Th,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new kR(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new UE((r=>Th.Vi(r,n)),this.serializer)}}class Um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=K4.bind(null,this.syncEngine),await R4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new C4})()}createDatastore(e){const n=zh(e.databaseInfo.databaseId),r=u4(e.databaseInfo);return m4(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,c,d,g){return new g4(r,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>b1(this.syncEngine,n,0)),(function(){return g1.v()?new g1:new r4})())}createSyncEngine(e,n){return(function(l,c,d,g,_,y,T){const S=new V4(l,c,d,g,_,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ce(n);le(da,"RemoteStore shutting down."),r.Ea.add(5),await cu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};class aT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Nr="FirestoreClient";class $4{constructor(e,n,r,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=un.UNAUTHENTICATED,this.clientId=np.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{le(Nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(le(Nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ap(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function am(s,e){s.asyncQueue.verifyOperationInProgress(),le(Nr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await zE(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function S1(s,e){s.asyncQueue.verifyOperationInProgress();const n=await X4(s);le(Nr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>_1(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>_1(e.remoteStore,l))),s._onlineComponents=e}async function X4(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(Nr,"Using user provided OfflineComponentProvider");try{await am(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await am(s,new Ah)}}else le(Nr,"Using default OfflineComponentProvider"),await am(s,new W4(void 0));return s._offlineComponents}async function oT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(Nr,"Using user provided OnlineComponentProvider"),await S1(s,s._uninitializedComponentsProvider._online)):(le(Nr,"Using default OnlineComponentProvider"),await S1(s,new Um))),s._onlineComponents}function Z4(s){return oT(s).then((e=>e.syncEngine))}async function zm(s){const e=await oT(s),n=e.eventManager;return n.onListen=L4.bind(null,e.syncEngine),n.onUnlisten=z4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=j4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P4.bind(null,e.syncEngine),n}function J4(s,e,n,r){const l=new aT(r),c=new XE(e,l,n);return s.asyncQueue.enqueueAndForget((async()=>WE(await zm(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>$E(await zm(s),c)))}}function eN(s,e,n={}){const r=new Tr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const T=new aT({next:O=>{T.Nu(),d.enqueueAndForget((()=>$E(c,S)));const H=O.docs.has(g);!H&&O.fromCache?y.reject(new de($.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&O.fromCache&&_&&_.source==="server"?y.reject(new de($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),S=new XE(kh(g.path),T,{includeMetadataChanges:!0,Ka:!0});return WE(c,S)})(await zm(s),s.asyncQueue,e,n,r))),r.promise}function tN(s,e){const n=new Tr;return s.asyncQueue.enqueueAndForget((async()=>B4(await Z4(s),e,n))),n.promise}function lT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const nN="ComponentProvider",w1=new Map;function iN(s,e,n,r,l){return new bx(s,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,lT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const uT="firestore.googleapis.com",x1=!0;class R1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uT,this.ssl=x1}else this.host=e.host,this.ssl=e.ssl??x1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OR)throw new de($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rp{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ex;switch(r.type){case"firstParty":return new sx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=w1.get(n);r&&(le(nN,"Removing Datastore"),w1.delete(n),r.terminate())})(this),Promise.resolve()}}function sN(s,e,n,r={}){s=_i(s,Rp);const l=So(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${n}`;l&&(sv(`https://${g}`),rv("Firestore",!0)),c.host!==uT&&c.host!==g&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:r};if(!br(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=un.MOCK_USER;else{y=b2(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new de($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new un(S)}s._authCredentials=new tx(new $v(y,T))}}class qh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qh(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ou(n,qt._jsonSchema))return new qt(e,r||null,new ye(At.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Bt("string",qt._jsonSchemaVersion),referencePath:Bt("string")};class Xl extends qh{constructor(e,n,r){super(e,n,kh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new ye(e))}withConverter(e){return new Xl(this.firestore,e,this._path)}}function An(s,e,...n){if(s=pn(s),arguments.length===1&&(e=np.newId()),cx("doc","path",e),s instanceof Rp){const r=At.fromString(e,...n);return B_(r),new qt(s,null,new ye(r))}{if(!(s instanceof qt||s instanceof Xl))throw new de($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(At.fromString(e,...n));return B_(r),new qt(s.firestore,s instanceof Xl?s.converter:null,new ye(r))}}const N1="AsyncQueue";class C1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BE(this,"async_queue_retry"),this._c=()=>{const r=rm();r&&le(N1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Co(e))throw e;le(N1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",I1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=bp.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Te(47125,{Pc:I1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function I1(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ma extends Rp{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new C1,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C1(e),this._firestoreClient=void 0,await e}}}function rN(s,e){const n=typeof s=="object"?s:uv(),r=typeof s=="string"?s:mh,l=Km(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=E2("firestore");c&&sN(l,...c)}return l}function Np(s){if(s._terminated)throw new de($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||aN(s),s._firestoreClient}function aN(s){const e=s._freezeSettings(),n=iN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new $4(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(rn.fromBase64String(e))}catch(n){throw new de($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ni(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Bt("string",ni._jsonSchemaVersion),bytes:Bt("string")};class Cp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hh{constructor(e){this._methodName=e}}class Wi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(e){if(ou(e,Wi._jsonSchema))return new Wi(e.latitude,e.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:Bt("string",Wi._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class Ei{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ei(e.vectorValues);throw new de($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:Bt("string",Ei._jsonSchemaVersion),vectorValues:Bt("object")};const oN=/^__.*__$/;class lN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms):new lu(e,this.data,n,this.fieldTransforms)}}class cT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:s})}}class Fh{constructor(e,n,r,l,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Fh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Sh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(hT(this.dataSource)&&oN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class uN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zh(e)}createContext(e,n,r,l=!1){return new Fh({dataSource:e,methodName:n,targetDoc:r,path:sn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fT(s){const e=s._freezeSettings(),n=zh(s._databaseId);return new uN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function cN(s,e,n,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,n,l);Op("Data must be an object, but it was:",d,r);const g=dT(r,d);let _,y;if(c.merge)_=new zn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const O=Zl(e,S,n);if(!d.contains(O))throw new de($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);gT(T,O)||T.push(O)}_=new zn(T),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new lN(new Nn(g),_,y)}class Gh extends Hh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gh}}function hN(s,e,n){return new Fh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ip extends Hh{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=hN(this,e,!0),r=this.Ac.map((c=>fu(c,n))),l=new To(r);return new Xx(e.path,l)}isEqual(e){return e instanceof Ip&&br(this.Ac,e.Ac)}}function fN(s,e,n,r){const l=s.createContext(1,e,n);Op("Data must be an object, but it was:",l,r);const c=[],d=Nn.empty();Cr(r,((_,y)=>{const T=pT(e,_,n);y=pn(y);const S=l.childContextForFieldPath(T);if(y instanceof Gh)c.push(T);else{const O=fu(y,S);O!=null&&(c.push(T),d.set(T,O))}}));const g=new zn(c);return new cT(d,g,l.fieldTransforms)}function dN(s,e,n,r,l,c){const d=s.createContext(1,e,n),g=[Zl(e,r,n)],_=[l];if(c.length%2!=0)throw new de($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(Zl(e,c[O])),_.push(c[O+1]);const y=[],T=Nn.empty();for(let O=g.length-1;O>=0;--O)if(!gT(y,g[O])){const H=g[O];let Z=_[O];Z=pn(Z);const ie=d.childContextForFieldPath(H);if(Z instanceof Gh)y.push(H);else{const se=fu(Z,ie);se!=null&&(y.push(H),T.set(H,se))}}const S=new zn(y);return new cT(T,S,d.fieldTransforms)}function fu(s,e){if(mT(s=pn(s)))return Op("Unsupported field value:",e,s),dT(s,e);if(s instanceof Hh)return(function(r,l){if(!hT(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let _=fu(g,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=pn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Qx(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=yt.fromDate(r);return{timestampValue:Eh(l.serializer,c)}}if(r instanceof yt){const c=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Eh(l.serializer,c)}}if(r instanceof Wi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ni)return{bytesValue:CE(l.serializer,r._byteString)};if(r instanceof qt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:dp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ei)return(function(d,g){const _=d instanceof Ei?d.toArray():d;return{mapValue:{fields:{[rE]:{stringValue:aE},[ph]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return up(g.serializer,T)}))}}}}}})(r,l);if(LE(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${ip(r)}`)})(s,e)}function dT(s,e){const n={};return Jv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cr(s,((r,l)=>{const c=fu(l,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function mT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof yt||s instanceof Wi||s instanceof ni||s instanceof qt||s instanceof Hh||s instanceof Ei||LE(s))}function Op(s,e,n){if(!mT(n)||!Xv(n)){const r=ip(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Zl(s,e,n){if((e=pn(e))instanceof Cp)return e._internalPath;if(typeof e=="string")return pT(s,e);throw Sh("Field path arguments must be of type string or ",s,!1,void 0,n)}const mN=new RegExp("[~\\*/\\[\\]]");function pT(s,e,n){if(e.search(mN)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Cp(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Sh(s,e,n,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new de($.INVALID_ARGUMENT,g+s+_)}function gT(s,e){return s.some((n=>n.isEqual(e)))}class pN{convertValue(e,n="none"){switch(xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cr(e,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[ph].arrayValue?.values?.map((r=>Ot(r.doubleValue)));return new Ei(n)}convertGeoPoint(e){return new Wi(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Oh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=Sr(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=At.fromString(e);nt(VE(r),9688,{name:e});const l=new Ql(r.get(1),r.get(3)),c=new ye(r.popFirst(5));return l.isEqual(n)||Ns(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class yT extends pN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function vs(...s){return new Ip("arrayUnion",s)}const O1="@firebase/firestore",D1="4.10.0";function k1(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class _T{constructor(e,n,r,l,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Zl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gN extends _T{data(){return super.data()}}function yN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function _N(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends _T{constructor(e,n,r,l,c,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ua._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:Bt("string",ua._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class ih extends ua{data(e={}){return super.data(e)}}class po{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new jl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ih(this._firestore,this._userDataWriter,r.key,r,new jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new ih(l._firestore,l._userDataWriter,g.doc.key,g.doc,new jl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new ih(l._firestore,l._userDataWriter,g.doc.key,g.doc,new jl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:vN(g.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=np.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:Bt("string",po._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};function EN(s){s=_i(s,qt);const e=_i(s.firestore,ma),n=Np(e);return eN(n,s._key).then((r=>vT(e,s,r)))}function TN(s,e,n){s=_i(s,qt);const r=_i(s.firestore,ma),l=_N(s.converter,e),c=fT(r);return Dp(r,[cN(c,"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,vi.none())])}function gi(s,e,n,...r){s=_i(s,qt);const l=_i(s.firestore,ma),c=fT(l);let d;return d=typeof(e=pn(e))=="string"||e instanceof Cp?dN(c,"updateDoc",s._key,e,n,r):fN(c,"updateDoc",s._key,e),Dp(l,[d.toMutation(s._key,vi.exists(!0))])}function bN(s){return Dp(_i(s.firestore,ma),[new cp(s._key,vi.none())])}function M1(s,...e){s=pn(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||k1(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(k1(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof qt)d=_i(s.firestore,ma),g=kh(s._key.path),c={next:y=>{e[r]&&e[r](vT(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=_i(s,qh);d=_i(y.firestore,ma),g=y._query;const T=new yT(d);c={next:S=>{e[r]&&e[r](new po(d,T,y,S))},error:e[r+1],complete:e[r+2]},yN(s._query)}const _=Np(d);return J4(_,g,l,c)}function Dp(s,e){const n=Np(s);return tN(n,e)}function vT(s,e,n){const r=n.docs.get(e._key),l=new yT(s);return new ua(s,l,e._key,r,new jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){Jw(wo),go(new ca("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new ma(new nx(r.getProvider("auth-internal")),new rx(d,r.getProvider("app-check-internal")),Ax(d,l),d);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),vr(O1,D1,e),vr(O1,D1,"esm2020")})();const ET=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const AN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const SN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const V1=s=>{const e=SN(s);return e.charAt(0).toUpperCase()+e.slice(1)};var wN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xN=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const RN=We.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},_)=>We.createElement("svg",{ref:_,...wN,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:ET("lucide",l),...!c&&!xN(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,T])=>We.createElement(y,T)),...Array.isArray(c)?c:[c]]));const ge=(s,e)=>{const n=We.forwardRef(({className:r,...l},c)=>We.createElement(RN,{ref:c,iconNode:e,className:ET(`lucide-${AN(V1(s))}`,`lucide-${s}`,r),...l}));return n.displayName=V1(s),n};const NN=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],CN=ge("arrow-up",NN);const IN=[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]],kl=ge("bird",IN);const ON=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],om=ge("book-open",ON);const DN=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],kN=ge("bug",DN);const MN=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],Fc=ge("cat",MN);const VN=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],TT=ge("chart-no-axes-column",VN);const LN=[["path",{d:"M5 20a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1z",key:"b89hwq"}],["path",{d:"M15 18c1.5-.615 3-2.461 3-4.923C18 8.769 14.5 4.462 12 2 9.5 4.462 6 8.77 6 13.077 6 15.539 7.5 17.385 9 18",key:"8jdkhx"}],["path",{d:"m16 7-2.5 2.5",key:"1jq90w"}],["path",{d:"M9 2h6",key:"1jrp98"}]],jN=ge("chess-bishop",LN);const UN=[["path",{d:"M5 20a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1z",key:"b89hwq"}],["path",{d:"M16.5 18c1-2 2.5-5 2.5-9a7 7 0 0 0-7-7H6.635a1 1 0 0 0-.768 1.64L7 5l-2.32 5.802a2 2 0 0 0 .95 2.526l2.87 1.456",key:"axbnlq"}],["path",{d:"m15 5 1.425-1.425",key:"15xz8w"}],["path",{d:"m17 8 1.53-1.53",key:"15zhqh"}],["path",{d:"M9.713 12.185 7 18",key:"1ocm0l"}]],zN=ge("chess-knight",UN);const PN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pm=ge("circle-check-big",PN);const BN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],L1=ge("circle",BN);const qN=[["path",{d:"M16.17 7.83 2 22",key:"t58vo8"}],["path",{d:"M4.02 12a2.827 2.827 0 1 1 3.81-4.17A2.827 2.827 0 1 1 12 4.02a2.827 2.827 0 1 1 4.17 3.81A2.827 2.827 0 1 1 19.98 12a2.827 2.827 0 1 1-3.81 4.17A2.827 2.827 0 1 1 12 19.98a2.827 2.827 0 1 1-4.17-3.81A1 1 0 1 1 4 12",key:"17k36q"}],["path",{d:"m7.83 7.83 8.34 8.34",key:"1d7sxk"}]],HN=ge("clover",qN);const FN=[["path",{d:"m20.9 18.55-8-15.98a1 1 0 0 0-1.8 0l-8 15.98",key:"53pte7"}],["ellipse",{cx:"12",cy:"19",rx:"9",ry:"3",key:"1ji25f"}]],GN=ge("cone",FN);const KN=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],YN=ge("copy",KN);const QN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Bm=ge("crown",QN);const WN=[["path",{d:"m21.12 6.4-6.05-4.06a2 2 0 0 0-2.17-.05L2.95 8.41a2 2 0 0 0-.95 1.7v5.82a2 2 0 0 0 .88 1.66l6.05 4.07a2 2 0 0 0 2.17.05l9.95-6.12a2 2 0 0 0 .95-1.7V8.06a2 2 0 0 0-.88-1.66Z",key:"1u2ovd"}],["path",{d:"M10 22v-8L2.25 9.15",key:"11pn4q"}],["path",{d:"m10 14 11.77-6.87",key:"1kt1wh"}]],$N=ge("cuboid",WN);const XN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5v14a9 3 0 0 0 18 0V5",key:"aqi0yr"}]],ZN=ge("cylinder",XN);const JN=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],eC=ge("dog",JN);const tC=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],nC=ge("droplet",tC);const iC=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sC=ge("earth",iC);const rC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sh=ge("eye",rC);const aC=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],oC=ge("feather",aC);const lC=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],uC=ge("fish",lC);const cC=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],hC=ge("flame",cC);const fC=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],dC=ge("flower",fC);const mC=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],pC=ge("footprints",mC);const gC=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],yC=ge("ghost",gC);const _C=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],vC=ge("hammer",_C);const EC=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],Jl=ge("hexagon",EC);const TC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],bC=ge("history",TC);const AC=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],SC=ge("leaf",AC);const wC=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],xC=ge("loader",wC);const RC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],j1=ge("log-out",RC);const NC=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],CC=ge("moon",NC);const IC=[["path",{d:"M12 12V4a1 1 0 0 1 1-1h6.297a1 1 0 0 1 .651 1.759l-4.696 4.025",key:"1bx4vc"}],["path",{d:"m12 21-7.414-7.414A2 2 0 0 1 4 12.172V6.415a1.002 1.002 0 0 1 1.707-.707L20 20.009",key:"1h3km6"}],["path",{d:"m12.214 3.381 8.414 14.966a1 1 0 0 1-.167 1.199l-1.168 1.163a1 1 0 0 1-.706.291H6.351a1 1 0 0 1-.625-.219L3.25 18.8a1 1 0 0 1 .631-1.781l4.165.027",key:"1hj4wg"}]],U1=ge("origami",IC);const OC=[["path",{d:"M11.25 17.25h1.5L12 18z",key:"1wmwwj"}],["path",{d:"m15 12 2 2",key:"k60wz4"}],["path",{d:"M18 6.5a.5.5 0 0 0-.5-.5",key:"1ch4h4"}],["path",{d:"M20.69 9.67a4.5 4.5 0 1 0-7.04-5.5 8.35 8.35 0 0 0-3.3 0 4.5 4.5 0 1 0-7.04 5.5C2.49 11.2 2 12.88 2 14.5 2 19.47 6.48 22 12 22s10-2.53 10-7.5c0-1.62-.48-3.3-1.3-4.83",key:"1c660l"}],["path",{d:"M6 6.5a.495.495 0 0 1 .5-.5",key:"eviuep"}],["path",{d:"m9 12-2 2",key:"326nkw"}]],z1=ge("panda",OC);const DC=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],qm=ge("paw-print",DC);const kC=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],MC=ge("piggy-bank",kC);const VC=[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]],P1=ge("rabbit",VC);const LC=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],lm=ge("rat",LC);const jC=[["path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44",key:"1cn552"}]],UC=ge("shell",jC);const zC=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],bT=ge("skip-forward",zC);const PC=[["path",{d:"M2 13a6 6 0 1 0 12 0 4 4 0 1 0-8 0 2 2 0 0 0 4 0",key:"hneq2s"}],["circle",{cx:"10",cy:"13",r:"8",key:"194lz3"}],["path",{d:"M2 21h12c4.4 0 8-3.6 8-8V7a2 2 0 1 0-4 0v6",key:"ixqyt7"}],["path",{d:"M18 3 19.1 5.2",key:"9tjm43"}],["path",{d:"M22 3 20.9 5.2",key:"j3odrs"}]],B1=ge("snail",PC);const BC=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],q1=ge("snowflake",BC);const qC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],um=ge("sparkles",qC);const HC=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],FC=ge("sprout",HC);const GC=[["path",{d:"M15.236 22a3 3 0 0 0-2.2-5",key:"21bitc"}],["path",{d:"M16 20a3 3 0 0 1 3-3h1a2 2 0 0 0 2-2v-2a4 4 0 0 0-4-4V4",key:"oh0fg0"}],["path",{d:"M18 13h.01",key:"9veqaj"}],["path",{d:"M18 6a4 4 0 0 0-4 4 7 7 0 0 0-7 7c0-5 4-5 4-10.5a4.5 4.5 0 1 0-9 0 2.5 2.5 0 0 0 5 0C7 10 3 11 3 17c0 2.8 2.2 5 5 5h10",key:"980v8a"}]],H1=ge("squirrel",GC);const KC=[["path",{d:"M11.264 2.205A4 4 0 0 0 6.42 4.211l-4 8a4 4 0 0 0 1.359 5.117l6 4a4 4 0 0 0 4.438 0l6-4a4 4 0 0 0 1.576-4.592l-2-6a4 4 0 0 0-2.53-2.53z",key:"1si4ox"}],["path",{d:"M11.99 22 14 12l7.822 3.184",key:"1u8to0"}],["path",{d:"M14 12 8.47 2.302",key:"guo3d5"}]],YC=ge("stone",KC);const QC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],WC=ge("target",QC);const $C=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],F1=ge("trash-2",$C);const XC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cm=ge("triangle-alert",XC);const ZC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],JC=ge("trophy",ZC);const eI=[["path",{d:"m12 10 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a8 8 0 1 0-16 0v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3l2-4h4Z",key:"1lbbv7"}],["path",{d:"M4.82 7.9 8 10",key:"m9wose"}],["path",{d:"M15.18 7.9 12 10",key:"p8dp2u"}],["path",{d:"M16.93 10H20a2 2 0 0 1 0 4H2",key:"12nsm7"}]],tI=ge("turtle",eI);const nI=[["path",{d:"m19 12-1.5 3",key:"9bcu4o"}],["path",{d:"M19.63 18.81 22 20",key:"121v98"}],["path",{d:"M6.47 8.23a1.68 1.68 0 0 1 2.44 1.93l-.64 2.08a6.76 6.76 0 0 0 10.16 7.67l.42-.27a1 1 0 1 0-2.73-4.21l-.42.27a1.76 1.76 0 0 1-2.63-1.99l.64-2.08A6.66 6.66 0 0 0 3.94 3.9l-.7.4a1 1 0 1 0 2.55 4.34z",key:"1tij6q"}]],G1=ge("worm",nI);const iI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kp=ge("x",iI),sI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:31b2942ce74b65c66aa637"},AT=lv(sI),hm=Xw(AT),Sn=rN(AT),Un=typeof __app_id<"u"?__app_id:"equilibrium-game",rI="9",Gc=()=>E.jsx("style",{children:`
    .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); border-radius: 4px; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(16, 185, 129, 0.3); border-radius: 4px; }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(16, 185, 129, 0.6); }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(10deg); }
    }
    .animate-float { animation: float infinite ease-in-out; }
    
    @keyframes spin-slow {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    .animate-spin-slow { animation: spin-slow 12s linear infinite; }

    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    
    .mask-gradient-right { mask-image: linear-gradient(to right, black 85%, transparent 100%); }
  `}),Kc=({isShaking:s})=>E.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${s?"animate-shake bg-red-900/20":""}`,children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-yellow-900/20 via-gray-950 to-black"}),E.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((e,n)=>{const r=Object.keys($i),l=$i[r[n%r.length]].icon;return E.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:E.jsx(l,{size:32})},n)})}),E.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),$i={WOOD:{id:"WOOD",color:"bg-amber-800",border:"border-amber-950",icon:ZN,name:"Log",validOn:["EMPTY","WOOD"],scoreType:"TREE"},LEAF:{id:"LEAF",color:"bg-emerald-500",border:"border-emerald-700",icon:SC,name:"Foliage",validOn:["EMPTY","WOOD"],scoreType:"TREE"},STONE:{id:"STONE",color:"bg-slate-400",border:"border-slate-600",icon:YC,name:"Stone",validOn:["EMPTY","STONE"],scoreType:"MOUNTAIN"},WATER:{id:"WATER",color:"bg-cyan-500",border:"border-cyan-700",icon:nC,name:"Water",validOn:["EMPTY"],scoreType:"RIVER"},SAND:{id:"SAND",color:"bg-yellow-400",border:"border-yellow-600",icon:FC,name:"Sand",validOn:["EMPTY"],scoreType:"FIELD"},BRICK:{id:"BRICK",color:"bg-red-700",border:"border-red-900",icon:$N,name:"Brick",validOn:["EMPTY","BRICK","STONE","WOOD"],scoreType:"BUILDING"}},Ft=(s,e)=>[{q:s+1,r:e},{q:s+1,r:e-1},{q:s,r:e-1},{q:s-1,r:e},{q:s-1,r:e+1},{q:s,r:e+1}],oa=s=>{if(!s||s.stack.length!==2)return!1;const e=s.stack[1],n=s.stack[0];return e==="BRICK"&&["BRICK","STONE","WOOD"].includes(n)},Ee=(s,e)=>!s||s.stack.length!==e.length?!1:s.stack.every((n,r)=>n===e[r]),wn=(s,e,n,r)=>Ft(e,n).some(c=>{const d=s[`${c.q},${c.r}`];return d&&r(d)}),aI=[{q:1,r:0},{q:1,r:-1},{q:0,r:-1},{q:-1,r:0},{q:-1,r:1},{q:0,r:1}],xn=(s,e,n,r)=>aI.some(l=>r.every((c,d)=>{const g=e+l.q*(d+1),_=n+l.r*(d+1),y=s[`${g},${_}`];return y&&c(y)})),Es={SQUIRREL:{id:"SQUIRREL",name:"Squirrel",desc:"Small Tree (1 Log + Leaf)",points:[2,2,2],slots:3,icon:H1,iconColor:"text-orange-500",visual:{type:"stack",tokens:["WOOD","LEAF"]},check:s=>Ee(s,["WOOD","LEAF"])},LIZARD:{id:"LIZARD",name:"Lizard",desc:"Small Rock (Stone) next to Bush (Leaf)",points:[2,2,2],slots:3,icon:lm,iconColor:"text-emerald-400",visual:{type:"adj",main:["STONE"],others:[["LEAF"]]},check:(s,e)=>Ee(s,["STONE"])&&wn(e,s.q,s.r,n=>Ee(n,["LEAF"]))},SNAIL:{id:"SNAIL",name:"Snail",desc:"Small Rock (Stone) next to Water",points:[2,2,2],slots:3,icon:B1,iconColor:"text-lime-300",visual:{type:"adj",main:["STONE"],others:[["WATER"]]},check:(s,e)=>Ee(s,["STONE"])&&wn(e,s.q,s.r,n=>n.stack[0]==="WATER")},HERON:{id:"HERON",name:"Heron",desc:"Water next to Bush (Leaf)",points:[2,2,2],slots:3,icon:kl,iconColor:"text-cyan-300",visual:{type:"adj",main:["WATER"],others:[["LEAF"]]},check:(s,e)=>s.stack[0]==="WATER"&&wn(e,s.q,s.r,n=>Ee(n,["LEAF"]))},DUCK:{id:"DUCK",name:"Duck",desc:"Water next to Wood (Log)",points:[2,2,2],slots:3,icon:U1,iconColor:"text-green-600",visual:{type:"adj",main:["WATER"],others:[["WOOD"]]},check:(s,e)=>s.stack[0]==="WATER"&&wn(e,s.q,s.r,n=>Ee(n,["WOOD"]))},HAWK:{id:"HAWK",name:"Hawk",desc:"Dead Tree (3 Logs)",points:[3,4],slots:2,icon:kl,iconColor:"text-red-700",visual:{type:"stack",tokens:["WOOD","WOOD","WOOD"]},check:s=>Ee(s,["WOOD","WOOD","WOOD"])},EAGLE:{id:"EAGLE",name:"Eagle",desc:"Highest Peak (3 Stone)",points:[3,4],slots:2,icon:WC,iconColor:"text-sky-600",visual:{type:"stack",tokens:["STONE","STONE","STONE"]},check:s=>Ee(s,["STONE","STONE","STONE"])},FROG:{id:"FROG",name:"Frog",desc:"Bush (Leaf) next to Water",points:[2,2,2,3],slots:4,icon:HN,iconColor:"text-lime-500",visual:{type:"adj",main:["LEAF"],others:[["WATER"]]},check:(s,e)=>Ee(s,["LEAF"])&&wn(e,s.q,s.r,n=>n.stack[0]==="WATER")},BEAVER:{id:"BEAVER",name:"Beaver",desc:"Log next to Water AND Tree",points:[4,5],slots:2,icon:lm,iconColor:"text-amber-800",visual:{type:"adj",main:["WOOD"],others:[["WATER"],["WOOD","LEAF"]]},check:(s,e)=>{if(!Ee(s,["WOOD"]))return!1;const n=Ft(s.q,s.r).map(c=>e[`${c.q},${c.r}`]),r=n.some(c=>c&&c.stack[0]==="WATER"),l=n.some(c=>c&&Ee(c,["WOOD","LEAF"]));return r&&l}},TURTLE:{id:"TURTLE",name:"Turtle",desc:"Water next to Field AND Stone",points:[3,3],slots:2,icon:tI,iconColor:"text-teal-600",visual:{type:"adj",main:["WATER"],others:[["SAND"],["STONE"]]},check:(s,e)=>{if(s.stack[0]!=="WATER")return!1;const n=Ft(s.q,s.r).map(r=>e[`${r.q},${r.r}`]);return n.some(r=>r?.stack[0]==="SAND")&&n.some(r=>r?.stack[0]==="STONE")}},HEDGEHOG:{id:"HEDGEHOG",name:"Hedgehog",desc:"Field next to Wood(1 Log) AND Bush(1 Leaf)",points:[3,4],slots:2,icon:P1,iconColor:"text-blue-600",visual:{type:"adj",main:["SAND"],others:[["LEAF"],["WOOD"]]},check:(s,e)=>{if(s.stack[0]!=="SAND")return!1;const n=Ft(s.q,s.r).map(r=>e[`${r.q},${r.r}`]);return n.some(r=>r?.stack[0]==="LEAF")&&n.some(r=>r?.stack[0]==="WOOD")}},SHELL:{id:"SHELL",name:"Shell",desc:"Sand next to Water AND Stone",points:[3,3],slots:2,icon:UC,iconColor:"text-red-600",visual:{type:"adj",main:["SAND"],others:[["WATER"],["STONE"]]},check:(s,e)=>{if(s.stack[0]!=="SAND")return!1;const n=Ft(s.q,s.r).map(r=>e[`${r.q},${r.r}`]);return n.some(r=>r?.stack[0]==="WATER")&&n.some(r=>r?.stack[0]==="STONE")}},BOAR:{id:"BOAR",name:"Boar",desc:"Field next to Water AND Tree",points:[4,4,5],slots:3,icon:MC,iconColor:"text-amber-900",visual:{type:"adj",main:["SAND"],others:[["WATER"],["WOOD","LEAF"]]},check:(s,e)=>{if(s.stack[0]!=="SAND")return!1;const n=Ft(s.q,s.r).map(r=>e[`${r.q},${r.r}`]);return n.some(r=>r?.stack[0]==="WATER")&&n.some(r=>r&&Ee(r,["WOOD","LEAF"]))}},ANTS:{id:"ANTS",name:"Ants",desc:"Field next to Bush(1 Leaf) AND Tree",points:[4,4,5],slots:3,icon:kN,iconColor:"text-amber-600",visual:{type:"adj",main:["SAND"],others:[["LEAF"],["WOOD","LEAF"]]},check:(s,e)=>{if(s.stack[0]!=="SAND")return!1;const n=Ft(s.q,s.r).map(r=>e[`${r.q},${r.r}`]);return n.some(r=>r?.stack[0]==="LEAF")&&n.some(r=>r&&Ee(r,["WOOD","LEAF"]))}},FOX:{id:"FOX",name:"Fox",desc:"Medium Rock (2 Stone) next to Medium Wood (2 Log)",points:[4,5],slots:2,icon:Fc,iconColor:"text-orange-600",visual:{type:"adj",main:["STONE","STONE"],others:[["WOOD","WOOD"]]},check:(s,e)=>Ee(s,["STONE","STONE"])&&wn(e,s.q,s.r,n=>Ee(n,["WOOD","WOOD"]))},DEER:{id:"DEER",name:"Deer",desc:"Tall Tree (2 Log+Leaf) next to Field",points:[4,5,5],slots:3,icon:eC,iconColor:"text-amber-600",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["SAND"]]},check:(s,e)=>Ee(s,["WOOD","WOOD","LEAF"])&&wn(e,s.q,s.r,n=>n.stack[0]==="SAND")},BEAR:{id:"BEAR",name:"Bear",desc:"Tall Tree (2 Log+Leaf) next to Mountain (2+ Stone)",points:[5,6],slots:2,icon:z1,iconColor:"text-amber-800",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["STONE","STONE"]]},check:(s,e)=>Ee(s,["WOOD","WOOD","LEAF"])&&wn(e,s.q,s.r,n=>n.stack.length>=2&&n.stack[0]==="STONE")},PANDA:{id:"PANDA",name:"Panda",desc:"Tall Tree (2 Log+Leaf) next to Water",points:[5,5],slots:2,icon:z1,iconColor:"text-red-300",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["WATER"]]},check:(s,e)=>Ee(s,["WOOD","WOOD","LEAF"])&&wn(e,s.q,s.r,n=>n.stack[0]==="WATER")},SCORPION:{id:"SCORPION",name:"Scorpion",desc:"Medium Rock (2 Stone) next to Field",points:[3,3,3],slots:3,icon:B1,iconColor:"text-rose-600",visual:{type:"adj",main:["STONE","STONE"],others:[["SAND"]]},check:(s,e)=>Ee(s,["STONE","STONE"])&&wn(e,s.q,s.r,n=>n.stack[0]==="SAND")},BEE:{id:"BEE",name:"Bee",desc:"Bush (Leaf) next to 2 other Bushes",points:[2,3,3],slots:3,icon:dC,iconColor:"text-yellow-400",visual:{type:"adj",main:["LEAF"],others:[["LEAF"],["LEAF"]]},check:(s,e)=>{if(!Ee(s,["LEAF"]))return!1;let n=0;return Ft(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&Ee(l,["LEAF"])&&n++}),n>=2}},WOLF:{id:"WOLF",name:"Wolf",desc:"Tree (1 Log+Leaf) next to 2 other Trees",points:[6,7],slots:2,icon:CC,iconColor:"text-orange-500",visual:{type:"adj",main:["WOOD","LEAF"],others:[["WOOD","LEAF"],["WOOD","LEAF"]]},check:(s,e)=>{if(!Ee(s,["WOOD","LEAF"]))return!1;let n=0;return Ft(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&Ee(l,["WOOD","LEAF"])&&n++}),n>=2}},SALMON:{id:"SALMON",name:"Salmon",desc:"Water next to 2 other Water tiles",points:[3,3,3],slots:3,icon:uC,iconColor:"text-rose-400",visual:{type:"adj",main:["WATER"],others:[["WATER"],["WATER"]]},check:(s,e)=>{if(s.stack[0]!=="WATER")return!1;let n=0;return Ft(s.q,s.r).forEach(r=>{e[`${r.q},${r.r}`]?.stack[0]==="WATER"&&n++}),n>=2}},RABBIT:{id:"RABBIT",name:"Rabbit",desc:"Field next to 2 Bushes",points:[3,4,4,4],slots:4,icon:P1,iconColor:"text-fuchsia-300",visual:{type:"adj",main:["SAND"],others:[["LEAF"],["LEAF"]]},check:(s,e)=>{if(s.stack[0]!=="SAND")return!1;let n=0;return Ft(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&Ee(l,["LEAF"])&&n++}),n>=2}},PENGUIN:{id:"PENGUIN",name:"Penguin",desc:"Stone next to 2 Water tiles",points:[3,3,4,4],slots:4,icon:kl,iconColor:"text-cyan-300",visual:{type:"adj",main:["STONE"],others:[["WATER"],["WATER"]]},check:(s,e)=>{if(s.stack[0]!=="STONE")return!1;let n=0;return Ft(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&Ee(l,["WATER"])&&n++}),n>=2}},MOLE:{id:"MOLE",name:"Mole",desc:"Stone next to 2 Fields",points:[3,3,4,4],slots:4,icon:lm,iconColor:"text-amber-700",visual:{type:"adj",main:["STONE"],others:[["SAND"],["SAND"]]},check:(s,e)=>{if(s.stack[0]!=="STONE")return!1;let n=0;return Ft(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&Ee(l,["SAND"])&&n++}),n>=2}},BAT:{id:"BAT",name:"Bat",desc:"Building next to Water",points:[4,4,5],slots:3,icon:yC,iconColor:"text-violet-400",visual:{type:"adj",main:["BRICK","BRICK"],others:[["WATER"]]},check:(s,e)=>oa(s)&&wn(e,s.q,s.r,n=>n.stack[0]==="WATER")},CAT:{id:"CAT",name:"Cat",desc:"Building next to 2 Fields",points:[5,6],slots:2,icon:Fc,iconColor:"text-yellow-600",visual:{type:"adj",main:["BRICK","BRICK"],others:[["SAND"],["SAND"]]},check:(s,e)=>{if(!oa(s))return!1;let n=0;return Ft(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&l.stack[0]==="SAND"&&n++}),n>=2}},OWL:{id:"OWL",name:"Owl",desc:"Tall Tree (2 Log+Leaf) next to Building",points:[6,7],slots:2,icon:sh,iconColor:"text-indigo-400",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["BRICK","BRICK"]]},check:(s,e)=>Ee(s,["WOOD","WOOD","LEAF"])&&wn(e,s.q,s.r,n=>oa(n))},SPIDER:{id:"SPIDER",name:"Spider",desc:"Dead Tree (3 Log) next to Building",points:[6,6],slots:2,icon:q1,iconColor:"text-red-900",visual:{type:"adj",main:["WOOD","WOOD","WOOD"],others:[["BRICK","BRICK"]]},check:(s,e)=>Ee(s,["WOOD","WOOD","WOOD"])&&wn(e,s.q,s.r,n=>oa(n))},CATERPILLAR:{id:"CATERPILLAR",name:"Caterpillar",desc:"Line: Leaf -> Leaf -> Leaf",points:[3,3,3],slots:3,icon:G1,iconColor:"text-lime-600",visual:{type:"line",sequence:[["LEAF"],["LEAF"],["LEAF"]]},check:(s,e)=>Ee(s,["LEAF"])?xn(e,s.q,s.r,[n=>Ee(n,["LEAF"]),n=>Ee(n,["LEAF"])]):!1},SNAKE:{id:"SNAKE",name:"Snake",desc:"Line: Bush -> Bush -> Stone",points:[3,4],slots:2,icon:G1,iconColor:"text-emerald-500",visual:{type:"line",sequence:[["LEAF"],["LEAF"],["STONE"]]},check:(s,e)=>Ee(s,["LEAF"])?xn(e,s.q,s.r,[n=>Ee(n,["LEAF"]),n=>n.stack[0]==="STONE"]):!1},CAMEL:{id:"CAMEL",name:"Camel",desc:"Line: Sand -> Sand -> Stone",points:[3,4],slots:2,icon:hC,iconColor:"text-amber-400",visual:{type:"line",sequence:[["SAND"],["SAND"],["STONE"]]},check:(s,e)=>s.stack[0]!=="SAND"?!1:xn(e,s.q,s.r,[n=>n.stack[0]==="SAND",n=>n.stack[0]==="STONE"])},RHINO:{id:"RHINO",name:"Rhino",desc:"Line: Stone -> Stone -> Field",points:[3,4],slots:2,icon:GN,iconColor:"text-stone-400",visual:{type:"line",sequence:[["STONE"],["STONE"],["SAND"]]},check:(s,e)=>s.stack[0]!=="STONE"?!1:xn(e,s.q,s.r,[n=>n.stack[0]==="STONE",n=>n.stack[0]==="SAND"])},SWAN:{id:"SWAN",name:"Swan",desc:"Line: Water -> Water -> Leaf",points:[3,4],slots:2,icon:U1,iconColor:"text-pink-400",visual:{type:"line",sequence:[["WATER"],["WATER"],["LEAF"]]},check:(s,e)=>s.stack[0]!=="WATER"?!1:xn(e,s.q,s.r,[n=>n.stack[0]==="WATER",n=>Ee(n,["LEAF"])])},CRANE:{id:"CRANE",name:"Crane",desc:"Line: Water -> Log -> Water",points:[3,3],slots:2,icon:kl,iconColor:"text-red-400",visual:{type:"line",sequence:[["WATER"],["WOOD"],["WATER"]]},check:(s,e)=>s.stack[0]!=="WATER"?!1:xn(e,s.q,s.r,[n=>Ee(n,["WOOD"]),n=>n.stack[0]==="WATER"])},OCTOPUS:{id:"OCTOPUS",name:"Octopus",desc:"Line: Water -> Stone -> Water",points:[3,3],slots:2,icon:q1,iconColor:"text-indigo-600",visual:{type:"line",sequence:[["WATER"],["STONE"],["WATER"]]},check:(s,e)=>s.stack[0]!=="WATER"?!1:xn(e,s.q,s.r,[n=>n.stack[0]==="STONE",n=>n.stack[0]==="WATER"])},MONKEY:{id:"MONKEY",name:"Monkey",desc:"Line: Small Tree -> Tall Tree",points:[5,6],slots:2,icon:H1,iconColor:"text-amber-500",visual:{type:"line",sequence:[["WOOD","LEAF"],["WOOD","WOOD","LEAF"]]},check:(s,e)=>Ee(s,["WOOD","LEAF"])?xn(e,s.q,s.r,[n=>Ee(n,["WOOD","WOOD","LEAF"])]):!1},COUGAR:{id:"COUGAR",name:"Cougar",desc:"Line: Medium Rock -> High Peak",points:[5,6],slots:2,icon:Fc,iconColor:"text-red-600",visual:{type:"line",sequence:[["STONE","STONE"],["STONE","STONE","STONE"]]},check:(s,e)=>Ee(s,["STONE","STONE"])?xn(e,s.q,s.r,[n=>Ee(n,["STONE","STONE","STONE"])]):!1},KINGFISHER:{id:"KINGFISHER",name:"Kingfisher",desc:"Line: Tree -> Water -> Tree",points:[5,5],slots:2,icon:kl,iconColor:"text-cyan-500",visual:{type:"line",sequence:[["WOOD","LEAF"],["WATER"],["WOOD","LEAF"]]},check:(s,e)=>Ee(s,["WOOD","LEAF"])?xn(e,s.q,s.r,[n=>n.stack[0]==="WATER",n=>Ee(n,["WOOD","LEAF"])]):!1},ELEPHANT:{id:"ELEPHANT",name:"Elephant",desc:"Line: Field -> Tree -> Water",points:[4,5],slots:2,icon:jN,iconColor:"text-pink-400",visual:{type:"line",sequence:[["SAND"],["WOOD","LEAF"],["WATER"]]},check:(s,e)=>s.stack[0]!=="SAND"?!1:xn(e,s.q,s.r,[n=>Ee(n,["WOOD","LEAF"]),n=>n.stack[0]==="WATER"])},GIRAFFE:{id:"GIRAFFE",name:"Giraffe",desc:"Line: Tree -> Bush -> Building",points:[5,6],slots:2,icon:pC,iconColor:"text-yellow-600",visual:{type:"line",sequence:[["WOOD","LEAF"],["LEAF"],["BRICK","BRICK"]]},check:(s,e)=>Ee(s,["WOOD","LEAF"])?xn(e,s.q,s.r,[n=>Ee(n,["LEAF"]),n=>oa(n)]):!1},TIGER:{id:"TIGER",name:"Tiger",desc:"Line: Bush -> Tall Tree -> Bush",points:[5,5],slots:2,icon:Fc,iconColor:"text-orange-500",visual:{type:"line",sequence:[["LEAF"],["WOOD","WOOD","LEAF"],["LEAF"]]},check:(s,e)=>Ee(s,["LEAF"])?xn(e,s.q,s.r,[n=>Ee(n,["WOOD","WOOD","LEAF"]),n=>Ee(n,["LEAF"])]):!1},PEACOCK:{id:"PEACOCK",name:"Peacock",desc:"Line: Tree -> Building -> Tree",points:[6,7],slots:2,icon:oC,iconColor:"text-purple-500",visual:{type:"line",sequence:[["WOOD","LEAF"],["BRICK","BRICK"],["WOOD","LEAF"]]},check:(s,e)=>Ee(s,["WOOD","LEAF"])?xn(e,s.q,s.r,[n=>oa(n),n=>Ee(n,["WOOD","LEAF"])]):!1},GOAT:{id:"GOAT",name:"Goat",desc:"High Peak (3 Stone) next to another Stone",points:[4,5],slots:2,icon:Bm,iconColor:"text-orange-400",visual:{type:"adj",main:["STONE","STONE","STONE"],others:[["STONE"]]},check:(s,e)=>Ee(s,["STONE","STONE","STONE"])&&wn(e,s.q,s.r,n=>n.stack[0]==="STONE")},HORSE:{id:"HORSE",name:"Horse",desc:"Field next to Field AND Tall Tree (2 Log+Leaf)",points:[4,5,5],slots:3,icon:zN,iconColor:"text-red-400",visual:{type:"adj",main:["SAND"],others:[["SAND"],["WOOD","WOOD","LEAF"]]},check:(s,e)=>{if(s.stack[0]!=="SAND")return!1;const n=Ft(s.q,s.r).map(r=>e[`${r.q},${r.r}`]);return n.some(r=>r?.stack[0]==="SAND")&&n.some(r=>r&&Ee(r,["WOOD","WOOD","LEAF"]))}}},K1=(s,e)=>{if(!s||s.animal||s.stack.length>=3||e==="BRICK"&&s.stack.length>=2||s.stack.length>=2&&s.stack[s.stack.length-1]==="BRICK")return!1;const n=s.stack.length>0?s.stack[s.stack.length-1]:"EMPTY";return $i[e].validOn.includes(n)},oI=s=>{let e={trees:0,mountains:0,fields:0,rivers:0,buildings:0};const n=new Set,r=Object.values(s);return r.forEach(c=>{const d=c.stack.length;if(d===0)return;const g=c.stack[d-1],_=c.stack[0];g!=="BRICK"&&g!=="WOOD"&&g==="LEAF"&&(d===1?e.trees+=1:_==="WOOD"&&(d===2?e.trees+=3:d===3&&(e.trees+=7)))}),r.forEach(c=>{const d=c.stack.length;c.stack[0]==="STONE"&&c.stack[d-1]==="STONE"&&Ft(c.q,c.r).some(y=>{const T=s[`${y.q},${y.r}`];return T&&T.stack.length>0&&T.stack[T.stack.length-1]==="STONE"})&&(d===1?e.mountains+=1:d===2?e.mountains+=3:d>=3&&(e.mountains+=7))}),n.clear(),r.forEach(c=>{if(c.stack[0]==="SAND"&&!n.has(`${c.q},${c.r}`)){let d=0,g=[c];for(n.add(`${c.q},${c.r}`);g.length>0;){const _=g.pop();d++,Ft(_.q,_.r).forEach(y=>{const T=s[`${y.q},${y.r}`],S=`${y.q},${y.r}`;T&&T.stack[0]==="SAND"&&!n.has(S)&&(n.add(S),g.push(T))})}d>=2&&(e.fields+=5)}}),n.clear(),r.forEach(c=>{if(c.stack[0]==="WATER"&&!n.has(`${c.q},${c.r}`)){let d=0,g=[c];for(n.add(`${c.q},${c.r}`);g.length>0;){const _=g.pop();d++,Ft(_.q,_.r).forEach(y=>{const T=s[`${y.q},${y.r}`],S=`${y.q},${y.r}`;T&&T.stack[0]==="WATER"&&!n.has(S)&&(n.add(S),g.push(T))})}d===2?e.rivers+=2:d===3?e.rivers+=5:d===4?e.rivers+=8:d===5?e.rivers+=11:d===6?e.rivers+=15:d>6&&(e.rivers+=15+(d-6)*4)}}),r.forEach(c=>{if(oa(c)){const d=Ft(c.q,c.r),g=new Set;d.forEach(_=>{const y=s[`${_.q},${_.r}`];if(y&&y.stack.length>0){const T=y.stack[y.stack.length-1];T!=="BRICK"&&g.add(T)}}),g.size>=3&&(e.buildings+=5)}}),{total:Object.values(e).reduce((c,d)=>c+d,0),breakdown:e}},fm=()=>{const s={};return[{r:-2,qStart:-1,qEnd:3},{r:-1,qStart:-1,qEnd:2},{r:0,qStart:-2,qEnd:2},{r:1,qStart:-2,qEnd:1},{r:2,qStart:-3,qEnd:1}].forEach(({r:n,qStart:r,qEnd:l})=>{for(let c=r;c<=l;c++)s[`${c},${n}`]={q:c,r:n,stack:[],animal:null}}),s},Y1=()=>{const s={WOOD:21,LEAF:19,STONE:23,WATER:23,SAND:19,BRICK:15};let e=[];Object.entries(s).forEach(([n,r])=>{for(let l=0;l<r;l++)e.push(n)});for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e},Q1=()=>{let s=Object.keys(Es);for(let e=s.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[s[e],s[n]]=[s[n],s[e]]}return s},W1=(s,e)=>{let n=[...s],r=[...e];for(;n.length<5&&r.length>=3;)n.push({id:Math.random().toString(36).substr(2,9),tokens:[r.pop(),r.pop(),r.pop()].filter(Boolean)});return{market:n,bag:r}},$1=(s,e)=>{let n=[...s],r=[...e];for(;n.length<5&&r.length>0;){const l=r.pop();n.push({id:Math.random().toString(36).substr(2,9),type:l})}return{market:n,deck:r}},Yc=({tokens:s,scale:e=1,spacing:n=8})=>E.jsx("div",{className:"relative w-8 h-12 mx-auto",style:{transform:`scale(${e})`,height:`${s.length*n+24}px`},children:s.map((r,l)=>E.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 w-6 h-6 rounded-full border shadow-sm ${$i[r].color} ${$i[r].border} flex items-center justify-center`,style:{bottom:`${l*n}px`,zIndex:l},children:l===s.length-1&&(()=>{const c=$i[r].icon;return E.jsx(c,{size:12,className:"text-white/70"})})()},l))}),wh=({visual:s})=>s?s.type==="stack"?E.jsx(Yc,{tokens:s.tokens,spacing:5}):s.type==="adj"?E.jsxs("div",{className:"flex items-end justify-center gap-2",children:[E.jsxs("div",{className:"relative z-10 border-2 border-white/50 rounded-xl p-1 bg-black/20",children:[E.jsx(Yc,{tokens:Array.isArray(s.main)?s.main:[s.main],scale:.9,spacing:5}),E.jsx("div",{className:"absolute -top-2 -right-2 w-3 h-3 bg-white rounded-full flex items-center justify-center border border-slate-500 shadow",children:E.jsx("div",{className:"w-1 h-1 bg-slate-900 rounded-full"})})]}),E.jsx("div",{className:"flex flex-col gap-1",children:s.others.map((e,n)=>E.jsx("div",{className:"opacity-80 scale-75 origin-bottom",children:E.jsx(Yc,{tokens:Array.isArray(e)?e:[e],scale:.8,spacing:5})},n))})]}):s.type==="line"?E.jsx("div",{className:"flex items-center justify-center gap-1 py-4",children:s.sequence.map((e,n)=>E.jsxs(s2.Fragment,{children:[n>0&&E.jsx("div",{className:"text-slate-500 opacity-50",children:E.jsx(bT,{size:10})}),E.jsxs("div",{className:`relative ${n===0?"z-10 scale-100":"opacity-80 scale-90"}`,children:[n===0&&E.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-white rounded-full flex items-center justify-center border border-slate-500 shadow z-20",children:E.jsx("div",{className:"w-1 h-1 bg-slate-900 rounded-full"})}),E.jsx(Yc,{tokens:Array.isArray(e)?e:[e],scale:.7,spacing:5})]})]},n))}):null:null,dm=()=>E.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[E.jsx(Jl,{size:12,className:"text-emerald-400"}),E.jsx("span",{className:"text-[10px] font-black tracking-widest text-emerald-400 uppercase",children:"EQUILIBRIUM"})]}),X1=()=>E.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[E.jsx(Jl,{size:20,className:"text-emerald-400"}),E.jsx("span",{className:"text-[20px] font-black tracking-widest text-emerald-400 uppercase",children:"EQUILIBRIUM"})]}),lI=({q:s,r:e,stack:n,animal:r,onClick:l,ghostToken:c,isPlaceable:d,ghostAnimal:g,isValidTarget:_})=>{const T=44*(Math.sqrt(3)*s+Math.sqrt(3)/2*e),S=44*(3/2*e);return E.jsxs("div",{onClick:()=>l&&l(s,e),className:"absolute flex items-center justify-center transition-all duration-300",style:{left:`calc(50% + ${T}px)`,top:`calc(50% + ${S}px)`,width:`${44*1.8}px`,height:"88px",transform:"translate(-50%, -50%)",zIndex:10+e,cursor:d||g?"pointer":"default"},children:[E.jsx("div",{className:`w-full h-full absolute transition-all duration-300 ${_?"bg-emerald-500/60 hover:bg-emerald-400/70 hover:scale-110 shadow-[0_0_30px_rgba(16,185,129,0.6)] z-10":d||g?"bg-slate-700/80 hover:bg-slate-600 hover:scale-105 shadow-[0_0_15px_rgba(52,211,153,0.3)]":"bg-slate-800/90"}`,style:{clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)",zIndex:0}}),E.jsx("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 pointer-events-none z-10 overflow-visible",style:{width:"100%",height:"100%"},children:E.jsx("polygon",{points:"50 0, 100 25, 100 75, 50 100, 0 75, 0 25",fill:"none",stroke:_?"#10b981":"rgba(255,255,255,0.4)",strokeWidth:_?"4":"1.5",strokeDasharray:"4 2",className:_?"animate-pulse":""})}),E.jsxs("div",{className:"relative z-20 flex items-center justify-center w-full h-full pb-2 pointer-events-none",children:[n.map((O,H)=>{const Z=$i[O];return E.jsx("div",{className:`absolute w-10 h-10 rounded-full border-2 shadow-xl flex items-center justify-center ${Z.color} ${Z.border}`,style:{transform:`translateY(-${H*8}px) scale(${1-H*.02})`,zIndex:H},children:H===n.length-1&&E.jsx(Z.icon,{size:16,className:"text-white/80"})},H)}),d&&c&&E.jsx("div",{className:`absolute w-10 h-10 rounded-full border-2 border-dashed opacity-60 flex items-center justify-center animate-pulse ${$i[c].color} border-white`,style:{transform:`translateY(-${n.length*8}px)`,zIndex:10},children:E.jsx(CN,{size:16,className:"text-white"})}),_&&!r&&E.jsx("div",{className:"absolute -top-8 w-10 h-10 rounded-full border-4 border-emerald-400 bg-emerald-900 shadow-xl flex items-center justify-center z-50 animate-bounce",children:E.jsx(Pm,{size:24,className:"text-emerald-400"})}),g&&!r&&E.jsx("div",{className:"absolute -top-8 w-8 h-8 rounded-full border-2 border-dashed border-white shadow-xl flex items-center justify-center z-50 animate-pulse opacity-70",children:(()=>{const O=Es[g];if(!O)return null;const H=O.icon;return E.jsx(H,{size:16,className:O.iconColor,fill:"currentColor",fillOpacity:.2})})()}),r&&E.jsx("div",{className:"absolute w-8 h-8 rounded-full bg-white border-2 border-emerald-500 shadow-[0_0_10px_rgba(0,0,0,0.5)] flex items-center justify-center z-50 animate-in zoom-in duration-300",style:{transform:`translateY(-${n.length*8+6}px)`},children:(()=>{const O=Es[r];if(!O)return E.jsx("div",{className:"text-black text-[8px]",children:"?"});const H=O.icon;return E.jsx(H,{size:18,className:O.iconColor,fill:"currentColor",fillOpacity:.2})})()})]})]})},uI=({type:s,message:e,subtext:n,icon:r})=>E.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:E.jsxs("div",{className:`flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-sm md:max-w-xl mx-4 text-center ${s==="success"?"bg-emerald-900/90 border-emerald-500 text-emerald-100":s==="failure"?"bg-red-900/90 border-red-500 text-red-100":s==="warning"?"bg-amber-900/90 border-amber-500 text-amber-100":"bg-blue-900/90 border-blue-500 text-blue-100"}`,children:[r&&E.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:E.jsx(r,{size:64,className:"animate-bounce"})}),E.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:e}),n&&E.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide",children:n})]})}),mm=({onClose:s})=>E.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 border border-emerald-900/50 w-full max-w-3xl rounded-3xl shadow-2xl p-6 relative max-h-[90vh] overflow-y-auto custom-scrollbar",children:[E.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full hover:bg-slate-700 transition-colors",children:E.jsx(kp,{size:24})}),E.jsx("h2",{className:"text-3xl font-black text-center mb-6 text-emerald-400",children:"Architect's Handbook"}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[E.jsx(Jl,{className:"text-emerald-500"})," Landscape Scoring"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-slate-300",children:[E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[E.jsx("strong",{className:"text-emerald-400 block mb-1",children:"Trees (Wood + Foliage)"}),E.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[E.jsx("li",{children:"1 Leaf alone (Bush): 1 Pt"}),E.jsx("li",{children:"2 High (1 Log + 1 Leaf): 3 Pts"}),E.jsx("li",{children:"3 High (2 Log + 2 Leaf): 7 Pts"})]})]}),E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[E.jsx("strong",{className:"text-slate-400 block mb-1",children:"Mountains (Stone)"}),E.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[E.jsx("li",{children:"Score = Height of stack (1=1pt, 2=3pts, 3=7pts)."}),E.jsx("li",{children:"Only scores if adjacent to at least one other Mountain stack."})]})]}),E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[E.jsx("strong",{className:"text-yellow-400 block mb-1",children:"Fields (Sand)"}),E.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[E.jsx("li",{children:"5 Pts for every distinct group of 2+ connected Sand."}),E.jsx("li",{children:"Cannot stack tokens on Sand."})]})]}),E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[E.jsx("strong",{className:"text-cyan-400 block mb-1",children:"Rivers (Water)"}),E.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[E.jsx("li",{children:"Chain scoring:"}),E.jsx("li",{children:"2=2pts, 3=5pts, 4=8pts, 5=11pts, 6+ = +4pts for each."})]})]}),E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl md:col-span-2 border border-emerald-900/30",children:[E.jsx("strong",{className:"text-red-400 block mb-1",children:"Buildings (Brick)"}),E.jsx("ul",{className:"list-disc pl-4 text-xs space-y-1",children:E.jsx("li",{children:"5 Pts if surrounded by 3+ distinct terrain types (colors)."})})]})]})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[E.jsx(qm,{className:"text-orange-500"})," Animal Scoring"]}),E.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Draft animals to your hand. When you create their pattern on the board, select the animal to place it!"}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.values(Es).map(e=>{const n=e.icon;return E.jsxs("div",{className:"bg-slate-800 p-3 rounded-xl border border-emerald-900/30 flex flex-col items-center gap-2 text-xs relative overflow-hidden",children:[E.jsx("div",{className:"bg-black/30 p-2 rounded-full mb-1",children:E.jsx(n,{size:20,className:e.iconColor})}),E.jsx("div",{className:"scale-75 mb-2",children:E.jsx(wh,{visual:e.visual})}),E.jsxs("div",{className:"text-center z-10",children:[E.jsx("div",{className:"font-bold text-white text-sm",children:e.name}),E.jsx("div",{className:"text-[10px] text-slate-400 leading-tight mb-2 h-8 overflow-hidden line-clamp-2",children:e.desc}),E.jsxs("div",{className:"text-[10px] text-yellow-500 font-bold bg-black/20 px-2 py-1 rounded-full inline-block",children:[e.points.join(" / ")," Pts"]})]})]},e.id)})})]})]})]})}),cI=({gameState:s,onClose:e})=>E.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 border border-emerald-900/50 w-full max-w-lg rounded-3xl shadow-2xl p-6 relative",children:[E.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full hover:bg-slate-700 transition-colors",children:E.jsx(kp,{size:24})}),E.jsxs("h2",{className:"text-2xl font-black text-center mb-6 text-emerald-400 flex items-center justify-center gap-2",children:[E.jsx(TT,{})," Live Scores"]}),E.jsx("div",{className:"space-y-4",children:s.players.map(n=>{const r=n.score||0,l=n.landscapeScore||0,c=(n.penalties||0)*2,d=r+l-c;return E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[E.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2 mb-2",children:[E.jsx("span",{className:"font-bold text-lg text-white",children:n.name}),E.jsx("span",{className:"text-2xl font-black text-yellow-500",children:d})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-slate-400",children:[E.jsxs("div",{className:"flex justify-between text-fuchsia-300",children:[E.jsx("span",{children:"Animals:"})," ",E.jsx("span",{className:"text-fuchsia-500 font-bold",children:r})]}),E.jsxs("div",{className:"flex justify-between text-green-300",children:[E.jsx("span",{children:"Trees:"})," ",E.jsx("span",{className:"text-green-500 font-bold",children:n.landscapeScoreBreakdown?.trees||0})]}),E.jsxs("div",{className:"flex justify-between text-slate-300",children:[E.jsx("span",{children:"Mountains:"})," ",E.jsx("span",{className:"text-slate-500 font-bold",children:n.landscapeScoreBreakdown?.mountains||0})]}),E.jsxs("div",{className:"flex justify-between text-yellow-300",children:[E.jsx("span",{children:"Fields:"})," ",E.jsx("span",{className:"text-yellow-500 font-bold",children:n.landscapeScoreBreakdown?.fields||0})]}),E.jsxs("div",{className:"flex justify-between text-blue-300",children:[E.jsx("span",{children:"Rivers:"})," ",E.jsx("span",{className:"text-blue-500 font-bold",children:n.landscapeScoreBreakdown?.rivers||0})]}),E.jsxs("div",{className:"flex justify-between text-red-300",children:[E.jsx("span",{children:"Buildings:"})," ",E.jsx("span",{className:"text-red-500 font-bold",children:n.landscapeScoreBreakdown?.buildings||0})]}),c>0&&E.jsxs("div",{className:"flex justify-between text-red-400 font-bold col-span-2 border-t border-slate-700 pt-1 mt-1",children:[E.jsx("span",{children:"Penalties:"})," ",E.jsxs("span",{children:["-",c]})]})]})]},n.id)})})]})}),hI=({animal:s,onClose:e})=>E.jsx("div",{className:"fixed inset-0 z-[210] bg-black/80 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:e,children:E.jsxs("div",{className:"bg-slate-900 border-2 border-slate-700 p-6 rounded-2xl max-w-sm w-full text-center shadow-2xl relative",onClick:n=>n.stopPropagation(),children:[E.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 p-4 rounded-full border-4 border-slate-900",children:E.jsx(s.icon,{size:48,className:s.iconColor})}),E.jsx("h3",{className:"text-2xl font-black text-white mt-8 mb-2 uppercase",children:s.name}),E.jsxs("div",{className:"text-yellow-500 font-bold text-lg mb-4",children:["+",s.points[0]," Pts per placement"]}),E.jsx("div",{className:"flex justify-center mb-6 bg-black/20 p-4 rounded-xl",children:E.jsx(wh,{visual:s.visual})}),E.jsx("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 mb-4",children:E.jsx("p",{className:"text-slate-300 text-sm",children:s.desc})}),E.jsx("div",{className:"flex justify-center gap-1 mb-4",children:Array.from({length:s.slots}).map((n,r)=>E.jsx("div",{className:"w-4 h-4 rounded-full bg-slate-700 border border-slate-600"},r))}),E.jsx("button",{onClick:e,className:"bg-slate-700 hover:bg-slate-600 w-full py-3 rounded-xl font-bold",children:"Close"})]})});function fI(){const[s,e]=We.useState(null),[n,r]=We.useState("menu"),[l,c]=We.useState(""),[d,g]=We.useState(""),[_,y]=We.useState(""),[T,S]=We.useState(null),[O,H]=We.useState(""),[Z,ie]=We.useState(!1),[se,_e]=We.useState(!1),[Ie,we]=We.useState(!1),[tt,_t]=We.useState(!1),[Ue,N]=We.useState(!1),[w,C]=We.useState(!1),[M,I]=We.useState(!1),[L,x]=We.useState(null),[at,vt]=We.useState(null),[F,te]=We.useState(null),[me,Ge]=We.useState(null),[Re,D]=We.useState(null),[G,ne]=We.useState(null),ae=We.useRef(null);We.useEffect(()=>{const oe=localStorage.getItem("equilibrium_roomId");oe&&y(oe)},[]),We.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await jS(hm,__initial_auth_token):await DS(hm))();const X=PS(hm,re=>{if(e(re),re){const ue=localStorage.getItem("gameHub_playerName");ue&&c(ue),vt(re.uid)}});return()=>X()},[]),We.useEffect(()=>{const oe=M1(An(Sn,"game_hub_settings","config"),X=>{X.exists()&&X.data()[rI]?.maintenance?_e(!0):_e(!1)},X=>console.log("Config Read Error (Safe to ignore):",X));return()=>oe()},[]),We.useEffect(()=>{if(!_||!s)return;const oe=An(Sn,"artifacts",Un,"public","data","rooms",_),X=M1(oe,re=>{if(re.exists()){const ue=re.data();if(!ue.players.some(De=>De.id===s.uid)){y(""),localStorage.removeItem("equilibrium_roomId"),r("menu"),H("You were removed from the world.");return}S(ue),ue.status==="playing"||ue.status==="finished"?r("game"):ue.status==="lobby"&&r("lobby")}else r("menu"),y(""),localStorage.removeItem("equilibrium_roomId"),H("Voyage ended.")},re=>{console.error(re),H("Connection lost.")});return()=>X()},[_,s]),We.useEffect(()=>{if(!T?.logs||T.logs.length===0)return;const oe=T.logs[T.logs.length-1];if(ae.current===null){ae.current=oe.id;return}oe.id<=ae.current||(ae.current=oe.id,oe.type==="success"?(x({type:"success",message:"HARMONY!",subtext:oe.text,icon:um}),setTimeout(()=>x(null),2500)):oe.type==="warning"?(x({type:"warning",message:"ATTENTION",subtext:oe.text,icon:cm}),setTimeout(()=>x(null),2500)):oe.type==="failure"&&(x({type:"failure",message:"PENALTY",subtext:oe.text,icon:cm}),setTimeout(()=>x(null),2500)))},[T?.logs]);const be=async()=>{if(!l)return H("Enter Name");localStorage.setItem("gameHub_playerName",l),ie(!0);const oe="123456789ABCDEFGHIJKLMNPQRSTUVWXYZ";let X="";for(let Ye=0;Ye<6;Ye++)X+=oe.charAt(Math.floor(Math.random()*oe.length));const re=Y1(),ue=Q1(),{market:De,bag:J}=W1([],re),ce=$1([],ue),Ae={roomId:X,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:l,score:0,penalties:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:fm(),holding:[],animals:[],ready:!0,hasDraftedTokens:!1,hasDraftedAnimal:!1}],market:De,bag:J,animalMarket:ce.market,animalDeck:ce.deck,turnIndex:0,startPlayerIndex:0,isLastRound:!1,turnPhase:"PLAY",logs:[],winnerId:null};try{await TN(An(Sn,"artifacts",Un,"public","data","rooms",X),Ae),y(X),localStorage.setItem("equilibrium_roomId",X),vt(s.uid)}catch(Ye){console.error(Ye),H("Failed to create world.")}ie(!1)},Oe=async()=>{if(!d||!l)return H("Enter details");localStorage.setItem("gameHub_playerName",l),ie(!0);try{const oe=d.toUpperCase().trim(),X=An(Sn,"artifacts",Un,"public","data","rooms",oe),re=await EN(X);if(re.exists()&&re.data().status==="lobby"){const ue=re.data();if(!ue.players.some(De=>De.id===s.uid)){if(ue.players.length>=4){H("World is full."),ie(!1);return}const De=[...ue.players,{id:s.uid,name:l,score:0,penalties:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:fm(),holding:[],animals:[],hasDraftedTokens:!1,hasDraftedAnimal:!1}];await gi(X,{players:De})}y(oe),localStorage.setItem("equilibrium_roomId",oe),vt(s.uid)}else H("Room not found or in progress")}catch(oe){H(oe.message)}ie(!1)},ze=async()=>{const oe=T.players.length,X=Math.floor(Math.random()*oe);T.players[X].name,await gi(An(Sn,"artifacts",Un,"public","data","rooms",_),{status:"playing",turnIndex:X,startPlayerIndex:X,isLastRound:!1,logs:vs({text:"The ecosystem awakens.",type:"neutral",id:Date.now()})})},wt=async()=>{if(_){try{const oe=An(Sn,"artifacts",Un,"public","data","rooms",_);if(T.hostId===s.uid)await bN(oe);else{const X=T.players.filter(re=>re.id!==s.uid);await gi(oe,{players:X})}}catch{console.log("Room gone")}localStorage.removeItem("equilibrium_roomId"),y(""),r("menu"),I(!1),S(null)}},dt=async oe=>{if(!(!T||T.hostId!==s.uid))try{const X=T.players.filter(re=>re.id!==oe);await gi(An(Sn,"artifacts",Un,"public","data","rooms",_),{players:X,logs:vs({text:"A player was removed from the world.",type:"warning",id:Date.now()})})}catch(X){console.error("Error kicking player:",X)}},Ti=async()=>{if(T.hostId!==s.uid)return;const oe=Y1(),X=Q1(),{market:re,bag:ue}=W1([],oe),De=$1([],X),J=T.players.map(ce=>({...ce,score:0,penalties:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:fm(),holding:[],animals:[],ready:!1,hasDraftedTokens:!1,hasDraftedAnimal:!1}));await gi(An(Sn,"artifacts",Un,"public","data","rooms",_),{status:"lobby",players:J,market:re,bag:ue,animalMarket:De.market,animalDeck:De.deck,logs:[],winnerId:null,turnIndex:0,turnPhase:"PLAY"}),I(!1)},Os=async oe=>{const X=T.players.findIndex(ce=>ce.id===s.uid);if(T.turnIndex!==X)return;const re=[...T.players],ue=re[X];if(ue.hasDraftedTokens)return;let De=[...T.market],J=[...T.bag];if(ue.holding=De[oe].tokens,ue.hasDraftedTokens=!0,De.splice(oe,1),J.length>=3){const ce={id:Math.random().toString(36).substr(2,9),tokens:[J.pop(),J.pop(),J.pop()].filter(Boolean)};De.push(ce)}await gi(An(Sn,"artifacts",Un,"public","data","rooms",_),{players:re,market:De,bag:J,logs:vs({text:`${ue.name} drafted tokens.`,type:"neutral",id:Date.now()})}),te(null)},Ds=async oe=>{const X=T.players.findIndex(Ze=>Ze.id===s.uid);if(T.turnIndex!==X)return;const re=[...T.players],ue=re[X];if(ue.hasDraftedAnimal||ue.animals.filter(Ze=>Ze.slotsFilled<Ze.maxSlots).length>=4)return;let J=[...T.animalMarket],ce=[...T.animalDeck];const Ae=J[oe],Ye=Es[Ae.type];if(ue.animals.push({...Ae,slotsFilled:0,maxSlots:Ye.slots}),ue.hasDraftedAnimal=!0,J.splice(oe,1),ce.length>0){const Ze={id:Math.random().toString(36).substr(2,9),type:ce.pop()};J.push(Ze)}await gi(An(Sn,"artifacts",Un,"public","data","rooms",_),{players:re,animalMarket:J,animalDeck:ce,logs:vs({text:`${ue.name} adopted a ${Ye.name}.`,type:"neutral",id:Date.now()})}),te(null)},ks=async(oe,X)=>{try{const re=T.players.findIndex(ce=>ce.id===s.uid);if(T.turnIndex!==re)return;const ue=[...T.players],De=ue[re],J={players:ue};if(Re!==null&&De.holding[Re]){const ce=`${oe},${X}`,Ae=De.board[ce],Ye=De.holding[Re];if(!K1(Ae,Ye))return;Ae.stack.push(Ye),De.holding.splice(Re,1),D(null);const Ze=oI(De.board);De.landscapeScore=Ze.total,De.landscapeScoreBreakdown=Ze.breakdown,!Object.values(De.board).some(ii=>ii.stack.length===0)&&!T.isLastRound&&(J.isLastRound=!0,J.logs||(J.logs=[]),J.logs.push({text:`${De.name}'s world is full! Finishing the round...`,type:"warning",id:Date.now()})),await gi(An(Sn,"artifacts",Un,"public","data","rooms",_),J);return}if(G!==null&&De.animals[G]){const ce=De.animals[G],Ae=Es[ce.type];if(!Ae){console.error("Animal definition missing for type:",ce.type);return}const Ye=De.board[`${oe},${X}`];if(!Ye.animal&&ce.slotsFilled<ce.maxSlots&&Ae.check(Ye,De.board)){Ye.animal=ce.type;const Ze=Ae.points[ce.slotsFilled];ce.slotsFilled+=1,De.score+=Ze,ne(null),J.logs||(J.logs=[]),J.logs.push({text:`${De.name} placed a ${Ae.name} (+${Ze})!`,type:"success",id:Date.now()}),await gi(An(Sn,"artifacts",Un,"public","data","rooms",_),J)}}}catch(re){console.error("Placement error:",re),H("Something went wrong with placement. Try refreshing.")}},Pn=async()=>{const oe=T.players.findIndex(ue=>ue.id===s.uid);if(T.turnIndex!==oe)return;const X=[...T.players],re=X[oe];Re===null||!re.holding[Re]||(re.holding.splice(Re,1),re.penalties=(re.penalties||0)+1,D(null),await gi(An(Sn,"artifacts",Un,"public","data","rooms",_),{players:X,logs:vs({text:`${re.name} discarded a token (-2 pts).`,type:"failure",id:Date.now()})}))},Or=async()=>{const oe=T.players.findIndex(ce=>ce.id===s.uid);if(T.turnIndex!==oe)return;const X=[...T.players],re=X[oe];if(re.holding.length>0||!re.hasDraftedTokens)return;re.hasDraftedTokens=!1,re.hasDraftedAnimal=!1;const ue={players:X},De=(T.turnIndex+1)%T.players.length;let J=T.isLastRound;T.bag.length===0&&T.market.length===0?(ue.status="finished",ue.logs=vs({text:"The Market is empty! Game Over immediately.",type:"warning",id:Date.now()})):J&&De===T.startPlayerIndex?(ue.status="finished",ue.logs=vs({text:"Round complete. Game Over!",type:"neutral",id:Date.now()+1})):(T.bag.length===0&&!J&&(ue.isLastRound=!0,ue.logs=vs({text:"The Bag is empty! Finishing the round...",type:"warning",id:Date.now()})),ue.turnIndex=De,ue.logs=vs({text:`Turn passed to ${T.players[De].name}.`,type:"neutral",id:Date.now()})),await gi(An(Sn,"artifacts",Un,"public","data","rooms",_),ue)},Ji=()=>{const oe=T.roomId,X=()=>{we(!0),setTimeout(()=>we(!1),2e3),triggerFeedback&&triggerFeedback("neutral","COPIED!","",Pm)};try{navigator.clipboard.writeText(oe),X()}catch{const ue=document.createElement("textarea");ue.value=oe,document.body.appendChild(ue),ue.select(),document.execCommand("copy"),document.body.removeChild(ue),X()}},bi=()=>{const oe=T.players.findIndex(re=>re.id===s.uid);return T.turnIndex===oe&&at!==s.uid?(x({type:"warning",message:"WRONG WORLD",subtext:"Return to your world to make moves.",icon:sh}),setTimeout(()=>x(null),2e3),!1):!0};if(se)return E.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[E.jsx(X1,{}),E.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[E.jsx(vC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),E.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),E.jsx("p",{className:"text-gray-400",children:"Meteor impact detected! We're busy repairing the ecosystem."})]}),E.jsx("div",{className:"h-8"}),E.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:E.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:E.jsx("div",{className:"text-center pb-12 animate-pulse",children:E.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[E.jsx(um,{size:16})," Visit Gamehub...Try our other releases..."," ",E.jsx(um,{size:16})]})})})}),E.jsx(dm,{})]});if(!s)return E.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-emerald-500 animate-pulse",children:"Returning to the wild..."});if(_&&!T&&!O)return E.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center text-white p-4",children:[E.jsx(Gc,{}),E.jsx(Kc,{}),E.jsxs("div",{className:"bg-slate-900/80 backdrop-blur p-8 rounded-2xl border border-slate-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[E.jsx(xC,{size:48,className:"text-emerald-500 animate-spin"}),E.jsxs("div",{className:"text-center",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Reconnecting..."}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Resuming your session"})]})]})]});if(n==="menu")return E.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans select-none",children:[E.jsx(Gc,{}),E.jsx(Kc,{}),Ue&&E.jsx(mm,{onClose:()=>N(!1)}),E.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[E.jsx(Jl,{size:64,className:"text-emerald-400 mx-auto mb-4 animate-spin-slow"}),E.jsx("h1",{className:"text-5xl md:text-7xl font-thin text-transparent bg-clip-text bg-gradient-to-b from-emerald-400 to-teal-600 tracking-tighter drop-shadow-md",children:"EQUILIBRIUM"}),E.jsx("p",{className:"text-emerald-200/40 tracking-[0.5em] uppercase mt-2 text-xs",children:"Build. Balance. Score."})]}),E.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-emerald-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 relative",children:[O&&E.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 mb-4 rounded text-center text-sm font-bold flex items-center justify-center gap-2",children:[E.jsx(cm,{size:16})," ",O]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("input",{className:"w-full bg-black/50 border border-emerald-700 focus:border-emerald-500 p-4 rounded-xl text-white outline-none transition-all text-lg font-bold text-center",placeholder:"YOUR NAME",value:l,onChange:oe=>c(oe.target.value),maxLength:12}),E.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[E.jsxs("button",{onClick:be,disabled:Z,className:"bg-gradient-to-br from-emerald-600 to-teal-700 hover:from-emerald-500 hover:to-teal-600 p-4 rounded-xl font-bold flex flex-col items-center justify-center gap-1 transition-all active:scale-95 shadow-lg shadow-emerald-900/50",children:[E.jsx(sC,{size:24}),E.jsx("span",{children:"Create"})]}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("input",{className:"bg-black/50 border border-emerald-700 focus:border-emerald-500 p-2 rounded-xl text-white text-center uppercase font-mono font-bold tracking-widest outline-none h-12",placeholder:"CODE",value:d,onChange:oe=>g(oe.target.value),maxLength:6}),E.jsx("button",{onClick:Oe,disabled:Z,className:"bg-slate-800 hover:bg-slate-700 p-2 rounded-xl font-bold text-slate-300 transition-all active:scale-95 h-full",children:"Penetrate"})]})]}),E.jsxs("button",{onClick:()=>N(!0),className:"w-full mt-4 text-emerald-400 hover:text-emerald-300 text-sm font-bold flex items-center justify-center gap-2 transition-colors py-2",children:[E.jsx(om,{size:16})," Architect's Guide"]})]})]}),E.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Harmonies. A tribute game.",E.jsx("br",{}),"Developed by ",E.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",E.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-500 underline hover:text-emerald-600",children:"GAMEHUB"})," ","for more games."]})]});if(n==="lobby"&&T){const oe=T.hostId===s.uid;return E.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-6 relative",children:[E.jsx(Gc,{}),E.jsx(Kc,{}),E.jsx(X1,{}),Ue&&E.jsx(mm,{onClose:()=>N(!1)}),E.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-2xl border border-emerald-500/30 shadow-2xl animate-in slide-in-from-bottom-8",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-lg md:text-xl text-emerald-500 font-bold uppercase",children:"New World:"}),E.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[E.jsx("div",{className:"text-2xl md:text-3xl font-mono text-white font-black",children:_}),E.jsxs("div",{className:"relative",children:[E.jsx("button",{onClick:Ji,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:Ie?E.jsx(Pm,{size:16,className:"text-green-500"}):E.jsx(YN,{size:16})}),Ie&&E.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-emerald-500 text-black text-xs font-bold px-2 py-1 rounded shadow-lg animate-fade-in-up whitespace-nowrap",children:"Copied!"})]})]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>N(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:E.jsx(om,{size:20})}),E.jsx("button",{onClick:()=>I(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:E.jsx(j1,{size:20})})]})]}),E.jsxs("div",{className:"space-y-3 mb-8",children:[E.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:["Architects (",T.players.length,"/4)"]}),T.players.map(X=>E.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-4 rounded-xl border border-slate-700",children:[E.jsxs("span",{className:"font-bold flex items-center gap-3 text-lg",children:[X.name,X.id===T.hostId&&E.jsx(Bm,{size:16,className:"text-yellow-500"})]}),T.hostId===s.uid&&X.id!==s.uid&&E.jsx("button",{onClick:()=>dt(X.id),className:"p-2 bg-red-900/20 hover:bg-red-900/50 text-red-500 rounded-lg transition-colors border border-red-900/30",title:"Kick Player",children:E.jsx(F1,{size:16})})]},X.id)),Array.from({length:4-T.players.length}).map((X,re)=>E.jsx("div",{className:"border-2 border-dashed border-slate-700 rounded-xl p-4 flex items-center justify-center text-slate-600 font-bold uppercase text-sm",children:"Empty Slot"},re))]}),oe&&E.jsxs("div",{className:"mt-8 flex flex-col items-center gap-2",children:[E.jsx("button",{onClick:ze,disabled:T.players.length<1,className:`
                  px-8 py-3 rounded-xl font-bold text-lg shadow-lg transition-all
                  ${T.players.length<1?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-emerald-500 text-slate-900 hover:bg-emerald-400 hover:scale-105 hover:shadow-emerald-500/20"}
                `,children:T.players.length<1?"Waiting for Architects...":"CREATE WORLD"}),T.players.length<1&&E.jsx("p",{className:"text-slate-600 text-xs uppercase tracking-widest font-bold",children:"Need 1+ player"})]}),!oe&&E.jsx("div",{className:"mt-8 text-center text-slate-500 text-sm font-bold uppercase tracking-widest animate-pulse",children:"Waiting for host to start..."})]}),M&&E.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[E.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase",children:"Leave World?"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:T.hostId===s.uid?"As Host, leaving ends the game for everyone.":"You will leave this session."}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>I(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Stay"}),E.jsx("button",{onClick:wt,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]})]})}),E.jsx(dm,{})]})}if(n==="game"&&T){const oe=T.players.findIndex(J=>J.id===s.uid),X=T.players[oe],re=T.turnIndex===oe,ue=T.players.find(J=>J.id===at)||X,De=re&&X.hasDraftedTokens&&X.holding.length===0;return E.jsxs("div",{className:"fixed inset-0 bg-slate-950 text-white flex flex-col overflow-hidden font-sans select-none",children:[E.jsx(Gc,{}),E.jsx(Kc,{}),L&&E.jsx(uI,{type:L.type,message:L.message,subtext:L.subtext,icon:L.icon}),Ue&&E.jsx(mm,{onClose:()=>N(!1)}),w&&E.jsx(cI,{gameState:T,onClose:()=>C(!1)}),me&&E.jsx(hI,{animal:me,onClose:()=>Ge(null)}),E.jsxs("div",{className:"h-14 md:h-16 bg-slate-900 border-b border-emerald-900/30 flex items-center justify-between px-2 z-50 shrink-0 shadow-lg",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-10 h-10 bg-emerald-900/50 rounded-lg flex items-center justify-center border border-emerald-700",children:E.jsx(Jl,{className:"text-emerald-400",size:20})}),E.jsxs("div",{children:[E.jsx("div",{className:"font-bold text-sm tracking-wider text-emerald-100",children:"EQUILIBRIUM"}),E.jsx("div",{className:"text-[10px] text-emerald-400 font-mono uppercase",children:T.status==="finished"?"GAME OVER":`Turn: ${T.players[T.turnIndex].name}`})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:()=>C(!0),className:"p-2 hover:bg-slate-800 rounded text-yellow-500 hover:text-white",children:E.jsx(TT,{size:18})}),E.jsx("button",{onClick:()=>N(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:E.jsx(om,{size:18})}),E.jsx("button",{onClick:()=>_t(!tt),className:`p-2 rounded-full ${tt?"bg-emerald-900 text-emerald-400":"text-gray-400 hover:bg-gray-800"}`,children:E.jsx(bC,{size:18})}),E.jsx("button",{onClick:()=>I(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:E.jsx(j1,{size:18})})]})]}),tt&&E.jsxs("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-slate-900/95 border border-slate-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl custom-scrollbar",children:[E.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 sticky top-0 bg-slate-900/95 py-2",children:"World History"}),E.jsx("div",{className:"space-y-2",children:T.logs.slice().reverse().map(J=>E.jsx("div",{className:`text-xs p-2 rounded border-l-2 ${J.type==="success"?"border-emerald-500 bg-emerald-900/10":J.type==="warning"?"border-amber-500 bg-amber-900/10":J.type==="failure"?"border-red-500 bg-red-900/10":"border-slate-500 bg-slate-800/30"}`,children:J.text},J.id))})]}),M&&E.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[E.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase",children:"Leave World?"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:T.hostId===s.uid?"As Host, leaving ends the game for everyone.":"You will leave this session."}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>I(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Stay"}),E.jsx("button",{onClick:wt,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]}),T.hostId===s.uid&&E.jsx("button",{onClick:Ti,className:"w-full bg-slate-700 hover:bg-slate-600 py-2 rounded font-bold text-emerald-400 mt-2 text-sm",children:"Return All to Lobby"})]})}),E.jsxs("div",{className:"flex-1 relative bg-transparent overflow-hidden flex flex-col items-center justify-center",children:[E.jsx("div",{className:"absolute top-2 md:top-4 left-0 right-0 z-10 grid grid-cols-4 gap-1 px-2 w-full max-w-2xl mx-auto pointer-events-auto",children:T.players.map((J,ce)=>{const Ae=T.turnIndex===ce,Ye=(J.score||0)+(J.landscapeScore||0)-(J.penalties||0)*2;return E.jsxs("button",{onClick:()=>vt(J.id),className:`
                  relative overflow-visible
                  flex flex-col items-center justify-center h-12 md:h-14 rounded-xl border-2 transition-all w-full
                  ${at===J.id?"bg-slate-800 border-emerald-500 shadow-lg scale-105 z-10":"bg-slate-900/80 border-slate-700 hover:bg-slate-800/80 text-slate-400"}
                `,children:[Ae&&E.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 z-50 pointer-events-none",children:E.jsxs("div",{className:"flex flex-col items-center animate-bounce-slight",children:[E.jsxs("div",{className:"bg-emerald-500 text-slate-900 text-[8px] md:text-[9px] font-black px-2 py-0.5 rounded-full shadow-[0_0_10px_rgba(16,185,129,0.5)] flex items-center gap-1 whitespace-nowrap",children:[E.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-slate-900 animate-pulse"}),"PLAYING"]}),E.jsx("div",{className:"w-0 h-0 border-l-[4px] border-l-transparent border-r-[4px] border-r-transparent border-t-[4px] border-t-emerald-500 -mt-[1px]"})]})}),E.jsx("span",{className:`text-[9px] md:text-[10px] font-bold uppercase truncate max-w-full px-1 ${Ae?"text-emerald-400":""}`,children:J.name}),E.jsx("span",{className:"text-[10px] md:text-xs font-black text-yellow-500",children:Ye})]},J.id)})}),ue.id!==s.uid?E.jsxs("div",{className:"absolute top-20 bg-red-800/80 px-4 py-1 rounded-full text-xs font-bold text-slate-300 flex items-center gap-2 z-10 backdrop-blur animate-pulse",children:[E.jsx(sh,{size:12})," ",ue.name,"'s World"]}):E.jsxs("div",{className:"absolute top-20 bg-green-800/80 px-4 py-1 rounded-full text-xs font-bold text-slate-300 flex items-center gap-2 z-10 backdrop-blur animate-pulse",children:[E.jsx(sh,{size:12})," Your World"]}),E.jsx("div",{className:"relative w-[340px] h-[300px] transition-transform -mt-20 md:-mt-24 transform scale-100 md:scale-125",children:Object.values(ue.board).map(J=>{let ce=!1;if(G!==null&&X.animals[G]){const Ae=Es[X.animals[G].type];Ae&&!J.animal&&X.animals[G].slotsFilled<X.animals[G].maxSlots&&(ce=Ae.check(J,ue.board))}return E.jsx(lI,{...J,isPlaceable:re&&ue.id===s.uid&&(Re!==null&&X.holding[Re]&&K1(J,X.holding[Re])||ce),ghostToken:Re!==null?X.holding[Re]:null,ghostAnimal:G!==null?X.animals[G].type:null,isValidTarget:ce,onClick:ue.id===s.uid?ks:void 0},`${J.q},${J.r}`)})}),F&&E.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-[60] h-44 bg-slate-900/95 border-t-2 border-emerald-500/50 backdrop-blur-xl flex flex-col animate-in slide-in-from-bottom-full duration-300 shadow-2xl",onClick:J=>J.stopPropagation(),children:[E.jsxs("div",{className:"flex justify-between items-center px-4 h-8 border-b border-white/10 bg-black/20 shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[F==="TOKENS"?E.jsx(L1,{className:"text-cyan-400",size:14}):E.jsx(qm,{className:"text-orange-400",size:14}),E.jsxs("h3",{className:"text-xs font-black text-white uppercase tracking-widest leading-none",children:["Draft ",F==="TOKENS"?"Tokens":"Animal"]})]}),E.jsxs("button",{onClick:()=>te(null),className:"flex items-center gap-1 px-2 py-0.5 bg-slate-800 hover:bg-slate-700 rounded-full text-slate-300 hover:text-white transition-colors border border-slate-600 font-bold text-[10px]",children:[E.jsx("span",{children:"Close"}),E.jsx(kp,{size:12})]})]}),E.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden px-4 no-scrollbar flex items-center bg-gradient-to-b from-transparent to-black/30",children:E.jsxs("div",{className:"flex gap-4 items-center min-w-max h-full justify-center",children:[F==="TOKENS"&&T.market.map((J,ce)=>E.jsxs("button",{onClick:()=>Os(ce),disabled:!re||X.hasDraftedTokens,className:"relative group h-32 w-14 shrink-0 rounded-full transition-all active:scale-95 disabled:opacity-60 disabled:cursor-not-allowed",children:[E.jsxs("div",{className:"absolute inset-0 bg-slate-800 rounded-full border-4 border-slate-700 shadow-xl group-hover:border-cyan-500 group-hover:bg-slate-750 transition-colors flex flex-col items-center justify-evenly py-1",children:[E.jsx("div",{className:"absolute inset-x-2 top-2 bottom-2 bg-black/30 rounded-full border border-white/5"}),E.jsx("div",{className:"relative z-10 flex flex-col gap-1.5 h-full justify-center",children:J.tokens.map((Ae,Ye)=>{const Ze=$i[Ae];return E.jsx("div",{className:`w-8 h-8 rounded-full border-2 shadow-lg flex items-center justify-center ${Ze.color} ${Ze.border}`,children:E.jsx(Ze.icon,{size:14,className:"text-white/90"})},Ye)})})]}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-20",children:E.jsxs("div",{className:"bg-cyan-600 text-white text-[10px] font-bold px-2 py-3 rounded-xl shadow-lg border border-cyan-400 tracking-widest uppercase flex flex-col items-center leading-none gap-1",children:[E.jsx("span",{children:"G"}),E.jsx("span",{children:"E"}),E.jsx("span",{children:"T"})]})})]},J.id)),F==="ANIMALS"&&T.animalMarket.map((J,ce)=>{const Ae=Es[J.type],Ye=re&&!X.hasDraftedAnimal&&X.animals.filter(Ze=>Ze.slotsFilled<Ze.maxSlots).length<4;return E.jsxs("button",{onClick:()=>Ds(ce),disabled:!Ye,className:`relative w-24 h-32 shrink-0 bg-slate-800 border-2 rounded-xl flex flex-col shadow-xl text-left overflow-hidden transition-all duration-300 group
                        ${Ye?"border-slate-600 hover:border-orange-500 hover:-translate-y-1 hover:shadow-[0_5px_15px_rgba(249,115,22,0.2)]":"opacity-60 cursor-not-allowed border-slate-800"}`,children:[E.jsxs("div",{className:"flex justify-between items-center px-2 py-1 border-b border-white/5 bg-black/20 shrink-0 h-7",children:[E.jsx("span",{className:"text-[10px] font-bold text-white truncate max-w-[50px]",children:Ae.name}),E.jsxs("span",{className:"text-[10px] font-black text-yellow-500",children:["+",Ae.points.join("/")]})]}),E.jsx("div",{className:"flex-1 flex flex-col items-center justify-center bg-gradient-to-b from-slate-800 to-slate-900",children:E.jsx("div",{className:"scale-75 origin-center",children:E.jsx(wh,{visual:Ae.visual})})}),Ye&&E.jsx("div",{className:"absolute inset-0 bg-orange-500/20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx("div",{className:"bg-orange-600 text-white text-[10px] font-bold px-3 py-1 rounded-full shadow-lg transform translate-y-2 group-hover:translate-y-0 transition-transform",children:"ADOPT"})})]},J.id)}),F==="ANIMALS"&&T.animalMarket.length===0&&E.jsx("div",{className:"w-full text-center text-slate-500 font-bold text-xs italic pr-4",children:"Empty..."})]})})]}),T.status==="finished"&&E.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 flex items-center justify-center backdrop-blur-sm",children:E.jsxs("div",{className:"bg-slate-900 p-8 rounded-2xl border-2 border-yellow-500 text-center shadow-2xl animate-in zoom-in max-w-lg w-full m-4",children:[E.jsx(JC,{size:64,className:"text-yellow-400 mx-auto mb-4 animate-bounce"}),(()=>{const J=ht=>ht.animals.reduce((si,qn)=>si+qn.slotsFilled,0),ce=ht=>(ht.score||0)+(ht.landscapeScore||0)-(ht.penalties||0)*2,Ae=[...T.players].sort((ht,si)=>{const qn=ce(ht),an=ce(si);if(an!==qn)return an-qn;const mt=J(ht);return J(si)-mt}),Ye=Ae[0],Ze=ce(Ye),Bn=J(Ye),ii=Ae.filter(ht=>ce(ht)===Ze&&J(ht)===Bn);return E.jsxs(E.Fragment,{children:[E.jsx("h2",{className:"text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-amber-500 uppercase mb-2",children:ii.map(ht=>ht.name).join(" & ")}),E.jsx("p",{className:"text-emerald-400 font-bold tracking-widest text-sm uppercase mb-6",children:"Rescued the World!"}),E.jsx("div",{className:"space-y-3 mb-6 max-h-[50vh] overflow-y-auto custom-scrollbar text-sm",children:Ae.map((ht,si)=>{const qn=(ht.penalties||0)*2,an=ce(ht),mt=ii.some(bt=>bt.id===ht.id),fn=J(ht);return E.jsxs("div",{className:`p-3 rounded-xl border flex flex-col gap-2 relative overflow-hidden transition-all
                                ${mt?"bg-slate-800 border-yellow-500 shadow-[0_0_15px_rgba(234,179,8,0.2)]":"bg-slate-800 border-slate-700 opacity-80"}`,children:[mt&&E.jsx("div",{className:"absolute inset-0 bg-yellow-500/5 pointer-events-none"}),E.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2 relative z-10",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("span",{className:`font-mono font-bold ${mt?"text-yellow-500":"text-slate-500"}`,children:["#",si+1]}),E.jsxs("span",{className:"font-bold text-white text-lg flex items-center gap-2",children:[ht.name,mt&&E.jsx(Bm,{size:18,className:"text-yellow-400 fill-yellow-400/20"})]})]}),E.jsx("span",{className:`text-2xl font-black ${mt?"text-yellow-400 scale-110":"text-slate-400"}`,children:an})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-slate-400 relative z-10",children:[E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Animals Placed:"})," ",E.jsx("span",{className:"text-white font-bold",children:fn})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Animal Pts:"})," ",E.jsx("span",{className:"text-white font-bold",children:ht.score})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Landscape Pts:"})," ",E.jsx("span",{className:"text-white font-bold",children:ht.landscapeScore})]}),qn>0?E.jsxs("div",{className:"flex justify-between text-red-400 font-bold",children:[E.jsx("span",{children:"Penalties:"})," ",E.jsxs("span",{children:["-",qn]})]}):E.jsxs("div",{className:"flex justify-between text-emerald-600/50",children:[E.jsx("span",{children:"Penalties:"})," ",E.jsx("span",{children:"0"})]})]})]},ht.id)})})]})})(),T.hostId===s.uid&&E.jsx("button",{onClick:Ti,className:"bg-slate-700 hover:bg-slate-600 px-6 py-3 rounded-xl font-bold w-full text-white transition-colors",children:"Return to Lobby"})]})})]}),E.jsx("div",{className:"h-64 bg-transparent absolute bottom-0 left-0 right-0 z-40 px-2 pb-2 flex justify-between items-end pointer-events-none",children:E.jsxs("div",{className:"flex gap-2 items-end w-full pointer-events-none",children:[E.jsxs("div",{className:"flex flex-col gap-2 mb-1 shrink-0 z-50 pointer-events-none",children:[re&&X.holding.length>0&&E.jsxs("div",{className:"bg-emerald-900/90 border border-cyan-500/30 px-2 py-2 rounded-xl shadow-2xl flex flex-col items-center gap-2 backdrop-blur-md animate-in slide-in-from-left-4 pointer-events-auto",children:[E.jsx("span",{className:"text-[8px] font-bold text-cyan-400 uppercase tracking-widest",children:"Placing"}),E.jsxs("div",{className:"flex items-center gap-1",children:[X.holding.map((J,ce)=>{const Ae=$i[J];return E.jsx("button",{onClick:()=>{bi()&&(D(ce),ne(null))},className:`w-10 h-10 rounded-full border-2 shadow-lg flex items-center justify-center transition-all active:scale-90 ${Ae.color} ${Ae.border} ${Re===ce?"ring-4 ring-white scale-110 z-10":"opacity-80 hover:opacity-100 hover:scale-105"}`,children:E.jsx(Ae.icon,{size:18,className:"text-white/80"})},ce)}),Re!==null&&E.jsx("button",{onClick:Pn,className:"w-8 h-8 rounded-full border-2 border-red-500 bg-red-900/50 flex items-center justify-center hover:bg-red-800 transition-colors",title:"Discard Token (-2 pts)",children:E.jsx(F1,{size:12,className:"text-red-300"})})]})]}),De&&E.jsxs("button",{onClick:Or,className:"bg-red-600 hover:bg-red-500 text-white font-bold py-3 px-6 rounded-xl shadow-lg animate-bounce flex items-center justify-center gap-2 text-sm whitespace-nowrap pointer-events-auto",children:["End Turn ",E.jsx(bT,{size:16})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>{bi()&&te("TOKENS")},className:`w-14 h-14 rounded-full border-2 shadow-xl flex items-center justify-center transition-all active:scale-90 pointer-events-auto ${re&&!X.hasDraftedTokens?"bg-cyan-600 border-cyan-400 text-white animate-bounce-subtle":"bg-slate-800 border-slate-600 text-slate-500"}`,children:E.jsx(L1,{size:24})}),E.jsx("button",{onClick:()=>{bi()&&te("ANIMALS")},className:`w-14 h-14 rounded-full border-2 shadow-xl flex items-center justify-center transition-all active:scale-90 pointer-events-auto ${re&&!X.hasDraftedAnimal&&X.animals.filter(J=>J.slotsFilled<J.maxSlots).length<4?"bg-orange-600 border-orange-400 text-white":"bg-slate-800 border-slate-600 text-slate-500"}`,children:E.jsx(qm,{size:24})})]})]}),E.jsxs("div",{className:"flex-1 flex gap-2 items-end overflow-x-auto pb-4 no-scrollbar h-60 pl-2 pointer-events-none",children:[ue.animals.map((J,ce)=>{const Ae=Es[J.type],Ye=ce===G&&ue.id===s.uid,Ze=J.slotsFilled>=J.maxSlots;return E.jsxs("button",{onClick:()=>{if(ue.id!==s.uid){bi();return}D(null),ne(Ye?null:ce)},className:`relative w-32 h-44 bg-slate-900/90 border-2 rounded-xl flex flex-col shadow-xl shrink-0 backdrop-blur-md transition-all duration-300 hover:-translate-y-4 text-left overflow-hidden pointer-events-auto ${Ye?"border-yellow-400 ring-2 ring-yellow-500/50 scale-105 z-10 -translate-y-2":"border-slate-600 hover:border-slate-400"} ${Ze?"grayscale opacity-75":""}`,children:[E.jsxs("div",{className:"flex justify-between items-center p-2 border-b border-white/10 bg-black/20 h-10 shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx(Ae.icon,{size:14,className:Ae.iconColor}),E.jsx("span",{className:"text-xs font-bold text-white truncate max-w-[70px]",children:Ae.name})]}),!Ze&&E.jsxs("span",{className:"text-xs font-black text-yellow-500",children:["+",Ae.points[Math.min(J.slotsFilled,Ae.points.length-1)]]}),Ze&&E.jsx("span",{className:"text-[10px] font-bold text-emerald-500 uppercase",children:"Done"})]}),E.jsxs("div",{className:"p-2 flex-1 flex flex-col items-center w-full min-h-0 justify-between bg-gradient-to-b from-slate-800/50 to-transparent",children:[E.jsx("div",{className:"scale-75 origin-center shrink-0",children:E.jsx(wh,{visual:Ae.visual})}),E.jsx("div",{className:"text-[9px] text-slate-300 text-center leading-tight line-clamp-2 px-1 w-full break-words min-h-[24px] flex items-center justify-center font-medium",children:Ae.desc}),E.jsx("div",{className:"w-full shrink-0 pt-2",children:E.jsx("div",{className:"flex gap-1 justify-center",children:Array.from({length:J.maxSlots}).map((Bn,ii)=>E.jsx("div",{className:`h-1.5 w-full rounded-full border ${ii<J.slotsFilled?"bg-emerald-500 border-emerald-400 shadow-[0_0_5px_rgba(16,185,129,0.5)]":"bg-slate-700 border-slate-600"}`},ii))})})]})]},J.id)}),ue.animals.length===0&&E.jsx("div",{className:"h-44 w-32 border-2 border-dashed border-slate-700 rounded-xl flex items-center justify-center text-slate-600 text-xs text-center p-4",children:"No Animals Drafted"})]})]})}),E.jsx(dm,{})]})}return null}h2.createRoot(document.getElementById("root")).render(E.jsx(We.StrictMode,{children:E.jsx(fI,{})}));
