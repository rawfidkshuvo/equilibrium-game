(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function e2(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Fd={exports:{}},Dl={};var t_;function t2(){if(t_)return Dl;t_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Dl.Fragment=e,Dl.jsx=n,Dl.jsxs=n,Dl}var n_;function n2(){return n_||(n_=1,Fd.exports=t2()),Fd.exports}var E=n2(),Gd={exports:{}},ke={};var i_;function i2(){if(i_)return ke;i_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function H(D){return D===null||typeof D!="object"?null:(D=O&&D[O]||D["@@iterator"],typeof D=="function"?D:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,ae={};function be(D,G,se){this.props=D,this.context=G,this.refs=ae,this.updater=se||ee}be.prototype.isReactComponent={},be.prototype.setState=function(D,G){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,G,"setState")},be.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Ve(){}Ve.prototype=be.prototype;function Re(D,G,se){this.props=D,this.context=G,this.refs=ae,this.updater=se||ee}var it=Re.prototype=new Ve;it.constructor=Re,re(it,be.prototype),it.isPureReactComponent=!0;var _t=Array.isArray;function Be(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(D,G,se){var le=se.ref;return{$$typeof:s,type:D,key:G,ref:le!==void 0?le:null,props:se}}function M(D,G){return C(D.type,G,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function L(D){var G={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(se){return G[se]})}var w=/\/+/g;function ut(D,G){return typeof D=="object"&&D!==null&&D.key!=null?L(""+D.key):G.toString(36)}function vt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Be,Be):(D.status="pending",D.then(function(G){D.status==="pending"&&(D.status="fulfilled",D.value=G)},function(G){D.status==="pending"&&(D.status="rejected",D.reason=G)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,G,se,le,Te){var Oe=typeof D;(Oe==="undefined"||Oe==="boolean")&&(D=null);var De=!1;if(D===null)De=!0;else switch(Oe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(D.$$typeof){case s:case e:De=!0;break;case b:return De=D._init,F(De(D._payload),G,se,le,Te)}}if(De)return Te=Te(D),De=le===""?"."+ut(D,0):le,_t(Te)?(se="",De!=null&&(se=De.replace(w,"$&/")+"/"),F(Te,G,se,"",function(Ti){return Ti})):Te!=null&&(I(Te)&&(Te=M(Te,se+(Te.key==null||D&&D.key===Te.key?"":(""+Te.key).replace(w,"$&/")+"/")+De)),G.push(Te)),1;De=0;var Et=le===""?".":le+":";if(_t(D))for(var et=0;et<D.length;et++)le=D[et],Oe=Et+ut(le,et),De+=F(le,G,se,Oe,Te);else if(et=H(D),typeof et=="function")for(D=et.call(D),et=0;!(le=D.next()).done;)le=le.value,Oe=Et+ut(le,et++),De+=F(le,G,se,Oe,Te);else if(Oe==="object"){if(typeof D.then=="function")return F(vt(D),G,se,le,Te);throw G=String(D),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return De}function ie(D,G,se){if(D==null)return D;var le=[],Te=0;return F(D,le,"","",function(Oe){return G.call(se,Oe,Te++)}),le}function ge(D){if(D._status===-1){var G=D._result;G=G(),G.then(function(se){(D._status===0||D._status===-1)&&(D._status=1,D._result=se)},function(se){(D._status===0||D._status===-1)&&(D._status=2,D._result=se)}),D._status===-1&&(D._status=0,D._result=G)}if(D._status===1)return D._result.default;throw D._result}var Ye=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ce={map:ie,forEach:function(D,G,se){ie(D,function(){G.apply(this,arguments)},se)},count:function(D){var G=0;return ie(D,function(){G++}),G},toArray:function(D){return ie(D,function(G){return G})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return ke.Activity=S,ke.Children=Ce,ke.Component=be,ke.Fragment=n,ke.Profiler=l,ke.PureComponent=Re,ke.StrictMode=r,ke.Suspense=_,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ke.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},ke.cache=function(D){return function(){return D.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(D,G,se){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var le=re({},D.props),Te=D.key;if(G!=null)for(Oe in G.key!==void 0&&(Te=""+G.key),G)!x.call(G,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&G.ref===void 0||(le[Oe]=G[Oe]);var Oe=arguments.length-2;if(Oe===1)le.children=se;else if(1<Oe){for(var De=Array(Oe),Et=0;Et<Oe;Et++)De[Et]=arguments[Et+2];le.children=De}return C(D.type,Te,le)},ke.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},ke.createElement=function(D,G,se){var le,Te={},Oe=null;if(G!=null)for(le in G.key!==void 0&&(Oe=""+G.key),G)x.call(G,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Te[le]=G[le]);var De=arguments.length-2;if(De===1)Te.children=se;else if(1<De){for(var Et=Array(De),et=0;et<De;et++)Et[et]=arguments[et+2];Te.children=Et}if(D&&D.defaultProps)for(le in De=D.defaultProps,De)Te[le]===void 0&&(Te[le]=De[le]);return C(D,Oe,Te)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(D){return{$$typeof:g,render:D}},ke.isValidElement=I,ke.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:ge}},ke.memo=function(D,G){return{$$typeof:y,type:D,compare:G===void 0?null:G}},ke.startTransition=function(D){var G=N.T,se={};N.T=se;try{var le=D(),Te=N.S;Te!==null&&Te(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Be,Ye)}catch(Oe){Ye(Oe)}finally{G!==null&&se.types!==null&&(G.types=se.types),N.T=G}},ke.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ke.use=function(D){return N.H.use(D)},ke.useActionState=function(D,G,se){return N.H.useActionState(D,G,se)},ke.useCallback=function(D,G){return N.H.useCallback(D,G)},ke.useContext=function(D){return N.H.useContext(D)},ke.useDebugValue=function(){},ke.useDeferredValue=function(D,G){return N.H.useDeferredValue(D,G)},ke.useEffect=function(D,G){return N.H.useEffect(D,G)},ke.useEffectEvent=function(D){return N.H.useEffectEvent(D)},ke.useId=function(){return N.H.useId()},ke.useImperativeHandle=function(D,G,se){return N.H.useImperativeHandle(D,G,se)},ke.useInsertionEffect=function(D,G){return N.H.useInsertionEffect(D,G)},ke.useLayoutEffect=function(D,G){return N.H.useLayoutEffect(D,G)},ke.useMemo=function(D,G){return N.H.useMemo(D,G)},ke.useOptimistic=function(D,G){return N.H.useOptimistic(D,G)},ke.useReducer=function(D,G,se){return N.H.useReducer(D,G,se)},ke.useRef=function(D){return N.H.useRef(D)},ke.useState=function(D){return N.H.useState(D)},ke.useSyncExternalStore=function(D,G,se){return N.H.useSyncExternalStore(D,G,se)},ke.useTransition=function(){return N.H.useTransition()},ke.version="19.2.4",ke}var s_;function Fm(){return s_||(s_=1,Gd.exports=i2()),Gd.exports}var $e=Fm();const s2=e2($e);var Kd={exports:{}},kl={},Yd={exports:{}},Qd={};var r_;function r2(){return r_||(r_=1,(function(s){function e(F,ie){var ge=F.length;F.push(ie);e:for(;0<ge;){var Ye=ge-1>>>1,Ce=F[Ye];if(0<l(Ce,ie))F[Ye]=ie,F[ge]=Ce,ge=Ye;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ie=F[0],ge=F.pop();if(ge!==ie){F[0]=ge;e:for(var Ye=0,Ce=F.length,D=Ce>>>1;Ye<D;){var G=2*(Ye+1)-1,se=F[G],le=G+1,Te=F[le];if(0>l(se,ge))le<Ce&&0>l(Te,se)?(F[Ye]=Te,F[le]=ge,Ye=le):(F[Ye]=se,F[G]=ge,Ye=G);else if(le<Ce&&0>l(Te,ge))F[Ye]=Te,F[le]=ge,Ye=le;else break e}}return ie}function l(F,ie){var ge=F.sortIndex-ie.sortIndex;return ge!==0?ge:F.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],b=1,S=null,O=3,H=!1,ee=!1,re=!1,ae=!1,be=typeof setTimeout=="function"?setTimeout:null,Ve=typeof clearTimeout=="function"?clearTimeout:null,Re=typeof setImmediate<"u"?setImmediate:null;function it(F){for(var ie=n(y);ie!==null;){if(ie.callback===null)r(y);else if(ie.startTime<=F)r(y),ie.sortIndex=ie.expirationTime,e(_,ie);else break;ie=n(y)}}function _t(F){if(re=!1,it(F),!ee)if(n(_)!==null)ee=!0,Be||(Be=!0,L());else{var ie=n(y);ie!==null&&vt(_t,ie.startTime-F)}}var Be=!1,N=-1,x=5,C=-1;function M(){return ae?!0:!(s.unstable_now()-C<x)}function I(){if(ae=!1,Be){var F=s.unstable_now();C=F;var ie=!0;try{e:{ee=!1,re&&(re=!1,Ve(N),N=-1),H=!0;var ge=O;try{t:{for(it(F),S=n(_);S!==null&&!(S.expirationTime>F&&M());){var Ye=S.callback;if(typeof Ye=="function"){S.callback=null,O=S.priorityLevel;var Ce=Ye(S.expirationTime<=F);if(F=s.unstable_now(),typeof Ce=="function"){S.callback=Ce,it(F),ie=!0;break t}S===n(_)&&r(_),it(F)}else r(_);S=n(_)}if(S!==null)ie=!0;else{var D=n(y);D!==null&&vt(_t,D.startTime-F),ie=!1}}break e}finally{S=null,O=ge,H=!1}ie=void 0}}finally{ie?L():Be=!1}}}var L;if(typeof Re=="function")L=function(){Re(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ut=w.port2;w.port1.onmessage=I,L=function(){ut.postMessage(null)}}else L=function(){be(I,0)};function vt(F,ie){N=be(function(){F(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(F){switch(O){case 1:case 2:case 3:var ie=3;break;default:ie=O}var ge=O;O=ie;try{return F()}finally{O=ge}},s.unstable_requestPaint=function(){ae=!0},s.unstable_runWithPriority=function(F,ie){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ge=O;O=F;try{return ie()}finally{O=ge}},s.unstable_scheduleCallback=function(F,ie,ge){var Ye=s.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ye+ge:Ye):ge=Ye,F){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ge+Ce,F={id:b++,callback:ie,priorityLevel:F,startTime:ge,expirationTime:Ce,sortIndex:-1},ge>Ye?(F.sortIndex=ge,e(y,F),n(_)===null&&F===n(y)&&(re?(Ve(N),N=-1):re=!0,vt(_t,ge-Ye))):(F.sortIndex=Ce,e(_,F),ee||H||(ee=!0,Be||(Be=!0,L()))),F},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(F){var ie=O;return function(){var ge=O;O=ie;try{return F.apply(this,arguments)}finally{O=ge}}}})(Qd)),Qd}var a_;function a2(){return a_||(a_=1,Yd.exports=r2()),Yd.exports}var Wd={exports:{}},un={};var o_;function o2(){if(o_)return un;o_=1;var s=Fm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,un.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,b)},un.flushSync=function(_){var y=d.T,b=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=b,r.d.f()}},un.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},un.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},un.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:H}):b==="script"&&r.d.X(_,{crossOrigin:S,integrity:O,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},un.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},un.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin);r.d.L(_,b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},un.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},un.requestFormReset=function(_){r.d.r(_)},un.unstable_batchedUpdates=function(_,y){return _(y)},un.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},un.useFormStatus=function(){return d.H.useHostTransitionStatus()},un.version="19.2.4",un}var l_;function l2(){if(l_)return Wd.exports;l_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Wd.exports=o2(),Wd.exports}var u_;function u2(){if(u_)return kl;u_=1;var s=a2(),e=Fm(),n=l2();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===a){p=!0,a=h,o=f;break}if(T===o){p=!0,o=h,a=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===a){p=!0,a=f,o=h;break}if(T===o){p=!0,o=f,a=h;break}T=T.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),Ve=Symbol.for("react.consumer"),Re=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case be:return"Profiler";case ae:return"StrictMode";case _t:return"Suspense";case Be:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case Re:return t.displayName||"Context";case Ve:return(t._context.displayName||"Context")+".Consumer";case it:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:ut(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return ut(t(i))}catch{}}return null}var vt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ye=[],Ce=-1;function D(t){return{current:t}}function G(t){0>Ce||(t.current=Ye[Ce],Ye[Ce]=null,Ce--)}function se(t,i){Ce++,Ye[Ce]=t.current,t.current=i}var le=D(null),Te=D(null),Oe=D(null),De=D(null);function Et(t,i){switch(se(Oe,i),se(Te,t),se(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Sy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Sy(i),t=xy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(le),se(le,t)}function et(){G(le),G(Te),G(Oe)}function Ti(t){t.memoizedState!==null&&se(De,t);var i=le.current,a=xy(i,t.type);i!==a&&(se(Te,t),se(le,a))}function Os(t){Te.current===t&&(G(le),G(Te)),De.current===t&&(G(De),Nl._currentValue=ge)}var Ds,ks;function Hn(t){if(Ds===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ds=i&&i[1]||"",ks=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ds+t+ks}var Ms=!1;function es(t,i){if(!t||Ms)return"";Ms=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var z=q}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(q){z=q}t.call(Q.prototype)}}else{try{throw Error()}catch(q){z=q}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var R=p.split(`
`),P=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var K=`
`+R[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=h);break}}}finally{Ms=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Hn(a):""}function Vs(t,i){switch(t.tag){case 26:case 27:case 5:return Hn(t.type);case 16:return Hn("Lazy");case 13:return t.child!==i&&i!==null?Hn("Suspense Fallback"):Hn("Suspense");case 19:return Hn("SuspenseList");case 0:case 15:return es(t.type,!1);case 11:return es(t.type.render,!1);case 1:return es(t.type,!0);case 31:return Hn("Activity");default:return""}}function ts(t){try{var i="",a=null;do i+=Vs(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var wt=Object.prototype.hasOwnProperty,Ct=s.unstable_scheduleCallback,Ai=s.unstable_cancelCallback,Do=s.unstable_shouldYield,_a=s.unstable_requestPaint,Zt=s.unstable_now,Fn=s.unstable_getCurrentPriorityLevel,te=s.unstable_ImmediatePriority,J=s.unstable_UserBlockingPriority,ue=s.unstable_NormalPriority,oe=s.unstable_LowPriority,xe=s.unstable_IdlePriority,Z=s.log,ye=s.unstable_setDisableYieldValue,me=null,ce=null;function Ne(t){if(typeof Z=="function"&&ye(t),ce&&typeof ce.setStrictMode=="function")try{ce.setStrictMode(me,t)}catch{}}var Qe=Math.clz32?Math.clz32:Si,mn=Math.log,rt=Math.LN2;function Si(t){return t>>>=0,t===0?32:31-(mn(t)/rt|0)|0}var Jt=256,Gn=262144,bt=4194304;function Dn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xi(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=Dn(o):(p&=T,p!==0?h=Dn(p):a||(a=T&~t,a!==0&&(h=Dn(a))))):(T=o&~f,T!==0?h=Dn(T):p!==0?h=Dn(p):a||(a=o&~t,a!==0&&(h=Dn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function oi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Yh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function wi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function kr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qh(t,i,a,o,h,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(a=p&~a;0<a;){var K=31-Qe(a),Q=1<<K;T[K]=0,R[K]=-1;var z=P[K];if(z!==null)for(P[K]=null,K=0;K<z.length;K++){var q=z[K];q!==null&&(q.lane&=-536870913)}a&=~Q}o!==0&&Mr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~i))}function Mr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-Qe(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function ko(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-Qe(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Mo(t,i){var a=i&-i;return a=(a&42)!==0?1:Vr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Vr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ns(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yu(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Qy(t.type))}function li(t,i){var a=ie.p;try{return ie.p=t,i()}finally{ie.p=a}}var ui=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ui,Qt="__reactProps$"+ui,Ri="__reactContainer$"+ui,va="__reactEvents$"+ui,Wh="__reactListeners$"+ui,_u="__reactHandles$"+ui,vu="__reactResources$"+ui,Ni="__reactMarker$"+ui;function Ea(t){delete t[Mt],delete t[Qt],delete t[va],delete t[Wh],delete t[_u]}function Ci(t){var i=t[Mt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ri]||a[Mt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Dy(t);t!==null;){if(a=t[Mt])return a;t=Dy(t)}return i}t=a,a=t.parentNode}return null}function Kn(t){if(t=t[Mt]||t[Ri]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function kn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Ii(t){var i=t[vu];return i||(i=t[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Vt(t){t[Ni]=!0}var Vo=new Set,Lo={};function Oi(t,i){Di(t,i),Di(t+"Capture",i)}function Di(t,i){for(Lo[t]=i,t=0;t<i.length;t++)Vo.add(i[t])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},Po={};function Eu(t){return wt.call(Po,t)?!0:wt.call(Uo,t)?!1:jo.test(t)?Po[t]=!0:(Uo[t]=!0,!1)}function ba(t,i,a){if(Eu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Mn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Lt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ls(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zo(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function at(t){if(!t._valueTracker){var i=Ls(t)?"checked":"value";t._valueTracker=zo(t,i,""+t[i])}}function Lr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=Ls(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function ki(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jr=/[\n"\\]/g;function En(t){return t.replace(jr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ta(t,i,a,o,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),i!=null?p==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Wt(i)):t.value!==""+Wt(i)&&(t.value=""+Wt(i)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),i!=null?Bo(t,p,Wt(i)):a!=null?Bo(t,p,Wt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Wt(T):t.removeAttribute("name")}function bu(t,i,a,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){at(t);return}a=a!=null?""+Wt(a):"",i=i!=null?""+Wt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),at(t)}function Bo(t,i,a){i==="number"&&ki(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function js(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Wt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Tu(t,i,a){if(i!=null&&(i=""+Wt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Wt(a):""}function Us(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(vt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Wt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),at(t)}function bn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Au.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ho(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&qo(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&qo(t,f,i[f])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return Ps.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ci(){}var Fo=null;function Yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zs=null,Mi=null;function Ur(t){var i=Kn(t);if(i&&(t=i.stateNode)){var a=t[Qt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ta(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+En(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Qt]||null;if(!h)throw Error(r(90));Ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Lr(o)}break e;case"textarea":Tu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&js(t,!!a.multiple,i,!1)}}}var xa=!1;function Bs(t,i,a){if(xa)return t(i,a);xa=!0;try{var o=t(i);return o}finally{if(xa=!1,(zs!==null||Mi!==null)&&(yc(),zs&&(i=zs,t=Mi,Mi=zs=null,Ur(i),t)))for(i=0;i<t.length;i++)Ur(t[i])}}function hi(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Qt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Qn)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{Pr=!1}var Vi=null,Go=null,zr=null;function Ko(){if(zr)return zr;var t,i=Go,a=i.length,o,h="value"in Vi?Vi.value:Vi.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var p=a-t;for(o=1;o<=p&&i[a-o]===h[f-o];o++);return zr=h.slice(t,1<o?1-o:void 0)}function Br(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function is(){return!0}function fi(){return!1}function en(t){function i(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?is:fi,this.isPropagationStopped=fi,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),i}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=en(ss),qs=S({},ss,{view:0,detail:0}),Yo=en(qs),Hs,wa,ji,Ra=S({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ji&&(ji&&t.type==="mousemove"?(Hs=t.screenX-ji.screenX,wa=t.screenY-ji.screenY):wa=Hs=0,ji=t),Hs)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Qo=en(Ra),qr=S({},Ra,{dataTransfer:0}),xu=en(qr),wu=S({},qs,{relatedTarget:0}),Hr=en(wu),Wo=S({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=en(Wo),Na=S({},ss,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nu=en(Na),Cu=S({},ss,{data:0}),Ui=en(Cu),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Du[t])?!!i[t]:!1}function Fs(){return ku}var pn=S({},qs,{key:function(t){if(t.key){var i=Iu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Br(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(t){return t.type==="keypress"?Br(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Br(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mu=en(pn),Vu=S({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rs=en(Vu),u=S({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),m=en(u),v=S({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=en(v),j=S({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=en(j),ne=S({},ss,{newState:0,oldState:0}),Le=en(ne),It=[9,13,27,32],tt=Qn&&"CompositionEvent"in window,Tt=null;Qn&&"documentMode"in document&&(Tt=document.documentMode);var Wn=Qn&&"TextEvent"in window&&!Tt,Pi=Qn&&(!tt||Tt&&8<Tt&&11>=Tt),di=" ",mi=!1;function Fr(t,i){switch(t){case"keyup":return It.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function Sb(t,i){switch(t){case"compositionend":return Ca(i);case"keypress":return i.which!==32?null:(mi=!0,di);case"textInput":return t=i.data,t===di&&mi?null:t;default:return null}}function xb(t,i){if(Ia)return t==="compositionend"||!tt&&Fr(t,i)?(t=Ko(),zr=Go=Vi=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pi&&i.locale!=="ko"?null:i.data;default:return null}}var wb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!wb[t.type]:i==="textarea"}function Lp(t,i,a,o){zs?Mi?Mi.push(o):Mi=[o]:zs=o,i=Sc(i,"onChange"),0<i.length&&(a=new Li("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var $o=null,Xo=null;function Rb(t){_y(t,0)}function Lu(t){var i=kn(t);if(Lr(i))return t}function jp(t,i){if(t==="change")return i}var Up=!1;if(Qn){var $h;if(Qn){var Xh="oninput"in document;if(!Xh){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),Xh=typeof Pp.oninput=="function"}$h=Xh}else $h=!1;Up=$h&&(!document.documentMode||9<document.documentMode)}function zp(){$o&&($o.detachEvent("onpropertychange",Bp),Xo=$o=null)}function Bp(t){if(t.propertyName==="value"&&Lu(Xo)){var i=[];Lp(i,Xo,t,Yn(t)),Bs(Rb,i)}}function Nb(t,i,a){t==="focusin"?(zp(),$o=i,Xo=a,$o.attachEvent("onpropertychange",Bp)):t==="focusout"&&zp()}function Cb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(Xo)}function Ib(t,i){if(t==="click")return Lu(i)}function Ob(t,i){if(t==="input"||t==="change")return Lu(i)}function Db(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Vn=typeof Object.is=="function"?Object.is:Db;function Zo(t,i){if(Vn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!wt.call(i,h)||!Vn(t[h],i[h]))return!1}return!0}function qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hp(t,i){var a=qp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qp(a)}}function Fp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Fp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Gp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ki(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ki(t.document)}return i}function Zh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var kb=Qn&&"documentMode"in document&&11>=document.documentMode,Oa=null,Jh=null,Jo=null,ef=!1;function Kp(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ef||Oa==null||Oa!==ki(o)||(o=Oa,"selectionStart"in o&&Zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Jo&&Zo(Jo,o)||(Jo=o,o=Sc(Jh,"onSelect"),0<o.length&&(i=new Li("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Oa)))}function Gr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Da={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionrun:Gr("Transition","TransitionRun"),transitionstart:Gr("Transition","TransitionStart"),transitioncancel:Gr("Transition","TransitionCancel"),transitionend:Gr("Transition","TransitionEnd")},tf={},Yp={};Qn&&(Yp=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Kr(t){if(tf[t])return tf[t];if(!Da[t])return t;var i=Da[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Yp)return tf[t]=i[a];return t}var Qp=Kr("animationend"),Wp=Kr("animationiteration"),$p=Kr("animationstart"),Mb=Kr("transitionrun"),Vb=Kr("transitionstart"),Lb=Kr("transitioncancel"),Xp=Kr("transitionend"),Zp=new Map,nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nf.push("scrollEnd");function pi(t,i){Zp.set(t,i),Oi(i,[t])}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},$n=[],ka=0,sf=0;function Uu(){for(var t=ka,i=sf=ka=0;i<t;){var a=$n[i];$n[i++]=null;var o=$n[i];$n[i++]=null;var h=$n[i];$n[i++]=null;var f=$n[i];if($n[i++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Jp(a,h,f)}}function Pu(t,i,a,o){$n[ka++]=t,$n[ka++]=i,$n[ka++]=a,$n[ka++]=o,sf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function rf(t,i,a,o){return Pu(t,i,a,o),zu(t)}function Yr(t,i){return Pu(t,null,null,i),zu(t)}function Jp(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-Qe(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function zu(t){if(50<bl)throw bl=0,md=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ma={};function jb(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,i,a,o){return new jb(t,i,a,o)}function af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function as(t,i){var a=t.alternate;return a===null?(a=Ln(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function eg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Bu(t,i,a,o,h,f){var p=0;if(o=t,typeof t=="function")af(t)&&(p=1);else if(typeof t=="string")p=qT(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Ln(31,a,i,h),t.elementType=C,t.lanes=f,t;case re:return Qr(a.children,h,f,i);case ae:p=8,h|=24;break;case be:return t=Ln(12,a,i,h|2),t.elementType=be,t.lanes=f,t;case _t:return t=Ln(13,a,i,h),t.elementType=_t,t.lanes=f,t;case Be:return t=Ln(19,a,i,h),t.elementType=Be,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Re:p=10;break e;case Ve:p=9;break e;case it:p=11;break e;case N:p=14;break e;case x:p=16,o=null;break e}p=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=Ln(p,a,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function Qr(t,i,a,o){return t=Ln(7,t,o,i),t.lanes=a,t}function of(t,i,a){return t=Ln(6,t,null,i),t.lanes=a,t}function tg(t){var i=Ln(18,null,null,0);return i.stateNode=t,i}function lf(t,i,a){return i=Ln(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ng=new WeakMap;function Xn(t,i){if(typeof t=="object"&&t!==null){var a=ng.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ts(i)},ng.set(t,i),i)}return{value:t,source:i,stack:ts(i)}}var Va=[],La=0,qu=null,el=0,Zn=[],Jn=0,Gs=null,zi=1,Bi="";function os(t,i){Va[La++]=el,Va[La++]=qu,qu=t,el=i}function ig(t,i,a){Zn[Jn++]=zi,Zn[Jn++]=Bi,Zn[Jn++]=Gs,Gs=t;var o=zi;t=Bi;var h=32-Qe(o)-1;o&=~(1<<h),a+=1;var f=32-Qe(i)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,zi=1<<32-Qe(i)+h|a<<h|o,Bi=f+t}else zi=1<<f|a<<h|o,Bi=t}function uf(t){t.return!==null&&(os(t,1),ig(t,1,0))}function cf(t){for(;t===qu;)qu=Va[--La],Va[La]=null,el=Va[--La],Va[La]=null;for(;t===Gs;)Gs=Zn[--Jn],Zn[Jn]=null,Bi=Zn[--Jn],Zn[Jn]=null,zi=Zn[--Jn],Zn[Jn]=null}function sg(t,i){Zn[Jn++]=zi,Zn[Jn++]=Bi,Zn[Jn++]=Gs,zi=i.id,Bi=i.overflow,Gs=t}var tn=null,pt=null,We=!1,Ks=null,ei=!1,hf=Error(r(519));function Ys(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Xn(i,t)),hf}function rg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Mt]=t,i[Qt]=o,a){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(a=0;a<Al.length;a++)ze(Al[a],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":ze("invalid",i),bu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ze("invalid",i);break;case"textarea":ze("invalid",i),Us(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Ty(i.textContent,a)?(o.popover!=null&&(ze("beforetoggle",i),ze("toggle",i)),o.onScroll!=null&&ze("scroll",i),o.onScrollEnd!=null&&ze("scrollend",i),o.onClick!=null&&(i.onclick=ci),i=!0):i=!1,i||Ys(t,!0)}function ag(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:tn=tn.return}}function ja(t){if(t!==tn)return!1;if(!We)return ag(t),We=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Cd(t.type,t.memoizedProps)),a=!a),a&&pt&&Ys(t),ag(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));pt=Oy(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));pt=Oy(t)}else i===27?(i=pt,or(t.type)?(t=Md,Md=null,pt=t):pt=i):pt=tn?ni(t.stateNode.nextSibling):null;return!0}function Wr(){pt=tn=null,We=!1}function ff(){var t=Ks;return t!==null&&(xn===null?xn=t:xn.push.apply(xn,t),Ks=null),t}function tl(t){Ks===null?Ks=[t]:Ks.push(t)}var df=D(null),$r=null,ls=null;function Qs(t,i,a){se(df,i._currentValue),i._currentValue=a}function us(t){t._currentValue=df.current,G(df)}function mf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function pf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),mf(f.return,a,t),o||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),mf(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ua(t,i,a,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var T=h.type;Vn(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===De.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&pf(i,t,a,o),i.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!Vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xr(t){$r=t,ls=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return og($r,t)}function Fu(t,i){return $r===null&&Xr(t),og(t,i)}function og(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ls===null){if(t===null)throw Error(r(308));ls=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ls=ls.next=i;return a}var Ub=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Pb=s.unstable_scheduleCallback,zb=s.unstable_NormalPriority,jt={$$typeof:Re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new Ub,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&Pb(zb,function(){t.controller.abort()})}var il=null,yf=0,Pa=0,za=null;function Bb(t,i){if(il===null){var a=il=[];yf=0,Pa=Ed(),za={status:"pending",value:void 0,then:function(o){a.push(o)}}}return yf++,i.then(lg,lg),i}function lg(){if(--yf===0&&il!==null){za!==null&&(za.status="fulfilled");var t=il;il=null,Pa=0,za=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function qb(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ug=F.S;F.S=function(t,i){K0=Zt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Bb(t,i),ug!==null&&ug(t,i)};var Zr=D(null);function _f(){var t=Zr.current;return t!==null?t:mt.pooledCache}function Gu(t,i){i===null?se(Zr,Zr.current):se(Zr,i.pool)}function cg(){var t=_f();return t===null?null:{parent:jt._currentValue,pool:t}}var Ba=Error(r(460)),vf=Error(r(474)),Ku=Error(r(542)),Yu={then:function(){}};function hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ci,ci),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,mg(t),t;default:if(typeof i.status=="string")i.then(ci,ci);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,mg(t),t}throw ea=i,Ba}}function Jr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ea=a,Ba):a}}var ea=null;function dg(){if(ea===null)throw Error(r(459));var t=ea;return ea=null,t}function mg(t){if(t===Ba||t===Ku)throw Error(r(483))}var qa=null,sl=0;function Qu(t){var i=sl;return sl+=1,qa===null&&(qa=[]),fg(qa,t,i)}function rl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Wu(t,i){throw i.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function pg(t){function i(V,k){if(t){var U=V.deletions;U===null?(V.deletions=[k],V.flags|=16):U.push(k)}}function a(V,k){if(!t)return null;for(;k!==null;)i(V,k),k=k.sibling;return null}function o(V){for(var k=new Map;V!==null;)V.key!==null?k.set(V.key,V):k.set(V.index,V),V=V.sibling;return k}function h(V,k){return V=as(V,k),V.index=0,V.sibling=null,V}function f(V,k,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<k?(V.flags|=67108866,k):U):(V.flags|=67108866,k)):(V.flags|=1048576,k)}function p(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function T(V,k,U,Y){return k===null||k.tag!==6?(k=of(U,V.mode,Y),k.return=V,k):(k=h(k,U),k.return=V,k)}function R(V,k,U,Y){var _e=U.type;return _e===re?K(V,k,U.props.children,Y,U.key):k!==null&&(k.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===x&&Jr(_e)===k.type)?(k=h(k,U.props),rl(k,U),k.return=V,k):(k=Bu(U.type,U.key,U.props,null,V.mode,Y),rl(k,U),k.return=V,k)}function P(V,k,U,Y){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=lf(U,V.mode,Y),k.return=V,k):(k=h(k,U.children||[]),k.return=V,k)}function K(V,k,U,Y,_e){return k===null||k.tag!==7?(k=Qr(U,V.mode,Y,_e),k.return=V,k):(k=h(k,U),k.return=V,k)}function Q(V,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=of(""+k,V.mode,U),k.return=V,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case H:return U=Bu(k.type,k.key,k.props,null,V.mode,U),rl(U,k),U.return=V,U;case ee:return k=lf(k,V.mode,U),k.return=V,k;case x:return k=Jr(k),Q(V,k,U)}if(vt(k)||L(k))return k=Qr(k,V.mode,U,null),k.return=V,k;if(typeof k.then=="function")return Q(V,Qu(k),U);if(k.$$typeof===Re)return Q(V,Fu(V,k),U);Wu(V,k)}return null}function z(V,k,U,Y){var _e=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return _e!==null?null:T(V,k,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case H:return U.key===_e?R(V,k,U,Y):null;case ee:return U.key===_e?P(V,k,U,Y):null;case x:return U=Jr(U),z(V,k,U,Y)}if(vt(U)||L(U))return _e!==null?null:K(V,k,U,Y,null);if(typeof U.then=="function")return z(V,k,Qu(U),Y);if(U.$$typeof===Re)return z(V,k,Fu(V,U),Y);Wu(V,U)}return null}function q(V,k,U,Y,_e){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(U)||null,T(k,V,""+Y,_e);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return V=V.get(Y.key===null?U:Y.key)||null,R(k,V,Y,_e);case ee:return V=V.get(Y.key===null?U:Y.key)||null,P(k,V,Y,_e);case x:return Y=Jr(Y),q(V,k,U,Y,_e)}if(vt(Y)||L(Y))return V=V.get(U)||null,K(k,V,Y,_e,null);if(typeof Y.then=="function")return q(V,k,U,Qu(Y),_e);if(Y.$$typeof===Re)return q(V,k,U,Fu(k,Y),_e);Wu(k,Y)}return null}function fe(V,k,U,Y){for(var _e=null,Ze=null,de=k,Ue=k=0,He=null;de!==null&&Ue<U.length;Ue++){de.index>Ue?(He=de,de=null):He=de.sibling;var Je=z(V,de,U[Ue],Y);if(Je===null){de===null&&(de=He);break}t&&de&&Je.alternate===null&&i(V,de),k=f(Je,k,Ue),Ze===null?_e=Je:Ze.sibling=Je,Ze=Je,de=He}if(Ue===U.length)return a(V,de),We&&os(V,Ue),_e;if(de===null){for(;Ue<U.length;Ue++)de=Q(V,U[Ue],Y),de!==null&&(k=f(de,k,Ue),Ze===null?_e=de:Ze.sibling=de,Ze=de);return We&&os(V,Ue),_e}for(de=o(de);Ue<U.length;Ue++)He=q(de,V,Ue,U[Ue],Y),He!==null&&(t&&He.alternate!==null&&de.delete(He.key===null?Ue:He.key),k=f(He,k,Ue),Ze===null?_e=He:Ze.sibling=He,Ze=He);return t&&de.forEach(function(fr){return i(V,fr)}),We&&os(V,Ue),_e}function Ae(V,k,U,Y){if(U==null)throw Error(r(151));for(var _e=null,Ze=null,de=k,Ue=k=0,He=null,Je=U.next();de!==null&&!Je.done;Ue++,Je=U.next()){de.index>Ue?(He=de,de=null):He=de.sibling;var fr=z(V,de,Je.value,Y);if(fr===null){de===null&&(de=He);break}t&&de&&fr.alternate===null&&i(V,de),k=f(fr,k,Ue),Ze===null?_e=fr:Ze.sibling=fr,Ze=fr,de=He}if(Je.done)return a(V,de),We&&os(V,Ue),_e;if(de===null){for(;!Je.done;Ue++,Je=U.next())Je=Q(V,Je.value,Y),Je!==null&&(k=f(Je,k,Ue),Ze===null?_e=Je:Ze.sibling=Je,Ze=Je);return We&&os(V,Ue),_e}for(de=o(de);!Je.done;Ue++,Je=U.next())Je=q(de,V,Ue,Je.value,Y),Je!==null&&(t&&Je.alternate!==null&&de.delete(Je.key===null?Ue:Je.key),k=f(Je,k,Ue),Ze===null?_e=Je:Ze.sibling=Je,Ze=Je);return t&&de.forEach(function(JT){return i(V,JT)}),We&&os(V,Ue),_e}function dt(V,k,U,Y){if(typeof U=="object"&&U!==null&&U.type===re&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case H:e:{for(var _e=U.key;k!==null;){if(k.key===_e){if(_e=U.type,_e===re){if(k.tag===7){a(V,k.sibling),Y=h(k,U.props.children),Y.return=V,V=Y;break e}}else if(k.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===x&&Jr(_e)===k.type){a(V,k.sibling),Y=h(k,U.props),rl(Y,U),Y.return=V,V=Y;break e}a(V,k);break}else i(V,k);k=k.sibling}U.type===re?(Y=Qr(U.props.children,V.mode,Y,U.key),Y.return=V,V=Y):(Y=Bu(U.type,U.key,U.props,null,V.mode,Y),rl(Y,U),Y.return=V,V=Y)}return p(V);case ee:e:{for(_e=U.key;k!==null;){if(k.key===_e)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){a(V,k.sibling),Y=h(k,U.children||[]),Y.return=V,V=Y;break e}else{a(V,k);break}else i(V,k);k=k.sibling}Y=lf(U,V.mode,Y),Y.return=V,V=Y}return p(V);case x:return U=Jr(U),dt(V,k,U,Y)}if(vt(U))return fe(V,k,U,Y);if(L(U)){if(_e=L(U),typeof _e!="function")throw Error(r(150));return U=_e.call(U),Ae(V,k,U,Y)}if(typeof U.then=="function")return dt(V,k,Qu(U),Y);if(U.$$typeof===Re)return dt(V,k,Fu(V,U),Y);Wu(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(a(V,k.sibling),Y=h(k,U),Y.return=V,V=Y):(a(V,k),Y=of(U,V.mode,Y),Y.return=V,V=Y),p(V)):a(V,k)}return function(V,k,U,Y){try{sl=0;var _e=dt(V,k,U,Y);return qa=null,_e}catch(de){if(de===Ba||de===Ku)throw de;var Ze=Ln(29,de,null,V.mode);return Ze.lanes=Y,Ze.return=V,Ze}}}var ta=pg(!0),gg=pg(!1),Ws=!1;function Ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $s(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xs(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(nt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=zu(t),Jp(t,null,a),i}return Pu(t,o,i,a),zu(t)}function al(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,ko(t,a)}}function Tf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Af=!1;function ol(){if(Af){var t=za;if(t!==null)throw t}}function ll(t,i,a,o){Af=!1;var h=t.updateQueue;Ws=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==p&&(T===null?K.firstBaseUpdate=P:T.next=P,K.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;p=0,K=P=R=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(qe&z)===z:(o&z)===z){z!==0&&z===Pa&&(Af=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,Ae=T;z=i;var dt=a;switch(Ae.tag){case 1:if(fe=Ae.payload,typeof fe=="function"){Q=fe.call(dt,Q,z);break e}Q=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ae.payload,z=typeof fe=="function"?fe.call(dt,Q,z):fe,z==null)break e;Q=S({},Q,z);break e;case 2:Ws=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(P=K=q,R=Q):K=K.next=q,p|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);K===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),nr|=p,t.lanes=p,t.memoizedState=Q}}function yg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function _g(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)yg(a[t],i)}var Ha=D(null),$u=D(0);function vg(t,i){t=_s,se($u,t),se(Ha,i),_s=t|i.baseLanes}function Sf(){se($u,_s),se(Ha,Ha.current)}function xf(){_s=$u.current,G(Ha),G($u)}var jn=D(null),ti=null;function Zs(t){var i=t.alternate;se(Ot,Ot.current&1),se(jn,t),ti===null&&(i===null||Ha.current!==null||i.memoizedState!==null)&&(ti=t)}function wf(t){se(Ot,Ot.current),se(jn,t),ti===null&&(ti=t)}function Eg(t){t.tag===22?(se(Ot,Ot.current),se(jn,t),ti===null&&(ti=t)):Js()}function Js(){se(Ot,Ot.current),se(jn,jn.current)}function Un(t){G(jn),ti===t&&(ti=null),G(Ot)}var Ot=D(0);function Xu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dd(a)||kd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var cs=0,je=null,ht=null,Ut=null,Zu=!1,Fa=!1,na=!1,Ju=0,ul=0,Ga=null,Hb=0;function Rt(){throw Error(r(321))}function Rf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Vn(t[a],i[a]))return!1;return!0}function Nf(t,i,a,o,h,f){return cs=f,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?i0:Hf,na=!1,f=a(o,h),na=!1,Fa&&(f=Tg(i,a,o,h)),bg(t),f}function bg(t){F.H=fl;var i=ht!==null&&ht.next!==null;if(cs=0,Ut=ht=je=null,Zu=!1,ul=0,Ga=null,i)throw Error(r(300));t===null||Pt||(t=t.dependencies,t!==null&&Hu(t)&&(Pt=!0))}function Tg(t,i,a,o){je=t;var h=0;do{if(Fa&&(Ga=null),ul=0,Fa=!1,25<=h)throw Error(r(301));if(h+=1,Ut=ht=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=s0,f=i(a,o)}while(Fa);return f}function Fb(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(je.flags|=1024),i}function Cf(){var t=Ju!==0;return Ju=0,t}function If(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Of(t){if(Zu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Zu=!1}cs=0,Ut=ht=je=null,Fa=!1,ul=Ju=0,Ga=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?je.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function Dt(){if(ht===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var i=Ut===null?je.memoizedState:Ut.next;if(i!==null)Ut=i,ht=t;else{if(t===null)throw je.alternate===null?Error(r(467)):Error(r(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Ut===null?je.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var i=ul;return ul+=1,Ga===null&&(Ga=[]),t=fg(Ga,t,i),i=je,(Ut===null?i.memoizedState:Ut.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?i0:Hf),t}function tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===Re)return nn(t)}throw Error(r(438,String(t)))}function Df(t){var i=null,a=je.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=je.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ec(),je.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=M;return i.index++,a}function hs(t,i){return typeof i=="function"?i(t):i}function nc(t){var i=Dt();return kf(i,ht,t)}function kf(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var T=p=null,R=null,P=i,K=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(qe&Q)===Q:(cs&Q)===Q){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===Pa&&(K=!0);else if((cs&z)===z){P=P.next,z===Pa&&(K=!0);continue}else Q={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=Q,p=f):R=R.next=Q,je.lanes|=z,nr|=z;Q=P.action,na&&a(f,Q),f=P.hasEagerState?P.eagerState:a(f,Q)}else z={lane:Q,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=z,p=f):R=R.next=z,je.lanes|=Q,nr|=Q;P=P.next}while(P!==null&&P!==i);if(R===null?p=f:R.next=T,!Vn(f,t.memoizedState)&&(Pt=!0,K&&(a=za,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Mf(t){var i=Dt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Vn(f,i.memoizedState)||(Pt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Ag(t,i,a){var o=je,h=Dt(),f=We;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var p=!Vn((ht||h).memoizedState,a);if(p&&(h.memoizedState=a,Pt=!0),h=h.queue,jf(wg.bind(null,o,h,t),[t]),h.getSnapshot!==i||p||Ut!==null&&Ut.memoizedState.tag&1){if(o.flags|=2048,Ka(9,{destroy:void 0},xg.bind(null,o,h,a,i),null),mt===null)throw Error(r(349));f||(cs&127)!==0||Sg(o,i,a)}return a}function Sg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=je.updateQueue,i===null?(i=ec(),je.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function xg(t,i,a,o){i.value=a,i.getSnapshot=o,Rg(i)&&Ng(t)}function wg(t,i,a){return a(function(){Rg(i)&&Ng(t)})}function Rg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Vn(t,a)}catch{return!0}}function Ng(t){var i=Yr(t,2);i!==null&&wn(i,t,2)}function Vf(t){var i=gn();if(typeof t=="function"){var a=t;if(t=a(),na){Ne(!0);try{a()}finally{Ne(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:t},i}function Cg(t,i,a,o){return t.baseState=a,kf(t,ht,typeof o=="function"?o:hs)}function Gb(t,i,a,o,h){if(rc(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Ig(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Ig(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=F.T,p={};F.T=p;try{var T=a(h,o),R=F.S;R!==null&&R(p,T),Og(t,i,T)}catch(P){Lf(t,i,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=a(h,o),Og(t,i,f)}catch(P){Lf(t,i,P)}}function Og(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Dg(t,i,o)},function(o){return Lf(t,i,o)}):Dg(t,i,a)}function Dg(t,i,a){i.status="fulfilled",i.value=a,kg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ig(t,a)))}function Lf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,kg(i),i=i.next;while(i!==o)}t.action=null}function kg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Mg(t,i){return i}function Vg(t,i){if(We){var a=mt.formState;if(a!==null){e:{var o=je;if(We){if(pt){t:{for(var h=pt,f=ei;h.nodeType!==8;){if(!f){h=null;break t}if(h=ni(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=ni(h.nextSibling),o=h.data==="F!";break e}}Ys(o)}o=!1}o&&(i=a[0])}}return a=gn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:i},a.queue=o,a=e0.bind(null,je,o),o.dispatch=a,o=Vf(!1),f=qf.bind(null,je,!1,o.queue),o=gn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=Gb.bind(null,je,h,f,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function Lg(t){var i=Dt();return jg(i,ht,t)}function jg(t,i,a){if(i=kf(t,i,Mg)[0],t=nc(hs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=cl(i)}catch(p){throw p===Ba?Ku:p}else o=i;i=Dt();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(je.flags|=2048,Ka(9,{destroy:void 0},Kb.bind(null,h,a),null)),[o,f,t]}function Kb(t,i){t.action=i}function Ug(t){var i=Dt(),a=ht;if(a!==null)return jg(i,a,t);Dt(),i=i.memoizedState,a=Dt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ka(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=je.updateQueue,i===null&&(i=ec(),je.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Pg(){return Dt().memoizedState}function ic(t,i,a,o){var h=gn();je.flags|=t,h.memoizedState=Ka(1|i,{destroy:void 0},a,o===void 0?null:o)}function sc(t,i,a,o){var h=Dt();o=o===void 0?null:o;var f=h.memoizedState.inst;ht!==null&&o!==null&&Rf(o,ht.memoizedState.deps)?h.memoizedState=Ka(i,f,a,o):(je.flags|=t,h.memoizedState=Ka(1|i,f,a,o))}function zg(t,i){ic(8390656,8,t,i)}function jf(t,i){sc(2048,8,t,i)}function Yb(t){je.flags|=4;var i=je.updateQueue;if(i===null)i=ec(),je.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Bg(t){var i=Dt().memoizedState;return Yb({ref:i,nextImpl:t}),function(){if((nt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function qg(t,i){return sc(4,2,t,i)}function Hg(t,i){return sc(4,4,t,i)}function Fg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Gg(t,i,a){a=a!=null?a.concat([t]):null,sc(4,4,Fg.bind(null,i,t),a)}function Uf(){}function Kg(t,i){var a=Dt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Rf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Yg(t,i){var a=Dt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Rf(i,o[1]))return o[0];if(o=t(),na){Ne(!0);try{t()}finally{Ne(!1)}}return a.memoizedState=[o,i],o}function Pf(t,i,a){return a===void 0||(cs&1073741824)!==0&&(qe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Q0(),je.lanes|=t,nr|=t,a)}function Qg(t,i,a,o){return Vn(a,i)?a:Ha.current!==null?(t=Pf(t,a,o),Vn(t,i)||(Pt=!0),t):(cs&42)===0||(cs&1073741824)!==0&&(qe&261930)===0?(Pt=!0,t.memoizedState=a):(t=Q0(),je.lanes|=t,nr|=t,i)}function Wg(t,i,a,o,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var p=F.T,T={};F.T=T,qf(t,!1,i,a);try{var R=h(),P=F.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=qb(R,o);hl(t,i,K,Bn(t))}else hl(t,i,o,Bn(t))}catch(Q){hl(t,i,{then:function(){},status:"rejected",reason:Q},Bn())}finally{ie.p=f,p!==null&&T.types!==null&&(p.types=T.types),F.T=p}}function Qb(){}function zf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var h=$g(t).queue;Wg(t,h,i,ge,a===null?Qb:function(){return Xg(t),a(o)})}function $g(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Xg(t){var i=$g(t);i.next===null&&(i=t.alternate.memoizedState),hl(t,i.next.queue,{},Bn())}function Bf(){return nn(Nl)}function Zg(){return Dt().memoizedState}function Jg(){return Dt().memoizedState}function Wb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Bn();t=$s(a);var o=Xs(i,t,a);o!==null&&(wn(o,i,a),al(o,i,a)),i={cache:gf()},t.payload=i;return}i=i.return}}function $b(t,i,a){var o=Bn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},rc(t)?t0(i,a):(a=rf(t,i,a,o),a!==null&&(wn(a,t,o),n0(a,i,o)))}function e0(t,i,a){var o=Bn();hl(t,i,a,o)}function hl(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(t))t0(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var p=i.lastRenderedState,T=f(p,a);if(h.hasEagerState=!0,h.eagerState=T,Vn(T,p))return Pu(t,i,h,0),mt===null&&Uu(),!1}catch{}if(a=rf(t,i,h,o),a!==null)return wn(a,t,o),n0(a,i,o),!0}return!1}function qf(t,i,a,o){if(o={lane:2,revertLane:Ed(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(i)throw Error(r(479))}else i=rf(t,a,o,2),i!==null&&wn(i,t,2)}function rc(t){var i=t.alternate;return t===je||i!==null&&i===je}function t0(t,i){Fa=Zu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function n0(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,ko(t,a)}}var fl={readContext:nn,use:tc,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};fl.useEffectEvent=Rt;var i0={readContext:nn,use:tc,useCallback:function(t,i){return gn().memoizedState=[t,i===void 0?null:i],t},useContext:nn,useEffect:zg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ic(4194308,4,Fg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ic(4194308,4,t,i)},useInsertionEffect:function(t,i){ic(4,2,t,i)},useMemo:function(t,i){var a=gn();i=i===void 0?null:i;var o=t();if(na){Ne(!0);try{t()}finally{Ne(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=gn();if(a!==void 0){var h=a(i);if(na){Ne(!0);try{a(i)}finally{Ne(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=$b.bind(null,je,t),[o.memoizedState,t]},useRef:function(t){var i=gn();return t={current:t},i.memoizedState=t},useState:function(t){t=Vf(t);var i=t.queue,a=e0.bind(null,je,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Uf,useDeferredValue:function(t,i){var a=gn();return Pf(a,t,i)},useTransition:function(){var t=Vf(!1);return t=Wg.bind(null,je,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=je,h=gn();if(We){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),mt===null)throw Error(r(349));(qe&127)!==0||Sg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,zg(wg.bind(null,o,f,t),[t]),o.flags|=2048,Ka(9,{destroy:void 0},xg.bind(null,o,f,a,i),null),a},useId:function(){var t=gn(),i=mt.identifierPrefix;if(We){var a=Bi,o=zi;a=(o&~(1<<32-Qe(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Ju++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Hb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Bf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t){var i=gn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=qf.bind(null,je,!0,a),a.dispatch=i,[t,i]},useMemoCache:Df,useCacheRefresh:function(){return gn().memoizedState=Wb.bind(null,je)},useEffectEvent:function(t){var i=gn(),a={impl:t};return i.memoizedState=a,function(){if((nt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Hf={readContext:nn,use:tc,useCallback:Kg,useContext:nn,useEffect:jf,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Yg,useReducer:nc,useRef:Pg,useState:function(){return nc(hs)},useDebugValue:Uf,useDeferredValue:function(t,i){var a=Dt();return Qg(a,ht.memoizedState,t,i)},useTransition:function(){var t=nc(hs)[0],i=Dt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:Bf,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,i){var a=Dt();return Cg(a,ht,t,i)},useMemoCache:Df,useCacheRefresh:Jg};Hf.useEffectEvent=Bg;var s0={readContext:nn,use:tc,useCallback:Kg,useContext:nn,useEffect:jf,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Yg,useReducer:Mf,useRef:Pg,useState:function(){return Mf(hs)},useDebugValue:Uf,useDeferredValue:function(t,i){var a=Dt();return ht===null?Pf(a,t,i):Qg(a,ht.memoizedState,t,i)},useTransition:function(){var t=Mf(hs)[0],i=Dt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:Bf,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,i){var a=Dt();return ht!==null?Cg(a,ht,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Df,useCacheRefresh:Jg};s0.useEffectEvent=Bg;function Ff(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Gf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Bn(),h=$s(o);h.payload=i,a!=null&&(h.callback=a),i=Xs(t,h,o),i!==null&&(wn(i,t,o),al(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Bn(),h=$s(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Xs(t,h,o),i!==null&&(wn(i,t,o),al(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Bn(),o=$s(a);o.tag=2,i!=null&&(o.callback=i),i=Xs(t,o,a),i!==null&&(wn(i,t,a),al(i,t,a))}};function r0(t,i,a,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,o)||!Zo(h,f):!0}function a0(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Gf.enqueueReplaceState(i,i.state,null)}function ia(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function o0(t){ju(t)}function l0(t){console.error(t)}function u0(t){ju(t)}function ac(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function c0(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kf(t,i,a){return a=$s(a),a.tag=3,a.payload={element:null},a.callback=function(){ac(t,i)},a}function h0(t){return t=$s(t),t.tag=3,t}function f0(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){c0(i,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){c0(i,a,o),typeof h!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function Xb(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ua(i,a,h,!0),a=jn.current,a!==null){switch(a.tag){case 31:case 13:return ti===null?_c():a.alternate===null&&Nt===0&&(Nt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Yu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),yd(t,o,h)),!1;case 22:return a.flags|=65536,o===Yu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),yd(t,o,h)),!1}throw Error(r(435,a.tag))}return yd(t,o,h),_c(),!1}if(We)return i=jn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==hf&&(t=Error(r(422),{cause:o}),tl(Xn(t,a)))):(o!==hf&&(i=Error(r(423),{cause:o}),tl(Xn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Xn(o,a),h=Kf(t.stateNode,o,h),Tf(t,h),Nt!==4&&(Nt=2)),!1;var f=Error(r(520),{cause:o});if(f=Xn(f,a),El===null?El=[f]:El.push(f),Nt!==4&&(Nt=2),i===null)return!0;o=Xn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Kf(a.stateNode,o,t),Tf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ir===null||!ir.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=h0(h),f0(h,t,a,o),Tf(a,h),!1}a=a.return}while(a!==null);return!1}var Yf=Error(r(461)),Pt=!1;function sn(t,i,a,o){i.child=t===null?gg(i,null,a,o):ta(i,t.child,a,o)}function d0(t,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return Xr(i),o=Nf(t,i,a,p,f,h),T=Cf(),t!==null&&!Pt?(If(t,i,h),fs(t,i,h)):(We&&T&&uf(i),i.flags|=1,sn(t,i,o,h),i.child)}function m0(t,i,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!af(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,p0(t,i,f,o,h)):(t=Bu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!td(t,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(p,o)&&t.ref===i.ref)return fs(t,i,h)}return i.flags|=1,t=as(f,o),t.ref=i.ref,t.return=i,i.child=t}function p0(t,i,a,o,h){if(t!==null){var f=t.memoizedProps;if(Zo(f,o)&&t.ref===i.ref)if(Pt=!1,i.pendingProps=o=f,td(t,h))(t.flags&131072)!==0&&(Pt=!0);else return i.lanes=t.lanes,fs(t,i,h)}return Qf(t,i,a,o,h)}function g0(t,i,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return y0(t,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gu(i,f!==null?f.cachePool:null),f!==null?vg(i,f):Sf(),Eg(i);else return o=i.lanes=536870912,y0(t,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Gu(i,f.cachePool),vg(i,f),Js(),i.memoizedState=null):(t!==null&&Gu(i,null),Sf(),Js());return sn(t,i,h,a),i.child}function dl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function y0(t,i,a,o,h){var f=_f();return f=f===null?null:{parent:jt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Gu(i,null),Sf(),Eg(i),t!==null&&Ua(t,i,o,!0),i.childLanes=h,null}function oc(t,i){return i=uc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function _0(t,i,a){return ta(i,t.child,null,a),t=oc(i,i.pendingProps),t.flags|=2,Un(i),i.memoizedState=null,t}function Zb(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(We){if(o.mode==="hidden")return t=oc(i,o),i.lanes=536870912,dl(null,t);if(wf(i),(t=pt)?(t=Iy(t,ei),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Gs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},a=tg(t),a.return=i,i.child=a,tn=i,pt=null)):t=null,t===null)throw Ys(i);return i.lanes=536870912,null}return oc(i,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(wf(i),h)if(i.flags&256)i.flags&=-257,i=_0(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Pt||Ua(t,i,a,!1),h=(a&t.childLanes)!==0,Pt||h){if(o=mt,o!==null&&(p=Mo(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Yr(t,p),wn(o,t,p),Yf;_c(),i=_0(t,i,a)}else t=f.treeContext,pt=ni(p.nextSibling),tn=i,We=!0,Ks=null,ei=!1,t!==null&&sg(i,t),i=oc(i,o),i.flags|=4096;return i}return t=as(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function lc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Qf(t,i,a,o,h){return Xr(i),a=Nf(t,i,a,o,void 0,h),o=Cf(),t!==null&&!Pt?(If(t,i,h),fs(t,i,h)):(We&&o&&uf(i),i.flags|=1,sn(t,i,a,h),i.child)}function v0(t,i,a,o,h,f){return Xr(i),i.updateQueue=null,a=Tg(i,o,a,h),bg(t),o=Cf(),t!==null&&!Pt?(If(t,i,f),fs(t,i,f)):(We&&o&&uf(i),i.flags|=1,sn(t,i,a,f),i.child)}function E0(t,i,a,o,h){if(Xr(i),i.stateNode===null){var f=Ma,p=a.contextType;typeof p=="object"&&p!==null&&(f=nn(p)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Gf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Ef(i),p=a.contextType,f.context=typeof p=="object"&&p!==null?nn(p):Ma,f.state=i.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Ff(i,a,p,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Gf.enqueueReplaceState(f,f.state,null),ll(i,o,f,h),ol(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var T=i.memoizedProps,R=ia(a,T);f.props=R;var P=f.context,K=a.contextType;p=Ma,typeof K=="object"&&K!==null&&(p=nn(K));var Q=a.getDerivedStateFromProps;K=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==p)&&a0(i,f,o,p),Ws=!1;var z=i.memoizedState;f.state=z,ll(i,o,f,h),ol(),P=i.memoizedState,T||z!==P||Ws?(typeof Q=="function"&&(Ff(i,a,Q,o),P=i.memoizedState),(R=Ws||r0(i,a,R,o,z,P,p))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=P),f.props=o,f.state=P,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,bf(t,i),p=i.memoizedProps,K=ia(a,p),f.props=K,Q=i.pendingProps,z=f.context,P=a.contextType,R=Ma,typeof P=="object"&&P!==null&&(R=nn(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Q||z!==R)&&a0(i,f,o,R),Ws=!1,z=i.memoizedState,f.state=z,ll(i,o,f,h),ol();var q=i.memoizedState;p!==Q||z!==q||Ws||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof T=="function"&&(Ff(i,a,T,o),q=i.memoizedState),(K=Ws||r0(i,a,K,o,z,q,R)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),f.props=o,f.state=q,f.context=R,o=K):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,lc(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=ta(i,t.child,null,h),i.child=ta(i,null,a,h)):sn(t,i,a,h),i.memoizedState=f.state,t=i.child):t=fs(t,i,h),t}function b0(t,i,a,o){return Wr(),i.flags|=256,sn(t,i,a,o),i.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(t){return{baseLanes:t,cachePool:cg()}}function Xf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=zn),t}function T0(t,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),p&&(h=!0,i.flags&=-129),p=(i.flags&32)!==0,i.flags&=-33,t===null){if(We){if(h?Zs(i):Js(),(t=pt)?(t=Iy(t,ei),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Gs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},a=tg(t),a.return=i,i.child=a,tn=i,pt=null)):t=null,t===null)throw Ys(i);return kd(t)?i.lanes=32:i.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Js(),h=i.mode,T=uc({mode:"hidden",children:T},h),o=Qr(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,o=i.child,o.memoizedState=$f(a),o.childLanes=Xf(t,p,a),i.memoizedState=Wf,dl(null,o)):(Zs(i),Zf(i,T))}var R=t.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)i.flags&256?(Zs(i),i.flags&=-257,i=Jf(t,i,a)):i.memoizedState!==null?(Js(),i.child=t.child,i.flags|=128,i=null):(Js(),T=o.fallback,h=i.mode,o=uc({mode:"visible",children:o.children},h),T=Qr(T,h,a,null),T.flags|=2,o.return=i,T.return=i,o.sibling=T,i.child=o,ta(i,t.child,null,a),o=i.child,o.memoizedState=$f(a),o.childLanes=Xf(t,p,a),i.memoizedState=Wf,i=dl(null,o));else if(Zs(i),kd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(r(419)),o.stack="",o.digest=p,tl({value:o,source:null,stack:null}),i=Jf(t,i,a)}else if(Pt||Ua(t,i,a,!1),p=(a&t.childLanes)!==0,Pt||p){if(p=mt,p!==null&&(o=Mo(p,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Yr(t,o),wn(p,t,o),Yf;Dd(T)||_c(),i=Jf(t,i,a)}else Dd(T)?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,pt=ni(T.nextSibling),tn=i,We=!0,Ks=null,ei=!1,t!==null&&sg(i,t),i=Zf(i,o.children),i.flags|=4096);return i}return h?(Js(),T=o.fallback,h=i.mode,R=t.child,P=R.sibling,o=as(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?T=as(P,T):(T=Qr(T,h,a,null),T.flags|=2),T.return=i,o.return=i,o.sibling=T,i.child=o,dl(null,o),o=i.child,T=t.child.memoizedState,T===null?T=$f(a):(h=T.cachePool,h!==null?(R=jt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=cg(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Xf(t,p,a),i.memoizedState=Wf,dl(t.child,o)):(Zs(i),a=t.child,t=a.sibling,a=as(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(p=i.deletions,p===null?(i.deletions=[t],i.flags|=16):p.push(t)),i.child=a,i.memoizedState=null,a)}function Zf(t,i){return i=uc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function uc(t,i){return t=Ln(22,t,null,i),t.lanes=0,t}function Jf(t,i,a){return ta(i,t.child,null,a),t=Zf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function A0(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),mf(t.return,i,a)}function ed(t,i,a,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function S0(t,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Ot.current,T=(p&2)!==0;if(T?(p=p&1|2,i.flags|=128):p&=1,se(Ot,p),sn(t,i,o,a),o=We?el:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A0(t,a,i);else if(t.tag===19)A0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Xu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ed(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Xu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ed(i,!0,a,null,f,o);break;case"together":ed(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function fs(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),nr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ua(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=as(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=as(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function td(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function Jb(t,i,a){switch(i.tag){case 3:Et(i,i.stateNode.containerInfo),Qs(i,jt,t.memoizedState.cache),Wr();break;case 27:case 5:Ti(i);break;case 4:Et(i,i.stateNode.containerInfo);break;case 10:Qs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,wf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Zs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?T0(t,i,a):(Zs(i),t=fs(t,i,a),t!==null?t.sibling:null);Zs(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ua(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return S0(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Ot,Ot.current),o)break;return null;case 22:return i.lanes=0,g0(t,i,a,i.pendingProps);case 24:Qs(i,jt,t.memoizedState.cache)}return fs(t,i,a)}function x0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pt=!0;else{if(!td(t,a)&&(i.flags&128)===0)return Pt=!1,Jb(t,i,a);Pt=(t.flags&131072)!==0}else Pt=!1,We&&(i.flags&1048576)!==0&&ig(i,el,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Jr(i.elementType),i.type=t,typeof t=="function")af(t)?(o=ia(t,o),i.tag=1,i=E0(null,i,t,o,a)):(i.tag=0,i=Qf(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===it){i.tag=11,i=d0(null,i,t,o,a);break e}else if(h===N){i.tag=14,i=m0(null,i,t,o,a);break e}}throw i=ut(t)||t,Error(r(306,i,""))}}return i;case 0:return Qf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ia(o,i.pendingProps),E0(t,i,o,h,a);case 3:e:{if(Et(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,bf(t,i),ll(i,o,null,a);var p=i.memoizedState;if(o=p.cache,Qs(i,jt,o),o!==f.cache&&pf(i,[jt],a,!0),ol(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=b0(t,i,o,a);break e}else if(o!==h){h=Xn(Error(r(424)),i),tl(h),i=b0(t,i,o,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,pt=ni(t.firstChild),tn=i,We=!0,Ks=null,ei=!0,a=gg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Wr(),o===h){i=fs(t,i,a);break e}sn(t,i,o,a)}i=i.child}return i;case 26:return lc(t,i),t===null?(a=Ly(i.type,null,i.pendingProps,null))?i.memoizedState=a:We||(a=i.type,t=i.pendingProps,o=xc(Oe.current).createElement(a),o[Mt]=i,o[Qt]=t,rn(o,a,t),Vt(o),i.stateNode=o):i.memoizedState=Ly(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ti(i),t===null&&We&&(o=i.stateNode=ky(i.type,i.pendingProps,Oe.current),tn=i,ei=!0,h=pt,or(i.type)?(Md=h,pt=ni(o.firstChild)):pt=h),sn(t,i,i.pendingProps.children,a),lc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&We&&((h=o=pt)&&(o=CT(o,i.type,i.pendingProps,ei),o!==null?(i.stateNode=o,tn=i,pt=ni(o.firstChild),ei=!1,h=!0):h=!1),h||Ys(i)),Ti(i),h=i.type,f=i.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,Cd(h,f)?o=null:p!==null&&Cd(h,p)&&(i.flags|=32),i.memoizedState!==null&&(h=Nf(t,i,Fb,null,null,a),Nl._currentValue=h),lc(t,i),sn(t,i,o,a),i.child;case 6:return t===null&&We&&((t=a=pt)&&(a=IT(a,i.pendingProps,ei),a!==null?(i.stateNode=a,tn=i,pt=null,t=!0):t=!1),t||Ys(i)),null;case 13:return T0(t,i,a);case 4:return Et(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=ta(i,null,o,a):sn(t,i,o,a),i.child;case 11:return d0(t,i,i.type,i.pendingProps,a);case 7:return sn(t,i,i.pendingProps,a),i.child;case 8:return sn(t,i,i.pendingProps.children,a),i.child;case 12:return sn(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Qs(i,i.type,o.value),sn(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Xr(i),h=nn(h),o=o(h),i.flags|=1,sn(t,i,o,a),i.child;case 14:return m0(t,i,i.type,i.pendingProps,a);case 15:return p0(t,i,i.type,i.pendingProps,a);case 19:return S0(t,i,a);case 31:return Zb(t,i,a);case 22:return g0(t,i,a,i.pendingProps);case 24:return Xr(i),o=nn(jt),t===null?(h=_f(),h===null&&(h=mt,f=gf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},Ef(i),Qs(i,jt,h)):((t.lanes&a)!==0&&(bf(t,i),ll(i,null,null,a),ol()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Qs(i,jt,o)):(o=f.cache,Qs(i,jt,o),o!==h.cache&&pf(i,[jt],a,!0))),sn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ds(t){t.flags|=4}function nd(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Z0())t.flags|=8192;else throw ea=Yu,vf}else t.flags&=-16777217}function w0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!By(i))if(Z0())t.flags|=8192;else throw ea=Yu,vf}function cc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?gu():536870912,t.lanes|=i,$a|=i)}function ml(t,i){if(!We)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function gt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function eT(t,i,a){var o=i.pendingProps;switch(cf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return gt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),us(jt),et(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ja(i)?ds(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ff())),gt(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(ds(i),f!==null?(gt(i),w0(i,f)):(gt(i),nd(i,h,null,o,a))):f?f!==t.memoizedState?(ds(i),gt(i),w0(i,f)):(gt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&ds(i),gt(i),nd(i,h,t,o,a)),null;case 27:if(Os(i),a=Oe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ds(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return gt(i),null}t=le.current,ja(i)?rg(i):(t=ky(h,o,a),i.stateNode=t,ds(i))}return gt(i),null;case 5:if(Os(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ds(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return gt(i),null}if(f=le.current,ja(i))rg(i);else{var p=xc(Oe.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Mt]=i,f[Qt]=o;e:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break e;for(;p.sibling===null;){if(p.return===null||p.return===i)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=f;e:switch(rn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ds(i)}}return gt(i),nd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&ds(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=Oe.current,ja(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Mt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Ty(t.nodeValue,a)),t||Ys(i,!0)}else t=xc(t).createTextNode(o),t[Mt]=i,i.stateNode=t}return gt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=ja(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Mt]=i}else Wr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),t=!1}else a=ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Un(i),i):(Un(i),null);if((i.flags&128)!==0)throw Error(r(558))}return gt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ja(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Mt]=i}else Wr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),h=!1}else h=ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Un(i),i):(Un(i),null)}return Un(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),cc(i,i.updateQueue),gt(i),null);case 4:return et(),t===null&&Sd(i.stateNode.containerInfo),gt(i),null;case 10:return us(i.type),gt(i),null;case 19:if(G(Ot),o=i.memoizedState,o===null)return gt(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)ml(o,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Xu(t),f!==null){for(i.flags|=128,ml(o,!1),t=f.updateQueue,i.updateQueue=t,cc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)eg(a,t),a=a.sibling;return se(Ot,Ot.current&1|2),We&&os(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&Zt()>pc&&(i.flags|=128,h=!0,ml(o,!1),i.lanes=4194304)}else{if(!h)if(t=Xu(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,cc(i,t),ml(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!We)return gt(i),null}else 2*Zt()-o.renderingStartTime>pc&&a!==536870912&&(i.flags|=128,h=!0,ml(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Zt(),t.sibling=null,a=Ot.current,se(Ot,h?a&1|2:a&1),We&&os(i,o.treeForkCount),t):(gt(i),null);case 22:case 23:return Un(i),xf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),a=i.updateQueue,a!==null&&cc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&G(Zr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),us(jt),gt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function tT(t,i){switch(cf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return us(jt),et(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Os(i),null;case 31:if(i.memoizedState!==null){if(Un(i),i.alternate===null)throw Error(r(340));Wr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Un(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Wr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return G(Ot),null;case 4:return et(),null;case 10:return us(i.type),null;case 22:case 23:return Un(i),xf(),t!==null&&G(Zr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return us(jt),null;case 25:return null;default:return null}}function R0(t,i){switch(cf(i),i.tag){case 3:us(jt),et();break;case 26:case 27:case 5:Os(i);break;case 4:et();break;case 31:i.memoizedState!==null&&Un(i);break;case 13:Un(i);break;case 19:G(Ot);break;case 10:us(i.type);break;case 22:case 23:Un(i),xf(),t!==null&&G(Zr);break;case 24:us(jt)}}function pl(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(T){lt(i,i.return,T)}}function er(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=i;var R=a,P=T;try{P()}catch(K){lt(h,R,K)}}}o=o.next}while(o!==f)}}catch(K){lt(i,i.return,K)}}function N0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{_g(i,a)}catch(o){lt(t,t.return,o)}}}function C0(t,i,a){a.props=ia(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){lt(t,i,o)}}function gl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){lt(t,i,h)}}function qi(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){lt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){lt(t,i,h)}else a.current=null}function I0(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){lt(t,t.return,h)}}function id(t,i,a){try{var o=t.stateNode;AT(o,t.type,a,i),o[Qt]=i}catch(h){lt(t,t.return,h)}}function O0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&or(t.type)||t.tag===4}function sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||O0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&or(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rd(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ci));else if(o!==4&&(o===27&&or(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(rd(t,i,a),t=t.sibling;t!==null;)rd(t,i,a),t=t.sibling}function hc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&or(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(hc(t,i,a),t=t.sibling;t!==null;)hc(t,i,a),t=t.sibling}function D0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);rn(i,o,a),i[Mt]=t,i[Qt]=a}catch(f){lt(t,t.return,f)}}var ms=!1,zt=!1,ad=!1,k0=typeof WeakSet=="function"?WeakSet:Set,$t=null;function nT(t,i){if(t=t.containerInfo,Rd=Dc,t=Gp(t),Zh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,T=-1,R=-1,P=0,K=0,Q=t,z=null;t:for(;;){for(var q;Q!==a||h!==0&&Q.nodeType!==3||(T=p+h),Q!==f||o!==0&&Q.nodeType!==3||(R=p+o),Q.nodeType===3&&(p+=Q.nodeValue.length),(q=Q.firstChild)!==null;)z=Q,Q=q;for(;;){if(Q===t)break t;if(z===a&&++P===h&&(T=p),z===f&&++K===o&&(R=p),(q=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=q}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nd={focusedElem:t,selectionRange:a},Dc=!1,$t=i;$t!==null;)if(i=$t,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,$t=t;else for(;$t!==null;){switch(i=$t,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var fe=ia(a.type,h);t=o.getSnapshotBeforeUpdate(fe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){lt(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Od(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Od(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,$t=t;break}$t=i.return}}function M0(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:gs(t,a),o&4&&pl(5,a);break;case 1:if(gs(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(p){lt(a,a.return,p)}else{var h=ia(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(p){lt(a,a.return,p)}}o&64&&N0(a),o&512&&gl(a,a.return);break;case 3:if(gs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{_g(t,i)}catch(p){lt(a,a.return,p)}}break;case 27:i===null&&o&4&&D0(a);case 26:case 5:gs(t,a),i===null&&o&4&&I0(a),o&512&&gl(a,a.return);break;case 12:gs(t,a);break;case 31:gs(t,a),o&4&&j0(t,a);break;case 13:gs(t,a),o&4&&U0(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=hT.bind(null,a),OT(t,a))));break;case 22:if(o=a.memoizedState!==null||ms,!o){i=i!==null&&i.memoizedState!==null||zt,h=ms;var f=zt;ms=o,(zt=i)&&!f?ys(t,a,(a.subtreeFlags&8772)!==0):gs(t,a),ms=h,zt=f}break;case 30:break;default:gs(t,a)}}function V0(t){var i=t.alternate;i!==null&&(t.alternate=null,V0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ea(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Tn=!1;function ps(t,i,a){for(a=a.child;a!==null;)L0(t,i,a),a=a.sibling}function L0(t,i,a){if(ce&&typeof ce.onCommitFiberUnmount=="function")try{ce.onCommitFiberUnmount(me,a)}catch{}switch(a.tag){case 26:zt||qi(a,i),ps(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||qi(a,i);var o=At,h=Tn;or(a.type)&&(At=a.stateNode,Tn=!1),ps(t,i,a),xl(a.stateNode),At=o,Tn=h;break;case 5:zt||qi(a,i);case 6:if(o=At,h=Tn,At=null,ps(t,i,a),At=o,Tn=h,At!==null)if(Tn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(a.stateNode)}catch(f){lt(a,i,f)}else try{At.removeChild(a.stateNode)}catch(f){lt(a,i,f)}break;case 18:At!==null&&(Tn?(t=At,Ny(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),so(t)):Ny(At,a.stateNode));break;case 4:o=At,h=Tn,At=a.stateNode.containerInfo,Tn=!0,ps(t,i,a),At=o,Tn=h;break;case 0:case 11:case 14:case 15:er(2,a,i),zt||er(4,a,i),ps(t,i,a);break;case 1:zt||(qi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&C0(a,i,o)),ps(t,i,a);break;case 21:ps(t,i,a);break;case 22:zt=(o=zt)||a.memoizedState!==null,ps(t,i,a),zt=o;break;default:ps(t,i,a)}}function j0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{so(t)}catch(a){lt(i,i.return,a)}}}function U0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{so(t)}catch(a){lt(i,i.return,a)}}function iT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new k0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new k0),i;default:throw Error(r(435,t.tag))}}function fc(t,i){var a=iT(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=fT.bind(null,t,o);o.then(h,h)}})}function An(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,p=i,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(or(T.type)){At=T.stateNode,Tn=!1;break e}break;case 5:At=T.stateNode,Tn=!1;break e;case 3:case 4:At=T.stateNode.containerInfo,Tn=!0;break e}T=T.return}if(At===null)throw Error(r(160));L0(f,p,h),At=null,Tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)P0(i,t),i=i.sibling}var gi=null;function P0(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(i,t),Sn(t),o&4&&(er(3,t,t.return),pl(3,t),er(5,t,t.return));break;case 1:An(i,t),Sn(t),o&512&&(zt||a===null||qi(a,a.return)),o&64&&ms&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=gi;if(An(i,t),Sn(t),o&512&&(zt||a===null||qi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ni]||f[Mt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),rn(f,o,a),f[Mt]=t,Vt(f),o=f;break e;case"link":var p=Py("link","href",h).get(o+(a.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(o),rn(f,o,a),h.head.appendChild(f);break;case"meta":if(p=Py("meta","content",h).get(o+(a.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(T,1);break t}}f=h.createElement(o),rn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Mt]=t,Vt(f),o=f}t.stateNode=o}else zy(h,t.type,t.stateNode);else t.stateNode=Uy(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?zy(h,t.type,t.stateNode):Uy(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&id(t,t.memoizedProps,a.memoizedProps)}break;case 27:An(i,t),Sn(t),o&512&&(zt||a===null||qi(a,a.return)),a!==null&&o&4&&id(t,t.memoizedProps,a.memoizedProps);break;case 5:if(An(i,t),Sn(t),o&512&&(zt||a===null||qi(a,a.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(fe){lt(t,t.return,fe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,id(t,h,a!==null?a.memoizedProps:h)),o&1024&&(ad=!0);break;case 6:if(An(i,t),Sn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(fe){lt(t,t.return,fe)}}break;case 3:if(Nc=null,h=gi,gi=wc(i.containerInfo),An(i,t),gi=h,Sn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{so(i.containerInfo)}catch(fe){lt(t,t.return,fe)}ad&&(ad=!1,z0(t));break;case 4:o=gi,gi=wc(t.stateNode.containerInfo),An(i,t),Sn(t),gi=o;break;case 12:An(i,t),Sn(t);break;case 31:An(i,t),Sn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 13:An(i,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mc=Zt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,P=ms,K=zt;if(ms=P||h,zt=K||R,An(i,t),zt=K,ms=P,Sn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||ms||zt||sa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=R.stateNode;var Q=R.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(fe){lt(R,R.return,fe)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(fe){lt(R,R.return,fe)}}}else if(i.tag===18){if(a===null){R=i;try{var q=R.stateNode;h?Cy(q,!0):Cy(R.stateNode,!1)}catch(fe){lt(R,R.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,fc(t,a))));break;case 19:An(i,t),Sn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 30:break;case 21:break;default:An(i,t),Sn(t)}}function Sn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(O0(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=sd(t);hc(t,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(bn(p,""),a.flags&=-33);var T=sd(t);hc(t,T,p);break;case 3:case 4:var R=a.stateNode.containerInfo,P=sd(t);rd(t,P,R);break;default:throw Error(r(161))}}catch(K){lt(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function z0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;z0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function gs(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)M0(t,i.alternate,i),i=i.sibling}function sa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:er(4,i,i.return),sa(i);break;case 1:qi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&C0(i,i.return,a),sa(i);break;case 27:xl(i.stateNode);case 26:case 5:qi(i,i.return),sa(i);break;case 22:i.memoizedState===null&&sa(i);break;case 30:sa(i);break;default:sa(i)}t=t.sibling}}function ys(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,p=f.flags;switch(f.tag){case 0:case 11:case 15:ys(h,f,a),pl(4,f);break;case 1:if(ys(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){lt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)yg(R[h],T)}catch(P){lt(o,o.return,P)}}a&&p&64&&N0(f),gl(f,f.return);break;case 27:D0(f);case 26:case 5:ys(h,f,a),a&&o===null&&p&4&&I0(f),gl(f,f.return);break;case 12:ys(h,f,a);break;case 31:ys(h,f,a),a&&p&4&&j0(h,f);break;case 13:ys(h,f,a),a&&p&4&&U0(h,f);break;case 22:f.memoizedState===null&&ys(h,f,a),gl(f,f.return);break;case 30:break;default:ys(h,f,a)}i=i.sibling}}function od(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function ld(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t))}function yi(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)B0(t,i,a,o),i=i.sibling}function B0(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:yi(t,i,a,o),h&2048&&pl(9,i);break;case 1:yi(t,i,a,o);break;case 3:yi(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){yi(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){lt(i,i.return,R)}}else yi(t,i,a,o);break;case 31:yi(t,i,a,o);break;case 13:yi(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,p=i.alternate,i.memoizedState!==null?f._visibility&2?yi(t,i,a,o):yl(t,i):f._visibility&2?yi(t,i,a,o):(f._visibility|=2,Ya(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&od(p,i);break;case 24:yi(t,i,a,o),h&2048&&ld(i.alternate,i);break;default:yi(t,i,a,o)}}function Ya(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,p=i,T=a,R=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ya(f,p,T,R,h),pl(8,p);break;case 23:break;case 22:var K=p.stateNode;p.memoizedState!==null?K._visibility&2?Ya(f,p,T,R,h):yl(f,p):(K._visibility|=2,Ya(f,p,T,R,h)),h&&P&2048&&od(p.alternate,p);break;case 24:Ya(f,p,T,R,h),h&&P&2048&&ld(p.alternate,p);break;default:Ya(f,p,T,R,h)}i=i.sibling}}function yl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:yl(a,o),h&2048&&od(o.alternate,o);break;case 24:yl(a,o),h&2048&&ld(o.alternate,o);break;default:yl(a,o)}i=i.sibling}}var _l=8192;function Qa(t,i,a){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)q0(t,i,a),t=t.sibling}function q0(t,i,a){switch(t.tag){case 26:Qa(t,i,a),t.flags&_l&&t.memoizedState!==null&&HT(a,gi,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,i,a);break;case 3:case 4:var o=gi;gi=wc(t.stateNode.containerInfo),Qa(t,i,a),gi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=_l,_l=16777216,Qa(t,i,a),_l=o):Qa(t,i,a));break;default:Qa(t,i,a)}}function H0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function vl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];$t=o,G0(o,t)}H0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)F0(t),t=t.sibling}function F0(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&er(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,dc(t)):vl(t);break;default:vl(t)}}function dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];$t=o,G0(o,t)}H0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:er(8,i,i.return),dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,dc(i));break;default:dc(i)}t=t.sibling}}function G0(t,i){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:er(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:nl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,$t=o;else e:for(a=t;$t!==null;){o=$t;var h=o.sibling,f=o.return;if(V0(o),o===a){$t=null;break e}if(h!==null){h.return=f,$t=h;break e}$t=f}}}var sT={getCacheForType:function(t){var i=nn(jt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return nn(jt).controller.signal}},rT=typeof WeakMap=="function"?WeakMap:Map,nt=0,mt=null,Pe=null,qe=0,ot=0,Pn=null,tr=!1,Wa=!1,ud=!1,_s=0,Nt=0,nr=0,ra=0,cd=0,zn=0,$a=0,El=null,xn=null,hd=!1,mc=0,K0=0,pc=1/0,gc=null,ir=null,Ft=0,sr=null,Xa=null,vs=0,fd=0,dd=null,Y0=null,bl=0,md=null;function Bn(){return(nt&2)!==0&&qe!==0?qe&-qe:F.T!==null?Ed():yu()}function Q0(){if(zn===0)if((qe&536870912)===0||We){var t=Gn;Gn<<=1,(Gn&3932160)===0&&(Gn=262144),zn=t}else zn=536870912;return t=jn.current,t!==null&&(t.flags|=32),zn}function wn(t,i,a){(t===mt&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(Za(t,0),rr(t,qe,zn,!1)),kr(t,a),((nt&2)===0||t!==mt)&&(t===mt&&((nt&2)===0&&(ra|=a),Nt===4&&rr(t,qe,zn,!1)),Hi(t))}function W0(t,i,a){if((nt&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||oi(t,i),h=o?lT(t,i):gd(t,i,!0),f=o;do{if(h===0){Wa&&!o&&rr(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!aT(a)){h=gd(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){i=p;e:{var T=t;h=El;var R=T.current.memoizedState.isDehydrated;if(R&&(Za(T,p).flags|=256),p=gd(T,p,!1),p!==2){if(ud&&!R){T.errorRecoveryDisabledLanes|=f,ra|=f,h=4;break e}f=xn,xn=h,f!==null&&(xn===null?xn=f:xn.push.apply(xn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Za(t,0),rr(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:rr(o,i,zn,!tr);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=mc+300-Zt(),10<h)){if(rr(o,i,zn,!tr),xi(o,0,!0)!==0)break e;vs=i,o.timeoutHandle=wy($0.bind(null,o,a,xn,gc,hd,i,zn,ra,$a,tr,f,"Throttled",-0,0),h);break e}$0(o,a,xn,gc,hd,i,zn,ra,$a,tr,f,null,-0,0)}}break}while(!0);Hi(t)}function $0(t,i,a,o,h,f,p,T,R,P,K,Q,z,q){if(t.timeoutHandle=-1,Q=i.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},q0(i,f,Q);var fe=(f&62914560)===f?mc-Zt():(f&4194048)===f?K0-Zt():0;if(fe=FT(Q,fe),fe!==null){vs=f,t.cancelPendingCommit=fe(sy.bind(null,t,i,f,a,o,h,p,T,R,K,Q,null,z,q)),rr(t,f,p,!P);return}}sy(t,i,f,a,o,h,p,T,R)}function aT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Vn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function rr(t,i,a,o){i&=~cd,i&=~ra,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-Qe(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&Mr(t,a,i)}function yc(){return(nt&6)===0?(Tl(0),!1):!0}function pd(){if(Pe!==null){if(ot===0)var t=Pe.return;else t=Pe,ls=$r=null,Of(t),qa=null,sl=0,t=Pe;for(;t!==null;)R0(t.alternate,t),t=t.return;Pe=null}}function Za(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,wT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),vs=0,pd(),mt=t,Pe=a=as(t.current,null),qe=i,ot=0,Pn=null,tr=!1,Wa=oi(t,i),ud=!1,$a=zn=cd=ra=nr=Nt=0,xn=El=null,hd=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-Qe(o),f=1<<h;i|=t[h],o&=~f}return _s=i,Uu(),a}function X0(t,i){je=null,F.H=fl,i===Ba||i===Ku?(i=dg(),ot=3):i===vf?(i=dg(),ot=4):ot=i===Yf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pn=i,Pe===null&&(Nt=1,ac(t,Xn(i,t.current)))}function Z0(){var t=jn.current;return t===null?!0:(qe&4194048)===qe?ti===null:(qe&62914560)===qe||(qe&536870912)!==0?t===ti:!1}function J0(){var t=F.H;return F.H=fl,t===null?fl:t}function ey(){var t=F.A;return F.A=sT,t}function _c(){Nt=4,tr||(qe&4194048)!==qe&&jn.current!==null||(Wa=!0),(nr&134217727)===0&&(ra&134217727)===0||mt===null||rr(mt,qe,zn,!1)}function gd(t,i,a){var o=nt;nt|=2;var h=J0(),f=ey();(mt!==t||qe!==i)&&(gc=null,Za(t,i)),i=!1;var p=Nt;e:do try{if(ot!==0&&Pe!==null){var T=Pe,R=Pn;switch(ot){case 8:pd(),p=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(i=!0);var P=ot;if(ot=0,Pn=null,Ja(t,T,R,P),a&&Wa){p=0;break e}break;default:P=ot,ot=0,Pn=null,Ja(t,T,R,P)}}oT(),p=Nt;break}catch(K){X0(t,K)}while(!0);return i&&t.shellSuspendCounter++,ls=$r=null,nt=o,F.H=h,F.A=f,Pe===null&&(mt=null,qe=0,Uu()),p}function oT(){for(;Pe!==null;)ty(Pe)}function lT(t,i){var a=nt;nt|=2;var o=J0(),h=ey();mt!==t||qe!==i?(gc=null,pc=Zt()+500,Za(t,i)):Wa=oi(t,i);e:do try{if(ot!==0&&Pe!==null){i=Pe;var f=Pn;t:switch(ot){case 1:ot=0,Pn=null,Ja(t,i,f,1);break;case 2:case 9:if(hg(f)){ot=0,Pn=null,ny(i);break}i=function(){ot!==2&&ot!==9||mt!==t||(ot=7),Hi(t)},f.then(i,i);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:hg(f)?(ot=0,Pn=null,ny(i)):(ot=0,Pn=null,Ja(t,i,f,7));break;case 5:var p=null;switch(Pe.tag){case 26:p=Pe.memoizedState;case 5:case 27:var T=Pe;if(p?By(p):T.stateNode.complete){ot=0,Pn=null;var R=T.sibling;if(R!==null)Pe=R;else{var P=T.return;P!==null?(Pe=P,vc(P)):Pe=null}break t}}ot=0,Pn=null,Ja(t,i,f,5);break;case 6:ot=0,Pn=null,Ja(t,i,f,6);break;case 8:pd(),Nt=6;break e;default:throw Error(r(462))}}uT();break}catch(K){X0(t,K)}while(!0);return ls=$r=null,F.H=o,F.A=h,nt=a,Pe!==null?0:(mt=null,qe=0,Uu(),Nt)}function uT(){for(;Pe!==null&&!Do();)ty(Pe)}function ty(t){var i=x0(t.alternate,t,_s);t.memoizedProps=t.pendingProps,i===null?vc(t):Pe=i}function ny(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=v0(a,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=v0(a,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:Of(i);default:R0(a,i),i=Pe=eg(i,_s),i=x0(a,i,_s)}t.memoizedProps=t.pendingProps,i===null?vc(t):Pe=i}function Ja(t,i,a,o){ls=$r=null,Of(i),qa=null,sl=0;var h=i.return;try{if(Xb(t,h,i,a,qe)){Nt=1,ac(t,Xn(a,t.current)),Pe=null;return}}catch(f){if(h!==null)throw Pe=h,f;Nt=1,ac(t,Xn(a,t.current)),Pe=null;return}i.flags&32768?(We||o===1?t=!0:Wa||(qe&536870912)!==0?t=!1:(tr=t=!0,(o===2||o===9||o===3||o===6)&&(o=jn.current,o!==null&&o.tag===13&&(o.flags|=16384))),iy(i,t)):vc(i)}function vc(t){var i=t;do{if((i.flags&32768)!==0){iy(i,tr);return}t=i.return;var a=eT(i.alternate,i,_s);if(a!==null){Pe=a;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=t}while(i!==null);Nt===0&&(Nt=5)}function iy(t,i){do{var a=tT(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);Nt=6,Pe=null}function sy(t,i,a,o,h,f,p,T,R){t.cancelPendingCommit=null;do Ec();while(Ft!==0);if((nt&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=sf,Qh(t,a,f,p,T,R),t===mt&&(Pe=mt=null,qe=0),Xa=i,sr=t,vs=a,fd=f,dd=h,Y0=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,dT(ue,function(){return uy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=ie.p,ie.p=2,p=nt,nt|=4;try{nT(t,i,a)}finally{nt=p,ie.p=h,F.T=o}}Ft=1,ry(),ay(),oy()}}function ry(){if(Ft===1){Ft=0;var t=sr,i=Xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=ie.p;ie.p=2;var h=nt;nt|=4;try{P0(i,t);var f=Nd,p=Gp(t.containerInfo),T=f.focusedElem,R=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Fp(T.ownerDocument.documentElement,T)){if(R!==null&&Zh(T)){var P=R.start,K=R.end;if(K===void 0&&(K=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(K,T.value.length);else{var Q=T.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var q=z.getSelection(),fe=T.textContent.length,Ae=Math.min(R.start,fe),dt=R.end===void 0?Ae:Math.min(R.end,fe);!q.extend&&Ae>dt&&(p=dt,dt=Ae,Ae=p);var V=Hp(T,Ae),k=Hp(T,dt);if(V&&k&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==k.node||q.focusOffset!==k.offset)){var U=Q.createRange();U.setStart(V.node,V.offset),q.removeAllRanges(),Ae>dt?(q.addRange(U),q.extend(k.node,k.offset)):(U.setEnd(k.node,k.offset),q.addRange(U))}}}}for(Q=[],q=T;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var Y=Q[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Dc=!!Rd,Nd=Rd=null}finally{nt=h,ie.p=o,F.T=a}}t.current=i,Ft=2}}function ay(){if(Ft===2){Ft=0;var t=sr,i=Xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=ie.p;ie.p=2;var h=nt;nt|=4;try{M0(t,i.alternate,i)}finally{nt=h,ie.p=o,F.T=a}}Ft=3}}function oy(){if(Ft===4||Ft===3){Ft=0,_a();var t=sr,i=Xa,a=vs,o=Y0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ft=5:(Ft=0,Xa=sr=null,ly(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ir=null),ns(a),i=i.stateNode,ce&&typeof ce.onCommitFiberRoot=="function")try{ce.onCommitFiberRoot(me,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=ie.p,ie.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{F.T=i,ie.p=h}}(vs&3)!==0&&Ec(),Hi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===md?bl++:(bl=0,md=t):bl=0,Tl(0)}}function ly(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,nl(i)))}function Ec(){return ry(),ay(),oy(),uy()}function uy(){if(Ft!==5)return!1;var t=sr,i=fd;fd=0;var a=ns(vs),o=F.T,h=ie.p;try{ie.p=32>a?32:a,F.T=null,a=dd,dd=null;var f=sr,p=vs;if(Ft=0,Xa=sr=null,vs=0,(nt&6)!==0)throw Error(r(331));var T=nt;if(nt|=4,F0(f.current),B0(f,f.current,p,a),nt=T,Tl(0,!1),ce&&typeof ce.onPostCommitFiberRoot=="function")try{ce.onPostCommitFiberRoot(me,f)}catch{}return!0}finally{ie.p=h,F.T=o,ly(t,i)}}function cy(t,i,a){i=Xn(a,i),i=Kf(t.stateNode,i,2),t=Xs(t,i,2),t!==null&&(kr(t,2),Hi(t))}function lt(t,i,a){if(t.tag===3)cy(t,t,a);else for(;i!==null;){if(i.tag===3){cy(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ir===null||!ir.has(o))){t=Xn(a,t),a=h0(2),o=Xs(i,a,2),o!==null&&(f0(a,o,i,t),kr(o,2),Hi(o));break}}i=i.return}}function yd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new rT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(ud=!0,h.add(a),t=cT.bind(null,t,i,a),i.then(t,t))}function cT(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,mt===t&&(qe&a)===a&&(Nt===4||Nt===3&&(qe&62914560)===qe&&300>Zt()-mc?(nt&2)===0&&Za(t,0):cd|=a,$a===qe&&($a=0)),Hi(t)}function hy(t,i){i===0&&(i=gu()),t=Yr(t,i),t!==null&&(kr(t,i),Hi(t))}function hT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),hy(t,a)}function fT(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),hy(t,a)}function dT(t,i){return Ct(t,i)}var bc=null,eo=null,_d=!1,Tc=!1,vd=!1,ar=0;function Hi(t){t!==eo&&t.next===null&&(eo===null?bc=eo=t:eo=eo.next=t),Tc=!0,_d||(_d=!0,pT())}function Tl(t,i){if(!vd&&Tc){vd=!0;do for(var a=!1,o=bc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-Qe(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,py(o,f))}else f=qe,f=xi(o,o===mt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||oi(o,f)||(a=!0,py(o,f));o=o.next}while(a);vd=!1}}function mT(){fy()}function fy(){Tc=_d=!1;var t=0;ar!==0&&xT()&&(t=ar);for(var i=Zt(),a=null,o=bc;o!==null;){var h=o.next,f=dy(o,i);f===0?(o.next=null,a===null?bc=h:a.next=h,h===null&&(eo=a)):(a=o,(t!==0||(f&3)!==0)&&(Tc=!0)),o=h}Ft!==0&&Ft!==5||Tl(t),ar!==0&&(ar=0)}function dy(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Qe(f),T=1<<p,R=h[p];R===-1?((T&a)===0||(T&o)!==0)&&(h[p]=Yh(T,i)):R<=i&&(t.expiredLanes|=T),f&=~T}if(i=mt,a=qe,a=xi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ai(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||oi(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&Ai(o),ns(a)){case 2:case 8:a=J;break;case 32:a=ue;break;case 268435456:a=xe;break;default:a=ue}return o=my.bind(null,t),a=Ct(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&Ai(o),t.callbackPriority=2,t.callbackNode=null,2}function my(t,i){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ec()&&t.callbackNode!==a)return null;var o=qe;return o=xi(t,t===mt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(W0(t,o,i),dy(t,Zt()),t.callbackNode!=null&&t.callbackNode===a?my.bind(null,t):null)}function py(t,i){if(Ec())return null;W0(t,i,!0)}function pT(){RT(function(){(nt&6)!==0?Ct(te,mT):fy()})}function Ed(){if(ar===0){var t=Pa;t===0&&(t=Jt,Jt<<=1,(Jt&261888)===0&&(Jt=256)),ar=t}return ar}function gy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function yy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function gT(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=gy((h[Qt]||null).action),p=o.submitter;p&&(i=(i=p[Qt]||null)?gy(i.formAction):p.getAttribute("formAction"),i!==null&&(f=i,p=null));var T=new Li("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ar!==0){var R=p?yy(h,p):new FormData(h);zf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=p?yy(h,p):new FormData(h),zf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var bd=0;bd<nf.length;bd++){var Td=nf[bd],yT=Td.toLowerCase(),_T=Td[0].toUpperCase()+Td.slice(1);pi(yT,"on"+_T)}pi(Qp,"onAnimationEnd"),pi(Wp,"onAnimationIteration"),pi($p,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(Mb,"onTransitionRun"),pi(Vb,"onTransitionStart"),pi(Lb,"onTransitionCancel"),pi(Xp,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function _y(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var p=o.length-1;0<=p;p--){var T=o[p],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(K){ju(K)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(T=o[p],R=T.instance,P=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(K){ju(K)}h.currentTarget=null,f=R}}}}function ze(t,i){var a=i[va];a===void 0&&(a=i[va]=new Set);var o=t+"__bubble";a.has(o)||(vy(i,t,2,!1),a.add(o))}function Ad(t,i,a){var o=0;i&&(o|=4),vy(a,t,o,i)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Sd(t){if(!t[Ac]){t[Ac]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(vT.has(a)||Ad(a,!1,t),Ad(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ac]||(i[Ac]=!0,Ad("selectionchange",!1,i))}}function vy(t,i,a,o){switch(Qy(i)){case 2:var h=YT;break;case 8:h=QT;break;default:h=Pd}a=h.bind(null,i,a,t),h=void 0,!Pr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function xd(t,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=Ci(T),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue e}T=T.parentNode}}o=o.return}Bs(function(){var P=f,K=Yn(a),Q=[];e:{var z=Zp.get(t);if(z!==void 0){var q=Li,fe=t;switch(t){case"keypress":if(Br(a)===0)break e;case"keydown":case"keyup":q=Mu;break;case"focusin":fe="focus",q=Hr;break;case"focusout":fe="blur",q=Hr;break;case"beforeblur":case"afterblur":q=Hr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Qp:case Wp:case $p:q=Ru;break;case Xp:q=A;break;case"scroll":case"scrollend":q=Yo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=rs;break;case"toggle":case"beforetoggle":q=Le}var Ae=(i&4)!==0,dt=!Ae&&(t==="scroll"||t==="scrollend"),V=Ae?z!==null?z+"Capture":null:z;Ae=[];for(var k=P,U;k!==null;){var Y=k;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||V===null||(Y=hi(k,V),Y!=null&&Ae.push(Sl(k,Y,U))),dt)break;k=k.return}0<Ae.length&&(z=new q(z,fe,null,a,K),Q.push({event:z,listeners:Ae}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&a!==Fo&&(fe=a.relatedTarget||a.fromElement)&&(Ci(fe)||fe[Ri]))break e;if((q||z)&&(z=K.window===K?K:(z=K.ownerDocument)?z.defaultView||z.parentWindow:window,q?(fe=a.relatedTarget||a.toElement,q=P,fe=fe?Ci(fe):null,fe!==null&&(dt=c(fe),Ae=fe.tag,fe!==dt||Ae!==5&&Ae!==27&&Ae!==6)&&(fe=null)):(q=null,fe=P),q!==fe)){if(Ae=Qo,Y="onMouseLeave",V="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=rs,Y="onPointerLeave",V="onPointerEnter",k="pointer"),dt=q==null?z:kn(q),U=fe==null?z:kn(fe),z=new Ae(Y,k+"leave",q,a,K),z.target=dt,z.relatedTarget=U,Y=null,Ci(K)===P&&(Ae=new Ae(V,k+"enter",fe,a,K),Ae.target=U,Ae.relatedTarget=dt,Y=Ae),dt=Y,q&&fe)t:{for(Ae=ET,V=q,k=fe,U=0,Y=V;Y;Y=Ae(Y))U++;Y=0;for(var _e=k;_e;_e=Ae(_e))Y++;for(;0<U-Y;)V=Ae(V),U--;for(;0<Y-U;)k=Ae(k),Y--;for(;U--;){if(V===k||k!==null&&V===k.alternate){Ae=V;break t}V=Ae(V),k=Ae(k)}Ae=null}else Ae=null;q!==null&&Ey(Q,z,q,Ae,!1),fe!==null&&dt!==null&&Ey(Q,dt,fe,Ae,!0)}}e:{if(z=P?kn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Ze=jp;else if(Vp(z))if(Up)Ze=Ob;else{Ze=Cb;var de=Nb}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Aa(P.elementType)&&(Ze=jp):Ze=Ib;if(Ze&&(Ze=Ze(t,P))){Lp(Q,Ze,a,K);break e}de&&de(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Bo(z,"number",z.value)}switch(de=P?kn(P):window,t){case"focusin":(Vp(de)||de.contentEditable==="true")&&(Oa=de,Jh=P,Jo=null);break;case"focusout":Jo=Jh=Oa=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,Kp(Q,a,K);break;case"selectionchange":if(kb)break;case"keydown":case"keyup":Kp(Q,a,K)}var Ue;if(tt)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ia?Fr(t,a)&&(He="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(Pi&&a.locale!=="ko"&&(Ia||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ia&&(Ue=Ko()):(Vi=K,Go="value"in Vi?Vi.value:Vi.textContent,Ia=!0)),de=Sc(P,He),0<de.length&&(He=new Ui(He,t,null,a,K),Q.push({event:He,listeners:de}),Ue?He.data=Ue:(Ue=Ca(a),Ue!==null&&(He.data=Ue)))),(Ue=Wn?Sb(t,a):xb(t,a))&&(He=Sc(P,"onBeforeInput"),0<He.length&&(de=new Ui("onBeforeInput","beforeinput",null,a,K),Q.push({event:de,listeners:He}),de.data=Ue)),gT(Q,t,P,a,K)}_y(Q,i)})}function Sl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Sc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=hi(t,a),h!=null&&o.unshift(Sl(t,h,f)),h=hi(t,i),h!=null&&o.push(Sl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function ET(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ey(t,i,a,o,h){for(var f=i._reactName,p=[];a!==null&&a!==o;){var T=a,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=hi(a,f),P!=null&&p.unshift(Sl(a,P,R))):h||(P=hi(a,f),P!=null&&p.push(Sl(a,P,R)))),a=a.return}p.length!==0&&t.push({event:i,listeners:p})}var bT=/\r\n?/g,TT=/\u0000|\uFFFD/g;function by(t){return(typeof t=="string"?t:""+t).replace(bT,`
`).replace(TT,"")}function Ty(t,i){return i=by(i),by(t)===i}function ft(t,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||bn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&bn(t,""+o);break;case"className":Mn(t,"class",o);break;case"tabIndex":Mn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(t,a,o);break;case"style":Ho(t,o,f);break;case"data":if(i!=="object"){Mn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Sa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&ft(t,i,"name",h.name,h,null),ft(t,i,"formEncType",h.formEncType,h,null),ft(t,i,"formMethod",h.formMethod,h,null),ft(t,i,"formTarget",h.formTarget,h,null)):(ft(t,i,"encType",h.encType,h,null),ft(t,i,"method",h.method,h,null),ft(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Sa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ci);break;case"onScroll":o!=null&&ze("scroll",t);break;case"onScrollEnd":o!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Sa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":ze("beforetoggle",t),ze("toggle",t),ba(t,"popover",o);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ba(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Su.get(a)||a,ba(t,a,o))}}function wd(t,i,a,o,h,f){switch(a){case"style":Ho(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?bn(t,o):(typeof o=="number"||typeof o=="bigint")&&bn(t,""+o);break;case"onScroll":o!=null&&ze("scroll",t);break;case"onScrollEnd":o!=null&&ze("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[Qt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ba(t,a,o)}}}function rn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ft(t,i,f,p,a,null)}}h&&ft(t,i,"srcSet",a.srcSet,a,null),o&&ft(t,i,"src",a.src,a,null);return;case"input":ze("invalid",t);var T=f=p=h=null,R=null,P=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":h=K;break;case"type":p=K;break;case"checked":R=K;break;case"defaultChecked":P=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:ft(t,i,o,K,a,null)}}bu(t,f,T,R,P,p,h,!1);return;case"select":ze("invalid",t),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:ft(t,i,h,T,a,null)}i=f,a=p,t.multiple=!!o,i!=null?js(t,!!o,i,!1):a!=null&&js(t,!!o,a,!0);return;case"textarea":ze("invalid",t),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(T=a[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ft(t,i,p,T,a,null)}Us(t,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ft(t,i,R,o,a,null));return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(o=0;o<Al.length;o++)ze(Al[o],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(o=a[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ft(t,i,P,o,a,null)}return;default:if(Aa(i)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&wd(t,i,K,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&ft(t,i,T,o,a,null))}function AT(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,R=null,P=null,K=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(q)||ft(t,i,q,null,o,Q)}}for(var z in o){var q=o[z];if(Q=a[z],o.hasOwnProperty(z)&&(q!=null||Q!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":K=q;break;case"value":p=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:q!==Q&&ft(t,i,z,q,o,Q)}}Ta(t,p,T,R,P,K,f,h);return;case"select":q=p=T=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||ft(t,i,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==R&&ft(t,i,h,f,o,R)}i=T,a=p,o=q,z!=null?js(t,!!a,z,!1):!!o!=!!a&&(i!=null?js(t,!!a,i,!0):js(t,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ft(t,i,T,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ft(t,i,p,h,o,f)}Tu(t,z,q);return;case"option":for(var fe in a)z=a[fe],a.hasOwnProperty(fe)&&z!=null&&!o.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:ft(t,i,fe,null,o,z));for(R in o)z=o[R],q=a[R],o.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":ft(t,i,R,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)z=a[Ae],a.hasOwnProperty(Ae)&&z!=null&&!o.hasOwnProperty(Ae)&&ft(t,i,Ae,null,o,z);for(P in o)if(z=o[P],q=a[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,i));break;default:ft(t,i,P,z,o,q)}return;default:if(Aa(i)){for(var dt in a)z=a[dt],a.hasOwnProperty(dt)&&z!==void 0&&!o.hasOwnProperty(dt)&&wd(t,i,dt,void 0,o,z);for(K in o)z=o[K],q=a[K],!o.hasOwnProperty(K)||z===q||z===void 0&&q===void 0||wd(t,i,K,z,o,q);return}}for(var V in a)z=a[V],a.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&ft(t,i,V,null,o,z);for(Q in o)z=o[Q],q=a[Q],!o.hasOwnProperty(Q)||z===q||z==null&&q==null||ft(t,i,Q,z,o,q)}function Ay(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ST(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&Ay(p)){for(p=0,T=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],P=R.startTime;if(P>T)break;var K=R.transferSize,Q=R.initiatorType;K&&Ay(Q)&&(R=R.responseEnd,p+=K*(R<T?1:(T-P)/(R-P)))}if(--o,i+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Rd=null,Nd=null;function xc(t){return t.nodeType===9?t:t.ownerDocument}function Sy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Cd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Id=null;function xT(){var t=window.event;return t&&t.type==="popstate"?t===Id?!1:(Id=t,!0):(Id=null,!1)}var wy=typeof setTimeout=="function"?setTimeout:void 0,wT=typeof clearTimeout=="function"?clearTimeout:void 0,Ry=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ry<"u"?function(t){return Ry.resolve(null).then(t).catch(NT)}:wy;function NT(t){setTimeout(function(){throw t})}function or(t){return t==="head"}function Ny(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),so(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")xl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,xl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[Ni]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&xl(t.ownerDocument.body);a=h}while(a);so(i)}function Cy(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Od(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Od(a),Ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function CT(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ni])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ni(t.nextSibling),t===null)break}return null}function IT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ni(t.nextSibling),t===null))return null;return t}function Iy(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ni(t.nextSibling),t===null))return null;return t}function Dd(t){return t.data==="$?"||t.data==="$~"}function kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function OT(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ni(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Md=null;function Oy(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return ni(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Dy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function ky(t,i,a){switch(i=xc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function xl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ea(t)}var ii=new Map,My=new Set;function wc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Es=ie.d;ie.d={f:DT,r:kT,D:MT,C:VT,L:LT,m:jT,X:PT,S:UT,M:zT};function DT(){var t=Es.f(),i=yc();return t||i}function kT(t){var i=Kn(t);i!==null&&i.tag===5&&i.type==="form"?Xg(i):Es.r(t)}var to=typeof document>"u"?null:document;function Vy(t,i,a){var o=to;if(o&&typeof i=="string"&&i){var h=En(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),My.has(h)||(My.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),rn(i,"link",t),Vt(i),o.head.appendChild(i)))}}function MT(t){Es.D(t),Vy("dns-prefetch",t,null)}function VT(t,i){Es.C(t,i),Vy("preconnect",t,i)}function LT(t,i,a){Es.L(t,i,a);var o=to;if(o&&t&&i){var h='link[rel="preload"][as="'+En(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+En(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+En(a.imageSizes)+'"]')):h+='[href="'+En(t)+'"]';var f=h;switch(i){case"style":f=no(t);break;case"script":f=io(t)}ii.has(f)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),ii.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(wl(f))||i==="script"&&o.querySelector(Rl(f))||(i=o.createElement("link"),rn(i,"link",t),Vt(i),o.head.appendChild(i)))}}function jT(t,i){Es.m(t,i);var a=to;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+En(o)+'"][href="'+En(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=io(t)}if(!ii.has(f)&&(t=S({rel:"modulepreload",href:t},i),ii.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(f)))return}o=a.createElement("link"),rn(o,"link",t),Vt(o),a.head.appendChild(o)}}}function UT(t,i,a){Es.S(t,i,a);var o=to;if(o&&t){var h=Ii(o).hoistableStyles,f=no(t);i=i||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(wl(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=ii.get(f))&&Vd(t,a);var R=p=o.createElement("link");Vt(R),rn(R,"link",t),R._p=new Promise(function(P,K){R.onload=P,R.onerror=K}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Rc(p,i,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function PT(t,i){Es.X(t,i);var a=to;if(a&&t){var o=Ii(a).hoistableScripts,h=io(t),f=o.get(h);f||(f=a.querySelector(Rl(h)),f||(t=S({src:t,async:!0},i),(i=ii.get(h))&&Ld(t,i),f=a.createElement("script"),Vt(f),rn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function zT(t,i){Es.M(t,i);var a=to;if(a&&t){var o=Ii(a).hoistableScripts,h=io(t),f=o.get(h);f||(f=a.querySelector(Rl(h)),f||(t=S({src:t,async:!0,type:"module"},i),(i=ii.get(h))&&Ld(t,i),f=a.createElement("script"),Vt(f),rn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ly(t,i,a,o){var h=(h=Oe.current)?wc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=no(a.href),a=Ii(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=no(a.href);var f=Ii(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(wl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),ii.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ii.set(t,a),f||BT(h,t,a,p.state))),i&&o===null)throw Error(r(528,""));return p}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=io(a),a=Ii(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function no(t){return'href="'+En(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function jy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function BT(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),rn(i,"link",a),Vt(i),t.head.appendChild(i))}function io(t){return'[src="'+En(t)+'"]'}function Rl(t){return"script[async]"+t}function Uy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+En(a.href)+'"]');if(o)return i.instance=o,Vt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Vt(o),rn(o,"style",h),Rc(o,a.precedence,t),i.instance=o;case"stylesheet":h=no(a.href);var f=t.querySelector(wl(h));if(f)return i.state.loading|=4,i.instance=f,Vt(f),f;o=jy(a),(h=ii.get(h))&&Vd(o,h),f=(t.ownerDocument||t).createElement("link"),Vt(f);var p=f;return p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),rn(f,"link",o),i.state.loading|=4,Rc(f,a.precedence,t),i.instance=f;case"script":return f=io(a.src),(h=t.querySelector(Rl(f)))?(i.instance=h,Vt(h),h):(o=a,(h=ii.get(f))&&(o=S({},a),Ld(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Vt(h),rn(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Rc(o,a.precedence,t));return i.instance}function Rc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===i)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Vd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Ld(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Nc=null;function Py(t,i,a){if(Nc===null){var o=new Map,h=Nc=new Map;h.set(a,o)}else h=Nc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ni]||f[Mt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(i)||"";p=t+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function zy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function qT(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function By(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function HT(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=no(o.href),f=i.querySelector(wl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Cc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,Vt(f);return}f=i.ownerDocument||i,o=jy(o),(h=ii.get(h))&&Vd(o,h),f=f.createElement("link"),Vt(f);var p=f;p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),rn(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Cc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var jd=0;function FT(t,i){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&jd===0&&(jd=62500*ST());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>jd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Oc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,i.forEach(GT,t),Ic=null,Cc.call(t))}function GT(t,i){if(!(i.state.loading&4)){var a=Ic.get(t);if(a)var o=a.get(null);else{a=new Map,Ic.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=i.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=Cc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:Re,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function KT(t,i,a,o,h,f,p,T,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function qy(t,i,a,o,h,f,p,T,R,P,K,Q){return t=new KT(t,i,a,p,R,P,K,Q,T),i=1,f===!0&&(i|=24),f=Ln(3,null,null,i),t.current=f,f.stateNode=t,i=gf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},Ef(f),t}function Hy(t){return t?(t=Ma,t):Ma}function Fy(t,i,a,o,h,f){h=Hy(h),o.context===null?o.context=h:o.pendingContext=h,o=$s(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Xs(t,o,i),a!==null&&(wn(a,t,i),al(a,t,i))}function Gy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ud(t,i){Gy(t,i),(t=t.alternate)&&Gy(t,i)}function Ky(t){if(t.tag===13||t.tag===31){var i=Yr(t,67108864);i!==null&&wn(i,t,67108864),Ud(t,67108864)}}function Yy(t){if(t.tag===13||t.tag===31){var i=Bn();i=Vr(i);var a=Yr(t,i);a!==null&&wn(a,t,i),Ud(t,i)}}var Dc=!0;function YT(t,i,a,o){var h=F.T;F.T=null;var f=ie.p;try{ie.p=2,Pd(t,i,a,o)}finally{ie.p=f,F.T=h}}function QT(t,i,a,o){var h=F.T;F.T=null;var f=ie.p;try{ie.p=8,Pd(t,i,a,o)}finally{ie.p=f,F.T=h}}function Pd(t,i,a,o){if(Dc){var h=zd(o);if(h===null)xd(t,i,o,kc,a),Wy(t,o);else if($T(h,t,i,a,o))o.stopPropagation();else if(Wy(t,o),i&4&&-1<WT.indexOf(t)){for(;h!==null;){var f=Kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Dn(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var R=1<<31-Qe(p);T.entanglements[1]|=R,p&=~R}Hi(f),(nt&6)===0&&(pc=Zt()+500,Tl(0))}}break;case 31:case 13:T=Yr(f,2),T!==null&&wn(T,f,2),yc(),Ud(f,2)}if(f=zd(o),f===null&&xd(t,i,o,kc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else xd(t,i,o,null,a)}}function zd(t){return t=Yn(t),Bd(t)}var kc=null;function Bd(t){if(kc=null,t=Ci(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return kc=t,null}function Qy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fn()){case te:return 2;case J:return 8;case ue:case oe:return 32;case xe:return 268435456;default:return 32}default:return 32}}var qd=!1,lr=null,ur=null,cr=null,Cl=new Map,Il=new Map,hr=[],WT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wy(t,i){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function Ol(t,i,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Kn(i),i!==null&&Ky(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function $T(t,i,a,o,h){switch(i){case"focusin":return lr=Ol(lr,t,i,a,o,h),!0;case"dragenter":return ur=Ol(ur,t,i,a,o,h),!0;case"mouseover":return cr=Ol(cr,t,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Cl.set(f,Ol(Cl.get(f)||null,t,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Il.set(f,Ol(Il.get(f)||null,t,i,a,o,h)),!0}return!1}function $y(t){var i=Ci(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,li(t.priority,function(){Yy(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,li(t.priority,function(){Yy(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=zd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Fo=o,a.target.dispatchEvent(o),Fo=null}else return i=Kn(a),i!==null&&Ky(i),t.blockedOn=a,!1;i.shift()}return!0}function Xy(t,i,a){Mc(t)&&a.delete(i)}function XT(){qd=!1,lr!==null&&Mc(lr)&&(lr=null),ur!==null&&Mc(ur)&&(ur=null),cr!==null&&Mc(cr)&&(cr=null),Cl.forEach(Xy),Il.forEach(Xy)}function Vc(t,i){t.blockedOn===i&&(t.blockedOn=null,qd||(qd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,XT)))}var Lc=null;function Zy(t){Lc!==t&&(Lc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Bd(o||a)===null)continue;break}var f=Kn(a);f!==null&&(t.splice(i,3),i-=3,zf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function so(t){function i(R){return Vc(R,t)}lr!==null&&Vc(lr,t),ur!==null&&Vc(ur,t),cr!==null&&Vc(cr,t),Cl.forEach(i),Il.forEach(i);for(var a=0;a<hr.length;a++){var o=hr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<hr.length&&(a=hr[0],a.blockedOn===null);)$y(a),a.blockedOn===null&&hr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[Qt]||null;if(typeof f=="function")p||Zy(a);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Qt]||null)T=p.formAction;else if(Bd(h)!==null)continue}else T=p.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),Zy(a)}}}function Jy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Hd(t){this._internalRoot=t}jc.prototype.render=Hd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Bn();Fy(a,o,t,i,null,null)},jc.prototype.unmount=Hd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Fy(t.current,2,null,t,null,null),yc(),i[Ri]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=yu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<hr.length&&i!==0&&i<hr[a].priority;a++);hr.splice(a,0,t),a===0&&$y(t)}};var e_=e.version;if(e_!=="19.2.4")throw Error(r(527,e_,"19.2.4"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var ZT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{me=Uc.inject(ZT),ce=Uc}catch{}}return kl.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",h=o0,f=l0,p=u0;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=qy(t,1,!1,null,null,a,o,null,h,f,p,Jy),t[Ri]=i.current,Sd(t),new Hd(i)},kl.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=o0,p=l0,T=u0,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),i=qy(t,1,!0,i,a??null,o,h,R,f,p,T,Jy),i.context=Hy(null),a=i.current,o=Bn(),o=Vr(o),h=$s(o),h.callback=null,Xs(a,h,o),a=o,i.current.lanes=a,kr(i,a),Hi(i),t[Ri]=i.current,Sd(t),new jc(i)},kl.version="19.2.4",kl}var c_;function c2(){if(c_)return Kd.exports;c_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Kd.exports=u2(),Kd.exports}var h2=c2();const f2=()=>{};var h_={};const J1=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},d2=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],g=s[n++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[n++],d=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,b=c>>2,S=(c&3)<<4|g>>4;let O=(g&15)<<2|y>>6,H=y&63;_||(H=64,d||(O=64)),r.push(n[b],n[S],n[O],n[H])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(J1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):d2(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||S==null)throw new m2;const O=c<<2|g>>4;if(r.push(O),y!==64){const H=g<<4&240|y>>2;if(r.push(H),S!==64){const ee=y<<6&192|S;r.push(ee)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class m2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p2=function(s){const e=J1(s);return ev.encodeByteArray(e,!0)},oh=function(s){return p2(s).replace(/\./g,"")},tv=function(s){try{return ev.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function g2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const y2=()=>g2().__FIREBASE_DEFAULTS__,_2=()=>{if(typeof process>"u"||typeof h_>"u")return;const s=h_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},v2=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&tv(s[1]);return e&&JSON.parse(e)},Rh=()=>{try{return f2()||y2()||_2()||v2()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},nv=s=>Rh()?.emulatorHosts?.[s],E2=s=>{const e=nv(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iv=()=>Rh()?.config,sv=s=>Rh()?.[`_${s}`];class b2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function xo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rv(s){return(await fetch(s,{credentials:"include"})).ok}function T2(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[oh(JSON.stringify(n)),oh(JSON.stringify(d)),""].join(".")}const zl={};function A2(){const s={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?s.emulator.push(e):s.prod.push(e);return s}function S2(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let f_=!1;function av(s,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||zl[s]===e||zl[s]||f_)return;zl[s]=e;function n(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=A2().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,H){O.setAttribute("width","24"),O.setAttribute("id",H),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{f_=!0,d()},O}function b(O,H){O.setAttribute("id",H),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=S2(r),H=n("text"),ee=document.getElementById(H)||document.createElement("span"),re=n("learnmore"),ae=document.getElementById(re)||document.createElement("a"),be=n("preprendIcon"),Ve=document.getElementById(be)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const Re=O.element;g(Re),b(ae,re);const it=y();_(Ve,be),Re.append(Ve,ee,ae,it),document.body.appendChild(Re)}c?(ee.innerText="Preview backend disconnected.",Ve.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ve.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function w2(){const s=Rh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function N2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function C2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I2(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function O2(){return!w2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D2(){try{return typeof indexedDB=="object"}catch{return!1}}function k2(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const M2="FirebaseError";class Is extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=M2,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?V2(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Is(l,g,r)}}function V2(s,e){return s.replace(L2,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const L2=/\{\$([^}]+)}/g;function j2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Sr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(d_(c)&&d_(d)){if(!Sr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function d_(s){return s!==null&&typeof s=="object"}function su(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function U2(s,e){const n=new P2(s,e);return n.subscribe.bind(n)}class P2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");z2(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=$d),l.error===void 0&&(l.error=$d),l.complete===void 0&&(l.complete=$d);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z2(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function $d(){}function vn(s){return s&&s._delegate?s._delegate:s}class ha{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oa="[DEFAULT]";class B2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new b2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H2(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:q2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q2(s){return s===oa?void 0:s}function H2(s){return s.instantiationMode==="EAGER"}class F2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new B2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Fe||(Fe={}));const G2={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},K2=Fe.INFO,Y2={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},Q2=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=Y2[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gm{constructor(e){this.name=e,this._logLevel=K2,this._logHandler=Q2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const W2=(s,e)=>e.some(n=>s instanceof n);let m_,p_;function $2(){return m_||(m_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X2(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ov=new WeakMap,ym=new WeakMap,lv=new WeakMap,Xd=new WeakMap,Km=new WeakMap;function Z2(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(vr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&ov.set(n,s)}).catch(()=>{}),Km.set(e,s),e}function J2(s){if(ym.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});ym.set(s,e)}let _m={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return ym.get(s);if(e==="objectStoreNames")return s.objectStoreNames||lv.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function eA(s){_m=s(_m)}function tA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Zd(this),e,...n);return lv.set(r,e.sort?e.sort():[e]),vr(r)}:X2().includes(s)?function(...e){return s.apply(Zd(this),e),vr(ov.get(this))}:function(...e){return vr(s.apply(Zd(this),e))}}function nA(s){return typeof s=="function"?tA(s):(s instanceof IDBTransaction&&J2(s),W2(s,$2())?new Proxy(s,_m):s)}function vr(s){if(s instanceof IDBRequest)return Z2(s);if(Xd.has(s))return Xd.get(s);const e=nA(s);return e!==s&&(Xd.set(s,e),Km.set(e,s)),e}const Zd=s=>Km.get(s);function iA(s,e,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=vr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(vr(d.result),_.oldVersion,_.newVersion,vr(d.transaction),_)}),n&&d.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const sA=["get","getKey","getAll","getAllKeys","count"],rA=["put","add","delete","clear"],Jd=new Map;function g_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=rA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||sA.includes(n)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&_.done]))[0]};return Jd.set(e,c),c}eA(s=>({...s,get:(e,n,r)=>g_(e,n)||s.get(e,n,r),has:(e,n)=>!!g_(e,n)||s.has(e,n)}));class aA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oA(s){return s.getComponent()?.type==="VERSION"}const vm="@firebase/app",y_="0.14.7";const Ss=new Gm("@firebase/app"),lA="@firebase/app-compat",uA="@firebase/analytics-compat",cA="@firebase/analytics",hA="@firebase/app-check-compat",fA="@firebase/app-check",dA="@firebase/auth",mA="@firebase/auth-compat",pA="@firebase/database",gA="@firebase/data-connect",yA="@firebase/database-compat",_A="@firebase/functions",vA="@firebase/functions-compat",EA="@firebase/installations",bA="@firebase/installations-compat",TA="@firebase/messaging",AA="@firebase/messaging-compat",SA="@firebase/performance",xA="@firebase/performance-compat",wA="@firebase/remote-config",RA="@firebase/remote-config-compat",NA="@firebase/storage",CA="@firebase/storage-compat",IA="@firebase/firestore",OA="@firebase/ai",DA="@firebase/firestore-compat",kA="firebase",MA="12.8.0";const Em="[DEFAULT]",VA={[vm]:"fire-core",[lA]:"fire-core-compat",[cA]:"fire-analytics",[uA]:"fire-analytics-compat",[fA]:"fire-app-check",[hA]:"fire-app-check-compat",[dA]:"fire-auth",[mA]:"fire-auth-compat",[pA]:"fire-rtdb",[gA]:"fire-data-connect",[yA]:"fire-rtdb-compat",[_A]:"fire-fn",[vA]:"fire-fn-compat",[EA]:"fire-iid",[bA]:"fire-iid-compat",[TA]:"fire-fcm",[AA]:"fire-fcm-compat",[SA]:"fire-perf",[xA]:"fire-perf-compat",[wA]:"fire-rc",[RA]:"fire-rc-compat",[NA]:"fire-gcs",[CA]:"fire-gcs-compat",[IA]:"fire-fst",[DA]:"fire-fst-compat",[OA]:"fire-vertex","fire-js":"fire-js",[kA]:"fire-js-all"};const lh=new Map,LA=new Map,bm=new Map;function __(s,e){try{s.container.addComponent(e)}catch(n){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function yo(s){const e=s.name;if(bm.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,s);for(const n of lh.values())__(n,s);for(const n of LA.values())__(n,s);return!0}function Ym(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function ri(s){return s==null?!1:s.settings!==void 0}const jA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new iu("app","Firebase",jA);class UA{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const wo=MA;function uv(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Em,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Er.create("bad-app-name",{appName:String(l)});if(n||(n=iv()),!n)throw Er.create("no-options");const c=lh.get(l);if(c){if(Sr(n,c.options)&&Sr(r,c.config))return c;throw Er.create("duplicate-app",{appName:l})}const d=new F2(l);for(const _ of bm.values())d.addComponent(_);const g=new UA(n,r,d);return lh.set(l,g),g}function cv(s=Em){const e=lh.get(s);if(!e&&s===Em&&iv())return uv();if(!e)throw Er.create("no-app",{appName:s});return e}function br(s,e,n){let r=VA[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(d.join(" "));return}yo(new ha(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const PA="firebase-heartbeat-database",zA=1,Yl="firebase-heartbeat-store";let em=null;function hv(){return em||(em=iA(PA,zA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Er.create("idb-open",{originalErrorMessage:s.message})})),em}async function BA(s){try{const n=(await hv()).transaction(Yl),r=await n.objectStore(Yl).get(fv(s));return await n.done,r}catch(e){if(e instanceof Is)Ss.warn(e.message);else{const n=Er.create("idb-get",{originalErrorMessage:e?.message});Ss.warn(n.message)}}}async function v_(s,e){try{const r=(await hv()).transaction(Yl,"readwrite");await r.objectStore(Yl).put(e,fv(s)),await r.done}catch(n){if(n instanceof Is)Ss.warn(n.message);else{const r=Er.create("idb-set",{originalErrorMessage:n?.message});Ss.warn(r.message)}}}function fv(s){return`${s.name}!${s.options.appId}`}const qA=1024,HA=30;class FA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=E_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>HA){const l=YA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=E_(),{heartbeatsToSend:n,unsentEntries:r}=GA(this._heartbeatsCache.heartbeats),l=oh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ss.warn(e),""}}}function E_(){return new Date().toISOString().substring(0,10)}function GA(s,e=qA){const n=[];let r=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),b_(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),b_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D2()?k2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return v_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return v_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function b_(s){return oh(JSON.stringify({version:2,heartbeats:s})).length}function YA(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function QA(s){yo(new ha("platform-logger",e=>new aA(e),"PRIVATE")),yo(new ha("heartbeat",e=>new FA(e),"PRIVATE")),br(vm,y_,s),br(vm,y_,"esm2020"),br("fire-js","")}QA("");var WA="firebase",$A="12.8.0";br(WA,$A,"app");function dv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XA=dv,mv=new iu("auth","Firebase",dv());const uh=new Gm("@firebase/auth");function ZA(s,...e){uh.logLevel<=Fe.WARN&&uh.warn(`Auth (${wo}): ${s}`,...e)}function Wc(s,...e){uh.logLevel<=Fe.ERROR&&uh.error(`Auth (${wo}): ${s}`,...e)}function xs(s,...e){throw Qm(s,...e)}function Ki(s,...e){return Qm(s,...e)}function pv(s,e,n){const r={...XA(),[e]:n};return new iu("auth","Firebase",r).create(e,{appName:s.name})}function As(s){return pv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qm(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return mv.create(s,...e)}function we(s,e,...n){if(!s)throw Qm(e,...n)}function bs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Wc(e),new Error(e)}function ws(s,e){s||bs(e)}function Tm(){return typeof self<"u"&&self.location?.href||""}function JA(){return T_()==="http:"||T_()==="https:"}function T_(){return typeof self<"u"&&self.location?.protocol||null}function eS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JA()||N2()||"connection"in navigator)?navigator.onLine:!0}function tS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,ws(n>e,"Short delay should be less than long delay!"),this.isMobile=x2()||C2()}get(){return eS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wm(s,e){ws(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class gv{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const iS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sS=new ru(3e4,6e4);function au(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ro(s,e,n,r,l={}){return yv(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=su({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return R2()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&xo(s.emulatorConfig.host)&&(y.credentials="include"),gv.fetch()(await _v(s,s.config.apiHost,n,g),y)})}async function yv(s,e,n){s._canInitEmulator=!1;const r={...nS,...e};try{const l=new rS(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Pc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Pc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Pc(s,"user-disabled",d);const b=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw pv(s,b,y);xs(s,b)}}catch(l){if(l instanceof Is)throw l;xs(s,"network-request-failed",{message:String(l)})}}async function $m(s,e,n,r,l={}){const c=await Ro(s,e,n,r,l);return"mfaPendingCredential"in c&&xs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function _v(s,e,n,r){const l=`${e}${n}?${r}`,c=s,d=c.config.emulator?Wm(s.config,l):`${s.config.apiScheme}://${l}`;return iS.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class rS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ki(this.auth,"network-request-failed")),sS.get())})}}function Pc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Ki(s,e,r);return l.customData._tokenResponse=n,l}async function aS(s,e){return Ro(s,"POST","/v1/accounts:delete",e)}async function ch(s,e){return Ro(s,"POST","/v1/accounts:lookup",e)}function Bl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oS(s,e=!1){const n=vn(s),r=await n.getIdToken(e),l=Xm(r);we(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Bl(tm(l.auth_time)),issuedAtTime:Bl(tm(l.iat)),expirationTime:Bl(tm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function tm(s){return Number(s)*1e3}function Xm(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const l=tv(n);return l?JSON.parse(l):(Wc("Failed to decode base64 JWT payload"),null)}catch(l){return Wc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function A_(s){const e=Xm(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ql(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Is&&lS(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function lS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class uS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Am{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hh(s){const e=s.auth,n=await s.getIdToken(),r=await Ql(s,ch(e,{idToken:n}));we(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?vv(l.providerUserInfo):[],d=hS(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Am(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function cS(s){const e=vn(s);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hS(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function vv(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function fS(s,e){const n=await yv(s,{},async()=>{const r=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await _v(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&xo(s.emulatorConfig.host)&&(_.credentials="include"),gv.fetch()(d,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dS(s,e){return Ro(s,"POST","/v2/accounts:revokeToken",au(s,e))}class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=A_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await fS(e,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,d=new co;return r&&(we(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(we(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(we(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return bs("not implemented")}}function dr(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class _i{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new uS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oS(this,e)}reload(){return cS(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _i({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(As(this.auth));const e=await this.getIdToken();return await Ql(this,aS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,_=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:H,providerData:ee,stsTokenManager:re}=n;we(S&&re,e,"internal-error");const ae=co.fromJSON(this.name,re);we(typeof S=="string",e,"internal-error"),dr(r,e.name),dr(l,e.name),we(typeof O=="boolean",e,"internal-error"),we(typeof H=="boolean",e,"internal-error"),dr(c,e.name),dr(d,e.name),dr(g,e.name),dr(_,e.name),dr(y,e.name),dr(b,e.name);const be=new _i({uid:S,auth:e,email:l,emailVerified:O,displayName:r,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:ae,createdAt:y,lastLoginAt:b});return ee&&Array.isArray(ee)&&(be.providerData=ee.map(Ve=>({...Ve}))),_&&(be._redirectEventId=_),be}static async _fromIdTokenResponse(e,n,r=!1){const l=new co;l.updateFromServerResponse(n);const c=new _i({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await hh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];we(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?vv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new co;g.updateFromIdToken(r);const _=new _i({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const S_=new Map;function Ts(s){ws(s instanceof Function,"Expected a class definition");let e=S_.get(s);return e?(ws(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,S_.set(s,e),e)}class Ev{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ev.type="NONE";const x_=Ev;function $c(s,e,n){return`firebase:${s}:${e}:${n}`}class ho{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=$c(this.userKey,l.apiKey,c),this.fullPersistenceKey=$c("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ch(this.auth,{idToken:e}).catch(()=>{});return n?_i._fromGetAccountInfoResponse(this.auth,n,e):null}return _i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ho(Ts(x_),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Ts(x_);const d=$c(r,e.config.apiKey,e.name);let g=null;for(const y of n)try{const b=await y._get(d);if(b){let S;if(typeof b=="string"){const O=await ch(e,{idToken:b}).catch(()=>{});if(!O)break;S=await _i._fromGetAccountInfoResponse(e,O,b)}else S=_i._fromJSON(e,b);y!==c&&(g=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new ho(c,e,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new ho(c,e,r))}}function w_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wv(e))return"Blackberry";if(Rv(e))return"Webos";if(Tv(e))return"Safari";if((e.includes("chrome/")||Av(e))&&!e.includes("edge/"))return"Chrome";if(xv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function bv(s=dn()){return/firefox\//i.test(s)}function Tv(s=dn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Av(s=dn()){return/crios\//i.test(s)}function Sv(s=dn()){return/iemobile/i.test(s)}function xv(s=dn()){return/android/i.test(s)}function wv(s=dn()){return/blackberry/i.test(s)}function Rv(s=dn()){return/webos/i.test(s)}function Zm(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function mS(s=dn()){return Zm(s)&&!!window.navigator?.standalone}function pS(){return I2()&&document.documentMode===10}function Nv(s=dn()){return Zm(s)||xv(s)||Rv(s)||wv(s)||/windows phone/i.test(s)||Sv(s)}function Cv(s,e=[]){let n;switch(s){case"Browser":n=w_(dn());break;case"Worker":n=`${w_(dn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wo}/${r}`}class gS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function yS(s,e={}){return Ro(s,"GET","/v2/passwordPolicy",au(s,e))}const _S=6;class vS{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_S,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class ES{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R_(this),this.idTokenSubscription=new R_(this),this.beforeStateQueue=new gS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ts(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ch(this,{idToken:e}),r=await _i._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(As(this));const n=e?vn(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yS(this),n=new vS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dS(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ts(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[Ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,r,l);return()=>{d=!0,_()}}else{const _=e.addObserver(n);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ZA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ou(s){return vn(s)}class R_{constructor(e){this.auth=e,this.observer=null,this.addObserver=U2(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bS(s){Jm=s}function TS(s){return Jm.loadJS(s)}function AS(){return Jm.gapiScript}function SS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function xS(s,e){const n=Ym(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Sr(c,e??{}))return l;xs(l,"already-initialized")}return n.initialize({options:e})}function wS(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ts);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function RS(s,e,n){const r=ou(s);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=Iv(e),{host:d,port:g}=NS(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Sr(y,r.config.emulator)&&Sr(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,xo(d)?(rv(`${c}//${d}${_}`),av("Auth",!0)):CS()}function Iv(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function NS(s){const e=Iv(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:N_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:N_(d)}}}function N_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function CS(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Ov{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,n){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function fo(s,e){return $m(s,"POST","/v1/accounts:signInWithIdp",au(s,e))}const IS="http://localhost";class fa extends Ov{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const d=new fa(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:IS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}class Dv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lu extends Dv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class mr extends lu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";mr.PROVIDER_ID="facebook.com";class pr extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return pr.credential(n,r)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";class gr extends lu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.GITHUB_SIGN_IN_METHOD="github.com";gr.PROVIDER_ID="github.com";class yr extends lu{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return yr.credential(n,r)}catch{return null}}}yr.TWITTER_SIGN_IN_METHOD="twitter.com";yr.PROVIDER_ID="twitter.com";async function OS(s,e){return $m(s,"POST","/v1/accounts:signUp",au(s,e))}class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const c=await _i._fromIdTokenResponse(e,r,l),d=C_(r);return new Rs({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=C_(r);return new Rs({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function C_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function DS(s){if(ri(s.app))return Promise.reject(As(s));const e=ou(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Rs({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await OS(e,{returnSecureToken:!0}),r=await Rs._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class fh extends Is{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new fh(e,n,r,l)}}function kv(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(s,c,e,r):c})}async function kS(s,e,n=!1){const r=await Ql(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Rs._forOperation(s,"link",r)}async function MS(s,e,n=!1){const{auth:r}=s;if(ri(r.app))return Promise.reject(As(r));const l="reauthenticate";try{const c=await Ql(s,kv(r,l,e,s),n);we(c.idToken,r,"internal-error");const d=Xm(c.idToken);we(d,r,"internal-error");const{sub:g}=d;return we(s.uid===g,r,"user-mismatch"),Rs._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&xs(r,"user-mismatch"),c}}async function VS(s,e,n=!1){if(ri(s.app))return Promise.reject(As(s));const r="signIn",l=await kv(s,r,e),c=await Rs._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(c.user),c}async function LS(s,e){return $m(s,"POST","/v1/accounts:signInWithCustomToken",au(s,e))}async function jS(s,e){if(ri(s.app))return Promise.reject(As(s));const n=ou(s),r=await LS(n,{token:e,returnSecureToken:!0}),l=await Rs._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(l.user),l}function US(s,e,n,r){return vn(s).onIdTokenChanged(e,n,r)}function PS(s,e,n){return vn(s).beforeAuthStateChanged(e,n)}function zS(s,e,n,r){return vn(s).onAuthStateChanged(e,n,r)}const dh="__sak";class Mv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const BS=1e3,qS=10;class Vv extends Mv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);pS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,qS):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vv.type="LOCAL";const HS=Vv;class Lv extends Mv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Lv.type="SESSION";const jv=Lv;function FS(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Nh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async y=>y(n.origin,c)),_=await FS(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];function ep(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class GS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=ep("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const O=S;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Yi(){return window}function KS(s){Yi().location.href=s}function Uv(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function YS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QS(){return navigator?.serviceWorker?.controller||null}function WS(){return Uv()?self:null}const Pv="firebaseLocalStorageDb",$S=1,mh="firebaseLocalStorage",zv="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ch(s,e){return s.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function XS(){const s=indexedDB.deleteDatabase(Pv);return new uu(s).toPromise()}function Sm(){const s=indexedDB.open(Pv,$S);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(mh,{keyPath:zv})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(mh)?e(r):(r.close(),await XS(),e(await Sm()))})})}async function I_(s,e,n){const r=Ch(s,!0).put({[zv]:e,value:n});return new uu(r).toPromise()}async function ZS(s,e){const n=Ch(s,!1).get(e),r=await new uu(n).toPromise();return r===void 0?null:r.value}function O_(s,e){const n=Ch(s,!0).delete(e);return new uu(n).toPromise()}const JS=800,ex=3;class Bv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ex)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Uv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(WS()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await YS(),!this.activeServiceWorker)return;this.sender=new GS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sm();return await I_(e,dh,"1"),await O_(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>I_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ZS(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>O_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Ch(l,!1).getAll();return new uu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bv.type="LOCAL";const tx=Bv;new ru(3e4,6e4);function nx(s,e){return e?Ts(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class tp extends Ov{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ix(s){return VS(s.auth,new tp(s),s.bypassAuthState)}function sx(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),MS(n,new tp(s),s.bypassAuthState)}async function rx(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),kS(n,new tp(s),s.bypassAuthState)}class qv{constructor(e,n,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ix;case"linkViaPopup":case"linkViaRedirect":return rx;case"reauthViaPopup":case"reauthViaRedirect":return sx;default:xs(this.auth,"internal-error")}}resolve(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ax=new ru(2e3,1e4);class uo extends qv{constructor(e,n,r,l,c){super(e,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ws(this.filter.length===1,"Popup operations only handle one event");const e=ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ax.get())};e()}}uo.currentPopupAction=null;const ox="pendingRedirect",Xc=new Map;class lx extends qv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xc.get(this.auth._key());if(!e){try{const r=await ux(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xc.set(this.auth._key(),e)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ux(s,e){const n=fx(e),r=hx(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function cx(s,e){Xc.set(s._key(),e)}function hx(s){return Ts(s._redirectPersistence)}function fx(s){return $c(ox,s.config.apiKey,s.name)}async function dx(s,e,n=!1){if(ri(s.app))return Promise.reject(As(s));const r=ou(s),l=nx(r,e),d=await new lx(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const mx=600*1e3;class px{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Hv(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ki(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mx&&this.cachedEventUids.clear(),this.cachedEventUids.has(D_(e))}saveEventToCache(e){this.cachedEventUids.add(D_(e)),this.lastProcessedEventTime=Date.now()}}function D_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Hv({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function gx(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hv(s);default:return!1}}async function yx(s,e={}){return Ro(s,"GET","/v1/projects",e)}const _x=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vx=/^https?/;async function Ex(s){if(s.config.emulator)return;const{authorizedDomains:e}=await yx(s);for(const n of e)try{if(bx(n))return}catch{}xs(s,"unauthorized-domain")}function bx(s){const e=Tm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!vx.test(n))return!1;if(_x.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const Tx=new ru(3e4,6e4);function k_(){const s=Yi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function Ax(s){return new Promise((e,n)=>{function r(){k_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k_(),n(Ki(s,"network-request-failed"))},timeout:Tx.get()})}if(Yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yi().gapi?.load)r();else{const l=SS("iframefcb");return Yi()[l]=()=>{gapi.load?r():n(Ki(s,"network-request-failed"))},TS(`${AS()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function Sx(s){return Zc=Zc||Ax(s),Zc}const xx=new ru(5e3,15e3),wx="__/auth/iframe",Rx="emulator/auth/iframe",Nx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ix(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Wm(e,Rx):`https://${s.config.authDomain}/${wx}`,r={apiKey:e.apiKey,appName:s.name,v:wo},l=Cx.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${su(r).slice(1)}`}async function Ox(s){const e=await Sx(s),n=Yi().gapi;return we(n,s,"internal-error"),e.open({where:document.body,url:Ix(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nx,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ki(s,"network-request-failed"),g=Yi().setTimeout(()=>{c(d)},xx.get());function _(){Yi().clearTimeout(g),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const Dx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kx=500,Mx=600,Vx="_blank",Lx="http://localhost";class M_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jx(s,e,n,r=kx,l=Mx){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...Dx,width:r.toString(),height:l.toString(),top:c,left:d},y=dn().toLowerCase();n&&(g=Av(y)?Vx:n),bv(y)&&(e=e||Lx,_.scrollbars="yes");const b=Object.entries(_).reduce((O,[H,ee])=>`${O}${H}=${ee},`,"");if(mS(y)&&g!=="_self")return Ux(e||"",g),new M_(null);const S=window.open(e||"",g,b);we(S,s,"popup-blocked");try{S.focus()}catch{}return new M_(S)}function Ux(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Px="__/auth/handler",zx="emulator/auth/handler",Bx=encodeURIComponent("fac");async function V_(s,e,n,r,l,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:wo,eventId:l};if(e instanceof Dv){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",j2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(e instanceof lu){const b=e.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const _=await s._getAppCheckToken(),y=_?`#${Bx}=${encodeURIComponent(_)}`:"";return`${qx(s)}?${su(g).slice(1)}${y}`}function qx({config:s}){return s.emulator?Wm(s,zx):`https://${s.authDomain}/${Px}`}const nm="webStorageSupport";class Hx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jv,this._completeRedirectFn=dx,this._overrideRedirectResult=cx}async _openPopup(e,n,r,l){ws(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await V_(e,n,r,Tm(),l);return jx(e,c,ep())}async _openRedirect(e,n,r,l){await this._originValidation(e);const c=await V_(e,n,r,Tm(),l);return KS(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(ws(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Ox(e),r=new px(e);return n.register("authEvent",l=>(we(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nm,{type:nm},l=>{const c=l?.[0]?.[nm];c!==void 0&&n(!!c),xs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ex(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nv()||Tv()||Zm()}}const Fx=Hx;var L_="@firebase/auth",j_="1.12.0";class Gx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Kx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yx(s){yo(new ha("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cv(s)},y=new ES(r,l,c,_);return wS(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yo(new ha("auth-internal",e=>{const n=ou(e.getProvider("auth").getImmediate());return(r=>new Gx(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(L_,j_,Kx(s)),br(L_,j_,"esm2020")}const Qx=300,Wx=sv("authIdTokenMaxAge")||Qx;let U_=null;const $x=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Wx)return;const l=n?.token;U_!==l&&(U_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Xx(s=cv()){const e=Ym(s,"auth");if(e.isInitialized())return e.getImmediate();const n=xS(s,{popupRedirectResolver:Fx,persistence:[tx,HS,jv]}),r=sv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=$x(c.toString());PS(n,d,()=>d(n.currentUser)),US(n,g=>d(g))}}const l=nv("auth");return l&&RS(n,`http://${l}`),n}function Zx(){return document.getElementsByTagName("head")?.[0]??document}bS({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Ki("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",Zx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yx("Browser");var P_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Tr,Fv;(function(){var s;function e(N,x){function C(){}C.prototype=x.prototype,N.F=x.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(M,I,L){for(var w=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)w[ut-2]=arguments[ut];return x.prototype[I].apply(M,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,x,C){C||(C=0);const M=Array(16);if(typeof x=="string")for(var I=0;I<16;++I)M[I]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(I=0;I<16;++I)M[I]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=N.g[0],C=N.g[1],I=N.g[2];let L=N.g[3],w;w=x+(L^C&(I^L))+M[0]+3614090360&4294967295,x=C+(w<<7&4294967295|w>>>25),w=L+(I^x&(C^I))+M[1]+3905402710&4294967295,L=x+(w<<12&4294967295|w>>>20),w=I+(C^L&(x^C))+M[2]+606105819&4294967295,I=L+(w<<17&4294967295|w>>>15),w=C+(x^I&(L^x))+M[3]+3250441966&4294967295,C=I+(w<<22&4294967295|w>>>10),w=x+(L^C&(I^L))+M[4]+4118548399&4294967295,x=C+(w<<7&4294967295|w>>>25),w=L+(I^x&(C^I))+M[5]+1200080426&4294967295,L=x+(w<<12&4294967295|w>>>20),w=I+(C^L&(x^C))+M[6]+2821735955&4294967295,I=L+(w<<17&4294967295|w>>>15),w=C+(x^I&(L^x))+M[7]+4249261313&4294967295,C=I+(w<<22&4294967295|w>>>10),w=x+(L^C&(I^L))+M[8]+1770035416&4294967295,x=C+(w<<7&4294967295|w>>>25),w=L+(I^x&(C^I))+M[9]+2336552879&4294967295,L=x+(w<<12&4294967295|w>>>20),w=I+(C^L&(x^C))+M[10]+4294925233&4294967295,I=L+(w<<17&4294967295|w>>>15),w=C+(x^I&(L^x))+M[11]+2304563134&4294967295,C=I+(w<<22&4294967295|w>>>10),w=x+(L^C&(I^L))+M[12]+1804603682&4294967295,x=C+(w<<7&4294967295|w>>>25),w=L+(I^x&(C^I))+M[13]+4254626195&4294967295,L=x+(w<<12&4294967295|w>>>20),w=I+(C^L&(x^C))+M[14]+2792965006&4294967295,I=L+(w<<17&4294967295|w>>>15),w=C+(x^I&(L^x))+M[15]+1236535329&4294967295,C=I+(w<<22&4294967295|w>>>10),w=x+(I^L&(C^I))+M[1]+4129170786&4294967295,x=C+(w<<5&4294967295|w>>>27),w=L+(C^I&(x^C))+M[6]+3225465664&4294967295,L=x+(w<<9&4294967295|w>>>23),w=I+(x^C&(L^x))+M[11]+643717713&4294967295,I=L+(w<<14&4294967295|w>>>18),w=C+(L^x&(I^L))+M[0]+3921069994&4294967295,C=I+(w<<20&4294967295|w>>>12),w=x+(I^L&(C^I))+M[5]+3593408605&4294967295,x=C+(w<<5&4294967295|w>>>27),w=L+(C^I&(x^C))+M[10]+38016083&4294967295,L=x+(w<<9&4294967295|w>>>23),w=I+(x^C&(L^x))+M[15]+3634488961&4294967295,I=L+(w<<14&4294967295|w>>>18),w=C+(L^x&(I^L))+M[4]+3889429448&4294967295,C=I+(w<<20&4294967295|w>>>12),w=x+(I^L&(C^I))+M[9]+568446438&4294967295,x=C+(w<<5&4294967295|w>>>27),w=L+(C^I&(x^C))+M[14]+3275163606&4294967295,L=x+(w<<9&4294967295|w>>>23),w=I+(x^C&(L^x))+M[3]+4107603335&4294967295,I=L+(w<<14&4294967295|w>>>18),w=C+(L^x&(I^L))+M[8]+1163531501&4294967295,C=I+(w<<20&4294967295|w>>>12),w=x+(I^L&(C^I))+M[13]+2850285829&4294967295,x=C+(w<<5&4294967295|w>>>27),w=L+(C^I&(x^C))+M[2]+4243563512&4294967295,L=x+(w<<9&4294967295|w>>>23),w=I+(x^C&(L^x))+M[7]+1735328473&4294967295,I=L+(w<<14&4294967295|w>>>18),w=C+(L^x&(I^L))+M[12]+2368359562&4294967295,C=I+(w<<20&4294967295|w>>>12),w=x+(C^I^L)+M[5]+4294588738&4294967295,x=C+(w<<4&4294967295|w>>>28),w=L+(x^C^I)+M[8]+2272392833&4294967295,L=x+(w<<11&4294967295|w>>>21),w=I+(L^x^C)+M[11]+1839030562&4294967295,I=L+(w<<16&4294967295|w>>>16),w=C+(I^L^x)+M[14]+4259657740&4294967295,C=I+(w<<23&4294967295|w>>>9),w=x+(C^I^L)+M[1]+2763975236&4294967295,x=C+(w<<4&4294967295|w>>>28),w=L+(x^C^I)+M[4]+1272893353&4294967295,L=x+(w<<11&4294967295|w>>>21),w=I+(L^x^C)+M[7]+4139469664&4294967295,I=L+(w<<16&4294967295|w>>>16),w=C+(I^L^x)+M[10]+3200236656&4294967295,C=I+(w<<23&4294967295|w>>>9),w=x+(C^I^L)+M[13]+681279174&4294967295,x=C+(w<<4&4294967295|w>>>28),w=L+(x^C^I)+M[0]+3936430074&4294967295,L=x+(w<<11&4294967295|w>>>21),w=I+(L^x^C)+M[3]+3572445317&4294967295,I=L+(w<<16&4294967295|w>>>16),w=C+(I^L^x)+M[6]+76029189&4294967295,C=I+(w<<23&4294967295|w>>>9),w=x+(C^I^L)+M[9]+3654602809&4294967295,x=C+(w<<4&4294967295|w>>>28),w=L+(x^C^I)+M[12]+3873151461&4294967295,L=x+(w<<11&4294967295|w>>>21),w=I+(L^x^C)+M[15]+530742520&4294967295,I=L+(w<<16&4294967295|w>>>16),w=C+(I^L^x)+M[2]+3299628645&4294967295,C=I+(w<<23&4294967295|w>>>9),w=x+(I^(C|~L))+M[0]+4096336452&4294967295,x=C+(w<<6&4294967295|w>>>26),w=L+(C^(x|~I))+M[7]+1126891415&4294967295,L=x+(w<<10&4294967295|w>>>22),w=I+(x^(L|~C))+M[14]+2878612391&4294967295,I=L+(w<<15&4294967295|w>>>17),w=C+(L^(I|~x))+M[5]+4237533241&4294967295,C=I+(w<<21&4294967295|w>>>11),w=x+(I^(C|~L))+M[12]+1700485571&4294967295,x=C+(w<<6&4294967295|w>>>26),w=L+(C^(x|~I))+M[3]+2399980690&4294967295,L=x+(w<<10&4294967295|w>>>22),w=I+(x^(L|~C))+M[10]+4293915773&4294967295,I=L+(w<<15&4294967295|w>>>17),w=C+(L^(I|~x))+M[1]+2240044497&4294967295,C=I+(w<<21&4294967295|w>>>11),w=x+(I^(C|~L))+M[8]+1873313359&4294967295,x=C+(w<<6&4294967295|w>>>26),w=L+(C^(x|~I))+M[15]+4264355552&4294967295,L=x+(w<<10&4294967295|w>>>22),w=I+(x^(L|~C))+M[6]+2734768916&4294967295,I=L+(w<<15&4294967295|w>>>17),w=C+(L^(I|~x))+M[13]+1309151649&4294967295,C=I+(w<<21&4294967295|w>>>11),w=x+(I^(C|~L))+M[4]+4149444226&4294967295,x=C+(w<<6&4294967295|w>>>26),w=L+(C^(x|~I))+M[11]+3174756917&4294967295,L=x+(w<<10&4294967295|w>>>22),w=I+(x^(L|~C))+M[2]+718787259&4294967295,I=L+(w<<15&4294967295|w>>>17),w=C+(L^(I|~x))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,x){x===void 0&&(x=N.length);const C=x-this.blockSize,M=this.C;let I=this.h,L=0;for(;L<x;){if(I==0)for(;L<=C;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<x;)if(M[I++]=N.charCodeAt(L++),I==this.blockSize){l(this,M),I=0;break}}else for(;L<x;)if(M[I++]=N[L++],I==this.blockSize){l(this,M),I=0;break}}this.h=I,this.o+=x},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)N[x++]=this.g[C]>>>M&255;return N};function c(N,x){var C=g;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=x(N)}function d(N,x){this.h=x;const C=[];let M=!0;for(let I=N.length-1;I>=0;I--){const L=N[I]|0;M&&L==x||(C[I]=L,M=!1)}this.g=C}var g={};function _(N){return-128<=N&&N<128?c(N,function(x){return new d([x|0],x<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return ae(y(-N));const x=[];let C=1;for(let M=0;N>=C;M++)x[M]=N/C|0,C*=4294967296;return new d(x,0)}function b(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return ae(b(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(x,8));let M=S;for(let L=0;L<N.length;L+=8){var I=Math.min(8,N.length-L);const w=parseInt(N.substring(L,L+I),x);I<8?(I=y(Math.pow(x,I)),M=M.j(I).add(y(w))):(M=M.j(C),M=M.add(y(w)))}return M}var S=_(0),O=_(1),H=_(16777216);s=d.prototype,s.m=function(){if(re(this))return-ae(this).m();let N=0,x=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);N+=(M>=0?M:4294967296+M)*x,x*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(ee(this))return"0";if(re(this))return"-"+ae(this).toString(N);const x=y(Math.pow(N,6));var C=this;let M="";for(;;){const I=it(C,x).g;C=be(C,I.j(x));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=I,ee(C))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function ee(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function re(N){return N.h==-1}s.l=function(N){return N=be(this,N),re(N)?-1:ee(N)?0:1};function ae(N){const x=N.g.length,C=[];for(let M=0;M<x;M++)C[M]=~N.g[M];return new d(C,~N.h).add(O)}s.abs=function(){return re(this)?ae(this):this},s.add=function(N){const x=Math.max(this.g.length,N.g.length),C=[];let M=0;for(let I=0;I<=x;I++){let L=M+(this.i(I)&65535)+(N.i(I)&65535),w=(L>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);M=w>>>16,L&=65535,w&=65535,C[I]=w<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function be(N,x){return N.add(ae(x))}s.j=function(N){if(ee(this)||ee(N))return S;if(re(this))return re(N)?ae(this).j(ae(N)):ae(ae(this).j(N));if(re(N))return ae(this.j(ae(N)));if(this.l(H)<0&&N.l(H)<0)return y(this.m()*N.m());const x=this.g.length+N.g.length,C=[];for(var M=0;M<2*x;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<N.g.length;I++){const L=this.i(M)>>>16,w=this.i(M)&65535,ut=N.i(I)>>>16,vt=N.i(I)&65535;C[2*M+2*I]+=w*vt,Ve(C,2*M+2*I),C[2*M+2*I+1]+=L*vt,Ve(C,2*M+2*I+1),C[2*M+2*I+1]+=w*ut,Ve(C,2*M+2*I+1),C[2*M+2*I+2]+=L*ut,Ve(C,2*M+2*I+2)}for(N=0;N<x;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=x;N<2*x;N++)C[N]=0;return new d(C,0)};function Ve(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function Re(N,x){this.g=N,this.h=x}function it(N,x){if(ee(x))throw Error("division by zero");if(ee(N))return new Re(S,S);if(re(N))return x=it(ae(N),x),new Re(ae(x.g),ae(x.h));if(re(x))return x=it(N,ae(x)),new Re(ae(x.g),x.h);if(N.g.length>30){if(re(N)||re(x))throw Error("slowDivide_ only works with positive integers.");for(var C=O,M=x;M.l(N)<=0;)C=_t(C),M=_t(M);var I=Be(C,1),L=Be(M,1);for(M=Be(M,2),C=Be(C,2);!ee(M);){var w=L.add(M);w.l(N)<=0&&(I=I.add(C),L=w),M=Be(M,1),C=Be(C,1)}return x=be(N,I.j(x)),new Re(I,x)}for(I=S;N.l(x)>=0;){for(C=Math.max(1,Math.floor(N.m()/x.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(C),w=L.j(x);re(w)||w.l(N)>0;)C-=M,L=y(C),w=L.j(x);ee(L)&&(L=O),I=I.add(L),N=be(N,w)}return new Re(I,N)}s.B=function(N){return it(this,N).h},s.and=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)&N.i(M);return new d(C,this.h&N.h)},s.or=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)|N.i(M);return new d(C,this.h|N.h)},s.xor=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)^N.i(M);return new d(C,this.h^N.h)};function _t(N){const x=N.g.length+1,C=[];for(let M=0;M<x;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(C,N.h)}function Be(N,x){const C=x>>5;x%=32;const M=N.g.length-C,I=[];for(let L=0;L<M;L++)I[L]=x>0?N.i(L+C)>>>x|N.i(L+C+1)<<32-x:N.i(L+C);return new d(I,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Fv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Tr=d}).apply(typeof P_<"u"?P_:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gv,Ll,Kv,Jc,xm,Yv,Qv,Wv;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var j=u[A];if(!(j in v))break e;v=v[j]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,j,B){for(var ne=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ne[Le-2]=arguments[Le];return m.prototype[j].apply(A,ne)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function ee(u,m){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const B=j.length||0;u.length=v+B;for(let ne=0;ne<B;ne++)u[v+ne]=j[ne]}else u.push(j)}}class re{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ae(u){d.setTimeout(()=>{throw u},0)}function be(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ve{constructor(){this.h=this.g=null}add(m,v){const A=Re.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Re=new re(()=>new it,u=>u.reset());class it{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,Be=!1,N=new Ve,x=()=>{const u=Promise.resolve(void 0);_t=()=>{u.then(C)}};function C(){for(var u;u=be();){try{u.h.call(u.g)}catch(v){ae(v)}var m=Re;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Be=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ut(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ut,I),ut.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ut.Z.h.call(this)},ut.prototype.h=function(){ut.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),F=0;function ie(u,m,v,A,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=j,this.key=++F,this.da=this.fa=!1}function ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Ce(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)u[v]=A[v];for(let B=0;B<G.length;B++)v=G[B],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,v,A,j){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ne=Oe(u,m,A,j);return ne>-1?(m=u[ne],v||(m.fa=!1)):(m=new ie(m,this.src,B,!!A,j),m.fa=v,u.push(m)),m};function Te(u,m){const v=m.type;if(v in u.g){var A=u.g[v],j=Array.prototype.indexOf.call(A,m,void 0),B;(B=j>=0)&&Array.prototype.splice.call(A,j,1),B&&(ge(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Oe(u,m,v,A){for(let j=0;j<u.length;++j){const B=u[j];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return j}return-1}var De="closure_lm_"+(Math.random()*1e6|0),Et={};function et(u,m,v,A,j){if(Array.isArray(m)){for(let B=0;B<m.length;B++)et(u,m[B],v,A,j);return null}return v=ts(v),u&&u[vt]?u.J(m,v,g(A)?!!A.capture:!1,j):Ti(u,m,v,!1,A,j)}function Ti(u,m,v,A,j,B){if(!m)throw Error("Invalid event type");const ne=g(j)?!!j.capture:!!j;let Le=es(u);if(Le||(u[De]=Le=new le(u)),v=Le.add(m,v,A,ne,B),v.proxy)return v;if(A=Os(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)L||(j=ne),j===void 0&&(j=!1),u.addEventListener(m.toString(),A,j);else if(u.attachEvent)u.attachEvent(Hn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Os(){function u(v){return m.call(u.src,u.listener,v)}const m=Ms;return u}function Ds(u,m,v,A,j){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ds(u,m[B],v,A,j);else A=g(A)?!!A.capture:!!A,v=ts(v),u&&u[vt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Oe(m,v,A,j),v>-1&&(ge(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=es(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Oe(m,v,A,j)),(v=u>-1?m[u]:null)&&ks(v))}function ks(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[vt])Te(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Hn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=es(m))?(Te(v,u),v.h==0&&(v.src=null,m[De]=null)):ge(u)}}}function Hn(u){return u in Et?Et[u]:Et[u]="on"+u}function Ms(u,m){if(u.da)u=!0;else{m=new ut(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&ks(u),u=v.call(A,m)}return u}function es(u){return u=u[De],u instanceof le?u:null}var Vs="__closure_events_fn_"+(Math.random()*1e9>>>0);function ts(u){return typeof u=="function"?u:(u[Vs]||(u[Vs]=function(m){return u.handleEvent(m)}),u[Vs])}function wt(){M.call(this),this.i=new le(this),this.M=this,this.G=null}S(wt,M),wt.prototype[vt]=!0,wt.prototype.removeEventListener=function(u,m,v,A){Ds(this,u,m,v,A)};function Ct(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var j=m;m=new I(A,u),se(m,j)}j=!0;let B,ne;if(v)for(ne=v.length-1;ne>=0;ne--)B=m.g=v[ne],j=Ai(B,A,!0,m)&&j;if(B=m.g=u,j=Ai(B,A,!0,m)&&j,j=Ai(B,A,!1,m)&&j,v)for(ne=0;ne<v.length;ne++)B=m.g=v[ne],j=Ai(B,A,!1,m)&&j}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ge(v[A]);delete u.g[m],u.h--}}this.G=null},wt.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},wt.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function Ai(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let B=0;B<m.length;++B){const ne=m[B];if(ne&&!ne.da&&ne.capture==v){const Le=ne.listener,It=ne.ha||ne.src;ne.fa&&Te(u.i,ne),j=Le.call(It,A)!==!1&&j}}return j&&!A.defaultPrevented}function Do(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function _a(u){u.g=Do(()=>{u.g=null,u.i&&(u.i=!1,_a(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Zt extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_a(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fn(u){M.call(this),this.h=u,this.g={}}S(Fn,M);var te=[];function J(u){Ye(u.g,function(m,v){this.g.hasOwnProperty(v)&&ks(m)},u),u.g={}}Fn.prototype.N=function(){Fn.Z.N.call(this),J(this)},Fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ue=d.JSON.stringify,oe=d.JSON.parse,xe=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Z(){}function ye(){}var me={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ce(){I.call(this,"d")}S(ce,I);function Ne(){I.call(this,"c")}S(Ne,I);var Qe={},mn=null;function rt(){return mn=mn||new wt}Qe.Ia="serverreachability";function Si(u){I.call(this,Qe.Ia,u)}S(Si,I);function Jt(u){const m=rt();Ct(m,new Si(m))}Qe.STAT_EVENT="statevent";function Gn(u,m){I.call(this,Qe.STAT_EVENT,u),this.stat=m}S(Gn,I);function bt(u){const m=rt();Ct(m,new Gn(m,u))}Qe.Ja="timingevent";function Dn(u,m){I.call(this,Qe.Ja,u),this.size=m}S(Dn,I);function xi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function Yh(u,m,v,A,j,B){u.info(function(){if(u.g)if(B){var ne="",Le=B.split("&");for(let tt=0;tt<Le.length;tt++){var It=Le[tt].split("=");if(It.length>1){const Tt=It[0];It=It[1];const Wn=Tt.split("_");ne=Wn.length>=2&&Wn[1]=="type"?ne+(Tt+"="+It+"&"):ne+(Tt+"=redacted&")}}}else ne=null;else ne=B;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+m+`
`+v+`
`+ne})}function gu(u,m,v,A,j,B,ne){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+m+`
`+v+`
`+B+" "+ne})}function wi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Qh(u,v)+(A?" "+A:"")})}function kr(u,m){u.info(function(){return"TIMEOUT: "+m})}oi.prototype.info=function(){};function Qh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ne=1;ne<A.length;ne++)A[ne]=""}}}}return ue(B)}catch{return m}}var Mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function Vr(){}S(Vr,Z),Vr.prototype.g=function(){return new XMLHttpRequest},Mo=new Vr;function ns(u){return encodeURIComponent(String(u))}function yu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function li(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new Fn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var Mt={},Qt={};function Ri(u,m,v){u.M=1,u.A=Lr(Lt(m)),u.u=v,u.R=!0,va(u,null)}function va(u,m){u.F=Date.now(),Ni(u),u.B=Lt(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Aa(v.i,"t",A),u.C=0,v=u.j.L,u.h=new ui,u.g=Du(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Zt(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(te[0]=j.toString()),j=te);for(let B=0;B<j.length;B++){const ne=et(v,j[B],A||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Jt(),Yh(u.i,u.v,u.B,u.l,u.S,u.u)}li.prototype.ba=function(u){u=u.target;const m=this.O;m&&fi(u)==3?m.j():this.Y(u)},li.prototype.Y=function(u){try{if(u==this.g)e:{const Le=fi(this.g),It=this.g.ya(),tt=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Le!=4||It==7||(It==8||tt<=0?Jt(3):Jt(2)),Ci(this);var m=this.g.ca();this.X=m;var v=Wh(this);if(this.o=m==200,gu(this.i,this.v,this.B,this.l,this.S,Le,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var B=A;break t}}B=null}if(u=B)wi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,u);else{this.o=!1,this.m=3,bt(12),kn(this),Kn(this);break e}}if(this.R){u=!0;let Tt;for(;!this.K&&this.C<v.length;)if(Tt=vu(this,v),Tt==Qt){Le==4&&(this.m=4,bt(14),u=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Mt){this.m=4,bt(15),wi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else wi(this.i,this.l,Tt,null),Ii(this,Tt);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||v.length!=0||this.h.h||(this.m=1,bt(16),u=!1),this.o=this.o&&u,!u)wi(this.i,this.l,v,"[Invalid Chunked Response]"),kn(this),Kn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Wo(ne),ne.P=!0,bt(11))}}else wi(this.i,this.l,v,null),Ii(this,v);Le==4&&kn(this),this.o&&!this.K&&(Le==4?Nu(this.j,this):(this.o=!1,Ni(this)))}else ss(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),kn(this),Kn(this)}}}catch{}};function Wh(u){if(!_u(u))return u.g.la();const m=en(u.g);if(m==="")return"";let v="";const A=m.length,j=fi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return kn(u),Kn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<A;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(j&&B==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function _u(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function vu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Qt:(v=Number(m.substring(v,A)),isNaN(v)?Mt:(A+=1,A+v>m.length?Qt:(m=m.slice(A,A+v),u.C=A+v,m)))}li.prototype.cancel=function(){this.K=!0,kn(this)};function Ni(u){u.T=Date.now()+u.H,Ea(u,u.H)}function Ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=xi(y(u.aa,u),m)}function Ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}li.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(kr(this.i,this.B),this.M!=2&&(Jt(),bt(17)),kn(this),this.m=2,Kn(this)):Ea(this,this.T-u)};function Kn(u){u.j.I==0||u.K||Nu(u.j,u)}function kn(u){Ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,J(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ii(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Di(v.h,u))){if(!u.L&&Di(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Na(v),Hs(v);else break e;Hr(v),bt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=xi(y(v.Va,v),6e3));Oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ui(v,11)}else if((u.L||v.g==u)&&Na(v),!w(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let tt=j[m];const Tt=tt[0];if(!(Tt<=v.K))if(v.K=Tt,tt=tt[1],v.I==2)if(tt[0]=="c"){v.M=tt[1],v.ba=tt[2];const Wn=tt[3];Wn!=null&&(v.ka=Wn,v.j.info("VER="+v.ka));const Pi=tt[4];Pi!=null&&(v.za=Pi,v.j.info("SVER="+v.za));const di=tt[5];di!=null&&typeof di=="number"&&di>0&&(A=1.5*di,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const mi=u.g;if(mi){const Fr=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var B=A.h;B.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(jo(B,B.h),B.h=null))}if(A.G){const Ca=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(A.wa=Ca,at(A.J,A.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ne=u;if(A.na=Ou(A,A.L?A.ba:null,A.W),ne.L){Uo(A.h,ne);var Le=ne,It=A.O;It&&(Le.H=It),Le.D&&(Ci(Le),Ni(Le)),A.g=ne}else wu(A);v.i.length>0&&ji(v)}else tt[0]!="stop"&&tt[0]!="close"||Ui(v,7);else v.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Ui(v,7):Yo(v):tt[0]!="noop"&&v.l&&v.l.qa(tt),v.A=0)}}Jt(4)}catch{}}var Vt=class{constructor(u,m){this.g=u,this.map=m}};function Vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Oi(u){return u.h?1:u.g?u.g.size:0}function Di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function jo(u,m){u.g?u.g.add(m):u.h=m}function Uo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Vo.prototype.cancel=function(){if(this.i=Po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Po(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let j,B=null;A>=0?(j=u[v].substring(0,A),B=u[v].substring(A+1)):j=u[v],m(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Mn?(this.l=u.l,Wt(this,u.j),this.o=u.o,this.g=u.g,Ls(this,u.u),this.h=u.h,zo(this,Su(u.i)),this.m=u.m):u&&(m=String(u).match(Eu))?(this.l=!1,Wt(this,m[1]||"",!0),this.o=ki(m[2]||""),this.g=ki(m[3]||"",!0),Ls(this,m[4]),this.h=ki(m[5]||"",!0),zo(this,m[6]||"",!0),this.m=ki(m[7]||"")):(this.l=!1,this.i=new Us(null,this.l))}Mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(jr(m,Ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(jr(m,Ta,!0),"@"),u.push(ns(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(jr(v,v.charAt(0)=="/"?Bo:bu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",jr(v,Tu)),u.join("")},Mn.prototype.resolve=function(u){const m=Lt(this);let v=!!u.j;v?Wt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)Ls(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=m.h.lastIndexOf("/");j!=-1&&(A=m.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const B=[];for(let ne=0;ne<j.length;){const Le=j[ne++];Le=="."?A&&ne==j.length&&B.push(""):Le==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&ne==j.length&&B.push("")):(B.push(Le),A=!0)}A=B.join("/")}else A=j}return v?m.h=A:v=u.i.toString()!=="",v?zo(m,Su(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Lt(u){return new Mn(u)}function Wt(u,m,v){u.j=v?ki(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function zo(u,m,v){m instanceof Us?(u.i=m,Sa(u.i,u.l)):(v||(m=jr(m,js)),u.i=new Us(m,u.l))}function at(u,m,v){u.i.set(m,v)}function Lr(u){return at(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ki(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,En),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function En(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ta=/[#\/\?@]/g,bu=/[#\?:]/g,Bo=/[#\?]/g,js=/[#\?@]/g,Tu=/#/g;function Us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bn(u){u.g||(u.g=new Map,u.h=0,u.i&&ba(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Us.prototype,s.add=function(u,m){bn(this),this.i=null,u=Ps(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Au(u,m){bn(u),m=Ps(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function qo(u,m){return bn(u),m=Ps(u,m),u.g.has(m)}s.forEach=function(u,m){bn(this),this.g.forEach(function(v,A){v.forEach(function(j){u.call(m,j,A,this)},this)},this)};function Ho(u,m){bn(u);let v=[];if(typeof m=="string")qo(u,m)&&(v=v.concat(u.g.get(Ps(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return bn(this),this.i=null,u=Ps(this,u),qo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ho(this,u),u.length>0?String(u[0]):m):m};function Aa(u,m,v){Au(u,m),v.length>0&&(u.i=null,u.g.set(Ps(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const j=ns(v);v=Ho(this,v);for(let B=0;B<v.length;B++){let ne=j;v[B]!==""&&(ne+="="+ns(v[B])),u.push(ne)}}return this.i=u.join("&")};function Su(u){const m=new Us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ps(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Sa(u,m){m&&!u.j&&(bn(u),u.i=null,u.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(Au(this,A),Aa(this,j,v))},u)),u.j=m}function ci(u,m){const v=new oi;if(d.Image){const A=new Image;A.onload=b(Yn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=b(Yn,v,"TestLoadImage: error",!1,m,A),A.onabort=b(Yn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=b(Yn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Fo(u,m){const v=new oi,A=new AbortController,j=setTimeout(()=>{A.abort(),Yn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(B=>{clearTimeout(j),B.ok?Yn(v,"TestPingServer: ok",!0,m):Yn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Yn(v,"TestPingServer: error",!1,m)})}function Yn(u,m,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function zs(){this.g=new xe}function Mi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Mi,Z),Mi.prototype.g=function(){return new Ur(this.i,this.h)};function Ur(u,m){wt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ur,wt),s=Ur.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,hi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Bs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Bs(this):hi(this),this.readyState==3&&xa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Bs(this))},s.Na=function(u){this.g&&(this.response=u,Bs(this))},s.ga=function(){this.g&&Bs(this)};function Bs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,hi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function hi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qn(u){let m="";return Ye(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Pr(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Qn(v),typeof u=="string"?v!=null&&ns(v):at(u,m,v))}function ct(u){wt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ct,wt);var Vi=/^https?$/i,Go=["POST","PUT"];s=ct.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){zr(this,B);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Go,m,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of v)this.g.setRequestHeader(B,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){zr(this,B)}};function zr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ko(u),is(u)}function Ko(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ct(this,"complete"),Ct(this,"abort"),is(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),ct.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},s.Xa=function(){Br(this)};function Br(u){if(u.h&&typeof c<"u"){if(u.v&&fi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ct(u,"readystatechange"),fi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let ne=String(u.D).match(Eu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),A=!Vi.test(ne?ne.toLowerCase():"")}v=A}if(v)Ct(u,"complete"),Ct(u,"success");else{u.o=6;try{var j=fi(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Ko(u)}}finally{is(u)}}}}function is(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ct(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function fi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),oe(m)}};function en(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(u){const m={};u=(u.g&&fi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(w(u[A]))continue;var v=yu(u[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[j]||[];m[j]=B,B.push(v)}Ce(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function qs(u){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,u),this.Za=Li("retryDelaySeedMs",1e4,u),this.Ta=Li("forwardChannelMaxRetries",2,u),this.va=Li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(u&&u.concurrentRequestLimit),this.Ba=new zs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=qs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){bt(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Ou(this,null,this.W),ji(this)};function Yo(u){if(wa(u),u.I==3){var m=u.V++,v=Lt(u.J);if(at(v,"SID",u.M),at(v,"RID",m),at(v,"TYPE","terminate"),qr(u,v),m=new li(u,u.j,m),m.M=2,m.A=Lr(Lt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Du(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ni(m)}Iu(u)}function Hs(u){u.g&&(Wo(u),u.g.cancel(),u.g=null)}function wa(u){Hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Na(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ji(u){if(!Lo(u.h)&&!u.m){u.m=!0;var m=u.Ea;_t||x(),Be||(_t(),Be=!0),N.add(m,u),u.D=0}}function Ra(u,m){return Oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=xi(y(u.Ea,u,m),Cu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new li(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),se(B,this.U)):B=this.U),this.u!==null||this.R||(j.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=xu(this,j,m),v=Lt(this.J),at(v,"RID",u),at(v,"CVER",22),this.G&&at(v,"X-HTTP-Session-Id",this.G),qr(this,v),B&&(this.R?m="headers="+ns(Qn(B))+"&"+m:this.u&&Pr(v,this.u,B)),jo(this.h,j),this.Ra&&at(v,"TYPE","init"),this.S?(at(v,"$req",m),at(v,"SID","null"),j.U=!0,Ri(j,v,null)):Ri(j,v,m),this.I=2}}else this.I==3&&(u?Qo(this,u):this.i.length==0||Lo(this.h)||Qo(this))};function Qo(u,m){var v;m?v=m.l:v=u.V++;const A=Lt(u.J);at(A,"SID",u.M),at(A,"RID",v),at(A,"AID",u.K),qr(u,A),u.u&&u.o&&Pr(A,u.u,u.o),v=new li(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=xu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),jo(u.h,v),Ri(v,A,m)}function qr(u,m){u.H&&Ye(u.H,function(v,A){at(m,A,v)}),u.l&&Ye({},function(v,A){at(m,A,v)})}function xu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var j=u.i;let Le=-1;for(;;){const It=["count="+v];Le==-1?v>0?(Le=j[0].g,It.push("ofs="+Le)):Le=0:It.push("ofs="+Le);let tt=!0;for(let Tt=0;Tt<v;Tt++){var B=j[Tt].g;const Wn=j[Tt].map;if(B-=Le,B<0)Le=Math.max(0,j[Tt].g-100),tt=!1;else try{B="req"+B+"_"||"";try{var ne=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Pi,di]of ne){let mi=di;g(di)&&(mi=ue(di)),It.push(B+Pi+"="+encodeURIComponent(mi))}}catch(Pi){throw It.push(B+"type="+encodeURIComponent("_badmap")),Pi}}catch{A&&A(Wn)}}if(tt){ne=It.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),m.G=u,ne}function wu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;_t||x(),Be||(_t(),Be=!0),N.add(m,u),u.A=0}}function Hr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=xi(y(u.Da,u),Cu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=xi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Hs(this),Ru(this))};function Wo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Ru(u){u.g=new li(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Lt(u.na);at(m,"RID","rpc"),at(m,"SID",u.M),at(m,"AID",u.K),at(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&at(m,"TO",u.ia),at(m,"TYPE","xmlhttp"),qr(u,m),u.u&&u.o&&Pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Lr(Lt(m)),v.u=null,v.R=!0,va(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Hs(this),Hr(this),bt(19))};function Na(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Nu(u,m){var v=null;if(u.g==m){Na(u),Wo(u),u.g=null;var A=2}else if(Di(u.h,m))v=m.G,Uo(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;A=rt(),Ct(A,new Dn(A,v)),ji(u)}else wu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(A==1&&Ra(u,m)||A==2&&Hr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:Ui(u,5);break;case 4:Ui(u,10);break;case 3:Ui(u,6);break;default:Ui(u,2)}}}function Cu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ui(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const j=!A;A=new Mn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Wt(A,"https"),Lr(A),j?ci(A.toString(),v):Fo(A.toString(),v)}else bt(2);u.I=0,u.l&&u.l.pa(m),Iu(u),wa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Iu(u){if(u.I=0,u.ja=[],u.l){const m=Po(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Ou(u,m,v){var A=v instanceof Mn?Lt(v):new Mn(v);if(A.g!="")m&&(A.g=m+"."+A.g),Ls(A,A.u);else{var j=d.location;A=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const B=new Mn(null);A&&Wt(B,A),m&&(B.g=m),j&&Ls(B,j),v&&(B.h=v),A=B}return v=u.G,m=u.wa,v&&m&&at(A,v,m),at(A,"VER",u.ka),qr(u,A),A}function Du(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ct(new Mi({ab:v})):new ct(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}s=ku.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Fs(){}Fs.prototype.g=function(u,m){return new pn(u,m)};function pn(u,m){wt.call(this),this.g=new qs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new rs(this)}S(pn,wt),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Yo(this.g)},pn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ue(u),u=v);m.i.push(new Vt(m.Ya++,u)),m.I==3&&ji(m)},pn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,pn.Z.N.call(this)};function Mu(u){ce.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Mu,ce);function Vu(){Ne.call(this),this.status=1}S(Vu,Ne);function rs(u){this.g=u}S(rs,ku),rs.prototype.ra=function(){Ct(this.g,"a")},rs.prototype.qa=function(u){Ct(this.g,new Mu(u))},rs.prototype.pa=function(u){Ct(this.g,new Vu)},rs.prototype.oa=function(){Ct(this.g,"b")},Fs.prototype.createWebChannel=Fs.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,Wv=function(){return new Fs},Qv=function(){return rt()},Yv=Qe,xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,Jc=Mr,ko.COMPLETE="complete",Kv=ko,ye.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Ll=ye,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,Gv=ct}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let No="12.8.0";function Jx(s){No=s}const da=new Gm("@firebase/firestore");function ro(){return da.logLevel}function he(s,...e){if(da.logLevel<=Fe.DEBUG){const n=e.map(np);da.debug(`Firestore (${No}): ${s}`,...n)}}function Ns(s,...e){if(da.logLevel<=Fe.ERROR){const n=e.map(np);da.error(`Firestore (${No}): ${s}`,...n)}}function _o(s,...e){if(da.logLevel<=Fe.WARN){const n=e.map(np);da.warn(`Firestore (${No}): ${s}`,...n)}}function np(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Se(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,$v(s,r,n)}function $v(s,e,n){let r=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ns(r),new Error(r)}function st(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||$v(e,l,r)}function Me(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Xv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ew{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class tw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class nw{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,n(_)):Promise.resolve();let c=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ar,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ar)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new Xv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class iw{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class sw{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new iw(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rw{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const r=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new z_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function aw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class ip{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=aw(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=e.charAt(l[c]%62))}return r}}function Ge(s,e){return s<e?-1:s>e?1:0}function wm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return im(l)===im(c)?Ge(l,c):im(l)?1:-1}return Ge(s.length,e.length)}const ow=55296,lw=57343;function im(s){const e=s.charCodeAt(0);return e>=ow&&e<=lw}function vo(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const B_="__name__";class Fi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const c=Fi.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Ge(e.length,n.length)}static compareSegments(e,n){const r=Fi.isNumericId(e),l=Fi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Fi.extractNumericId(e).compare(Fi.extractNumericId(n)):wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class St extends Fi{construct(e,n,r){return new St(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new St(n)}static emptyPath(){return new St([])}}const uw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Fi{construct(e,n,r){return new on(e,n,r)}static isValidIdentifier(e){return uw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B_}static keyField(){return new on([B_])}static fromServerFormat(e){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new pe($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new pe($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new pe($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new pe($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(St.fromString(e))}static fromName(e){return new Ee(St.fromString(e).popFirst(5))}static empty(){return new Ee(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new St(e.slice()))}}function cw(s,e,n){if(!n)throw new pe($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function hw(s,e,n,r){if(e===!0&&r===!0)throw new pe($.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function q_(s){if(!Ee.isDocumentKey(s))throw new pe($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Zv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function sp(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function vi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new pe($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sp(s);throw new pe($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function qt(s,e){const n={typeString:s};return e&&(n.value=e),n}function cu(s,e){if(!Zv(s))throw new pe($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new pe($.INVALID_ARGUMENT,n);return!0}const H_=-62135596800,F_=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*F_);return new yt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<H_)throw new pe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-H_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:qt("string",yt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new yt(0,0))}static max(){return new Ie(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wl=-1;function fw(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ie.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new xr(l,Ee.empty(),e)}function dw(s){return new xr(s.readTime,s.key,Wl)}class xr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xr(Ie.min(),Ee.empty(),Wl)}static max(){return new xr(Ie.max(),Ee.empty(),Wl)}}function mw(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(s.documentKey,e.documentKey),n!==0?n:Ge(s.largestBatchId,e.largestBatchId))}const pw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==pw)throw s;he("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,r)=>{n(e)}))}static reject(e){return new W(((n,r)=>{r(e)}))}static waitFor(e){return new W(((n,r)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&n()}),(_=>r(_)))})),d=!0,c===l&&n()}))}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next((l=>l?W.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(e,n){return new W(((r,l)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;n(e[y]).next((b=>{d[y]=b,++g,g===c&&r(d)}),(b=>l(b)))}}))}static doWhile(e,n){return new W(((r,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):r()};c()}))}}function yw(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(s){return s.name==="IndexedDbTransactionError"}class Ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;const rp=-1;function Oh(s){return s==null}function ph(s){return s===0&&1/s==-1/0}function _w(s){return typeof s=="number"&&Number.isInteger(s)&&!ph(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Jv="";function vw(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=G_(e)),e=Ew(s.get(n),e);return G_(e)}function Ew(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case Jv:n+="";break;default:n+=c}}return n}function G_(s){return s+Jv+""}function K_(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Or(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function eE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class xt{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,r,l,c){this.key=e,this.value=n,this.color=r??an.RED,this.left=l??an.EMPTY,this.right=c??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,c){return new an(e??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return an.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,l,c){return this}insert(e,n,r){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Y_(this.data.getIterator())}getIteratorFrom(e){return new Y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class Y_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new qn([])}unionWith(e){let n=new Yt(on.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class tE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new tE("Invalid base64 string: "+c):c}})(e);return new ln(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const bw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(s){if(st(!!s,39018),typeof s=="string"){let e=0;const n=bw.exec(s);if(st(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(s.seconds),nanos:kt(s.nanos)}}function kt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Rr(s){return typeof s=="string"?ln.fromBase64String(s):ln.fromUint8Array(s)}const nE="server_timestamp",iE="__type__",sE="__previous_value__",rE="__local_write_time__";function ap(s){return(s?.mapValue?.fields||{})[iE]?.stringValue===nE}function Dh(s){const e=s.mapValue.fields[sE];return ap(e)?Dh(e):e}function $l(s){const e=wr(s.mapValue.fields[rE].timestampValue);return new yt(e.seconds,e.nanos)}class Tw{constructor(e,n,r,l,c,d,g,_,y,b,S){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=S}}const gh="(default)";class Xl{constructor(e,n){this.projectId=e,this.database=n||gh}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}function Aw(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new pe($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(s.options.projectId,e)}const aE="__type__",Sw="__max__",qc={mapValue:{}},oE="__vector__",yh="value";function Nr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ap(s)?4:ww(s)?9007199254740991:xw(s)?10:11:Se(28295,{value:s})}function Zi(s,e){if(s===e)return!0;const n=Nr(s);if(n!==Nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return $l(s).isEqual($l(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=wr(l.timestampValue),g=wr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return Rr(l.bytesValue).isEqual(Rr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return kt(l.geoPointValue.latitude)===kt(c.geoPointValue.latitude)&&kt(l.geoPointValue.longitude)===kt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return kt(l.integerValue)===kt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=kt(l.doubleValue),g=kt(c.doubleValue);return d===g?ph(d)===ph(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return vo(s.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(K_(d)!==K_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Zi(d[_],g[_])))return!1;return!0})(s,e);default:return Se(52216,{left:s})}}function Zl(s,e){return(s.values||[]).find((n=>Zi(n,e)))!==void 0}function Eo(s,e){if(s===e)return 0;const n=Nr(s),r=Nr(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=kt(c.integerValue||c.doubleValue),_=kt(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return Q_(s.timestampValue,e.timestampValue);case 4:return Q_($l(s),$l(e));case 5:return wm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=Rr(c),_=Rr(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const b=Ge(g[y],_[y]);if(b!==0)return b}return Ge(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Ge(kt(c.latitude),kt(d.latitude));return g!==0?g:Ge(kt(c.longitude),kt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return W_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[yh]?.arrayValue,b=_[yh]?.arrayValue,S=Ge(y?.values?.length||0,b?.values?.length||0);return S!==0?S:W_(y,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===qc.mapValue&&d===qc.mapValue)return 0;if(c===qc.mapValue)return 1;if(d===qc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let S=0;S<_.length&&S<b.length;++S){const O=wm(_[S],b[S]);if(O!==0)return O;const H=Eo(g[_[S]],y[b[S]]);if(H!==0)return H}return Ge(_.length,b.length)})(s.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function Q_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ge(s,e);const n=wr(s),r=wr(e),l=Ge(n.seconds,r.seconds);return l!==0?l:Ge(n.nanos,r.nanos)}function W_(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=Eo(n[l],r[l]);if(c)return c}return Ge(n.length,r.length)}function bo(s){return Rm(s)}function Rm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=wr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Rr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Ee.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=Rm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Rm(n.fields[d])}`;return l+"}"})(s.mapValue):Se(61005,{value:s})}function eh(s){switch(Nr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(s);return e?16+eh(e):16;case 5:return 2*s.stringValue.length;case 6:return Rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+eh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Or(r.fields,((c,d)=>{l+=c.length+eh(d)})),l})(s.mapValue);default:throw Se(13486,{value:s})}}function Nm(s){return!!s&&"integerValue"in s}function op(s){return!!s&&"arrayValue"in s}function $_(s){return!!s&&"nullValue"in s}function X_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function th(s){return!!s&&"mapValue"in s}function xw(s){return(s?.mapValue?.fields||{})[aE]?.stringValue===oE}function ql(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Or(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ql(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(s.arrayValue.values[n]);return e}return{...s}}function ww(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Sw}class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=on.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const _=this.getFieldsMap(n);this.applyChanges(_,r,l),r={},l=[],n=g.popLast()}d?r[g.lastSegment()]=ql(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];th(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){Or(n,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new On(ql(this.value))}}function lE(s){const e=[];return Or(s.fields,((n,r)=>{const l=new on([n]);if(th(r)){const c=lE(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new qn(e)}class fn{constructor(e,n,r,l,c,d,g){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new fn(e,0,Ie.min(),Ie.min(),Ie.min(),On.empty(),0)}static newFoundDocument(e,n,r,l){return new fn(e,1,n,Ie.min(),r,l,0)}static newNoDocument(e,n){return new fn(e,2,n,Ie.min(),Ie.min(),On.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Ie.min(),Ie.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _h{constructor(e,n){this.position=e,this.inclusive=n}}function Z_(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=Ee.comparator(Ee.fromName(d.referenceValue),n.key):r=Eo(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function J_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Zi(s.position[n],e.position[n]))return!1;return!0}class vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Rw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class uE{}class Kt extends uE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Cw(e,n,r):n==="array-contains"?new Dw(e,r):n==="in"?new kw(e,r):n==="not-in"?new Mw(e,r):n==="array-contains-any"?new Vw(e,r):new Kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Iw(e,r):new Ow(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&Nr(this.value)===Nr(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends uE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ji(e,n)}matches(e){return cE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cE(s){return s.op==="and"}function hE(s){return Nw(s)&&cE(s)}function Nw(s){for(const e of s.filters)if(e instanceof Ji)return!1;return!0}function Cm(s){if(s instanceof Kt)return s.field.canonicalString()+s.op.toString()+bo(s.value);if(hE(s))return s.filters.map((e=>Cm(e))).join(",");{const e=s.filters.map((n=>Cm(n))).join(",");return`${s.op}(${e})`}}function fE(s,e){return s instanceof Kt?(function(r,l){return l instanceof Kt&&r.op===l.op&&r.field.isEqual(l.field)&&Zi(r.value,l.value)})(s,e):s instanceof Ji?(function(r,l){return l instanceof Ji&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&fE(d,l.filters[g])),!0):!1})(s,e):void Se(19439)}function dE(s){return s instanceof Kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`})(s):s instanceof Ji?(function(n){return n.op.toString()+" {"+n.getFilters().map(dE).join(" ,")+"}"})(s):"Filter"}class Cw extends Kt{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class Iw extends Kt{constructor(e,n){super(e,"in",n),this.keys=mE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Ow extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=mE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function mE(s,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class Dw extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return op(n)&&Zl(n.arrayValue,this.value)}}class kw extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class Mw extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class Vw extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!op(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Zl(this.value.arrayValue,r)))}}class Lw{constructor(e,n=null,r=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function e1(s,e=null,n=[],r=[],l=null,c=null,d=null){return new Lw(s,e,n,r,l,c,d)}function lp(s){const e=Me(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Cm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>bo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>bo(r))).join(",")),e.Te=n}return e.Te}function up(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!Rw(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!fE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!J_(s.startAt,e.startAt)&&J_(s.endAt,e.endAt)}function Im(s){return Ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class kh{constructor(e,n=null,r=[],l=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function jw(s,e,n,r,l,c,d,g){return new kh(s,e,n,r,l,c,d,g)}function Mh(s){return new kh(s)}function t1(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Uw(s){return Ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Pw(s){return s.collectionGroup!==null}function Hl(s){const e=Me(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Yt(on.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new vh(c,r))})),n.has(on.keyField().canonicalString())||e.Ie.push(new vh(on.keyField(),r))}return e.Ie}function Qi(s){const e=Me(s);return e.Ee||(e.Ee=zw(e,Hl(s))),e.Ee}function zw(s,e){if(s.limitType==="F")return e1(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new vh(l.field,c)}));const n=s.endAt?new _h(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new _h(s.startAt.position,s.startAt.inclusive):null;return e1(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Om(s,e,n){return new kh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Vh(s,e){return up(Qi(s),Qi(e))&&s.limitType===e.limitType}function pE(s){return`${lp(Qi(s))}|lt:${s.limitType}`}function ao(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>dE(l))).join(", ")}]`),Oh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>bo(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>bo(l))).join(",")),`Target(${r})`})(Qi(s))}; limitType=${s.limitType})`}function Lh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Ee.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Hl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,_){const y=Z_(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,Hl(r),l)||r.endAt&&!(function(d,g,_){const y=Z_(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,Hl(r),l))})(s,e)}function Bw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function gE(s){return(e,n)=>{let r=!1;for(const l of Hl(s)){const c=qw(l,e,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function qw(s,e,n){const r=s.field.isKeyField()?Ee.comparator(e.key,n.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?Eo(_,y):Se(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:s.dir})}}class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Or(this.inner,((n,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return eE(this.inner)}size(){return this.innerSize}}const Hw=new xt(Ee.comparator);function Cs(){return Hw}const yE=new xt(Ee.comparator);function jl(...s){let e=yE;for(const n of s)e=e.insert(n.key,n);return e}function _E(s){let e=yE;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ua(){return Fl()}function vE(){return Fl()}function Fl(){return new ga((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Fw=new xt(Ee.comparator),Gw=new Yt(Ee.comparator);function Ke(...s){let e=Gw;for(const n of s)e=e.add(n);return e}const Kw=new Yt(Ge);function Yw(){return Kw}function cp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function EE(s){return{integerValue:""+s}}function Qw(s,e){return _w(e)?EE(e):cp(s,e)}class jh{constructor(){this._=void 0}}function Ww(s,e,n){return s instanceof Eh?(function(l,c){const d={fields:{[iE]:{stringValue:nE},[rE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&ap(c)&&(c=Dh(c)),c&&(d.fields[sE]=c),{mapValue:d}})(n,e):s instanceof To?TE(s,e):s instanceof Jl?AE(s,e):(function(l,c){const d=bE(l,c),g=n1(d)+n1(l.Ae);return Nm(d)&&Nm(l.Ae)?EE(g):cp(l.serializer,g)})(s,e)}function $w(s,e,n){return s instanceof To?TE(s,e):s instanceof Jl?AE(s,e):n}function bE(s,e){return s instanceof bh?(function(r){return Nm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Eh extends jh{}class To extends jh{constructor(e){super(),this.elements=e}}function TE(s,e){const n=SE(e);for(const r of s.elements)n.some((l=>Zi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class Jl extends jh{constructor(e){super(),this.elements=e}}function AE(s,e){let n=SE(e);for(const r of s.elements)n=n.filter((l=>!Zi(l,r)));return{arrayValue:{values:n}}}class bh extends jh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function n1(s){return kt(s.integerValue||s.doubleValue)}function SE(s){return op(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Xw{constructor(e,n){this.field=e,this.transform=n}}function Zw(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof To&&l instanceof To||r instanceof Jl&&l instanceof Jl?vo(r.elements,l.elements,Zi):r instanceof bh&&l instanceof bh?Zi(r.Ae,l.Ae):r instanceof Eh&&l instanceof Eh})(s.transform,e.transform)}class Jw{constructor(e,n){this.version=e,this.transformResults=n}}class Ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Uh{}function xE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new hp(s.key,Ei.none()):new hu(s.key,s.data,Ei.none());{const n=s.data,r=On.empty();let l=new Yt(on.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Dr(s.key,r,new qn(l.toArray()),Ei.none())}}function eR(s,e,n){s instanceof hu?(function(l,c,d){const g=l.value.clone(),_=s1(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):s instanceof Dr?(function(l,c,d){if(!nh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=s1(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(wE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Gl(s,e,n,r){return s instanceof hu?(function(c,d,g,_){if(!nh(c.precondition,d))return g;const y=c.value.clone(),b=r1(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof Dr?(function(c,d,g,_){if(!nh(c.precondition,d))return g;const y=r1(c.fieldTransforms,_,d),b=d.data;return b.setAll(wE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(c,d,g){return nh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,n)}function tR(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=bE(r.transform,l||null);c!=null&&(n===null&&(n=On.empty()),n.set(r.field,c))}return n||null}function i1(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&vo(r,l,((c,d)=>Zw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class hu extends Uh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Dr extends Uh{constructor(e,n,r,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function s1(s,e,n){const r=new Map;st(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);r.set(c.field,$w(d,g,n[l]))}return r}function r1(s,e,n){const r=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);r.set(l.field,Ww(c,d,e))}return r}class hp extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nR extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iR{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&eR(c,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const _=xE(d,g);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,((n,r)=>i1(n,r)))&&vo(this.baseMutations,e.baseMutations,((n,r)=>i1(n,r)))}}class fp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return Fw})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new fp(e,n,r,l)}}class sR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rR{constructor(e,n){this.count=e,this.unchangedNames=n}}var Bt,Xe;function aR(s){switch(s){case $.OK:return Se(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function RE(s){if(s===void 0)return Ns("GRPC error has no .code"),$.UNKNOWN;switch(s){case Bt.OK:return $.OK;case Bt.CANCELLED:return $.CANCELLED;case Bt.UNKNOWN:return $.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return $.INTERNAL;case Bt.UNAVAILABLE:return $.UNAVAILABLE;case Bt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Bt.NOT_FOUND:return $.NOT_FOUND;case Bt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Bt.ABORTED:return $.ABORTED;case Bt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Bt.DATA_LOSS:return $.DATA_LOSS;default:return Se(39323,{code:s})}}(Xe=Bt||(Bt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function oR(){return new TextEncoder}const lR=new Tr([4294967295,4294967295],0);function a1(s){const e=oR().encode(s),n=new Fv;return n.update(e),new Uint8Array(n.digest())}function o1(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Tr([n,r],0),new Tr([l,c],0)]}class dp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(r<0)throw new Ul(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Tr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(Tr.fromNumber(r)));return l.compare(lR)===1&&(l=new Tr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=a1(e),[r,l]=o1(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new dp(c,l,n);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const n=a1(e),[r,l]=o1(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ph{constructor(e,n,r,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ph(Ie.min(),l,new xt(Ge),Cs(),Ke())}}class fu{constructor(e,n,r,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fu(r,n,Ke(),Ke(),Ke())}}class ih{constructor(e,n,r,l){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=l}}class NE{constructor(e,n){this.targetId=e,this.Ce=n}}class CE{constructor(e,n,r=ln.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class l1{constructor(){this.ve=0,this.Fe=u1(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),r=Ke();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Se(38017,{changeType:c})}})),new fu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=u1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class uR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cs(),this.He=Hc(),this.Je=Hc(),this.Ze=new xt(Ge)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Im(c))if(r===0){const d=new Ee(c.path);this.et(n,d,fn.newNoDocument(d,Ie.min()))}else st(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(n);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=Rr(r).toUint8Array()}catch(_){if(_ instanceof tE)return _o("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new dp(d,l,c)}catch(_){return _o(_ instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Im(g.target)){const _=new Ee(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,fn.newNoDocument(_,e))}c.Be&&(n.set(d,c.ke()),c.Ke())}}));let r=Ke();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Ph(e,n,this.Ze,this.je,r);return this.je=Cs(),this.He=Hc(),this.Je=Hc(),this.Ze=new xt(Ge),l}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new l1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Yt(Ge),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Yt(Ge),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new l1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Hc(){return new xt(Ee.comparator)}function u1(){return new xt(Ee.comparator)}const cR={asc:"ASCENDING",desc:"DESCENDING"},hR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fR={and:"AND",or:"OR"};class dR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dm(s,e){return s.useProto3Json||Oh(e)?e:{value:e}}function Th(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function mR(s,e){return Th(s,e.toTimestamp())}function Wi(s){return st(!!s,49232),Ie.fromTimestamp((function(n){const r=wr(n);return new yt(r.seconds,r.nanos)})(s))}function mp(s,e){return km(s,e).canonicalString()}function km(s,e){const n=(function(l){return new St(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function OE(s){const e=St.fromString(s);return st(LE(e),10190,{key:e.toString()}),e}function Mm(s,e){return mp(s.databaseId,e.path)}function sm(s,e){const n=OE(e);if(n.get(1)!==s.databaseId.projectId)throw new pe($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new pe($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Ee(kE(n))}function DE(s,e){return mp(s.databaseId,e)}function pR(s){const e=OE(s);return e.length===4?St.emptyPath():kE(e)}function Vm(s){return new St(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function kE(s){return st(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function c1(s,e,n){return{name:Mm(s,e),fields:n.value.mapValue.fields}}function gR(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(st(b===void 0||typeof b=="string",58123),ln.fromBase64String(b||"")):(st(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),ln.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?$.UNKNOWN:RE(y.code);return new pe(b,y.message||"")})(d);n=new CE(r,l,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=sm(s,r.document.name),c=Wi(r.document.updateTime),d=r.document.createTime?Wi(r.document.createTime):Ie.min(),g=new On({mapValue:{fields:r.document.fields}}),_=fn.newFoundDocument(l,c,d,g),y=r.targetIds||[],b=r.removedTargetIds||[];n=new ih(y,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=sm(s,r.document),c=r.readTime?Wi(r.readTime):Ie.min(),d=fn.newNoDocument(l,c),g=r.removedTargetIds||[];n=new ih([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=sm(s,r.document),c=r.removedTargetIds||[];n=new ih([],c,l,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new rR(l,c),g=r.targetId;n=new NE(g,d)}}return n}function yR(s,e){let n;if(e instanceof hu)n={update:c1(s,e.key,e.value)};else if(e instanceof hp)n={delete:Mm(s,e.key)};else if(e instanceof Dr)n={update:c1(s,e.key,e.data),updateMask:wR(e.fieldMask)};else{if(!(e instanceof nR))return Se(16599,{dt:e.type});n={verify:Mm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof Eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof To)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Jl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof bh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Se(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:mR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(s,e.precondition)),n}function _R(s,e){return s&&s.length>0?(st(e!==void 0,14353),s.map((n=>(function(l,c){let d=l.updateTime?Wi(l.updateTime):Wi(c);return d.isEqual(Ie.min())&&(d=Wi(c)),new Jw(d,l.transformResults||[])})(n,e)))):[]}function vR(s,e){return{documents:[DE(s,e.path)]}}function ER(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DE(s,l);const c=(function(y){if(y.length!==0)return VE(Ji.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(O){return{field:oo(O.field),direction:AR(O.dir)}})(b)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Dm(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function bR(s){let e=pR(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){st(r===1,65062);const b=n.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];n.where&&(c=(function(S){const O=ME(S);return O instanceof Ji&&hE(O)?O.getFilters():[O]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((O=>(function(ee){return new vh(lo(ee.field),(function(ae){switch(ae){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(O)))})(n.orderBy));let g=null;n.limit&&(g=(function(S){let O;return O=typeof S=="object"?S.value:S,Oh(O)?null:O})(n.limit));let _=null;n.startAt&&(_=(function(S){const O=!!S.before,H=S.values||[];return new _h(H,O)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const O=!S.before,H=S.values||[];return new _h(H,O)})(n.endAt)),jw(e,l,d,c,g,"F",_,y)}function TR(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ME(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=lo(n.unaryFilter.field);return Kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=lo(n.unaryFilter.field);return Kt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=lo(n.unaryFilter.field);return Kt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=lo(n.unaryFilter.field);return Kt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Kt.create(lo(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Ji.create(n.compositeFilter.filters.map((r=>ME(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(s):Se(30097,{filter:s})}function AR(s){return cR[s]}function SR(s){return hR[s]}function xR(s){return fR[s]}function oo(s){return{fieldPath:s.canonicalString()}}function lo(s){return on.fromServerFormat(s.fieldPath)}function VE(s){return s instanceof Kt?(function(n){if(n.op==="=="){if(X_(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if($_(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(X_(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if($_(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:SR(n.op),value:n.value}}})(s):s instanceof Ji?(function(n){const r=n.getFilters().map((l=>VE(l)));return r.length===1?r[0]:{compositeFilter:{op:xR(n.op),filters:r}}})(s):Se(54877,{filter:s})}function wR(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function LE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function jE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class _r{constructor(e,n,r,l,c=Ie.min(),d=Ie.min(),g=ln.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RR{constructor(e){this.yt=e}}function NR(s){const e=bR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Om(e,e.limit,"L"):e}class CR{constructor(){this.Sn=new IR}addToCollectionParentIndex(e,n){return this.Sn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(xr.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class IR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Yt(St.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Yt(St.comparator)).toArray()}}const h1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UE=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(UE,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class Ao{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ao(0)}static ar(){return new Ao(-1)}}const f1="LruGarbageCollector",OR=1048576;function d1([s,e],[n,r]){const l=Ge(s,n);return l===0?Ge(e,r):l}class DR{constructor(e){this.Pr=e,this.buffer=new Yt(d1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();d1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(f1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?he(f1,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Ar(3e5)}))}}class MR{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Ih.ce);const r=new DR(n);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(h1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,l,c,d,g,_,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,g=Date.now(),this.removeTargets(e,r,n)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),ro()<=Fe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function VR(s,e){return new MR(s,e)}class LR{constructor(){this.changes=new ga((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UR{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Gl(r.mutation,l,qn.empty(),yt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ke()){const l=ua();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((c=>{let d=jl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=ua();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ke())))}populateOverlays(e,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,r,l){let c=Cs();const d=Fl(),g=(function(){return Fl()})();return n.forEach(((_,y)=>{const b=r.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof Dr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Gl(b.mutation,y,b.mutation.getFieldMask(),yt.now())):d.set(y.key,qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),n.forEach(((y,b)=>g.set(y,new jR(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,n){const r=Fl();let l=new xt(((d,g)=>d-g)),c=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=n.get(_);if(y===null)return;let b=r.get(_)||qn.empty();b=g.applyToLocalView(y,b),r.set(_,b);const S=(l.get(g.batchId)||Ke()).add(_);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,b=_.value,S=vE();b.forEach((O=>{if(!c.has(O)){const H=xE(n.get(O),r.get(O));H!==null&&S.set(O,H),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return W.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return Uw(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Pw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-c.size):W.resolve(ua());let g=Wl,_=c;return d.next((y=>W.forEach(y,((b,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(b)?W.resolve():this.remoteDocumentCache.getEntry(e,b).next((O=>{_=_.insert(b,O)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Ke()))).next((b=>({batchId:g,changes:_E(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((r=>{let l=jl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const c=n.collectionGroup;let d=jl();return this.indexManager.getCollectionParents(e,c).next((g=>W.forEach(g,(_=>{const y=(function(S,O){return new kh(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((b=>{b.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,fn.newInvalidDocument(b)))}));let g=jl();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&Gl(b.mutation,y,qn.empty(),yt.now()),Lh(n,y)&&(g=g.insert(_,y))})),g}))}}class PR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return W.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Wi(l.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:NR(l.bundledQuery),readTime:Wi(l.readTime)}})(n)),W.resolve()}}class zR{constructor(){this.overlays=new xt(Ee.comparator),this.Lr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ua();return W.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,c)=>{this.bt(e,n,c)})),W.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const l=ua(),c=n.length+1,d=new Ee(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return W.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let c=new xt(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let b=c.get(y.largestBatchId);b===null&&(b=ua(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=ua(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=l)););return W.resolve(g)}bt(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new sR(n,r));let c=this.Lr.get(n);c===void 0&&(c=Ke(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}class BR{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}class pp{constructor(){this.kr=new Yt(Xt.Kr),this.qr=new Yt(Xt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Xt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Xt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Ee(new St([])),r=new Xt(n,e),l=new Xt(n,e+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ee(new St([])),r=new Xt(n,e),l=new Xt(n,e+1);let c=Ke();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Xt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ee.comparator(e.key,n.key)||Ge(e.Hr,n.Hr)}static Ur(e,n){return Ge(e.Hr,n.Hr)||Ee.comparator(e.key,n.key)}}class qR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Yt(Xt.Kr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new iR(c,n,r,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Xt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,n){return W.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.Xr(r),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?rp:this.Yn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xt(n,0),l=new Xt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yt(Ge);return n.forEach((l=>{const c=new Xt(l,0),d=new Xt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{r=r.add(g.Hr)}))})),W.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let c=r;Ee.isDocumentKey(c)||(c=c.child(""));const d=new Xt(new Ee(c),0);let g=new Yt(Ge);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Hr)),!0)}),d),W.resolve(this.Yr(g))}Yr(e){const n=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){st(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return W.forEach(n.mutations,(l=>{const c=new Xt(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Xt(n,0),l=this.Jr.firstAfterOrEqual(r);return W.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class HR{constructor(e){this.ti=e,this.docs=(function(){return new xt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=Cs();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():fn.newInvalidDocument(l))})),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let c=Cs();const d=n.path,g=new Ee(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||mw(dw(b),r)<=0||(l.has(b.key)||Lh(n,b))&&(c=c.insert(b.key,b.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,n,r,l){Se(9500)}ni(e,n){return W.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new FR(this)}getSize(e){return W.resolve(this.size)}}class FR extends LR{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),W.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class GR{constructor(e){this.persistence=e,this.ri=new ga((n=>lp(n)),up),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ii=0,this.si=new pp,this.targetCount=0,this.oi=Ao._r()}forEachTarget(e,n){return this.ri.forEach(((r,l)=>n(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),W.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.lr(n),W.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.si.containsKey(n))}}class PE{constructor(e,n){this._i={},this.overlays={},this.ai=new Ih(0),this.ui=!1,this.ui=!0,this.ci=new BR,this.referenceDelegate=e(this),this.li=new GR(this),this.indexManager=new CR,this.remoteDocumentCache=(function(l){return new HR(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new RR(n),this.Pi=new PR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new qR(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const l=new KR(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,n){return W.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class KR extends gw{constructor(e){super(),this.currentSequenceNumber=e}}class gp{constructor(e){this.persistence=e,this.Ri=new pp,this.Ai=null}static Vi(e){return new gp(e)}get di(){if(this.Ai)return this.Ai;throw Se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(r=>{const l=Ee.fromPath(r);return this.mi(e,l).next((c=>{c||n.removeEntry(l,Ie.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ah{constructor(e,n){this.persistence=e,this.fi=new ga((r=>vw(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=VR(this,n)}static Vi(e,n){return new Ah(e,n)}Ti(){}Ii(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return W.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((c=>c?W.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,n).next((g=>{g||(r++,c.removeEntry(d,Ie.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}wr(e,n,r){return W.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return W.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class yp{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=l}static Es(e,n){let r=Ke(),l=Ke();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new yp(e,n.fromCache,r,l)}}class YR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class QR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return O2()?8:yw(dn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const c={result:null};return this.gs(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,n,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new YR;return this.ys(e,n,d).next((g=>{if(c.result=g,this.As)return this.ws(e,n,d,g.size)}))})).next((()=>c.result))}ws(e,n,r,l){return r.documentReadCount<this.Vs?(ro()<=Fe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(ro()<=Fe.DEBUG&&he("QueryEngine","Query:",ao(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(ro()<=Fe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):W.resolve())}gs(e,n){if(t1(n))return W.resolve(null);let r=Qi(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Om(n,null,"F"),r=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Ke(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.bs(n,g);return this.Ss(n,y,d,_.readTime)?this.gs(e,Om(n,null,"F")):this.Ds(e,y,n,_)}))))})))))}ps(e,n,r,l){return t1(n)||l.isEqual(Ie.min())?W.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(n,c);return this.Ss(n,d,r,l)?W.resolve(null):(ro()<=Fe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ao(n)),this.Ds(e,d,n,fw(l,Wl)).next((g=>g)))}))}bs(e,n){let r=new Yt(gE(e));return n.forEach(((l,c)=>{Lh(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,n,r){return ro()<=Fe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ao(n)),this.fs.getDocumentsMatchingQuery(e,n,xr.min(),r)}Ds(e,n,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const _p="LocalStore",WR=3e8;class $R{constructor(e,n,r,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new xt(Ge),this.Fs=new ga((c=>lp(c)),up),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function XR(s,e,n,r){return new $R(s,e,n,r)}async function zE(s,e){const n=Me(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=Ke();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return n.localDocuments.getDocuments(r,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function ZR(s,e){const n=Me(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,b){const S=y.batch,O=S.keys();let H=W.resolve();return O.forEach((ee=>{H=H.next((()=>b.getEntry(_,ee))).next((re=>{const ae=y.docVersions.get(ee);st(ae!==null,48541),re.version.compareTo(ae)<0&&(S.applyToRemoteDocument(re,y),re.isValidDocument()&&(re.setReadTime(y.commitVersion),b.addEntry(re)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=Ke();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function BE(s){const e=Me(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function JR(s,e){const n=Me(s),r=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const g=[];e.targetChanges.forEach(((b,S)=>{const O=l.get(S);if(!O)return;g.push(n.li.removeMatchingKeys(c,b.removedDocuments,S).next((()=>n.li.addMatchingKeys(c,b.addedDocuments,S))));let H=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?H=H.withResumeToken(ln.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,r)),l=l.insert(S,H),(function(re,ae,be){return re.resumeToken.approximateByteSize()===0||ae.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=WR?!0:be.addedDocuments.size+be.modifiedDocuments.size+be.removedDocuments.size>0})(O,H,b)&&g.push(n.li.updateTargetData(c,H))}));let _=Cs(),y=Ke();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(e4(c,d,e.documentUpdates).next((b=>{_=b.Bs,y=b.Ls}))),!r.isEqual(Ie.min())){const b=n.li.getLastRemoteSnapshotVersion(c).next((S=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(b)}return W.waitFor(g).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(n.vs=l,c)))}function e4(s,e,n){let r=Ke(),l=Ke();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Cs();return n.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(Ie.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):he(_p,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function t4(s,e){const n=Me(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=rp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function n4(s,e){const n=Me(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,e).next((c=>c?(l=c,W.resolve(l)):n.li.allocateTargetId(r).next((d=>(l=new _r(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Lm(s,e,n){const r=Me(s),l=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Io(d))throw d;he(_p,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function m1(s,e,n){const r=Me(s);let l=Ie.min(),c=Ke();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const S=Me(_),O=S.Fs.get(b);return O!==void 0?W.resolve(S.vs.get(O)):S.li.getTargetData(y,b)})(r,d,Qi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,n?l:Ie.min(),n?c:Ke()))).next((g=>(i4(r,Bw(e),g),{documents:g,ks:c})))))}function i4(s,e,n){let r=s.Ms.get(e)||Ie.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class p1{constructor(){this.activeTargetIds=Yw()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s4{constructor(){this.vo=new p1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new p1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class r4{Mo(e){}shutdown(){}}const g1="ConnectivityMonitor";class y1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(g1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(g1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function jm(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const rm="RestConnection",a4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class o4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===gh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,n,r,l,c){const d=jm(),g=this.Qo(e,n.toUriEncodedString());he(rm,`Sending RPC '${e}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(g),b=xo(y);return this.zo(e,g,_,r,b).then((S=>(he(rm,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw _o(rm,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",r),S}))}jo(e,n,r,l,c,d){return this.Wo(e,n,r,l,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}Qo(e,n){const r=a4[e];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class l4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const cn="WebChannelConnection",Ml=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class mo extends o4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!mo.c_){const e=Qv();Ml(e,Yv.STAT_EVENT,(n=>{n.stat===xm.PROXY?he(cn,"STAT_EVENT: detected buffering proxy"):n.stat===xm.NOPROXY&&he(cn,"STAT_EVENT: detected no buffering proxy")})),mo.c_=!0}}zo(e,n,r,l,c){const d=jm();return new Promise(((g,_)=>{const y=new Gv;y.setWithCredentials(!0),y.listenOnce(Kv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Jc.NO_ERROR:const S=y.getResponseJson();he(cn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Jc.TIMEOUT:he(cn,`RPC '${e}' ${d} timed out`),_(new pe($.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const O=y.getStatus();if(he(cn,`RPC '${e}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const ee=H?.error;if(ee&&ee.status&&ee.message){const re=(function(be){const Ve=be.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Ve)>=0?Ve:$.UNKNOWN})(ee.status);_(new pe(re,ee.message))}else _(new pe($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new pe($.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(cn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);he(cn,`RPC '${e}' ${d} sending request:`,l),y.send(n,"POST",b,r,15)}))}T_(e,n,r){const l=jm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const y=c.join("");he(cn,`Creating RPC '${e}' stream ${l}: ${y}`,g);const b=d.createWebChannel(y,g);this.I_(b);let S=!1,O=!1;const H=new l4({Ho:ee=>{O?he(cn,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(S||(he(cn,`Opening RPC '${e}' stream ${l} transport.`),b.open(),S=!0),he(cn,`RPC '${e}' stream ${l} sending:`,ee),b.send(ee))},Jo:()=>b.close()});return Ml(b,Ll.EventType.OPEN,(()=>{O||(he(cn,`RPC '${e}' stream ${l} transport opened.`),H.i_())})),Ml(b,Ll.EventType.CLOSE,(()=>{O||(O=!0,he(cn,`RPC '${e}' stream ${l} transport closed`),H.o_(),this.E_(b))})),Ml(b,Ll.EventType.ERROR,(ee=>{O||(O=!0,_o(cn,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),H.o_(new pe($.UNAVAILABLE,"The operation could not be completed")))})),Ml(b,Ll.EventType.MESSAGE,(ee=>{if(!O){const re=ee.data[0];st(!!re,16349);const ae=re,be=ae?.error||ae[0]?.error;if(be){he(cn,`RPC '${e}' stream ${l} received error:`,be);const Ve=be.status;let Re=(function(Be){const N=Bt[Be];if(N!==void 0)return RE(N)})(Ve),it=be.message;Re===void 0&&(Re=$.INTERNAL,it="Unknown error status: "+Ve+" with message "+be.message),O=!0,H.o_(new pe(Re,it)),b.close()}else he(cn,`RPC '${e}' stream ${l} received:`,re),H.__(re)}})),mo.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Wv()}}function u4(s){return new mo(s)}function am(){return typeof document<"u"?document:null}function zh(s){return new dR(s,!0)}mo.c_=!1;class qE{constructor(e,n,r=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&he("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const _1="PersistentStream";class HE{constructor(e,n,r,l,c,d,g,_){this.Ci=e,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ns(n.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new pe($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(_1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(he(_1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class c4 extends HE{constructor(e,n,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gR(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ie.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?Wi(d.readTime):Ie.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Vm(this.serializer),n.addTarget=(function(c,d){let g;const _=d.target;if(g=Im(_)?{documents:vR(c,_)}:{query:ER(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=IE(c,d.resumeToken);const y=Dm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ie.min())>0){g.readTime=Th(c,d.snapshotVersion.toTimestamp());const y=Dm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const r=TR(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Vm(this.serializer),n.removeTarget=e,this.K_(n)}}class h4 extends HE{constructor(e,n,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=_R(e.writeResults,e.commitTime),r=Wi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Vm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>yR(this.serializer,r)))};this.K_(n)}}class f4{}class d4 extends f4{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new pe($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,km(n,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe($.UNKNOWN,c.toString())}))}jo(e,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,km(n,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pe($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function m4(s,e,n,r){return new d4(s,e,n,r)}class p4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ma="RemoteStore";class g4{constructor(e,n,r,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ya(this)&&(he(ma,"Restarting streams for network reachability change."),await(async function(_){const y=Me(_);y.Ea.add(4),await du(y),y.Va.set("Unknown"),y.Ea.delete(4),await Bh(y)})(this))}))})),this.Va=new p4(r,l)}}async function Bh(s){if(ya(s))for(const e of s.Ra)await e(!0)}async function du(s){for(const e of s.Ra)await e(!1)}function FE(s,e){const n=Me(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tp(n)?bp(n):Oo(n).O_()&&Ep(n,e))}function vp(s,e){const n=Me(s),r=Oo(n);n.Ia.delete(e),r.O_()&&GE(n,e),n.Ia.size===0&&(r.O_()?r.L_():ya(n)&&n.Va.set("Unknown"))}function Ep(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(s).Z_(e)}function GE(s,e){s.da.$e(e),Oo(s).X_(e)}function bp(s){s.da=new uR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Oo(s).start(),s.Va.ua()}function Tp(s){return ya(s)&&!Oo(s).x_()&&s.Ia.size>0}function ya(s){return Me(s).Ea.size===0}function KE(s){s.da=void 0}async function y4(s){s.Va.set("Online")}async function _4(s){s.Ia.forEach(((e,n)=>{Ep(s,e)}))}async function v4(s,e){KE(s),Tp(s)?(s.Va.ha(e),bp(s)):s.Va.set("Unknown")}async function E4(s,e,n){if(s.Va.set("Online"),e instanceof CE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,e)}catch(r){he(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sh(s,r)}else if(e instanceof ih?s.da.Xe(e):e instanceof NE?s.da.st(e):s.da.tt(e),!n.isEqual(Ie.min()))try{const r=await BE(s.localStore);n.compareTo(r)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(ln.EMPTY_BYTE_STRING,b.snapshotVersion)),GE(c,_);const S=new _r(b.target,_,y,b.sequenceNumber);Ep(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(r){he(ma,"Failed to raise snapshot:",r),await Sh(s,r)}}async function Sh(s,e,n){if(!Io(e))throw e;s.Ea.add(1),await du(s),s.Va.set("Offline"),n||(n=()=>BE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{he(ma,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Bh(s)}))}function YE(s,e){return e().catch((n=>Sh(s,n,e)))}async function qh(s){const e=Me(s),n=Cr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rp;for(;b4(e);)try{const l=await t4(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,T4(e,l)}catch(l){await Sh(e,l)}QE(e)&&WE(e)}function b4(s){return ya(s)&&s.Ta.length<10}function T4(s,e){s.Ta.push(e);const n=Cr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function QE(s){return ya(s)&&!Cr(s).x_()&&s.Ta.length>0}function WE(s){Cr(s).start()}async function A4(s){Cr(s).ra()}async function S4(s){const e=Cr(s);for(const n of s.Ta)e.ea(n.mutations)}async function x4(s,e,n){const r=s.Ta.shift(),l=fp.from(r,e,n);await YE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await qh(s)}async function w4(s,e){e&&Cr(s).Y_&&await(async function(r,l){if((function(d){return aR(d)&&d!==$.ABORTED})(l.code)){const c=r.Ta.shift();Cr(r).B_(),await YE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await qh(r)}})(s,e),QE(s)&&WE(s)}async function v1(s,e){const n=Me(s);n.asyncQueue.verifyOperationInProgress(),he(ma,"RemoteStore received new credentials");const r=ya(n);n.Ea.add(3),await du(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bh(n)}async function R4(s,e){const n=Me(s);e?(n.Ea.delete(2),await Bh(n)):e||(n.Ea.add(2),await du(n),n.Va.set("Unknown"))}function Oo(s){return s.ma||(s.ma=(function(n,r,l){const c=Me(n);return c.sa(),new c4(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:y4.bind(null,s),Yo:_4.bind(null,s),t_:v4.bind(null,s),J_:E4.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Tp(s)?bp(s):s.Va.set("Unknown")):(await s.ma.stop(),KE(s))}))),s.ma}function Cr(s){return s.fa||(s.fa=(function(n,r,l){const c=Me(n);return c.sa(),new h4(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:A4.bind(null,s),t_:w4.bind(null,s),ta:S4.bind(null,s),na:x4.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await qh(s)):(await s.fa.stop(),s.Ta.length>0&&(he(ma,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Ap{constructor(e,n,r,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,c){const d=Date.now()+r,g=new Ap(e,n,d,l,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sp(s,e){if(Ns("AsyncQueue",`${e}: ${s}`),Io(s))return new pe($.UNAVAILABLE,`${e}: ${s}`);throw s}class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=jl(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new po;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class E1{constructor(){this.ga=new xt(Ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class So{constructor(e,n,r,l,c,d,g,_,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,c){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new So(e,n,po.emptySet(n),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class N4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class C4{constructor(){this.queries=b1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Me(n),c=l.queries;l.queries=b1(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(r)}))})(this,new pe($.ABORTED,"Firestore shutting down"))}}function b1(){return new ga((s=>pE(s)),Vh)}async function $E(s,e){const n=Me(s);let r=3;const l=e.query;let c=n.queries.get(l);c?!c.Sa()&&e.Da()&&(r=2):(c=new N4,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Sp(d,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&xp(n)}async function XE(s,e){const n=Me(s),r=e.query;let l=3;const c=n.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function I4(s,e){const n=Me(s);let r=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(r=!0);d.wa=l}}r&&xp(n)}function O4(s,e,n){const r=Me(s),l=r.queries.get(e);if(l)for(const c of l.ba)c.onError(n);r.queries.delete(e)}function xp(s){s.Ca.forEach((e=>{e.next()}))}var Um,T1;(T1=Um||(Um={})).Ma="default",T1.Cache="cache";class ZE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new So(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Um.Cache}}class JE{constructor(e){this.key=e}}class eb{constructor(e){this.key=e}}class D4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ke(),this.mutatedKeys=Ke(),this.eu=gE(e),this.tu=new po(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new E1,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,S)=>{const O=l.get(b),H=Lh(this.query,S)?S:null,ee=!!O&&this.mutatedKeys.has(O.key),re=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let ae=!1;O&&H?O.data.isEqual(H.data)?ee!==re&&(r.track({type:3,doc:H}),ae=!0):this.su(O,H)||(r.track({type:2,doc:H}),ae=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(g=!0)):!O&&H?(r.track({type:0,doc:H}),ae=!0):O&&!H&&(r.track({type:1,doc:O}),ae=!0,(_||y)&&(g=!0)),ae&&(H?(d=d.add(H),c=re?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Ss:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,S)=>(function(H,ee){const re=ae=>{switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:ae})}};return re(H)-re(ee)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(r),l=l??!1;const g=n&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new So(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new eb(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new JE(r))})),n}cu(e){this.Za=e.ks,this.Ya=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const wp="SyncEngine";class k4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class M4{constructor(e){this.key=e,this.hu=!1}}class V4{constructor(e,n,r,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ga((g=>pE(g)),Vh),this.Iu=new Map,this.Eu=new Set,this.Ru=new xt(Ee.comparator),this.Au=new Map,this.Vu=new pp,this.du={},this.mu=new Map,this.fu=Ao.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function L4(s,e,n=!0){const r=ab(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await tb(r,e,n,!0),l}async function j4(s,e){const n=ab(s);await tb(n,e,!0,!1)}async function tb(s,e,n,r){const l=await n4(s.localStore,Qi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let g;return r&&(g=await U4(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&FE(s.remoteStore,l),g}async function U4(s,e,n,r,l){s.pu=(S,O,H)=>(async function(re,ae,be,Ve){let Re=ae.view.ru(be);Re.Ss&&(Re=await m1(re.localStore,ae.query,!1).then((({documents:N})=>ae.view.ru(N,Re))));const it=Ve&&Ve.targetChanges.get(ae.targetId),_t=Ve&&Ve.targetMismatches.get(ae.targetId)!=null,Be=ae.view.applyChanges(Re,re.isPrimaryClient,it,_t);return S1(re,ae.targetId,Be.au),Be.snapshot})(s,S,O,H);const c=await m1(s.localStore,e,!0),d=new D4(e,c.ks),g=d.ru(c.documents),_=fu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);S1(s,n,y.au);const b=new k4(e,n,d);return s.Tu.set(e,b),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function P4(s,e,n){const r=Me(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Vh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Lm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&vp(r.remoteStore,l.targetId),Pm(r,l.targetId)})).catch(Co)):(Pm(r,l.targetId),await Lm(r.localStore,l.targetId,!0))}async function z4(s,e){const n=Me(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vp(n.remoteStore,r.targetId))}async function B4(s,e,n){const r=Q4(s);try{const l=await(function(d,g){const _=Me(d),y=yt.now(),b=g.reduce(((H,ee)=>H.add(ee.key)),Ke());let S,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let ee=Cs(),re=Ke();return _.xs.getEntries(H,b).next((ae=>{ee=ae,ee.forEach(((be,Ve)=>{Ve.isValidDocument()||(re=re.add(be))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,ee))).next((ae=>{S=ae;const be=[];for(const Ve of g){const Re=tR(Ve,S.get(Ve.key).overlayedDocument);Re!=null&&be.push(new Dr(Ve.key,Re,lE(Re.value.mapValue),Ei.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,be,g)})).next((ae=>{O=ae;const be=ae.applyToLocalDocumentSet(S,re);return _.documentOverlayCache.saveOverlays(H,ae.batchId,be)}))})).then((()=>({batchId:O.batchId,changes:_E(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.du[d.currentUser.toKey()];y||(y=new xt(Ge)),y=y.insert(g,_),d.du[d.currentUser.toKey()]=y})(r,l.batchId,n),await mu(r,l.changes),await qh(r.remoteStore)}catch(l){const c=Sp(l,"Failed to persist write");n.reject(c)}}async function nb(s,e){const n=Me(s);try{const r=await JR(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(st(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?st(d.hu,14607):l.removedDocuments.size>0&&(st(d.hu,42227),d.hu=!1))})),await mu(n,r,e)}catch(r){await Co(r)}}function A1(s,e,n){const r=Me(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Me(d);_.onlineState=g;let y=!1;_.queries.forEach(((b,S)=>{for(const O of S.ba)O.va(g)&&(y=!0)})),y&&xp(_)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function q4(s,e,n){const r=Me(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new xt(Ee.comparator);d=d.insert(c,fn.newNoDocument(c,Ie.min()));const g=Ke().add(c),_=new Ph(Ie.min(),new Map,new xt(Ge),d,g);await nb(r,_),r.Ru=r.Ru.remove(c),r.Au.delete(e),Rp(r)}else await Lm(r.localStore,e,!1).then((()=>Pm(r,e,n))).catch(Co)}async function H4(s,e){const n=Me(s),r=e.batch.batchId;try{const l=await ZR(n.localStore,e);sb(n,r,null),ib(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mu(n,l)}catch(l){await Co(l)}}async function F4(s,e,n){const r=Me(s);try{const l=await(function(d,g){const _=Me(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(st(S!==null,37113),b=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(r.localStore,e);sb(r,e,n),ib(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mu(r,l)}catch(l){await Co(l)}}function ib(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function sb(s,e,n){const r=Me(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function Pm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||rb(s,r)}))}function rb(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(vp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Rp(s))}function S1(s,e,n){for(const r of n)r instanceof JE?(s.Vu.addReference(r.key,e),G4(s,r)):r instanceof eb?(he(wp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||rb(s,r.key)):Se(19791,{wu:r})}function G4(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(he(wp,"New document in limbo: "+n),s.Eu.add(r),Rp(s))}function Rp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new Ee(St.fromString(e)),r=s.fu.next();s.Au.set(r,new M4(n)),s.Ru=s.Ru.insert(n,r),FE(s.remoteStore,new _r(Qi(Mh(n.path)),r,"TargetPurposeLimboResolution",Ih.ce))}}async function mu(s,e,n){const r=Me(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const b=y?!y.fromCache:n?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=yp.Es(_.targetId,y);c.push(b)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(_,y){const b=Me(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(y,(O=>W.forEach(O.Ts,(H=>b.persistence.referenceDelegate.addReference(S,O.targetId,H))).next((()=>W.forEach(O.Is,(H=>b.persistence.referenceDelegate.removeReference(S,O.targetId,H)))))))))}catch(S){if(!Io(S))throw S;he(_p,"Failed to update sequence numbers: "+S)}for(const S of y){const O=S.targetId;if(!S.fromCache){const H=b.vs.get(O),ee=H.snapshotVersion,re=H.withLastLimboFreeSnapshotVersion(ee);b.vs=b.vs.insert(O,re)}}})(r.localStore,c))}async function K4(s,e){const n=Me(s);if(!n.currentUser.isEqual(e)){he(wp,"User change. New user:",e.toKey());const r=await zE(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new pe($.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mu(n,r.Ns)}}function Y4(s,e){const n=Me(s),r=n.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let l=Ke();const c=n.Iu.get(e);if(!c)return l;for(const d of c){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function ab(s){const e=Me(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=nb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q4.bind(null,e),e.Pu.J_=I4.bind(null,e.eventManager),e.Pu.yu=O4.bind(null,e.eventManager),e}function Q4(s){const e=Me(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F4.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XR(this.persistence,new QR,e.initialUser,this.serializer)}Cu(e){return new PE(gp.Vi,this.serializer)}Du(e){return new s4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class W4 extends xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof Ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new kR(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new PE((r=>Ah.Vi(r,n)),this.serializer)}}class zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=K4.bind(null,this.syncEngine),await R4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new C4})()}createDatastore(e){const n=zh(e.databaseInfo.databaseId),r=u4(e.databaseInfo);return m4(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,c,d,g){return new g4(r,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>A1(this.syncEngine,n,0)),(function(){return y1.v()?new y1:new r4})())}createSyncEngine(e,n){return(function(l,c,d,g,_,y,b){const S=new V4(l,c,d,g,_,y);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Me(n);he(ma,"RemoteStore shutting down."),r.Ea.add(5),await du(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zm.provider={build:()=>new zm};class ob{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ir="FirestoreClient";class $4{constructor(e,n,r,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=hn.UNAUTHENTICATED,this.clientId=ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{he(Ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(he(Ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function om(s,e){s.asyncQueue.verifyOperationInProgress(),he(Ir,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await zE(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function x1(s,e){s.asyncQueue.verifyOperationInProgress();const n=await X4(s);he(Ir,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>v1(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>v1(e.remoteStore,l))),s._onlineComponents=e}async function X4(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){he(Ir,"Using user provided OfflineComponentProvider");try{await om(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await om(s,new xh)}}else he(Ir,"Using default OfflineComponentProvider"),await om(s,new W4(void 0));return s._offlineComponents}async function lb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(he(Ir,"Using user provided OnlineComponentProvider"),await x1(s,s._uninitializedComponentsProvider._online)):(he(Ir,"Using default OnlineComponentProvider"),await x1(s,new zm))),s._onlineComponents}function Z4(s){return lb(s).then((e=>e.syncEngine))}async function Bm(s){const e=await lb(s),n=e.eventManager;return n.onListen=L4.bind(null,e.syncEngine),n.onUnlisten=P4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=j4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z4.bind(null,e.syncEngine),n}function J4(s,e,n,r){const l=new ob(r),c=new ZE(e,l,n);return s.asyncQueue.enqueueAndForget((async()=>$E(await Bm(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>XE(await Bm(s),c)))}}function eN(s,e,n={}){const r=new Ar;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const b=new ob({next:O=>{b.Nu(),d.enqueueAndForget((()=>XE(c,S)));const H=O.docs.has(g);!H&&O.fromCache?y.reject(new pe($.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&O.fromCache&&_&&_.source==="server"?y.reject(new pe($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),S=new ZE(Mh(g.path),b,{includeMetadataChanges:!0,Ka:!0});return $E(c,S)})(await Bm(s),s.asyncQueue,e,n,r))),r.promise}function tN(s,e){const n=new Ar;return s.asyncQueue.enqueueAndForget((async()=>B4(await Z4(s),e,n))),n.promise}function ub(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const nN="ComponentProvider",w1=new Map;function iN(s,e,n,r,l){return new Tw(s,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,ub(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const cb="firestore.googleapis.com",R1=!0;class N1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cb,this.ssl=R1}else this.host=e.host,this.ssl=e.ssl??R1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OR)throw new pe($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ub(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Np{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ew;switch(r.type){case"firstParty":return new sw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=w1.get(n);r&&(he(nN,"Removing Datastore"),w1.delete(n),r.terminate())})(this),Promise.resolve()}}function sN(s,e,n,r={}){s=vi(s,Np);const l=xo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${n}`;l&&(rv(`https://${g}`),av("Firestore",!0)),c.host!==cb&&c.host!==g&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:r};if(!Sr(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=hn.MOCK_USER;else{y=T2(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new pe($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new hn(S)}s._authCredentials=new tw(new Xv(y,b))}}class Hh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hh(this.firestore,e,this._query)}}class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(cu(n,Ht._jsonSchema))return new Ht(e,r||null,new Ee(St.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:qt("string",Ht._jsonSchemaVersion),referencePath:qt("string")};class eu extends Hh{constructor(e,n,r){super(e,n,Mh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Ee(e))}withConverter(e){return new eu(this.firestore,e,this._path)}}function yn(s,e,...n){if(s=vn(s),arguments.length===1&&(e=ip.newId()),cw("doc","path",e),s instanceof Np){const r=St.fromString(e,...n);return q_(r),new Ht(s,null,new Ee(r))}{if(!(s instanceof Ht||s instanceof eu))throw new pe($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(St.fromString(e,...n));return q_(r),new Ht(s.firestore,s instanceof eu?s.converter:null,new Ee(r))}}const C1="AsyncQueue";class I1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qE(this,"async_queue_retry"),this._c=()=>{const r=am();r&&he(C1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;he(C1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",O1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Ap.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Se(47125,{Pc:O1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function O1(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class pa extends Np{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new I1,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I1(e),this._firestoreClient=void 0,await e}}}function rN(s,e){const n=typeof s=="object"?s:cv(),r=typeof s=="string"?s:gh,l=Ym(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=E2("firestore");c&&sN(l,...c)}return l}function Cp(s){if(s._terminated)throw new pe($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||aN(s),s._firestoreClient}function aN(s){const e=s._freezeSettings(),n=iN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new $4(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(ln.fromBase64String(e))}catch(n){throw new pe($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ai(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:qt("string",ai._jsonSchemaVersion),bytes:qt("string")};class Ip{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fh{constructor(e){this._methodName=e}}class $i{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(e){if(cu(e,$i._jsonSchema))return new $i(e.latitude,e.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:qt("string",$i._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};class bi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new bi(e.vectorValues);throw new pe($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:qt("string",bi._jsonSchemaVersion),vectorValues:qt("object")};const oN=/^__.*__$/;class lN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new hu(e,this.data,n,this.fieldTransforms)}}class hb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Dr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{dataSource:s})}}class Gh{constructor(e,n,r,l,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Gh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return wh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(fb(this.dataSource)&&oN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class uN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zh(e)}createContext(e,n,r,l=!1){return new Gh({dataSource:e,methodName:n,targetDoc:r,path:on.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function db(s){const e=s._freezeSettings(),n=zh(s._databaseId);return new uN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function cN(s,e,n,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,n,l);Dp("Data must be an object, but it was:",d,r);const g=mb(r,d);let _,y;if(c.merge)_=new qn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const O=tu(e,S,n);if(!d.contains(O))throw new pe($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);yb(b,O)||b.push(O)}_=new qn(b),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new lN(new On(g),_,y)}class Kh extends Fh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}function hN(s,e,n){return new Gh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Op extends Fh{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=hN(this,e,!0),r=this.Ac.map((c=>pu(c,n))),l=new To(r);return new Xw(e.path,l)}isEqual(e){return e instanceof Op&&Sr(this.Ac,e.Ac)}}function fN(s,e,n,r){const l=s.createContext(1,e,n);Dp("Data must be an object, but it was:",l,r);const c=[],d=On.empty();Or(r,((_,y)=>{const b=gb(e,_,n);y=vn(y);const S=l.childContextForFieldPath(b);if(y instanceof Kh)c.push(b);else{const O=pu(y,S);O!=null&&(c.push(b),d.set(b,O))}}));const g=new qn(c);return new hb(d,g,l.fieldTransforms)}function dN(s,e,n,r,l,c){const d=s.createContext(1,e,n),g=[tu(e,r,n)],_=[l];if(c.length%2!=0)throw new pe($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(tu(e,c[O])),_.push(c[O+1]);const y=[],b=On.empty();for(let O=g.length-1;O>=0;--O)if(!yb(y,g[O])){const H=g[O];let ee=_[O];ee=vn(ee);const re=d.childContextForFieldPath(H);if(ee instanceof Kh)y.push(H);else{const ae=pu(ee,re);ae!=null&&(y.push(H),b.set(H,ae))}}const S=new qn(y);return new hb(b,S,d.fieldTransforms)}function pu(s,e){if(pb(s=vn(s)))return Dp("Unsupported field value:",e,s),mb(s,e);if(s instanceof Fh)return(function(r,l){if(!fb(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let _=pu(g,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Qw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=yt.fromDate(r);return{timestampValue:Th(l.serializer,c)}}if(r instanceof yt){const c=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Th(l.serializer,c)}}if(r instanceof $i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ai)return{bytesValue:IE(l.serializer,r._byteString)};if(r instanceof Ht){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:mp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof bi)return(function(d,g){const _=d instanceof bi?d.toArray():d;return{mapValue:{fields:{[aE]:{stringValue:oE},[yh]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw g.createError("VectorValues must only contain numeric values.");return cp(g.serializer,b)}))}}}}}})(r,l);if(jE(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${sp(r)}`)})(s,e)}function mb(s,e){const n={};return eE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Or(s,((r,l)=>{const c=pu(l,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function pb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof yt||s instanceof $i||s instanceof ai||s instanceof Ht||s instanceof Fh||s instanceof bi||jE(s))}function Dp(s,e,n){if(!pb(n)||!Zv(n)){const r=sp(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function tu(s,e,n){if((e=vn(e))instanceof Ip)return e._internalPath;if(typeof e=="string")return gb(s,e);throw wh("Field path arguments must be of type string or ",s,!1,void 0,n)}const mN=new RegExp("[~\\*/\\[\\]]");function gb(s,e,n){if(e.search(mN)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Ip(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function wh(s,e,n,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new pe($.INVALID_ARGUMENT,g+s+_)}function yb(s,e){return s.some((n=>n.isEqual(e)))}class pN{convertValue(e,n="none"){switch(Nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Or(e,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[yh].arrayValue?.values?.map((r=>kt(r.doubleValue)));return new bi(n)}convertGeoPoint(e){return new $i(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=wr(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=St.fromString(e);st(LE(r),9688,{name:e});const l=new Xl(r.get(1),r.get(3)),c=new Ee(r.popFirst(5));return l.isEqual(n)||Ns(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class _b extends pN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function aa(...s){return new Op("arrayUnion",s)}const D1="@firebase/firestore",k1="4.10.0";function M1(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class vb{constructor(e,n,r,l,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(tu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gN extends vb{data(){return super.data()}}function yN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new pe($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function _N(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends vb{constructor(e,n,r,l,c,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:qt("string",ca._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class sh extends ca{data(e={}){return super.data(e)}}class go{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Pl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new sh(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new sh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new sh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:vN(g.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ip.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}go._jsonSchemaVersion="firestore/querySnapshot/1.0",go._jsonSchema={type:qt("string",go._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};function EN(s){s=vi(s,Ht);const e=vi(s.firestore,pa),n=Cp(e);return eN(n,s._key).then((r=>Eb(e,s,r)))}function bN(s,e,n){s=vi(s,Ht);const r=vi(s.firestore,pa),l=_N(s.converter,e),c=db(r);return kp(r,[cN(c,"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Ei.none())])}function si(s,e,n,...r){s=vi(s,Ht);const l=vi(s.firestore,pa),c=db(l);let d;return d=typeof(e=vn(e))=="string"||e instanceof Ip?dN(c,"updateDoc",s._key,e,n,r):fN(c,"updateDoc",s._key,e),kp(l,[d.toMutation(s._key,Ei.exists(!0))])}function TN(s){return kp(vi(s.firestore,pa),[new hp(s._key,Ei.none())])}function V1(s,...e){s=vn(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||M1(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(M1(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Ht)d=vi(s.firestore,pa),g=Mh(s._key.path),c={next:y=>{e[r]&&e[r](Eb(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=vi(s,Hh);d=vi(y.firestore,pa),g=y._query;const b=new _b(d);c={next:S=>{e[r]&&e[r](new go(d,b,y,S))},error:e[r+1],complete:e[r+2]},yN(s._query)}const _=Cp(d);return J4(_,g,l,c)}function kp(s,e){const n=Cp(s);return tN(n,e)}function Eb(s,e,n){const r=n.docs.get(e._key),l=new _b(s);return new ca(s,l,e._key,r,new Pl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){Jx(wo),yo(new ha("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new pa(new nw(r.getProvider("auth-internal")),new rw(d,r.getProvider("app-check-internal")),Aw(d,l),d);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),br(D1,k1,e),br(D1,k1,"esm2020")})();const bb=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const AN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const SN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const L1=s=>{const e=SN(s);return e.charAt(0).toUpperCase()+e.slice(1)};var xN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const wN=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const RN=$e.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},_)=>$e.createElement("svg",{ref:_,...xN,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:bb("lucide",l),...!c&&!wN(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>$e.createElement(y,b)),...Array.isArray(c)?c:[c]]));const ve=(s,e)=>{const n=$e.forwardRef(({className:r,...l},c)=>$e.createElement(RN,{ref:c,iconNode:e,className:bb(`lucide-${AN(L1(s))}`,`lucide-${s}`,r),...l}));return n.displayName=L1(s),n};const NN=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],CN=ve("arrow-up",NN);const IN=[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]],Vl=ve("bird",IN);const ON=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],j1=ve("book-open",ON);const DN=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],kN=ve("bug",DN);const MN=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],Gc=ve("cat",MN);const VN=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Tb=ve("chart-no-axes-column",VN);const LN=[["path",{d:"M6 5h12",key:"fvfigv"}],["path",{d:"M4 12h10",key:"oujl3d"}],["path",{d:"M12 19h8",key:"baeox8"}]],jN=ve("chart-no-axes-gantt",LN);const UN=[["path",{d:"M5 20a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1z",key:"b89hwq"}],["path",{d:"M15 18c1.5-.615 3-2.461 3-4.923C18 8.769 14.5 4.462 12 2 9.5 4.462 6 8.77 6 13.077 6 15.539 7.5 17.385 9 18",key:"8jdkhx"}],["path",{d:"m16 7-2.5 2.5",key:"1jq90w"}],["path",{d:"M9 2h6",key:"1jrp98"}]],PN=ve("chess-bishop",UN);const zN=[["path",{d:"M5 20a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1z",key:"b89hwq"}],["path",{d:"M16.5 18c1-2 2.5-5 2.5-9a7 7 0 0 0-7-7H6.635a1 1 0 0 0-.768 1.64L7 5l-2.32 5.802a2 2 0 0 0 .95 2.526l2.87 1.456",key:"axbnlq"}],["path",{d:"m15 5 1.425-1.425",key:"15xz8w"}],["path",{d:"m17 8 1.53-1.53",key:"15zhqh"}],["path",{d:"M9.713 12.185 7 18",key:"1ocm0l"}]],BN=ve("chess-knight",zN);const qN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qm=ve("circle-check-big",qN);const HN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lm=ve("circle",HN);const FN=[["path",{d:"M16.17 7.83 2 22",key:"t58vo8"}],["path",{d:"M4.02 12a2.827 2.827 0 1 1 3.81-4.17A2.827 2.827 0 1 1 12 4.02a2.827 2.827 0 1 1 4.17 3.81A2.827 2.827 0 1 1 19.98 12a2.827 2.827 0 1 1-3.81 4.17A2.827 2.827 0 1 1 12 19.98a2.827 2.827 0 1 1-4.17-3.81A1 1 0 1 1 4 12",key:"17k36q"}],["path",{d:"m7.83 7.83 8.34 8.34",key:"1d7sxk"}]],GN=ve("clover",FN);const KN=[["path",{d:"m20.9 18.55-8-15.98a1 1 0 0 0-1.8 0l-8 15.98",key:"53pte7"}],["ellipse",{cx:"12",cy:"19",rx:"9",ry:"3",key:"1ji25f"}]],YN=ve("cone",KN);const QN=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],WN=ve("copy",QN);const $N=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Hm=ve("crown",$N);const XN=[["path",{d:"m21.12 6.4-6.05-4.06a2 2 0 0 0-2.17-.05L2.95 8.41a2 2 0 0 0-.95 1.7v5.82a2 2 0 0 0 .88 1.66l6.05 4.07a2 2 0 0 0 2.17.05l9.95-6.12a2 2 0 0 0 .95-1.7V8.06a2 2 0 0 0-.88-1.66Z",key:"1u2ovd"}],["path",{d:"M10 22v-8L2.25 9.15",key:"11pn4q"}],["path",{d:"m10 14 11.77-6.87",key:"1kt1wh"}]],ZN=ve("cuboid",XN);const JN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5v14a9 3 0 0 0 18 0V5",key:"aqi0yr"}]],eC=ve("cylinder",JN);const tC=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],nC=ve("dog",tC);const iC=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],sC=ve("droplet",iC);const rC=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],um=ve("earth",rC);const aC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rh=ve("eye",aC);const oC=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],lC=ve("feather",oC);const uC=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],cC=ve("fish",uC);const hC=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],fC=ve("flame",hC);const dC=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],mC=ve("flower",dC);const pC=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],gC=ve("footprints",pC);const yC=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],_C=ve("ghost",yC);const vC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],EC=ve("hammer",vC);const bC=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],nu=ve("hexagon",bC);const TC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],AC=ve("history",TC);const SC=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],xC=ve("leaf",SC);const wC=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],RC=ve("loader",wC);const NC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],U1=ve("log-out",NC);const CC=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],IC=ve("moon",CC);const OC=[["path",{d:"M12 12V4a1 1 0 0 1 1-1h6.297a1 1 0 0 1 .651 1.759l-4.696 4.025",key:"1bx4vc"}],["path",{d:"m12 21-7.414-7.414A2 2 0 0 1 4 12.172V6.415a1.002 1.002 0 0 1 1.707-.707L20 20.009",key:"1h3km6"}],["path",{d:"m12.214 3.381 8.414 14.966a1 1 0 0 1-.167 1.199l-1.168 1.163a1 1 0 0 1-.706.291H6.351a1 1 0 0 1-.625-.219L3.25 18.8a1 1 0 0 1 .631-1.781l4.165.027",key:"1hj4wg"}]],P1=ve("origami",OC);const DC=[["path",{d:"M11.25 17.25h1.5L12 18z",key:"1wmwwj"}],["path",{d:"m15 12 2 2",key:"k60wz4"}],["path",{d:"M18 6.5a.5.5 0 0 0-.5-.5",key:"1ch4h4"}],["path",{d:"M20.69 9.67a4.5 4.5 0 1 0-7.04-5.5 8.35 8.35 0 0 0-3.3 0 4.5 4.5 0 1 0-7.04 5.5C2.49 11.2 2 12.88 2 14.5 2 19.47 6.48 22 12 22s10-2.53 10-7.5c0-1.62-.48-3.3-1.3-4.83",key:"1c660l"}],["path",{d:"M6 6.5a.495.495 0 0 1 .5-.5",key:"eviuep"}],["path",{d:"m9 12-2 2",key:"326nkw"}]],z1=ve("panda",DC);const kC=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],ah=ve("paw-print",kC);const MC=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],VC=ve("piggy-bank",MC);const LC=[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]],B1=ve("rabbit",LC);const jC=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],cm=ve("rat",jC);const UC=[["path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44",key:"1cn552"}]],PC=ve("shell",UC);const zC=[["path",{d:"M2 13a6 6 0 1 0 12 0 4 4 0 1 0-8 0 2 2 0 0 0 4 0",key:"hneq2s"}],["circle",{cx:"10",cy:"13",r:"8",key:"194lz3"}],["path",{d:"M2 21h12c4.4 0 8-3.6 8-8V7a2 2 0 1 0-4 0v6",key:"ixqyt7"}],["path",{d:"M18 3 19.1 5.2",key:"9tjm43"}],["path",{d:"M22 3 20.9 5.2",key:"j3odrs"}]],q1=ve("snail",zC);const BC=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],H1=ve("snowflake",BC);const qC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],hm=ve("sparkles",qC);const HC=[["path",{d:"M15.236 22a3 3 0 0 0-2.2-5",key:"21bitc"}],["path",{d:"M16 20a3 3 0 0 1 3-3h1a2 2 0 0 0 2-2v-2a4 4 0 0 0-4-4V4",key:"oh0fg0"}],["path",{d:"M18 13h.01",key:"9veqaj"}],["path",{d:"M18 6a4 4 0 0 0-4 4 7 7 0 0 0-7 7c0-5 4-5 4-10.5a4.5 4.5 0 1 0-9 0 2.5 2.5 0 0 0 5 0C7 10 3 11 3 17c0 2.8 2.2 5 5 5h10",key:"980v8a"}]],F1=ve("squirrel",HC);const FC=[["path",{d:"M11.264 2.205A4 4 0 0 0 6.42 4.211l-4 8a4 4 0 0 0 1.359 5.117l6 4a4 4 0 0 0 4.438 0l6-4a4 4 0 0 0 1.576-4.592l-2-6a4 4 0 0 0-2.53-2.53z",key:"1si4ox"}],["path",{d:"M11.99 22 14 12l7.822 3.184",key:"1u8to0"}],["path",{d:"M14 12 8.47 2.302",key:"guo3d5"}]],GC=ve("stone",FC);const KC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],YC=ve("target",KC);const QC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],G1=ve("trash-2",QC);const WC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fm=ve("triangle-alert",WC);const $C=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],XC=ve("trophy",$C);const ZC=[["path",{d:"m12 10 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a8 8 0 1 0-16 0v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3l2-4h4Z",key:"1lbbv7"}],["path",{d:"M4.82 7.9 8 10",key:"m9wose"}],["path",{d:"M15.18 7.9 12 10",key:"p8dp2u"}],["path",{d:"M16.93 10H20a2 2 0 0 1 0 4H2",key:"12nsm7"}]],JC=ve("turtle",ZC);const eI=[["path",{d:"m19 12-1.5 3",key:"9bcu4o"}],["path",{d:"M19.63 18.81 22 20",key:"121v98"}],["path",{d:"M6.47 8.23a1.68 1.68 0 0 1 2.44 1.93l-.64 2.08a6.76 6.76 0 0 0 10.16 7.67l.42-.27a1 1 0 1 0-2.73-4.21l-.42.27a1.76 1.76 0 0 1-2.63-1.99l.64-2.08A6.66 6.66 0 0 0 3.94 3.9l-.7.4a1 1 0 1 0 2.55 4.34z",key:"1tij6q"}]],K1=ve("worm",eI);const tI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mp=ve("x",tI),nI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:31b2942ce74b65c66aa637"},Ab=uv(nI),dm=Xx(Ab),_n=rN(Ab),Rn=typeof __app_id<"u"?__app_id:"equilibrium-game",iI="9",Kc=()=>E.jsx("style",{children:`
    .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); border-radius: 4px; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(16, 185, 129, 0.3); border-radius: 4px; }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(16, 185, 129, 0.6); }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(10deg); }
    }
    .animate-float { animation: float infinite ease-in-out; }
    
    @keyframes spin-slow {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    .animate-spin-slow { animation: spin-slow 12s linear infinite; }

    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    
    .mask-gradient-right { mask-image: linear-gradient(to right, black 85%, transparent 100%); }
  `}),Yc=({isShaking:s})=>E.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${s?"animate-shake bg-red-900/20":""}`,children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-yellow-900/20 via-gray-950 to-black"}),E.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((e,n)=>{const r=Object.keys(Xi),l=Xi[r[n%r.length]].icon;return E.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:E.jsx(l,{size:32})},n)})}),E.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),Xi={WOOD:{id:"WOOD",color:"bg-amber-800",border:"border-amber-950",icon:eC,name:"Log",validOn:["EMPTY","WOOD"],scoreType:"TREE"},LEAF:{id:"LEAF",color:"bg-emerald-500",border:"border-emerald-700",icon:xC,name:"Foliage",validOn:["EMPTY","WOOD"],scoreType:"TREE"},STONE:{id:"STONE",color:"bg-slate-400",border:"border-slate-600",icon:GC,name:"Stone",validOn:["EMPTY","STONE"],scoreType:"MOUNTAIN"},WATER:{id:"WATER",color:"bg-cyan-500",border:"border-cyan-700",icon:sC,name:"Water",validOn:["EMPTY"],scoreType:"RIVER"},SAND:{id:"SAND",color:"bg-yellow-400",border:"border-yellow-600",icon:jN,name:"Sand",validOn:["EMPTY"],scoreType:"FIELD"},BRICK:{id:"BRICK",color:"bg-red-700",border:"border-red-900",icon:ZN,name:"Brick",validOn:["EMPTY","BRICK","STONE","WOOD"],scoreType:"BUILDING"}},Gt=(s,e)=>[{q:s+1,r:e},{q:s+1,r:e-1},{q:s,r:e-1},{q:s-1,r:e},{q:s-1,r:e+1},{q:s,r:e+1}],la=s=>{if(!s||s.stack.length!==2)return!1;const e=s.stack[1],n=s.stack[0];return e==="BRICK"&&["BRICK","STONE","WOOD"].includes(n)},X=(s,e)=>!s||s.stack.length!==e.length?!1:s.stack.every((n,r)=>n===e[r]),Nn=(s,e,n,r)=>Gt(e,n).some(c=>{const d=s[`${c.q},${c.r}`];return d&&r(d)}),sI=[{q:1,r:0},{q:1,r:-1},{q:0,r:-1},{q:-1,r:0},{q:-1,r:1},{q:0,r:1}],Cn=(s,e,n,r)=>sI.some(l=>r.every((c,d)=>{const g=e+l.q*(d+1),_=n+l.r*(d+1),y=s[`${g},${_}`];return y&&c(y)})),Gi={SQUIRREL:{id:"SQUIRREL",name:"Squirrel",desc:"Small Tree (1 Wood + 1 Leaf)",points:[2,2,2],slots:3,icon:F1,iconColor:"text-orange-500",visual:{type:"stack",tokens:["WOOD","LEAF"]},check:s=>X(s,["WOOD","LEAF"])},LIZARD:{id:"LIZARD",name:"Lizard",desc:"1 Stone next to Bush (1 Leaf)",points:[2,2,2],slots:3,icon:cm,iconColor:"text-emerald-400",visual:{type:"adj",main:["STONE"],others:[["LEAF"]]},check:(s,e)=>X(s,["STONE"])&&Nn(e,s.q,s.r,n=>X(n,["LEAF"]))},SNAIL:{id:"SNAIL",name:"Snail",desc:"1 Stone next to 1 Water",points:[2,2,2],slots:3,icon:q1,iconColor:"text-lime-300",visual:{type:"adj",main:["STONE"],others:[["WATER"]]},check:(s,e)=>X(s,["STONE"])&&Nn(e,s.q,s.r,n=>X(n,["WATER"]))},HERON:{id:"HERON",name:"Heron",desc:"1 Water next to Bush (1 Leaf)",points:[2,2,2],slots:3,icon:Vl,iconColor:"text-cyan-300",visual:{type:"adj",main:["WATER"],others:[["LEAF"]]},check:(s,e)=>X(s,["WATER"])&&Nn(e,s.q,s.r,n=>X(n,["LEAF"]))},DUCK:{id:"DUCK",name:"Duck",desc:"1 Water next to 1 Wood",points:[2,2,2],slots:3,icon:P1,iconColor:"text-green-600",visual:{type:"adj",main:["WATER"],others:[["WOOD"]]},check:(s,e)=>X(s,["WATER"])&&Nn(e,s.q,s.r,n=>X(n,["WOOD"]))},HAWK:{id:"HAWK",name:"Hawk",desc:"Dead Tree (3 Woods)",points:[3,4],slots:2,icon:Vl,iconColor:"text-red-700",visual:{type:"stack",tokens:["WOOD","WOOD","WOOD"]},check:s=>X(s,["WOOD","WOOD","WOOD"])},EAGLE:{id:"EAGLE",name:"Eagle",desc:"Highest Peak (3 Stones)",points:[3,4],slots:2,icon:YC,iconColor:"text-sky-600",visual:{type:"stack",tokens:["STONE","STONE","STONE"]},check:s=>X(s,["STONE","STONE","STONE"])},FROG:{id:"FROG",name:"Frog",desc:"Bush (1 Leaf) next to 1 Water",points:[2,2,2,3],slots:4,icon:GN,iconColor:"text-lime-500",visual:{type:"adj",main:["LEAF"],others:[["WATER"]]},check:(s,e)=>X(s,["LEAF"])&&Nn(e,s.q,s.r,n=>X(n,["WATER"]))},BEAVER:{id:"BEAVER",name:"Beaver",desc:"1 Wood next to 1 Water AND Small Tree",points:[4,5],slots:2,icon:cm,iconColor:"text-amber-800",visual:{type:"adj",main:["WOOD"],others:[["WATER"],["WOOD","LEAF"]]},check:(s,e)=>{if(!X(s,["WOOD"]))return!1;const n=Gt(s.q,s.r).map(c=>e[`${c.q},${c.r}`]),r=n.some(c=>X(c,["WATER"])),l=n.some(c=>c&&X(c,["WOOD","LEAF"]));return r&&l}},TURTLE:{id:"TURTLE",name:"Turtle",desc:"1 Water next to 1 Sand AND 1 Stone",points:[3,3],slots:2,icon:JC,iconColor:"text-teal-600",visual:{type:"adj",main:["WATER"],others:[["SAND"],["STONE"]]},check:(s,e)=>{if(!X(s,["WATER"]))return!1;const n=Gt(s.q,s.r).map(r=>e[`${r.q},${r.r}`]);return n.some(r=>X(r,["SAND"]))&&n.some(r=>X(r,["STONE"]))}},HEDGEHOG:{id:"HEDGEHOG",name:"Hedgehog",desc:"1 Sand next to 1 Wood AND Bush(1 Leaf)",points:[3,4],slots:2,icon:B1,iconColor:"text-blue-600",visual:{type:"adj",main:["SAND"],others:[["LEAF"],["WOOD"]]},check:(s,e)=>{if(!X(s,["SAND"]))return!1;const n=Gt(s.q,s.r).map(r=>e[`${r.q},${r.r}`]);return n.some(r=>r&&X(r,["LEAF"]))&&n.some(r=>r&&X(r,["WOOD"]))}},SHELL:{id:"SHELL",name:"Shell",desc:"1 Sand next to 1 Water AND 1 Stone",points:[3,3],slots:2,icon:PC,iconColor:"text-red-600",visual:{type:"adj",main:["SAND"],others:[["WATER"],["STONE"]]},check:(s,e)=>{if(!X(s,["SAND"]))return!1;const n=Gt(s.q,s.r).map(r=>e[`${r.q},${r.r}`]);return n.some(r=>X(r,["WATER"]))&&n.some(r=>X(r,["STONE"]))}},BOAR:{id:"BOAR",name:"Boar",desc:"1 Sand next to 1 Water AND Small Tree",points:[4,4,5],slots:3,icon:VC,iconColor:"text-amber-900",visual:{type:"adj",main:["SAND"],others:[["WATER"],["WOOD","LEAF"]]},check:(s,e)=>{if(!X(s,["SAND"]))return!1;const n=Gt(s.q,s.r).map(r=>e[`${r.q},${r.r}`]);return n.some(r=>X(r,["WATER"]))&&n.some(r=>r&&X(r,["WOOD","LEAF"]))}},ANTS:{id:"ANTS",name:"Ants",desc:"1 Sand next to Bush(1 Leaf) AND Small Tree",points:[4,4,5],slots:3,icon:kN,iconColor:"text-amber-600",visual:{type:"adj",main:["SAND"],others:[["LEAF"],["WOOD","LEAF"]]},check:(s,e)=>{if(!X(s,["SAND"]))return!1;const n=Gt(s.q,s.r).map(r=>e[`${r.q},${r.r}`]);return n.some(r=>r&&X(r,["LEAF"]))&&n.some(r=>r&&X(r,["WOOD","LEAF"]))}},FOX:{id:"FOX",name:"Fox",desc:"Medium Rock (2 Stones) next to Medium Log (2 Woods)",points:[4,5],slots:2,icon:Gc,iconColor:"text-orange-600",visual:{type:"adj",main:["STONE","STONE"],others:[["WOOD","WOOD"]]},check:(s,e)=>X(s,["STONE","STONE"])&&Nn(e,s.q,s.r,n=>X(n,["WOOD","WOOD"]))},DEER:{id:"DEER",name:"Deer",desc:"Tall Tree next to 1 Sand",points:[4,5,5],slots:3,icon:nC,iconColor:"text-amber-600",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["SAND"]]},check:(s,e)=>X(s,["WOOD","WOOD","LEAF"])&&Nn(e,s.q,s.r,n=>X(n,["SAND"]))},BEAR:{id:"BEAR",name:"Bear",desc:"Tall Tree next to Medium Rock (2 Stones)",points:[5,6],slots:2,icon:z1,iconColor:"text-amber-800",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["STONE","STONE"]]},check:(s,e)=>X(s,["WOOD","WOOD","LEAF"])&&Nn(e,s.q,s.r,n=>X(n,["STONE","STONE"]))},PANDA:{id:"PANDA",name:"Panda",desc:"Tall Tree next to 1 Water",points:[5,5],slots:2,icon:z1,iconColor:"text-red-300",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["WATER"]]},check:(s,e)=>X(s,["WOOD","WOOD","LEAF"])&&Nn(e,s.q,s.r,n=>X(n,["WATER"]))},SCORPION:{id:"SCORPION",name:"Scorpion",desc:"Medium Rock (2 Stones) next to 1 Sand",points:[3,3,3],slots:3,icon:q1,iconColor:"text-rose-600",visual:{type:"adj",main:["STONE","STONE"],others:[["SAND"]]},check:(s,e)=>X(s,["STONE","STONE"])&&Nn(e,s.q,s.r,n=>X(n,["SAND"]))},BEE:{id:"BEE",name:"Bee",desc:"Bush (1 Leaf) next to 2 other Bushes",points:[2,3,3],slots:3,icon:mC,iconColor:"text-yellow-400",visual:{type:"adj",main:["LEAF"],others:[["LEAF"],["LEAF"]]},check:(s,e)=>{if(!X(s,["LEAF"]))return!1;let n=0;return Gt(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&X(l,["LEAF"])&&n++}),n>=2}},WOLF:{id:"WOLF",name:"Wolf",desc:"Small Tree next to 2 other Small Trees",points:[6,7],slots:2,icon:IC,iconColor:"text-orange-500",visual:{type:"adj",main:["WOOD","LEAF"],others:[["WOOD","LEAF"],["WOOD","LEAF"]]},check:(s,e)=>{if(!X(s,["WOOD","LEAF"]))return!1;let n=0;return Gt(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&X(l,["WOOD","LEAF"])&&n++}),n>=2}},SALMON:{id:"SALMON",name:"Salmon",desc:"1 Water next to 2 other Water",points:[3,3,3],slots:3,icon:cC,iconColor:"text-rose-400",visual:{type:"adj",main:["WATER"],others:[["WATER"],["WATER"]]},check:(s,e)=>{if(!X(s,["WATER"]))return!1;let n=0;return Gt(s.q,s.r).forEach(r=>{X(e[`${r.q},${r.r}`],["WATER"])&&n++}),n>=2}},RABBIT:{id:"RABBIT",name:"Rabbit",desc:"1 Sand next to 2 Bushes",points:[3,4,4,4],slots:4,icon:B1,iconColor:"text-fuchsia-300",visual:{type:"adj",main:["SAND"],others:[["LEAF"],["LEAF"]]},check:(s,e)=>{if(!X(s,["SAND"]))return!1;let n=0;return Gt(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&X(l,["LEAF"])&&n++}),n>=2}},PENGUIN:{id:"PENGUIN",name:"Penguin",desc:"1 Stone next to 2 Waters",points:[3,3,4,4],slots:4,icon:Vl,iconColor:"text-cyan-300",visual:{type:"adj",main:["STONE"],others:[["WATER"],["WATER"]]},check:(s,e)=>{if(!X(s,["STONE"]))return!1;let n=0;return Gt(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];X(l,["WATER"])&&n++}),n>=2}},MOLE:{id:"MOLE",name:"Mole",desc:"1 Stone next to 2 Sands",points:[3,3,4,4],slots:4,icon:cm,iconColor:"text-amber-700",visual:{type:"adj",main:["STONE"],others:[["SAND"],["SAND"]]},check:(s,e)=>{if(!X(s,["STONE"]))return!1;let n=0;return Gt(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];X(l,["SAND"])&&n++}),n>=2}},BAT:{id:"BAT",name:"Bat",desc:"Building next to 1 Water",points:[4,4,5],slots:3,icon:_C,iconColor:"text-violet-400",visual:{type:"adj",main:["BRICK","BRICK"],others:[["WATER"]]},check:(s,e)=>la(s)&&Nn(e,s.q,s.r,n=>X(n,["WATER"]))},CAT:{id:"CAT",name:"Cat",desc:"Building next to 2 Sands",points:[5,6],slots:2,icon:Gc,iconColor:"text-yellow-600",visual:{type:"adj",main:["BRICK","BRICK"],others:[["SAND"],["SAND"]]},check:(s,e)=>{if(!la(s))return!1;let n=0;return Gt(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];X(l,["SAND"])&&n++}),n>=2}},OWL:{id:"OWL",name:"Owl",desc:"Tall Tree next to Building",points:[6,7],slots:2,icon:rh,iconColor:"text-indigo-400",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["BRICK","BRICK"]]},check:(s,e)=>X(s,["WOOD","WOOD","LEAF"])&&Nn(e,s.q,s.r,n=>la(n))},SPIDER:{id:"SPIDER",name:"Spider",desc:"Dead Tree (3 Woods) next to Building",points:[6,6],slots:2,icon:H1,iconColor:"text-red-900",visual:{type:"adj",main:["WOOD","WOOD","WOOD"],others:[["BRICK","BRICK"]]},check:(s,e)=>X(s,["WOOD","WOOD","WOOD"])&&Nn(e,s.q,s.r,n=>la(n))},CATERPILLAR:{id:"CATERPILLAR",name:"Caterpillar",desc:"Line: Leaf -> Leaf -> Leaf",points:[3,3,3],slots:3,icon:K1,iconColor:"text-lime-600",visual:{type:"line",sequence:[["LEAF"],["LEAF"],["LEAF"]]},check:(s,e)=>X(s,["LEAF"])?Cn(e,s.q,s.r,[n=>X(n,["LEAF"]),n=>X(n,["LEAF"])]):!1},SNAKE:{id:"SNAKE",name:"Snake",desc:"Line: Bush -> Bush -> Stone",points:[3,4],slots:2,icon:K1,iconColor:"text-emerald-500",visual:{type:"line",sequence:[["LEAF"],["LEAF"],["STONE"]]},check:(s,e)=>X(s,["LEAF"])?Cn(e,s.q,s.r,[n=>X(n,["LEAF"]),n=>X(n,["STONE"])]):!1},CAMEL:{id:"CAMEL",name:"Camel",desc:"Line: Sand -> Sand -> Stone",points:[3,4],slots:2,icon:fC,iconColor:"text-amber-400",visual:{type:"line",sequence:[["SAND"],["SAND"],["STONE"]]},check:(s,e)=>X(s,["SAND"])?Cn(e,s.q,s.r,[n=>X(n,["SAND"]),n=>X(n,["STONE"])]):!1},RHINO:{id:"RHINO",name:"Rhino",desc:"Line: Stone -> Stone -> Field",points:[3,4],slots:2,icon:YN,iconColor:"text-stone-400",visual:{type:"line",sequence:[["STONE"],["STONE"],["SAND"]]},check:(s,e)=>X(s,["STONE"])?Cn(e,s.q,s.r,[n=>X(n,["STONE"]),n=>X(n,["SAND"])]):!1},SWAN:{id:"SWAN",name:"Swan",desc:"Line: Water -> Water -> Leaf",points:[3,4],slots:2,icon:P1,iconColor:"text-pink-400",visual:{type:"line",sequence:[["WATER"],["WATER"],["LEAF"]]},check:(s,e)=>X(s,["WATER"])?Cn(e,s.q,s.r,[n=>X(n,["WATER"]),n=>X(n,["LEAF"])]):!1},CRANE:{id:"CRANE",name:"Crane",desc:"Line: Water -> Wood -> Water",points:[3,3],slots:2,icon:Vl,iconColor:"text-red-400",visual:{type:"line",sequence:[["WATER"],["WOOD"],["WATER"]]},check:(s,e)=>X(s,["WATER"])?Cn(e,s.q,s.r,[n=>X(n,["WOOD"]),n=>X(n,["WATER"])]):!1},OCTOPUS:{id:"OCTOPUS",name:"Octopus",desc:"Line: Water -> Stone -> Water",points:[3,3],slots:2,icon:H1,iconColor:"text-indigo-600",visual:{type:"line",sequence:[["WATER"],["STONE"],["WATER"]]},check:(s,e)=>X(s,["WATER"])?Cn(e,s.q,s.r,[n=>X(n,["STONE"]),n=>X(n,["WATER"])]):!1},MONKEY:{id:"MONKEY",name:"Monkey",desc:"Line: Small Tree -> Tall Tree",points:[5,6],slots:2,icon:F1,iconColor:"text-amber-500",visual:{type:"line",sequence:[["WOOD","LEAF"],["WOOD","WOOD","LEAF"]]},check:(s,e)=>X(s,["WOOD","LEAF"])?Cn(e,s.q,s.r,[n=>X(n,["WOOD","WOOD","LEAF"])]):!1},COUGAR:{id:"COUGAR",name:"Cougar",desc:"Line: Medium Rock -> Highest Peak",points:[5,6],slots:2,icon:Gc,iconColor:"text-red-600",visual:{type:"line",sequence:[["STONE","STONE"],["STONE","STONE","STONE"]]},check:(s,e)=>X(s,["STONE","STONE"])?Cn(e,s.q,s.r,[n=>X(n,["STONE","STONE","STONE"])]):!1},KINGFISHER:{id:"KINGFISHER",name:"Kingfisher",desc:"Line: Small Tree -> Water -> Small Tree",points:[5,5],slots:2,icon:Vl,iconColor:"text-cyan-500",visual:{type:"line",sequence:[["WOOD","LEAF"],["WATER"],["WOOD","LEAF"]]},check:(s,e)=>X(s,["WOOD","LEAF"])?Cn(e,s.q,s.r,[n=>X(n,["WATER"]),n=>X(n,["WOOD","LEAF"])]):!1},ELEPHANT:{id:"ELEPHANT",name:"Elephant",desc:"Line: Sand -> Small Tree -> Water",points:[4,5],slots:2,icon:PN,iconColor:"text-pink-400",visual:{type:"line",sequence:[["SAND"],["WOOD","LEAF"],["WATER"]]},check:(s,e)=>X(s,["SAND"])?Cn(e,s.q,s.r,[n=>X(n,["WOOD","LEAF"]),n=>X(n,["WATER"])]):!1},GIRAFFE:{id:"GIRAFFE",name:"Giraffe",desc:"Line: Small Tree -> Bush -> Building",points:[5,6],slots:2,icon:gC,iconColor:"text-yellow-600",visual:{type:"line",sequence:[["WOOD","LEAF"],["LEAF"],["BRICK","BRICK"]]},check:(s,e)=>X(s,["WOOD","LEAF"])?Cn(e,s.q,s.r,[n=>X(n,["LEAF"]),n=>la(n)]):!1},TIGER:{id:"TIGER",name:"Tiger",desc:"Line: Bush -> Tall Tree -> Bush",points:[5,5],slots:2,icon:Gc,iconColor:"text-orange-500",visual:{type:"line",sequence:[["LEAF"],["WOOD","WOOD","LEAF"],["LEAF"]]},check:(s,e)=>X(s,["LEAF"])?Cn(e,s.q,s.r,[n=>X(n,["WOOD","WOOD","LEAF"]),n=>X(n,["LEAF"])]):!1},PEACOCK:{id:"PEACOCK",name:"Peacock",desc:"Line: Small Tree -> Building ->Small Tree",points:[6,7],slots:2,icon:lC,iconColor:"text-purple-500",visual:{type:"line",sequence:[["WOOD","LEAF"],["BRICK","BRICK"],["WOOD","LEAF"]]},check:(s,e)=>X(s,["WOOD","LEAF"])?Cn(e,s.q,s.r,[n=>la(n),n=>X(n,["WOOD","LEAF"])]):!1},GOAT:{id:"GOAT",name:"Goat",desc:"Highest Peak (3 Stones) next to another Stone",points:[4,5],slots:2,icon:Hm,iconColor:"text-orange-400",visual:{type:"adj",main:["STONE","STONE","STONE"],others:[["STONE"]]},check:(s,e)=>X(s,["STONE","STONE","STONE"])&&Nn(e,s.q,s.r,n=>X(n,["STONE"]))},HORSE:{id:"HORSE",name:"Horse",desc:"1 Sand next to 1 Sand AND Tall Tree",points:[4,5,5],slots:3,icon:BN,iconColor:"text-red-400",visual:{type:"adj",main:["SAND"],others:[["SAND"],["WOOD","WOOD","LEAF"]]},check:(s,e)=>{if(!X(s,["SAND"]))return!1;const n=Gt(s.q,s.r).map(r=>e[`${r.q},${r.r}`]);return n.some(r=>X(r,["SAND"]))&&n.some(r=>r&&X(r,["WOOD","WOOD","LEAF"]))}}},Y1=(s,e)=>{if(!s||s.animal||s.stack.length>=3||e==="BRICK"&&s.stack.length>=2||s.stack.length>=2&&s.stack[s.stack.length-1]==="BRICK")return!1;const n=s.stack.length>0?s.stack[s.stack.length-1]:"EMPTY";return Xi[e].validOn.includes(n)},rI=s=>{let e={trees:0,mountains:0,fields:0,rivers:0,buildings:0};const n=new Set,r=Object.values(s);return r.forEach(c=>{const d=c.stack.length;if(d===0)return;const g=c.stack[d-1],_=c.stack[0];g!=="BRICK"&&g!=="WOOD"&&g==="LEAF"&&(d===1?e.trees+=1:_==="WOOD"&&(d===2?e.trees+=3:d===3&&(e.trees+=7)))}),r.forEach(c=>{const d=c.stack.length;c.stack[0]==="STONE"&&c.stack[d-1]==="STONE"&&Gt(c.q,c.r).some(y=>{const b=s[`${y.q},${y.r}`];return b&&b.stack.length>0&&b.stack[b.stack.length-1]==="STONE"})&&(d===1?e.mountains+=1:d===2?e.mountains+=3:d>=3&&(e.mountains+=7))}),n.clear(),r.forEach(c=>{if(c.stack[0]==="SAND"&&!n.has(`${c.q},${c.r}`)){let d=0,g=[c];for(n.add(`${c.q},${c.r}`);g.length>0;){const _=g.pop();d++,Gt(_.q,_.r).forEach(y=>{const b=s[`${y.q},${y.r}`],S=`${y.q},${y.r}`;b&&b.stack[0]==="SAND"&&!n.has(S)&&(n.add(S),g.push(b))})}d>=2&&(e.fields+=5)}}),n.clear(),r.forEach(c=>{if(c.stack[0]==="WATER"&&!n.has(`${c.q},${c.r}`)){let d=0,g=[c];for(n.add(`${c.q},${c.r}`);g.length>0;){const _=g.pop();d++,Gt(_.q,_.r).forEach(y=>{const b=s[`${y.q},${y.r}`],S=`${y.q},${y.r}`;b&&b.stack[0]==="WATER"&&!n.has(S)&&(n.add(S),g.push(b))})}d===2?e.rivers+=2:d===3?e.rivers+=5:d===4?e.rivers+=8:d===5?e.rivers+=11:d===6?e.rivers+=15:d>6&&(e.rivers+=15+(d-6)*4)}}),r.forEach(c=>{if(la(c)){const d=Gt(c.q,c.r),g=new Set;d.forEach(_=>{const y=s[`${_.q},${_.r}`];if(y&&y.stack.length>0){const b=y.stack[y.stack.length-1];b!=="BRICK"&&g.add(b)}}),g.size>=3&&(e.buildings+=5)}}),{total:Object.values(e).reduce((c,d)=>c+d,0),breakdown:e}},mm=()=>{const s={};return[{r:-2,qStart:-1,qEnd:3},{r:-1,qStart:-1,qEnd:2},{r:0,qStart:-2,qEnd:2},{r:1,qStart:-2,qEnd:1},{r:2,qStart:-3,qEnd:1}].forEach(({r:n,qStart:r,qEnd:l})=>{for(let c=r;c<=l;c++)s[`${c},${n}`]={q:c,r:n,stack:[],animal:null}}),s},Q1=()=>{const s={WOOD:21,LEAF:19,STONE:23,WATER:23,SAND:19,BRICK:15};let e=[];Object.entries(s).forEach(([n,r])=>{for(let l=0;l<r;l++)e.push(n)});for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e},W1=()=>{let s=Object.keys(Gi);for(let e=s.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[s[e],s[n]]=[s[n],s[e]]}return s},$1=(s,e)=>{let n=[...s],r=[...e];for(;n.length<5&&r.length>=3;)n.push({id:Math.random().toString(36).substr(2,9),tokens:[r.pop(),r.pop(),r.pop()].filter(Boolean)});return{market:n,bag:r}},X1=(s,e)=>{let n=[...s],r=[...e];for(;n.length<5&&r.length>0;){const l=r.pop();n.push({id:Math.random().toString(36).substr(2,9),type:l})}return{market:n,deck:r}},Qc=({tokens:s,scale:e=1.2,spacing:n=8})=>E.jsx("div",{className:"relative w-8 h-12 mx-auto",style:{transform:`scale(${e})`,height:`${s.length*n+24}px`},children:s.map((r,l)=>E.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 w-6 h-6 rounded-full border shadow-sm ${Xi[r].color} ${Xi[r].border} flex items-center justify-center`,style:{bottom:`${l*n}px`,zIndex:l},children:l===s.length-1&&(()=>{const c=Xi[r].icon;return E.jsx(c,{size:12,className:"text-white/70"})})()},l))}),Kl=({visual:s})=>s?s.type==="stack"?E.jsx(Qc,{tokens:s.tokens,spacing:8}):s.type==="adj"?E.jsxs("div",{className:"flex -mt-3 items-center justify-center gap-2",children:[E.jsxs("div",{className:"relative z-10 rounded-xl p-1",children:[E.jsx(Qc,{tokens:Array.isArray(s.main)?s.main:[s.main],scale:1.2,spacing:8}),E.jsx("div",{className:"absolute -top-2 w-3 h-3 bg-white rounded-full flex items-center justify-center border border-slate-500 shadow",children:E.jsx("div",{className:"w-1 h-1 bg-slate-900 rounded-full"})})]}),E.jsx("div",{className:"flex items-center flex-col gap-2",children:s.others.map((e,n)=>E.jsx("div",{className:"origin-bottom",children:E.jsx(Qc,{tokens:Array.isArray(e)?e:[e],scale:1.2,spacing:8})},n))})]}):s.type==="line"?E.jsx("div",{className:"flex -mt-3 items-center justify-center gap-1 py-4",children:s.sequence.map((e,n)=>E.jsx(s2.Fragment,{children:E.jsxs("div",{className:`relative ${n===0?"z-10 scale-100":"scale-100"}`,children:[n===0&&E.jsx("div",{className:"absolute center -top-2 w-3 h-3 bg-white rounded-full flex items-center justify-center border border-slate-500 shadow z-20",children:E.jsx("div",{className:"w-1 h-1 bg-slate-900 rounded-full"})}),E.jsx(Qc,{tokens:Array.isArray(e)?e:[e],scale:1.2,spacing:8})]})},n))}):null:null,pm=()=>E.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[E.jsx(nu,{size:12,className:"text-emerald-400"}),E.jsx("span",{className:"text-[10px] font-black tracking-widest text-emerald-400 uppercase",children:"EQUILIBRIUM"})]}),Z1=()=>E.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[E.jsx(nu,{size:20,className:"text-emerald-400"}),E.jsx("span",{className:"text-[20px] font-black tracking-widest text-emerald-400 uppercase",children:"EQUILIBRIUM"})]}),aI=({q:s,r:e,stack:n,animal:r,onClick:l,ghostToken:c,isPlaceable:d,ghostAnimal:g,isValidTarget:_})=>{const b=44*(Math.sqrt(3)*s+Math.sqrt(3)/2*e),S=44*(3/2*e);return E.jsxs("div",{onClick:()=>l&&l(s,e),className:"absolute flex items-center justify-center transition-all duration-300",style:{left:`calc(50% + ${b}px)`,top:`calc(50% + ${S}px)`,width:`${44*1.8}px`,height:"88px",transform:"translate(-50%, -50%)",zIndex:10+e,cursor:d||g?"pointer":"default"},children:[E.jsx("div",{className:`w-full h-full absolute transition-all duration-300 ${_?"bg-emerald-500/60 hover:bg-emerald-400/70 hover:scale-110 shadow-[0_0_30px_rgba(16,185,129,0.6)] z-10":d||g?"bg-slate-700/80 hover:bg-slate-600 hover:scale-105 shadow-[0_0_15px_rgba(52,211,153,0.3)]":"bg-slate-800/90"}`,style:{clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)",zIndex:0}}),E.jsx("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 pointer-events-none z-10 overflow-visible",style:{width:"100%",height:"100%"},children:E.jsx("polygon",{points:"50 0, 100 25, 100 75, 50 100, 0 75, 0 25",fill:"none",stroke:_?"#10b981":"rgba(255,255,255,0.4)",strokeWidth:_?"4":"1.5",strokeDasharray:"4 2",className:_?"animate-pulse":""})}),E.jsxs("div",{className:"relative z-20 flex items-center justify-center w-full h-full pb-2 pointer-events-none",children:[n.map((O,H)=>{const ee=Xi[O];return E.jsx("div",{className:`absolute w-10 h-10 rounded-full border-2 shadow-xl flex items-center justify-center ${ee.color} ${ee.border}`,style:{transform:`translateY(-${H*8}px) scale(${1-H*.02})`,zIndex:H},children:H===n.length-1&&E.jsx(ee.icon,{size:16,className:"text-white/80"})},H)}),d&&c&&E.jsx("div",{className:`absolute w-10 h-10 rounded-full border-2 border-dashed opacity-60 flex items-center justify-center animate-pulse ${Xi[c].color} border-white`,style:{transform:`translateY(-${n.length*8}px)`,zIndex:10},children:E.jsx(CN,{size:16,className:"text-white"})}),_&&!r&&E.jsx("div",{className:"absolute -top-8 w-10 h-10 rounded-full border-4 border-emerald-400 bg-emerald-900 shadow-xl flex items-center justify-center z-50 animate-bounce",children:E.jsx(qm,{size:24,className:"text-emerald-400"})}),g&&!r&&E.jsx("div",{className:"absolute -top-8 w-8 h-8 rounded-full border-2 border-dashed border-white shadow-xl flex items-center justify-center z-50 animate-pulse opacity-70",children:(()=>{const O=Gi[g];if(!O)return null;const H=O.icon;return E.jsx(H,{size:16,className:O.iconColor,fill:"currentColor",fillOpacity:.2})})()}),r&&E.jsx("div",{className:"absolute w-8 h-8 rounded-full bg-white border-2 border-emerald-500 shadow-[0_0_10px_rgba(0,0,0,0.5)] flex items-center justify-center z-50 animate-in zoom-in duration-300",style:{transform:`translateY(-${n.length*8+6}px)`},children:(()=>{const O=Gi[r];if(!O)return E.jsx("div",{className:"text-black text-[8px]",children:"?"});const H=O.icon;return E.jsx(H,{size:18,className:O.iconColor,fill:"currentColor",fillOpacity:.2})})()})]})]})},oI=({type:s,message:e,subtext:n,icon:r})=>E.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:E.jsxs("div",{className:`flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-sm md:max-w-xl mx-4 text-center ${s==="success"?"bg-emerald-900/90 border-emerald-500 text-emerald-100":s==="failure"?"bg-red-900/90 border-red-500 text-red-100":s==="warning"?"bg-amber-900/90 border-amber-500 text-amber-100":"bg-blue-900/90 border-blue-500 text-blue-100"}`,children:[r&&E.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:E.jsx(r,{size:64,className:"animate-bounce"})}),E.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:e}),n&&E.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide",children:n})]})}),gm=({onClose:s})=>E.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 border border-emerald-900/50 w-full max-w-3xl rounded-3xl shadow-2xl p-6 relative max-h-[90vh] overflow-y-auto custom-scrollbar",children:[E.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full hover:bg-slate-700 transition-colors",children:E.jsx(Mp,{size:24})}),E.jsx("h2",{className:"text-3xl font-black text-center mb-6 text-emerald-400",children:"Architect's Handbook"}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[E.jsx(nu,{className:"text-emerald-500"})," Landscape Scoring"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-slate-300",children:[E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[E.jsx("strong",{className:"text-emerald-400 block mb-1",children:"Trees (Wood + Leaf)"}),E.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[E.jsx("li",{children:"Bush (1 Leaf): 1 Pt"}),E.jsx("li",{children:"Small Tree (1 Wood + 1 Leaf): 3 Pts"}),E.jsx("li",{children:"Tall Tree (2 Wood + 1 Leaf): 7 Pts"})]})]}),E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[E.jsx("strong",{className:"text-slate-400 block mb-1",children:"Mountains (Stone)"}),E.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[E.jsx("li",{children:"Only scores if adjacent to at least one other Mountain stack. The more the better."}),E.jsx("li",{children:"Height of Mountain (1=1pt, 2=3pts, 3=7pts)"})]})]}),E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[E.jsx("strong",{className:"text-yellow-400 block mb-1",children:"Fields (Sand)"}),E.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[E.jsx("li",{children:"5 Pts for every distinct group of 2+ connected Sands."}),E.jsx("li",{children:"No matter how long the chain is, only disjointed groups score points."})]})]}),E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[E.jsx("strong",{className:"text-cyan-400 block mb-1",children:"Rivers (Water)"}),E.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[E.jsx("li",{children:"Make chain to score big. The longer the better."}),E.jsx("li",{children:"Length of River chain (2=2pts, 3=5pts, 4=8pts, 5=11pts, 6+ = +4pts for each)"})]})]}),E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl md:col-span-2 border border-emerald-900/30",children:[E.jsx("strong",{className:"text-red-400 block mb-1",children:"Buildings (Brick)"}),E.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[E.jsx("li",{children:"5 Pts for each Building if surrounded by 3+ distinct token types (Except Brick)."}),E.jsx("li",{children:"Wooden House (1 Wood + 1 Brick)"}),E.jsx("li",{children:"Stoned House(1 Stone + 1 Brick)"}),E.jsx("li",{children:"Brick House(1 Brick + 1 Brick)"}),E.jsx("li",{children:"All of them are considered as Building."})]})]})]})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[E.jsx(ah,{className:"text-orange-500"})," Animal Scoring"]}),E.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Draft animals to your hand. When you create their pattern on the board, select the animal to place it!"}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.values(Gi).map(e=>{const n=e.icon;return E.jsxs("div",{className:"bg-slate-800 p-3 rounded-xl border border-emerald-900/30 flex flex-col items-center gap-2 text-xs relative overflow-hidden",children:[E.jsx("div",{className:"bg-black/30 p-2 rounded-full mb-1",children:E.jsx(n,{size:20,className:e.iconColor})}),E.jsx("div",{className:"scale-75 mb-2",children:E.jsx(Kl,{visual:e.visual})}),E.jsxs("div",{className:"text-center z-10",children:[E.jsx("div",{className:"font-bold text-white text-sm",children:e.name}),E.jsx("div",{className:"text-[10px] text-slate-400 leading-tight mb-2 h-8 overflow-hidden line-clamp-2",children:e.desc}),E.jsxs("div",{className:"text-[10px] text-yellow-500 font-bold bg-black/20 px-2 py-1 rounded-full inline-block",children:[e.points.join(" / ")," Pts"]})]})]},e.id)})})]})]}),E.jsx("div",{className:"mt-8 flex flex-col items-center gap-2",children:E.jsx("button",{onClick:s,className:"flex items-center gap-2 px-8 py-3 rounded-xl font-bold text-lg shadow-lg transition-all bg-gradient-to-br from-emerald-600 to-teal-700 text-white hover:bg-emerald-400 hover:scale-105 hover:shadow-emerald-500/20",children:"Understood"})})]})}),lI=({gameState:s,onClose:e})=>E.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-950/95 backdrop-blur-md flex items-center justify-center pt-20 pb-10 px-4",children:E.jsxs("div",{className:"bg-slate-900 border border-emerald-900/50 w-full max-w-lg rounded-3xl shadow-2xl p-6 relative flex flex-col max-h-full",children:[E.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full hover:bg-slate-700 transition-colors z-10",children:E.jsx(Mp,{size:24})}),E.jsx("div",{className:"shrink-0 mb-6",children:E.jsxs("h2",{className:"text-2xl font-black text-center text-emerald-400 flex items-center justify-center gap-2",children:[E.jsx(Tb,{})," Live Scores"]})}),E.jsx("div",{className:"space-y-4 overflow-y-auto custom-scrollbar flex-1 pr-2",children:s.players.map(n=>{const r=n.score||0,l=n.landscapeScore||0,c=(n.penalties||0)*2,d=r+l-c;return E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[E.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2 mb-2",children:[E.jsx("span",{className:"font-bold text-lg text-white",children:n.name}),E.jsx("span",{className:"text-2xl font-black text-yellow-500",children:d})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-slate-400",children:[E.jsxs("div",{className:"flex justify-between text-fuchsia-300",children:[E.jsx("span",{children:"Animals:"})," ",E.jsx("span",{className:"text-fuchsia-500 font-bold",children:r})]}),E.jsxs("div",{className:"flex justify-between text-green-300",children:[E.jsx("span",{children:"Trees:"})," ",E.jsx("span",{className:"text-green-500 font-bold",children:n.landscapeScoreBreakdown?.trees||0})]}),E.jsxs("div",{className:"flex justify-between text-slate-300",children:[E.jsx("span",{children:"Mountains:"})," ",E.jsx("span",{className:"text-slate-500 font-bold",children:n.landscapeScoreBreakdown?.mountains||0})]}),E.jsxs("div",{className:"flex justify-between text-yellow-300",children:[E.jsx("span",{children:"Fields:"})," ",E.jsx("span",{className:"text-yellow-500 font-bold",children:n.landscapeScoreBreakdown?.fields||0})]}),E.jsxs("div",{className:"flex justify-between text-blue-300",children:[E.jsx("span",{children:"Rivers:"})," ",E.jsx("span",{className:"text-blue-500 font-bold",children:n.landscapeScoreBreakdown?.rivers||0})]}),E.jsxs("div",{className:"flex justify-between text-red-300",children:[E.jsx("span",{children:"Buildings:"})," ",E.jsx("span",{className:"text-red-500 font-bold",children:n.landscapeScoreBreakdown?.buildings||0})]}),c>0&&E.jsxs("div",{className:"flex justify-between text-red-400 font-bold col-span-2 border-t border-slate-700 pt-1 mt-1",children:[E.jsx("span",{children:"Penalties:"})," ",E.jsxs("span",{children:["-",c]})]})]})]},n.id)})})]})}),uI=({animal:s,onClose:e})=>E.jsx("div",{className:"fixed inset-0 z-[210] bg-black/80 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:e,children:E.jsxs("div",{className:"bg-slate-900 border-2 border-slate-700 p-6 rounded-2xl max-w-sm w-full text-center shadow-2xl relative",onClick:n=>n.stopPropagation(),children:[E.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 p-4 rounded-full border-4 border-slate-900",children:E.jsx(s.icon,{size:48,className:s.iconColor})}),E.jsx("h3",{className:"text-2xl font-black text-white mt-8 mb-2 uppercase",children:s.name}),E.jsxs("div",{className:"text-yellow-500 font-bold text-lg mb-4",children:["+",s.points[0]," Pts per placement"]}),E.jsx("div",{className:"flex justify-center mb-6 bg-black/20 p-4 rounded-xl",children:E.jsx(Kl,{visual:s.visual})}),E.jsx("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 mb-4",children:E.jsx("p",{className:"text-slate-300 text-sm",children:s.desc})}),E.jsx("div",{className:"flex justify-center gap-1 mb-4",children:Array.from({length:s.slots}).map((n,r)=>E.jsx("div",{className:"w-4 h-4 rounded-full bg-slate-700 border border-slate-600"},r))}),E.jsx("button",{onClick:e,className:"bg-slate-700 hover:bg-slate-600 w-full py-3 rounded-xl font-bold",children:"Close"})]})});function cI(){const[s,e]=$e.useState(null),[n,r]=$e.useState("menu"),[l,c]=$e.useState(""),[d,g]=$e.useState(""),[_,y]=$e.useState(""),[b,S]=$e.useState(null),[O,H]=$e.useState(""),[ee,re]=$e.useState(!1),[ae,be]=$e.useState(!1),[Ve,Re]=$e.useState(!1),[it,_t]=$e.useState(!1),[Be,N]=$e.useState(!1),[x,C]=$e.useState(!1),[M,I]=$e.useState(!1),[L,w]=$e.useState(null),[ut,vt]=$e.useState(null),[F,ie]=$e.useState(null),[ge,Ye]=$e.useState(null),[Ce,D]=$e.useState(null),[G,se]=$e.useState(null),le=$e.useRef(null),[Te,Oe]=$e.useState(null),De=$e.useRef(null),Et=te=>{De.current&&clearTimeout(De.current),De.current=setTimeout(()=>{Oe(te)},500)},et=()=>{De.current&&clearTimeout(De.current),De.current=null,Oe(null)},Ti=()=>{De.current&&clearTimeout(De.current),De.current=null},Os=()=>{if(!Te)return null;const te=Gi[Te.type];if(!te)return null;const J=Te.slotsFilled||0,ue=Te.maxSlots||te.slots,oe=J>=ue;return E.jsx("div",{className:"fixed inset-0 z-[9999] pointer-events-none flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:E.jsxs("div",{className:"relative w-64 h-80 bg-slate-900 border-4 rounded-3xl flex flex-col shadow-2xl overflow-hidden scale-110 md:scale-125 transition-transform border-emerald-500/50",children:[E.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-white/10 bg-black/40",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(te.icon,{size:24,className:te.iconColor}),E.jsx("span",{className:"text-lg font-bold text-white tracking-wide",children:te.name})]}),E.jsxs("span",{className:"text-xl font-black text-yellow-500 drop-shadow-md",children:["+",te.points.join("/")]})]}),E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-gradient-to-b from-slate-800 to-slate-950 p-4",children:[E.jsx("div",{className:"scale-150 origin-center mb-6",children:E.jsx(Kl,{visual:te.visual})}),E.jsx("p",{className:"text-center text-slate-300 text-sm font-medium px-4 leading-snug",children:te.desc})]}),E.jsxs("div",{className:"p-4 bg-black/20 border-t border-white/5",children:[E.jsx("div",{className:"flex gap-2 justify-center",children:Array.from({length:ue}).map((xe,Z)=>E.jsx("div",{className:`h-3 w-full rounded-full border-2 ${Z<J?"bg-emerald-500 border-emerald-400 shadow-[0_0_10px_rgba(16,185,129,0.6)]":"bg-slate-800 border-slate-600"}`},Z))}),E.jsx("div",{className:"text-center mt-2 text-xs text-slate-500 uppercase font-bold tracking-widest",children:oe?"Completed":"In Progress"})]})]})})};$e.useEffect(()=>{const te=localStorage.getItem("equilibrium_roomId");te&&y(te)},[]),$e.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await jS(dm,__initial_auth_token):await DS(dm))();const J=zS(dm,ue=>{if(e(ue),ue){const oe=localStorage.getItem("gameHub_playerName");oe&&c(oe),vt(ue.uid)}});return()=>J()},[]),$e.useEffect(()=>{const te=V1(yn(_n,"game_hub_settings","config"),J=>{J.exists()&&J.data()[iI]?.maintenance?be(!0):be(!1)},J=>console.log("Config Read Error (Safe to ignore):",J));return()=>te()},[]),$e.useEffect(()=>{if(!_||!s)return;const te=yn(_n,"artifacts",Rn,"public","data","rooms",_),J=V1(te,ue=>{if(ue.exists()){const oe=ue.data();if(!oe.players.some(xe=>xe.id===s.uid)){y(""),localStorage.removeItem("equilibrium_roomId"),r("menu"),H("You were removed from the world.");return}S(oe),oe.status==="playing"||oe.status==="finished"?r("game"):oe.status==="lobby"&&r("lobby")}else r("menu"),y(""),localStorage.removeItem("equilibrium_roomId"),H("Voyage ended.")},ue=>{console.error(ue),H("Connection lost.")});return()=>J()},[_,s]),$e.useEffect(()=>{if(!b?.logs||b.logs.length===0)return;const te=b.logs[b.logs.length-1];if(le.current===null){le.current=te.id;return}te.id<=le.current||(le.current=te.id,te.type==="success"?(w({type:"success",message:"HARMONY!",subtext:te.text,icon:hm}),setTimeout(()=>w(null),2500)):te.type==="warning"?(w({type:"warning",message:"ATTENTION",subtext:te.text,icon:fm}),setTimeout(()=>w(null),2500)):te.type==="failure"&&(w({type:"failure",message:"PENALTY",subtext:te.text,icon:fm}),setTimeout(()=>w(null),2500)))},[b?.logs]);const Ds=async()=>{if(!l)return H("Enter Name");localStorage.setItem("gameHub_playerName",l),re(!0);const te="123456789ABCDEFGHIJKLMNPQRSTUVWXYZ";let J="";for(let ce=0;ce<6;ce++)J+=te.charAt(Math.floor(Math.random()*te.length));const ue=Q1(),oe=W1(),{market:xe,bag:Z}=$1([],ue),ye=X1([],oe),me={roomId:J,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:l,score:0,penalties:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:mm(),holding:[],animals:[],ready:!0,hasDraftedTokens:!1,hasDraftedAnimal:!1}],market:xe,bag:Z,animalMarket:ye.market,animalDeck:ye.deck,turnIndex:0,startPlayerIndex:0,isLastRound:!1,turnPhase:"PLAY",logs:[],winnerId:null};try{await bN(yn(_n,"artifacts",Rn,"public","data","rooms",J),me),y(J),localStorage.setItem("equilibrium_roomId",J),vt(s.uid)}catch(ce){console.error(ce),H("Failed to create world.")}re(!1)},ks=async()=>{if(!d||!l)return H("Enter details");localStorage.setItem("gameHub_playerName",l),re(!0);try{const te=d.toUpperCase().trim(),J=yn(_n,"artifacts",Rn,"public","data","rooms",te),ue=await EN(J);if(ue.exists()&&ue.data().status==="lobby"){const oe=ue.data();if(!oe.players.some(xe=>xe.id===s.uid)){if(oe.players.length>=4){H("World is full."),re(!1);return}const xe=[...oe.players,{id:s.uid,name:l,score:0,penalties:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:mm(),holding:[],animals:[],hasDraftedTokens:!1,hasDraftedAnimal:!1}];await si(J,{players:xe})}y(te),localStorage.setItem("equilibrium_roomId",te),vt(s.uid)}else H("Room not found or in progress")}catch(te){H(te.message)}re(!1)},Hn=async()=>{const te=b.players.length,J=Math.floor(Math.random()*te);b.players[J].name,await si(yn(_n,"artifacts",Rn,"public","data","rooms",_),{status:"playing",turnIndex:J,startPlayerIndex:J,isLastRound:!1,logs:aa({text:"The ecosystem awakens.",type:"neutral",id:Date.now()})})},Ms=async()=>{if(_){try{const te=yn(_n,"artifacts",Rn,"public","data","rooms",_);if(b.hostId===s.uid)await TN(te);else{const J=b.players.filter(ue=>ue.id!==s.uid);await si(te,{players:J})}}catch{console.log("Room gone")}localStorage.removeItem("equilibrium_roomId"),y(""),r("menu"),I(!1),S(null)}},es=async te=>{if(!(!b||b.hostId!==s.uid))try{const J=b.players.filter(ue=>ue.id!==te);await si(yn(_n,"artifacts",Rn,"public","data","rooms",_),{players:J,logs:aa({text:"A player was removed from the world.",type:"warning",id:Date.now()})})}catch(J){console.error("Error kicking player:",J)}},Vs=async()=>{if(b.hostId!==s.uid)return;const te=Q1(),J=W1(),{market:ue,bag:oe}=$1([],te),xe=X1([],J),Z=b.players.map(ye=>({...ye,score:0,penalties:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:mm(),holding:[],animals:[],ready:!1,hasDraftedTokens:!1,hasDraftedAnimal:!1}));await si(yn(_n,"artifacts",Rn,"public","data","rooms",_),{status:"lobby",players:Z,market:ue,bag:oe,animalMarket:xe.market,animalDeck:xe.deck,logs:[],winnerId:null,turnIndex:0,turnPhase:"PLAY"}),I(!1)},ts=async te=>{const J=F===te?null:te;if(ie(J),!b||!s)return;const ue=b.players.findIndex(xe=>xe.id===s.uid);if(ue===-1)return;const oe=[...b.players];oe[ue].activePalette=J;try{await si(yn(_n,"artifacts",Rn,"public","data","rooms",_),{players:oe})}catch(xe){console.error("Error syncing palette state:",xe)}},wt=async te=>{const J=b.players.findIndex(Ne=>Ne.id===s.uid);if(b.turnIndex!==J)return;const ue=[...b.players],oe=ue[J];if(oe.hasDraftedTokens)return;let xe=[...b.market],Z=[...b.bag],ye=b.isLastRound,me=[];if(oe.holding=xe[te].tokens,oe.hasDraftedTokens=!0,oe.activePalette=null,xe.splice(te,1),Z.length>=3){const Ne={id:Math.random().toString(36).substr(2,9),tokens:[Z.pop(),Z.pop(),Z.pop()].filter(Boolean)};xe.push(Ne)}else ye||(ye=!0,me.push({text:"The Bag is empty! Finishing the round...",type:"warning",id:Date.now()}));me.push({text:`${oe.name} drafted tokens.`,type:"neutral",id:Date.now()+1});const ce=b.logs?[...b.logs,...me]:me;await si(yn(_n,"artifacts",Rn,"public","data","rooms",_),{players:ue,market:xe,bag:Z,isLastRound:ye,logs:ce}),ie(null)},Ct=async te=>{const J=b.players.findIndex(Ne=>Ne.id===s.uid);if(b.turnIndex!==J)return;const ue=[...b.players],oe=ue[J];if(oe.hasDraftedAnimal||oe.animals.filter(Ne=>Ne.slotsFilled<Ne.maxSlots).length>=4)return;let Z=[...b.animalMarket],ye=[...b.animalDeck];const me=Z[te],ce=Gi[me.type];if(oe.animals.push({...me,slotsFilled:0,maxSlots:ce.slots}),oe.hasDraftedAnimal=!0,oe.activePalette=null,Z.splice(te,1),ye.length>0){const Ne={id:Math.random().toString(36).substr(2,9),type:ye.pop()};Z.push(Ne)}await si(yn(_n,"artifacts",Rn,"public","data","rooms",_),{players:ue,animalMarket:Z,animalDeck:ye,logs:aa({text:`${oe.name} adopted a ${ce.name}.`,type:"neutral",id:Date.now()})}),ie(null)},Ai=async(te,J)=>{try{const ue=b.players.findIndex(ye=>ye.id===s.uid);if(b.turnIndex!==ue)return;const oe=[...b.players],xe=oe[ue],Z={players:oe};if(Ce!==null&&xe.holding[Ce]){const ye=`${te},${J}`,me=xe.board[ye],ce=xe.holding[Ce];if(!Y1(me,ce))return;me.stack.push(ce),xe.holding.splice(Ce,1),D(null);const Ne=rI(xe.board);xe.landscapeScore=Ne.total,xe.landscapeScoreBreakdown=Ne.breakdown,!Object.values(xe.board).some(mn=>mn.stack.length===0)&&!b.isLastRound&&(Z.isLastRound=!0,Z.logs||(Z.logs=[]),Z.logs.push({text:`${xe.name}'s world is full! Finishing the round...`,type:"warning",id:Date.now()})),await si(yn(_n,"artifacts",Rn,"public","data","rooms",_),Z);return}if(G!==null&&xe.animals[G]){const ye=xe.animals[G],me=Gi[ye.type];if(!me){console.error("Animal definition missing for type:",ye.type);return}const ce=xe.board[`${te},${J}`];if(!ce.animal&&ye.slotsFilled<ye.maxSlots&&me.check(ce,xe.board)){ce.animal=ye.type;const Ne=me.points[ye.slotsFilled];ye.slotsFilled+=1,xe.score+=Ne,se(null),Z.logs||(Z.logs=[]),Z.logs.push({text:`${xe.name} placed a ${me.name} (+${Ne})!`,type:"success",id:Date.now()}),await si(yn(_n,"artifacts",Rn,"public","data","rooms",_),Z)}}}catch(ue){console.error("Placement error:",ue),H("Something went wrong with placement. Try refreshing.")}},Do=async()=>{const te=b.players.findIndex(oe=>oe.id===s.uid);if(b.turnIndex!==te)return;const J=[...b.players],ue=J[te];Ce===null||!ue.holding[Ce]||(ue.holding.splice(Ce,1),ue.penalties=(ue.penalties||0)+1,D(null),await si(yn(_n,"artifacts",Rn,"public","data","rooms",_),{players:J,logs:aa({text:`${ue.name} discarded a token (-2 pts).`,type:"failure",id:Date.now()})}))},_a=async()=>{const te=b.players.findIndex(Z=>Z.id===s.uid);if(b.turnIndex!==te)return;const J=[...b.players],ue=J[te];if(ue.holding.length>0){w({type:"warning",message:"Place Tokens",subtext:"You must place or discard all tokens."}),setTimeout(()=>w(null),2e3);return}if(!ue.hasDraftedTokens&&b.market.length>0){w({type:"warning",message:"Draft Tokens",subtext:"You must take tokens from the market."}),setTimeout(()=>w(null),2e3);return}ue.hasDraftedTokens=!1,ue.hasDraftedAnimal=!1;const oe={players:J},xe=(b.turnIndex+1)%b.players.length;b.market.length===0&&b.bag.length===0?(oe.status="finished",oe.logs=aa({text:"Market exhausted. Game Over!",type:"warning",id:Date.now()})):b.isLastRound&&xe===b.startPlayerIndex?(oe.status="finished",oe.logs=aa({text:"Round complete. Game Over!",type:"neutral",id:Date.now()})):(oe.turnIndex=xe,oe.logs=aa({text:`Turn passed to ${b.players[xe].name}.`,type:"neutral",id:Date.now()})),await si(yn(_n,"artifacts",Rn,"public","data","rooms",_),oe)},Zt=()=>{const te=b.roomId,J=()=>{Re(!0),setTimeout(()=>Re(!1),2e3),triggerFeedback&&triggerFeedback("neutral","COPIED!","",qm)};try{navigator.clipboard.writeText(te),J()}catch{const oe=document.createElement("textarea");oe.value=te,document.body.appendChild(oe),oe.select(),document.execCommand("copy"),document.body.removeChild(oe),J()}},Fn=()=>{const te=b.players.findIndex(ue=>ue.id===s.uid);return b.turnIndex===te&&ut!==s.uid?(w({type:"warning",message:"WRONG WORLD",subtext:"Return to your world to make moves.",icon:rh}),setTimeout(()=>w(null),2e3),!1):!0};if(ae)return E.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[E.jsx(Z1,{}),E.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[E.jsx(EC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),E.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),E.jsx("p",{className:"text-gray-400",children:"Meteor impact detected! We're busy repairing the ecosystem."})]}),E.jsx("div",{className:"h-8"}),E.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:E.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:E.jsx("div",{className:"text-center pb-12 animate-pulse",children:E.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[E.jsx(hm,{size:16})," Visit Gamehub...Try our other releases..."," ",E.jsx(hm,{size:16})]})})})}),E.jsx(pm,{})]});if(!s)return E.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-emerald-500 animate-pulse",children:"Returning to the wild..."});if(_&&!b&&!O)return E.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center text-white p-4",children:[E.jsx(Kc,{}),E.jsx(Yc,{}),E.jsxs("div",{className:"bg-slate-900/80 backdrop-blur p-8 rounded-2xl border border-slate-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[E.jsx(RC,{size:48,className:"text-emerald-500 animate-spin"}),E.jsxs("div",{className:"text-center",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Reconnecting..."}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Resuming your session"})]})]})]});if(n==="menu")return E.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans select-none",children:[E.jsx(Kc,{}),E.jsx(Yc,{}),Be&&E.jsx(gm,{onClose:()=>N(!1)}),E.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[E.jsx(nu,{size:64,className:"text-emerald-400 mx-auto mb-4 animate-spin-slow"}),E.jsx("h1",{className:"text-5xl md:text-7xl font-thin text-transparent bg-clip-text bg-gradient-to-b from-emerald-400 to-teal-600 tracking-tighter drop-shadow-md",children:"EQUILIBRIUM"}),E.jsx("p",{className:"text-emerald-200/40 tracking-[0.5em] uppercase mt-2 text-xs",children:"Build. Balance. Score."})]}),E.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-emerald-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 relative",children:[O&&E.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 mb-4 rounded text-center text-sm font-bold flex items-center justify-center gap-2",children:[E.jsx(fm,{size:16})," ",O]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("input",{className:"w-full bg-black/50 border border-emerald-700 focus:border-emerald-500 p-4 rounded-xl text-white outline-none transition-all text-lg font-bold text-center",placeholder:"YOUR NAME",value:l,onChange:te=>c(te.target.value),maxLength:12}),E.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[E.jsxs("button",{onClick:Ds,disabled:ee,className:"bg-gradient-to-br from-emerald-600 to-teal-700 hover:from-emerald-500 hover:to-teal-600 p-4 rounded-xl font-bold flex flex-col items-center justify-center gap-1 transition-all active:scale-95 shadow-lg shadow-emerald-900/50",children:[E.jsx(um,{size:24}),E.jsx("span",{children:"Create"})]}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("input",{className:"bg-black/50 border border-emerald-700 focus:border-emerald-500 p-2 rounded-xl text-white text-center uppercase font-mono font-bold tracking-widest outline-none h-12",placeholder:"CODE",value:d,onChange:te=>g(te.target.value),maxLength:6}),E.jsx("button",{onClick:ks,disabled:ee,className:"bg-slate-800 hover:bg-slate-700 p-2 rounded-xl font-bold text-slate-300 transition-all active:scale-95 h-full",children:"Occupy"})]})]}),E.jsxs("button",{onClick:()=>N(!0),className:"w-full mt-4 text-emerald-400 hover:text-emerald-300 text-sm font-bold flex items-center justify-center gap-2 transition-colors py-2",children:[E.jsx(j1,{size:16})," Architect's Guide"]})]})]}),E.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Harmonies. A tribute game.",E.jsx("br",{}),"Developed by ",E.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",E.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-500 underline hover:text-emerald-600",children:"GAMEHUB"})," ","for more games."]})]});if(n==="lobby"&&b){const te=b.hostId===s.uid;return E.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-6 relative",children:[E.jsx(Kc,{}),E.jsx(Yc,{}),E.jsx(Z1,{}),Be&&E.jsx(gm,{onClose:()=>N(!1)}),E.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-2xl border border-emerald-500/30 shadow-2xl animate-in slide-in-from-bottom-8",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-lg md:text-xl flex items-center gap-2 text-emerald-500 font-bold uppercase",children:[E.jsx(um,{size:24})," World Coordinates:"]}),E.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[E.jsx("div",{className:"text-2xl md:text-3xl font-mono text-white font-black",children:_}),E.jsxs("div",{className:"relative",children:[E.jsx("button",{onClick:Zt,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:Ve?E.jsx(qm,{size:16,className:"text-green-500"}):E.jsx(WN,{size:16})}),Ve&&E.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-emerald-500 text-black text-xs font-bold px-2 py-1 rounded shadow-lg animate-fade-in-up whitespace-nowrap",children:"Copied!"})]})]})]}),E.jsx("div",{className:"flex gap-2",children:E.jsx("button",{onClick:()=>I(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:E.jsx(U1,{size:20})})})]}),E.jsxs("div",{className:"space-y-3 mb-8",children:[E.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:["Architects (",b.players.length,"/4)"]}),b.players.map(J=>E.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-4 rounded-xl border border-slate-700",children:[E.jsxs("span",{className:"font-bold flex items-center gap-3 text-lg",children:[J.name,J.id===b.hostId&&E.jsx(Hm,{size:16,className:"text-yellow-500"})]}),b.hostId===s.uid&&J.id!==s.uid&&E.jsx("button",{onClick:()=>es(J.id),className:"p-2 bg-red-900/20 hover:bg-red-900/50 text-red-500 rounded-lg transition-colors border border-red-900/30",title:"Kick Player",children:E.jsx(G1,{size:16})})]},J.id)),Array.from({length:4-b.players.length}).map((J,ue)=>E.jsx("div",{className:"border-2 border-dashed border-slate-700 rounded-xl p-4 flex items-center justify-center text-slate-600 font-bold uppercase text-sm",children:"Empty Slot"},ue))]}),te&&E.jsxs("div",{className:"mt-8 flex flex-col items-center gap-2",children:[E.jsxs("button",{onClick:Hn,disabled:b.players.length<1,className:"flex items-center gap-2 px-8 py-3 rounded-xl font-bold text-lg shadow-lg transition-all bg-gradient-to-br from-emerald-600 to-teal-700 text-white hover:bg-emerald-400 hover:scale-105 hover:shadow-emerald-500/20",children:[E.jsx(um,{size:24})," Create World"]}),b.players.length<1&&E.jsx("p",{className:"text-slate-600 text-xs uppercase tracking-widest font-bold",children:"Need 1+ player"})]}),!te&&E.jsx("div",{className:"mt-8 text-center text-slate-500 text-sm font-bold uppercase tracking-widest animate-pulse",children:"Waiting for host to start..."})]}),M&&E.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[E.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase",children:"Leave World?"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:b.hostId===s.uid?"As Host, leaving ends the game for everyone.":"You will leave this session."}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>I(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Stay"}),E.jsx("button",{onClick:Ms,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]})]})}),E.jsx(pm,{})]})}if(n==="game"&&b){const te=b.players.findIndex(Z=>Z.id===s.uid),J=b.players[te],ue=b.turnIndex===te,oe=b.players.find(Z=>Z.id===ut)||J,xe=ue&&J.hasDraftedTokens&&J.holding.length===0;return E.jsxs("div",{className:"fixed inset-0 bg-slate-950 text-white flex flex-col overflow-hidden font-sans select-none",children:[E.jsx(Kc,{}),E.jsx(Yc,{}),E.jsx(Os,{}),L&&E.jsx(oI,{type:L.type,message:L.message,subtext:L.subtext,icon:L.icon}),Be&&E.jsx(gm,{onClose:()=>N(!1)}),x&&E.jsx(lI,{gameState:b,onClose:()=>C(!1)}),ge&&E.jsx(uI,{animal:ge,onClose:()=>Ye(null)}),E.jsxs("div",{className:"h-14 md:h-16 bg-slate-900 border-b border-emerald-900/30 flex items-center justify-between px-2 z-[160] shrink-0 shadow-lg",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-10 h-10 bg-emerald-900/50 rounded-lg flex items-center justify-center border border-emerald-700",children:E.jsx(nu,{className:"text-emerald-400",size:20})}),E.jsxs("div",{children:[E.jsx("div",{className:"font-bold text-sm tracking-wider text-emerald-100",children:"EQUILIBRIUM"}),E.jsx("div",{className:"text-[10px] font-mono uppercase",children:b.status==="finished"?E.jsx("span",{className:"text-red-400",children:"GAME OVER"}):E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"text-white-400",children:"Turn:"})," ",E.jsx("span",{className:"text-emerald-400",children:b.players[b.turnIndex].name})]})})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:()=>C(!0),className:"p-2 hover:bg-slate-800 rounded text-yellow-500 hover:text-white",children:E.jsx(Tb,{size:18})}),E.jsx("button",{onClick:()=>N(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:E.jsx(j1,{size:18})}),E.jsx("button",{onClick:()=>_t(!it),className:`p-2 rounded-full ${it?"bg-emerald-900 text-emerald-400":"text-gray-400 hover:bg-gray-800"}`,children:E.jsx(AC,{size:18})}),E.jsx("button",{onClick:()=>I(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:E.jsx(U1,{size:18})})]})]}),it&&E.jsxs("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-slate-900/95 border border-slate-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl custom-scrollbar",children:[E.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 sticky top-0 bg-slate-900/95 py-2",children:"World History"}),E.jsx("div",{className:"space-y-2",children:b.logs.slice().reverse().map(Z=>E.jsx("div",{className:`text-xs p-2 rounded border-l-2 ${Z.type==="success"?"border-emerald-500 bg-emerald-900/10":Z.type==="warning"?"border-amber-500 bg-amber-900/10":Z.type==="failure"?"border-red-500 bg-red-900/10":"border-slate-500 bg-slate-800/30"}`,children:Z.text},Z.id))})]}),M&&E.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[E.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase",children:"Leave World?"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:b.hostId===s.uid?"As Host, leaving ends the game for everyone.":"You will leave this session."}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>I(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Stay"}),E.jsx("button",{onClick:Ms,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]}),b.hostId===s.uid&&E.jsx("button",{onClick:Vs,className:"w-full bg-slate-700 hover:bg-slate-600 py-2 rounded font-bold text-emerald-400 mt-2 text-sm",children:"Return All to Lobby"})]})}),E.jsxs("div",{className:"flex-1 relative bg-transparent overflow-hidden flex flex-col items-center justify-center",children:[E.jsx("div",{className:"absolute top-2 md:top-4 left-0 right-0 z-10 grid grid-cols-4 gap-1 px-2 w-full max-w-2xl mx-auto pointer-events-auto",children:b.players.map((Z,ye)=>{const me=b.turnIndex===ye,ce=(Z.score||0)+(Z.landscapeScore||0)-(Z.penalties||0)*2;return E.jsxs("button",{onClick:()=>vt(Z.id),className:`
          relative overflow-visible
          flex flex-col items-center justify-center h-12 md:h-14 rounded-xl border-2 transition-all w-full
          ${ut===Z.id?"bg-slate-800 border-emerald-500 shadow-lg scale-105 z-10":"bg-slate-900/80 border-slate-700 hover:bg-slate-800/80 text-slate-400"}
        `,children:[Z.activePalette==="TOKENS"&&E.jsx("div",{className:"absolute -top-1 -right-1 bg-slate-900 rounded-full p-1 border border-cyan-500 shadow-lg z-20 animate-pulse",children:E.jsx(lm,{size:10,className:"text-cyan-400 fill-cyan-400/20"})}),Z.activePalette==="ANIMALS"&&E.jsx("div",{className:"absolute -top-1 -right-1 bg-slate-900 rounded-full p-1 border border-orange-500 shadow-lg z-20 animate-pulse",children:E.jsx(ah,{size:10,className:"text-orange-400 fill-orange-400/20"})}),me&&E.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 z-50 pointer-events-none",children:E.jsxs("div",{className:"flex flex-col items-center animate-bounce-slight",children:[E.jsxs("div",{className:"bg-emerald-500 text-white text-[8px] md:text-[9px] font-black px-2 py-0.5 rounded-full shadow-[0_0_10px_rgba(16,185,129,0.5)] flex items-center gap-1 whitespace-nowrap",children:[E.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse"}),"PLAYING"]}),E.jsx("div",{className:"w-0 h-0 border-l-[4px] border-l-transparent border-r-[4px] border-r-transparent border-t-[4px] border-t-emerald-500 -mt-[1px]"})]})}),E.jsx("span",{className:`text-[9px] md:text-[10px] font-bold uppercase truncate max-w-full px-1 ${me?"text-emerald-400":""}`,children:Z.name}),E.jsx("span",{className:"text-[10px] md:text-xs font-black text-yellow-500",children:ce})]},Z.id)})}),oe.id!==s.uid?E.jsxs("div",{className:"absolute top-20 bg-red-800/80 px-4 py-1 rounded-full text-xs font-bold text-slate-300 flex items-center gap-2 z-10 backdrop-blur",children:[E.jsx(rh,{size:12})," ",oe.name,"'s World"]}):E.jsxs("div",{className:"absolute top-20 bg-green-800/80 px-4 py-1 rounded-full text-xs font-bold text-slate-300 flex items-center gap-2 z-10 backdrop-blur",children:[E.jsx(rh,{size:12})," Your World"]}),E.jsx("div",{className:"relative w-[340px] h-[300px] transition-transform -mt-20 md:-mt-24 transform scale-100 md:scale-125",children:Object.values(oe.board).map(Z=>{let ye=!1;if(G!==null&&J.animals[G]){const me=Gi[J.animals[G].type];me&&!Z.animal&&J.animals[G].slotsFilled<J.animals[G].maxSlots&&(ye=me.check(Z,oe.board))}return E.jsx(aI,{...Z,isPlaceable:ue&&oe.id===s.uid&&(Ce!==null&&J.holding[Ce]&&Y1(Z,J.holding[Ce])||ye),ghostToken:Ce!==null?J.holding[Ce]:null,ghostAnimal:G!==null?J.animals[G].type:null,isValidTarget:ye,onClick:oe.id===s.uid?Ai:void 0},`${Z.q},${Z.r}`)})}),F&&E.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-[60] h-44 bg-slate-900/95 border-t-2 border-emerald-500/50 backdrop-blur-xl flex flex-col animate-in slide-in-from-bottom-full duration-300 shadow-2xl",onClick:Z=>Z.stopPropagation(),children:[E.jsxs("div",{className:"flex justify-between items-center px-4 h-8 border-b border-white/10 bg-black/20 shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[F==="TOKENS"?E.jsx(lm,{className:"text-cyan-400",size:14}):E.jsx(ah,{className:"text-orange-400",size:14}),E.jsxs("h3",{className:"text-xs font-black text-white uppercase tracking-widest leading-none",children:["Draft ",F==="TOKENS"?"Tokens":"Animal"]})]}),E.jsxs("button",{onClick:()=>ts(F),className:"flex items-center gap-1 px-2 py-0.5 bg-slate-800 hover:bg-slate-700 rounded-full text-slate-300 hover:text-white transition-colors border border-slate-600 font-bold text-[10px]",children:[E.jsx("span",{children:"Close"}),E.jsx(Mp,{size:12})]})]}),E.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden px-4 no-scrollbar flex items-center bg-gradient-to-b from-transparent to-black/30",children:E.jsxs("div",{className:"flex gap-4 items-center min-w-max h-full justify-center",children:[F==="TOKENS"&&b.market.map((Z,ye)=>E.jsxs("button",{onClick:()=>wt(ye),disabled:!ue||J.hasDraftedTokens,className:"relative group h-32 w-14 shrink-0 rounded-full transition-all active:scale-95 disabled:opacity-60 disabled:cursor-not-allowed",children:[E.jsxs("div",{className:"absolute inset-0 bg-slate-800 rounded-full border-4 border-slate-700 shadow-xl group-hover:border-cyan-500 group-hover:bg-slate-750 transition-colors flex flex-col items-center justify-evenly py-1",children:[E.jsx("div",{className:"absolute inset-x-2 top-2 bottom-2 bg-black/30 rounded-full border border-white/5"}),E.jsx("div",{className:"relative z-10 flex flex-col gap-1.5 h-full justify-center",children:Z.tokens.map((me,ce)=>{const Ne=Xi[me];return E.jsx("div",{className:`w-8 h-8 rounded-full border-2 shadow-lg flex items-center justify-center ${Ne.color} ${Ne.border}`,children:E.jsx(Ne.icon,{size:14,className:"text-white/90"})},ce)})})]}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-20",children:E.jsxs("div",{className:"bg-cyan-600 text-white text-[10px] font-bold px-2 py-3 rounded-xl shadow-lg border border-cyan-400 tracking-widest uppercase flex flex-col items-center leading-none gap-1",children:[E.jsx("span",{children:"G"}),E.jsx("span",{children:"E"}),E.jsx("span",{children:"T"})]})})]},Z.id)),F==="ANIMALS"&&b.animalMarket.map((Z,ye)=>{const me=Gi[Z.type],ce=ue&&!J.hasDraftedAnimal&&J.animals.filter(Qe=>Qe.slotsFilled<Qe.maxSlots).length<4,Ne=Object.values(J.board).some(Qe=>!Qe.animal&&me.check(Qe,J.board));return E.jsxs("button",{onClick:()=>Ct(ye),onMouseDown:()=>Et(Z),onMouseUp:et,onMouseLeave:et,onTouchStart:()=>Et(Z),onTouchEnd:et,onTouchMove:Ti,disabled:!ce,className:`
          relative w-24 h-32 shrink-0 bg-slate-800 border-2 rounded-xl flex flex-col shadow-xl text-left overflow-hidden transition-all duration-300 group
          ${ce?"hover:-translate-y-1 cursor-pointer":"cursor-not-allowed"}
          ${Ne?"border-emerald-400 shadow-[0_0_20px_rgba(16,185,129,0.5)] animate-pulse z-10":ce?"border-slate-600 hover:border-orange-500 hover:shadow-[0_5px_15px_rgba(249,115,22,0.2)]":"border-slate-800 opacity-60"}
        `,children:[E.jsxs("div",{className:"flex justify-between items-center px-2 py-1 border-b border-white/5 bg-black/20 shrink-0 h-7",children:[E.jsx("span",{className:"text-[10px] font-bold text-white truncate max-w-[50px]",children:me.name}),E.jsxs("span",{className:"text-[10px] font-black text-yellow-500",children:["+",me.points.join("/")]})]}),E.jsx("div",{className:"flex-1 flex flex-col items-center justify-center bg-gradient-to-b from-slate-800 to-slate-900",children:E.jsx("div",{className:"scale-75 origin-center",children:E.jsx(Kl,{visual:me.visual})})}),ce&&E.jsx("div",{className:"absolute inset-0 bg-orange-500/20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx("div",{className:"bg-orange-600 text-white text-[10px] font-bold px-3 py-1 rounded-full shadow-lg transform translate-y-2 group-hover:translate-y-0 transition-transform",children:"ADOPT"})})]},Z.id)}),F==="ANIMALS"&&b.animalMarket.length===0&&E.jsx("div",{className:"w-full text-center text-slate-500 font-bold text-xs italic pr-4",children:"Empty..."})]})})]}),b.status==="finished"&&E.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center backdrop-blur-sm pt-20 pb-10 px-4",children:E.jsxs("div",{className:"bg-slate-900 p-6 md:p-8 rounded-2xl border-2 border-yellow-500 text-center shadow-2xl animate-in zoom-in max-w-lg w-full flex flex-col max-h-full relative",children:[E.jsxs("div",{className:"shrink-0 mb-4",children:[E.jsx(XC,{size:64,className:"text-yellow-400 mx-auto mb-2 animate-bounce"}),(()=>{const Z=rt=>rt.animals.reduce((Si,Jt)=>Si+Jt.slotsFilled,0),ye=rt=>(rt.score||0)+(rt.landscapeScore||0)-(rt.penalties||0)*2,me=[...b.players].sort((rt,Si)=>{const Jt=ye(rt),Gn=ye(Si);if(Gn!==Jt)return Gn-Jt;const bt=Z(rt);return Z(Si)-bt}),ce=me[0],Ne=ye(ce),Qe=Z(ce),mn=me.filter(rt=>ye(rt)===Ne&&Z(rt)===Qe);return E.jsxs(E.Fragment,{children:[E.jsx("h2",{className:"text-2xl md:text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-amber-500 uppercase mb-2 leading-tight",children:mn.map(rt=>rt.name).join(" & ")}),E.jsx("p",{className:"text-emerald-400 font-bold tracking-widest text-sm uppercase",children:"Rescued the World!"})]})})()]}),E.jsx("div",{className:"space-y-3 mb-4 overflow-y-auto custom-scrollbar text-sm flex-1 pr-1",children:(()=>{const Z=ce=>(ce.score||0)+(ce.landscapeScore||0)-(ce.penalties||0)*2,ye=[...b.players].sort((ce,Ne)=>Z(Ne)-Z(ce)),me=Z(ye[0]);return ye.map((ce,Ne)=>{const Qe=(ce.penalties||0)*2,mn=Z(ce),rt=mn===me,Jt=(Gn=>Gn.animals.reduce((bt,Dn)=>bt+Dn.slotsFilled,0))(ce);return E.jsxs("div",{className:`p-3 rounded-xl border flex flex-col gap-2 relative overflow-hidden transition-all
                            ${rt?"bg-slate-800 border-yellow-500 shadow-[0_0_15px_rgba(234,179,8,0.2)]":"bg-slate-800 border-slate-700 opacity-80"}`,children:[rt&&E.jsx("div",{className:"absolute inset-0 bg-yellow-500/5 pointer-events-none"}),E.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2 relative z-10",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("span",{className:`font-mono font-bold ${rt?"text-yellow-500":"text-slate-500"}`,children:["#",Ne+1]}),E.jsxs("span",{className:"font-bold text-white text-lg flex items-center gap-2",children:[ce.name,rt&&E.jsx(Hm,{size:18,className:"text-yellow-400 fill-yellow-400/20"})]})]}),E.jsx("span",{className:`text-2xl font-black ${rt?"text-yellow-400 scale-110":"text-slate-400"}`,children:mn})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-slate-400 relative z-10",children:[E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Animals Placed:"})," ",E.jsx("span",{className:"text-white font-bold",children:Jt})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Animal Pts:"})," ",E.jsx("span",{className:"text-white font-bold",children:ce.score})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Landscape Pts:"})," ",E.jsx("span",{className:"text-white font-bold",children:ce.landscapeScore})]}),Qe>0?E.jsxs("div",{className:"flex justify-between text-red-400 font-bold",children:[E.jsx("span",{children:"Penalties:"})," ",E.jsxs("span",{children:["-",Qe]})]}):E.jsxs("div",{className:"flex justify-between text-emerald-600/50",children:[E.jsx("span",{children:"Penalties:"})," ",E.jsx("span",{children:"0"})]})]})]},ce.id)})})()}),b.hostId===s.uid?E.jsx("div",{className:"shrink-0 pt-2",children:E.jsx("button",{onClick:Vs,className:"bg-slate-700 hover:bg-slate-600 px-6 py-3 rounded-xl font-bold w-full text-white transition-colors",children:"Return to Lobby"})}):E.jsx("div",{className:"shrink-0 pt-2",children:E.jsx("button",{disabled:!0,className:"bg-slate-700/60 px-6 py-3 rounded-xl font-bold w-full text-white",children:"Waiting for Host..."})})]})})]}),E.jsx("div",{className:"h-64 bg-transparent absolute bottom-0 left-0 right-0 z-40 px-2 pb-2 flex justify-between items-end pointer-events-none",children:E.jsxs("div",{className:"flex gap-2 items-end w-full pointer-events-none",children:[E.jsxs("div",{className:"relative h-46 flex flex-col justify-end gap-2 mb-1 shrink-0 z-50 pointer-events-none items-start",children:[E.jsx("div",{className:`
        absolute top-0 left-0
        pointer-events-auto
        px-3 py-1.5 rounded-full w-30 font-black text-[10px] uppercase tracking-widest shadow-lg backdrop-blur-md border animate-in slide-in-from-left-8
    ${ue?"bg-slate-800/90 text-emerald-300 border-emerald-400":"bg-slate-800/90 text-slate-400 border-slate-600"}
  `,children:E.jsx("div",{className:"flex items-center gap-2",children:ue?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-ping"}),"YOUR TURN"]}):E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-500"}),"AWAIT TURN"]})})}),oe.holding.length>0&&E.jsxs("div",{className:`
      w-full px-2 py-2 rounded-xl shadow-2xl flex flex-col items-center gap-2 backdrop-blur-md animate-in slide-in-from-left-4 pointer-events-auto
      ${oe.id===s.uid?"bg-slate-900/90 border border-emerald-500 opacity-90":"bg-slate-900/90 border border-slate-600 opacity-90"}
    `,children:[E.jsx("span",{className:`text-[8px] font-bold uppercase tracking-widest ${oe.id===s.uid?"text-emerald-400":"text-slate-400"}`,children:oe.id===s.uid?"Placing":"Holding"}),E.jsxs("div",{className:"flex items-center gap-1",children:[oe.holding.map((Z,ye)=>{const me=Xi[Z],ce=oe.id===s.uid;return E.jsx("button",{onClick:()=>{if(ce){if(!Fn())return;D(Ce===ye?null:ye),se(null)}},className:`
                w-10 h-10 rounded-full border-2 shadow-lg flex items-center justify-center transition-all 
                ${me.color} ${me.border}
                ${ce?"active:scale-90 cursor-pointer hover:opacity-100 hover:scale-105":"cursor-default opacity-100"}
                ${ce&&Ce===ye?"ring-4 ring-white scale-110 z-10":"opacity-90"}
              `,children:E.jsx(me.icon,{size:18,className:"text-white/80"})},ye)}),oe.id===s.uid&&Ce!==null&&E.jsx("button",{onClick:Do,className:"w-8 h-8 rounded-full border-2 border-red-500 bg-red-900/50 flex items-center justify-center hover:bg-red-800 transition-colors",title:"Discard Token (-2 pts)",children:E.jsx(G1,{size:12,className:"text-red-300"})})]})]}),xe&&E.jsx("button",{onClick:_a,className:"bg-red-600 hover:bg-red-500 text-white font-bold py-3 px-6 w-full rounded-xl shadow-lg flex items-center justify-center gap-2 text-sm whitespace-nowrap pointer-events-auto animate-bounce [animation-duration:1.5s]",children:"End Turn"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>{Fn()&&ts("TOKENS")},className:`w-14 h-14 rounded-full border-2 shadow-xl flex items-center justify-center transition-all active:scale-90 pointer-events-auto ${ue&&!J.hasDraftedTokens?"bg-cyan-600 border-cyan-400 text-white animate-bounce-subtle":"bg-slate-800 border-slate-600 text-slate-500"}`,children:E.jsx(lm,{size:24})}),E.jsx("button",{onClick:()=>{Fn()&&ts("ANIMALS")},className:`w-14 h-14 rounded-full border-2 shadow-xl flex items-center justify-center transition-all active:scale-90 pointer-events-auto ${ue&&!J.hasDraftedAnimal&&J.animals.filter(Z=>Z.slotsFilled<Z.maxSlots).length<4?"bg-orange-600 border-orange-400 text-white":"bg-slate-800 border-slate-600 text-slate-500"}`,children:E.jsx(ah,{size:24})})]})]}),E.jsxs("div",{className:"flex-1 flex gap-2 items-end overflow-x-auto pb-4 no-scrollbar h-60 pl-2 pointer-events-none",children:[oe.animals.map((Z,ye)=>{const me=Gi[Z.type],ce=ye===G&&oe.id===s.uid,Ne=Z.slotsFilled>=Z.maxSlots,Qe=oe.id===s.uid&&!Ne&&Object.values(J.board).some(mn=>!mn.animal&&me.check(mn,J.board));return E.jsxs("button",{onClick:()=>{if(oe.id!==s.uid){Fn();return}D(null),se(ce?null:ye)},onMouseDown:()=>Et(Z),onMouseUp:et,onMouseLeave:et,onTouchStart:()=>Et(Z),onTouchEnd:et,onTouchMove:Ti,className:`
          relative w-32 h-44 bg-slate-900/90 border-2 rounded-xl flex flex-col shadow-xl shrink-0 backdrop-blur-md transition-all duration-300 text-left overflow-hidden pointer-events-auto
          ${ce?"border-yellow-400 ring-2 ring-yellow-500/50 scale-105 z-10 -translate-y-6":"hover:-translate-y-4"}
          ${Qe&&!ce?"border-emerald-400 shadow-[0_0_20px_rgba(16,185,129,0.4)] animate-pulse":ce?"":"border-slate-600 hover:border-slate-400"}
          ${Ne?"grayscale opacity-75 border-slate-700":""}
        `,children:[E.jsxs("div",{className:"flex justify-between items-center p-2 border-b border-white/10 bg-black/20 h-10 shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx(me.icon,{size:14,className:me.iconColor}),E.jsx("span",{className:"text-xs font-bold text-white truncate max-w-[70px]",children:me.name})]}),!Ne&&E.jsxs("span",{className:"text-xs font-black text-yellow-500",children:["+",me.points[Math.min(Z.slotsFilled,me.points.length-1)]]}),Ne&&E.jsx("span",{className:"text-[10px] font-bold text-emerald-500 uppercase",children:"Done"})]}),E.jsxs("div",{className:"p-2 flex-1 flex flex-col items-center w-full min-h-0 justify-between bg-gradient-to-b from-slate-800/50 to-transparent",children:[E.jsx("div",{className:"scale-75 origin-center shrink-0",children:E.jsx(Kl,{visual:me.visual})}),E.jsx("div",{className:"text-[9px] text-slate-300 text-center leading-tight line-clamp-2 px-1 w-full break-words min-h-[24px] flex items-center justify-center font-medium",children:me.desc}),E.jsx("div",{className:"w-full shrink-0 pt-2",children:E.jsx("div",{className:"flex gap-1 justify-center",children:Array.from({length:Z.maxSlots}).map((mn,rt)=>E.jsx("div",{className:`h-1.5 w-full rounded-full border ${rt<Z.slotsFilled?"bg-emerald-500 border-emerald-400 shadow-[0_0_5px_rgba(16,185,129,0.5)]":"bg-slate-700 border-slate-600"}`},rt))})})]})]},Z.id)}),oe.animals.length===0&&E.jsx("div",{className:"h-44 w-32 border-2 border-dashed border-slate-700 rounded-xl flex items-center justify-center text-slate-600 text-xs text-center p-4",children:"No Animals Drafted"})]})]})}),E.jsx(pm,{})]})}return null}h2.createRoot(document.getElementById("root")).render(E.jsx($e.StrictMode,{children:E.jsx(cI,{})}));
