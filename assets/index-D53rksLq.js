(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var zd={exports:{}},Ro={};var $0;function Hb(){if($0)return Ro;$0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Ro.Fragment=e,Ro.jsx=i,Ro.jsxs=i,Ro}var W0;function Fb(){return W0||(W0=1,zd.exports=Hb()),zd.exports}var T=Fb(),Pd={exports:{}},we={};var J0;function Gb(){if(J0)return we;J0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function q(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,re={};function ye(O,G,ie){this.props=O,this.context=G,this.refs=re,this.updater=ie||ee}ye.prototype.isReactComponent={},ye.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},ye.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Re(){}Re.prototype=ye.prototype;function be(O,G,ie){this.props=O,this.context=G,this.refs=re,this.updater=ie||ee}var Je=be.prototype=new Re;Je.constructor=be,se(Je,ye.prototype),Je.isPureReactComponent=!0;var mt=Array.isArray;function je(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,G,ie){var ae=ie.ref;return{$$typeof:s,type:O,key:G,ref:ae!==void 0?ae:null,props:ie}}function k(O,G){return C(O.type,G,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function j(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return G[ie]})}var x=/\/+/g;function st(O,G){return typeof O=="object"&&O!==null&&O.key!=null?j(""+O.key):G.toString(36)}function pt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(je,je):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,G,ie,ae,Ee){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var Le=!1;if(O===null)Le=!0;else switch(Ie){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(O.$$typeof){case s:case e:Le=!0;break;case E:return Le=O._init,F(Le(O._payload),G,ie,ae,Ee)}}if(Le)return Ee=Ee(O),Le=ae===""?"."+st(O,0):ae,mt(Ee)?(ie="",Le!=null&&(ie=Le.replace(x,"$&/")+"/"),F(Ee,G,ie,"",function(Hi){return Hi})):Ee!=null&&(D(Ee)&&(Ee=k(Ee,ie+(Ee.key==null||O&&O.key===Ee.key?"":(""+Ee.key).replace(x,"$&/")+"/")+Le)),G.push(Ee)),1;Le=0;var St=ae===""?".":ae+":";if(mt(O))for(var ut=0;ut<O.length;ut++)ae=O[ut],Ie=St+st(ae,ut),Le+=F(ae,G,ie,Ie,Ee);else if(ut=q(O),typeof ut=="function")for(O=ut.call(O),ut=0;!(ae=O.next()).done;)ae=ae.value,Ie=St+st(ae,ut++),Le+=F(ae,G,ie,Ie,Ee);else if(Ie==="object"){if(typeof O.then=="function")return F(pt(O),G,ie,ae,Ee);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Le}function te(O,G,ie){if(O==null)return O;var ae=[],Ee=0;return F(O,ae,"","",function(Ie){return G.call(ie,Ie,Ee++)}),ae}function de(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var He=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ae={map:te,forEach:function(O,G,ie){te(O,function(){G.apply(this,arguments)},ie)},count:function(O){var G=0;return te(O,function(){G++}),G},toArray:function(O){return te(O,function(G){return G})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return we.Activity=A,we.Children=Ae,we.Component=ye,we.Fragment=i,we.Profiler=o,we.PureComponent=be,we.StrictMode=a,we.Suspense=_,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,we.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},we.cache=function(O){return function(){return O.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(O,G,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=se({},O.props),Ee=O.key;if(G!=null)for(Ie in G.key!==void 0&&(Ee=""+G.key),G)!w.call(G,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&G.ref===void 0||(ae[Ie]=G[Ie]);var Ie=arguments.length-2;if(Ie===1)ae.children=ie;else if(1<Ie){for(var Le=Array(Ie),St=0;St<Ie;St++)Le[St]=arguments[St+2];ae.children=Le}return C(O.type,Ee,ae)},we.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},we.createElement=function(O,G,ie){var ae,Ee={},Ie=null;if(G!=null)for(ae in G.key!==void 0&&(Ie=""+G.key),G)w.call(G,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Ee[ae]=G[ae]);var Le=arguments.length-2;if(Le===1)Ee.children=ie;else if(1<Le){for(var St=Array(Le),ut=0;ut<Le;ut++)St[ut]=arguments[ut+2];Ee.children=St}if(O&&O.defaultProps)for(ae in Le=O.defaultProps,Le)Ee[ae]===void 0&&(Ee[ae]=Le[ae]);return C(O,Ie,Ee)},we.createRef=function(){return{current:null}},we.forwardRef=function(O){return{$$typeof:g,render:O}},we.isValidElement=D,we.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:de}},we.memo=function(O,G){return{$$typeof:y,type:O,compare:G===void 0?null:G}},we.startTransition=function(O){var G=I.T,ie={};I.T=ie;try{var ae=O(),Ee=I.S;Ee!==null&&Ee(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(je,He)}catch(Ie){He(Ie)}finally{G!==null&&ie.types!==null&&(G.types=ie.types),I.T=G}},we.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},we.use=function(O){return I.H.use(O)},we.useActionState=function(O,G,ie){return I.H.useActionState(O,G,ie)},we.useCallback=function(O,G){return I.H.useCallback(O,G)},we.useContext=function(O){return I.H.useContext(O)},we.useDebugValue=function(){},we.useDeferredValue=function(O,G){return I.H.useDeferredValue(O,G)},we.useEffect=function(O,G){return I.H.useEffect(O,G)},we.useEffectEvent=function(O){return I.H.useEffectEvent(O)},we.useId=function(){return I.H.useId()},we.useImperativeHandle=function(O,G,ie){return I.H.useImperativeHandle(O,G,ie)},we.useInsertionEffect=function(O,G){return I.H.useInsertionEffect(O,G)},we.useLayoutEffect=function(O,G){return I.H.useLayoutEffect(O,G)},we.useMemo=function(O,G){return I.H.useMemo(O,G)},we.useOptimistic=function(O,G){return I.H.useOptimistic(O,G)},we.useReducer=function(O,G,ie){return I.H.useReducer(O,G,ie)},we.useRef=function(O){return I.H.useRef(O)},we.useState=function(O){return I.H.useState(O)},we.useSyncExternalStore=function(O,G,ie){return I.H.useSyncExternalStore(O,G,ie)},we.useTransition=function(){return I.H.useTransition()},we.version="19.2.4",we}var Z0;function zm(){return Z0||(Z0=1,Pd.exports=Gb()),Pd.exports}var Qe=zm(),Bd={exports:{}},Io={},qd={exports:{}},Hd={};var e_;function Kb(){return e_||(e_=1,(function(s){function e(F,te){var de=F.length;F.push(te);e:for(;0<de;){var He=de-1>>>1,Ae=F[He];if(0<o(Ae,te))F[He]=te,F[de]=Ae,de=He;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var te=F[0],de=F.pop();if(de!==te){F[0]=de;e:for(var He=0,Ae=F.length,O=Ae>>>1;He<O;){var G=2*(He+1)-1,ie=F[G],ae=G+1,Ee=F[ae];if(0>o(ie,de))ae<Ae&&0>o(Ee,ie)?(F[He]=Ee,F[ae]=de,He=ae):(F[He]=ie,F[G]=de,He=G);else if(ae<Ae&&0>o(Ee,de))F[He]=Ee,F[ae]=de,He=ae;else break e}}return te}function o(F,te){var de=F.sortIndex-te.sortIndex;return de!==0?de:F.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],E=1,A=null,N=3,q=!1,ee=!1,se=!1,re=!1,ye=typeof setTimeout=="function"?setTimeout:null,Re=typeof clearTimeout=="function"?clearTimeout:null,be=typeof setImmediate<"u"?setImmediate:null;function Je(F){for(var te=i(y);te!==null;){if(te.callback===null)a(y);else if(te.startTime<=F)a(y),te.sortIndex=te.expirationTime,e(_,te);else break;te=i(y)}}function mt(F){if(se=!1,Je(F),!ee)if(i(_)!==null)ee=!0,je||(je=!0,j());else{var te=i(y);te!==null&&pt(mt,te.startTime-F)}}var je=!1,I=-1,w=5,C=-1;function k(){return re?!0:!(s.unstable_now()-C<w)}function D(){if(re=!1,je){var F=s.unstable_now();C=F;var te=!0;try{e:{ee=!1,se&&(se=!1,Re(I),I=-1),q=!0;var de=N;try{t:{for(Je(F),A=i(_);A!==null&&!(A.expirationTime>F&&k());){var He=A.callback;if(typeof He=="function"){A.callback=null,N=A.priorityLevel;var Ae=He(A.expirationTime<=F);if(F=s.unstable_now(),typeof Ae=="function"){A.callback=Ae,Je(F),te=!0;break t}A===i(_)&&a(_),Je(F)}else a(_);A=i(_)}if(A!==null)te=!0;else{var O=i(y);O!==null&&pt(mt,O.startTime-F),te=!1}}break e}finally{A=null,N=de,q=!1}te=void 0}}finally{te?j():je=!1}}}var j;if(typeof be=="function")j=function(){be(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,st=x.port2;x.port1.onmessage=D,j=function(){st.postMessage(null)}}else j=function(){ye(D,0)};function pt(F,te){I=ye(function(){F(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(F){switch(N){case 1:case 2:case 3:var te=3;break;default:te=N}var de=N;N=te;try{return F()}finally{N=de}},s.unstable_requestPaint=function(){re=!0},s.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var de=N;N=F;try{return te()}finally{N=de}},s.unstable_scheduleCallback=function(F,te,de){var He=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?He+de:He):de=He,F){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=de+Ae,F={id:E++,callback:te,priorityLevel:F,startTime:de,expirationTime:Ae,sortIndex:-1},de>He?(F.sortIndex=de,e(y,F),i(_)===null&&F===i(y)&&(se?(Re(I),I=-1):se=!0,pt(mt,de-He))):(F.sortIndex=Ae,e(_,F),ee||q||(ee=!0,je||(je=!0,j()))),F},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(F){var te=N;return function(){var de=N;N=te;try{return F.apply(this,arguments)}finally{N=de}}}})(Hd)),Hd}var t_;function Yb(){return t_||(t_=1,qd.exports=Kb()),qd.exports}var Fd={exports:{}},nn={};var n_;function Qb(){if(n_)return nn;n_=1;var s=zm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:_,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,E)},nn.flushSync=function(_){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=E,a.d.f()}},nn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},nn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},nn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:q}):E==="script"&&a.d.X(_,{crossOrigin:A,integrity:N,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},nn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin);a.d.L(_,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},nn.requestFormReset=function(_){a.d.r(_)},nn.unstable_batchedUpdates=function(_,y){return _(y)},nn.useFormState=function(_,y,E){return d.H.useFormState(_,y,E)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var i_;function Xb(){if(i_)return Fd.exports;i_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Fd.exports=Qb(),Fd.exports}var s_;function $b(){if(s_)return Io;s_=1;var s=Yb(),e=zm(),i=Xb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,b=h.child;b;){if(b===r){p=!0,r=h,l=f;break}if(b===l){p=!0,l=h,r=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===r){p=!0,r=f,l=h;break}if(b===l){p=!0,l=f,r=h;break}b=b.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),Re=Symbol.for("react.consumer"),be=Symbol.for("react.context"),Je=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case ye:return"Profiler";case re:return"StrictMode";case mt:return"Suspense";case je:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case be:return t.displayName||"Context";case Re:return(t._context.displayName||"Context")+".Consumer";case Je:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:st(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return st(t(n))}catch{}}return null}var pt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},He=[],Ae=-1;function O(t){return{current:t}}function G(t){0>Ae||(t.current=He[Ae],He[Ae]=null,Ae--)}function ie(t,n){Ae++,He[Ae]=t.current,t.current=n}var ae=O(null),Ee=O(null),Ie=O(null),Le=O(null);function St(t,n){switch(ie(Ie,n),ie(Ee,t),ie(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?v0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=v0(n),t=E0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(ae),ie(ae,t)}function ut(){G(ae),G(Ee),G(Ie)}function Hi(t){t.memoizedState!==null&&ie(Le,t);var n=ae.current,r=E0(n,t.type);n!==r&&(ie(Ee,t),ie(ae,r))}function Fi(t){Ee.current===t&&(G(ae),G(Ee)),Le.current===t&&(G(Le),So._currentValue=de)}var As,ws;function kn(t){if(As===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);As=n&&n[1]||"",ws=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+As+t+ws}var xr=!1;function Gi(t,n){if(!t||xr)return"";xr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var P=H}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(H){P=H}t.call(Q.prototype)}}else{try{throw Error()}catch(H){P=H}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&P&&typeof H.stack=="string")return[H.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],b=f[1];if(p&&b){var R=p.split(`
`),z=b.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var K=`
`+R[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{xr=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?kn(r):""}function Rr(t,n){switch(t.tag){case 26:case 27:case 5:return kn(t.type);case 16:return kn("Lazy");case 13:return t.child!==n&&n!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return Gi(t.type,!1);case 11:return Gi(t.type.render,!1);case 1:return Gi(t.type,!0);case 31:return kn("Activity");default:return""}}function di(t){try{var n="",r=null;do n+=Rr(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Z=Object.prototype.hasOwnProperty,J=s.unstable_scheduleCallback,oe=s.unstable_cancelCallback,ce=s.unstable_shouldYield,Ce=s.unstable_requestPaint,$=s.unstable_now,pe=s.unstable_getCurrentPriorityLevel,Ne=s.unstable_ImmediatePriority,_t=s.unstable_UserBlockingPriority,Ze=s.unstable_NormalPriority,xl=s.unstable_LowPriority,Ki=s.unstable_IdlePriority,cu=s.log,hu=s.unstable_setDisableYieldValue,Wn=null,Yt=null;function Vn(t){if(typeof cu=="function"&&hu(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Wn,t)}catch{}}var At=Math.clz32?Math.clz32:du,fu=Math.log,fa=Math.LN2;function du(t){return t>>>=0,t===0?32:31-(fu(t)/fa|0)|0}var mi=256,Ir=262144,Ct=4194304;function pi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gi(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=pi(l):(p&=b,p!==0?h=pi(p):r||(r=b&~t,r!==0&&(h=pi(r))))):(b=l&~f,b!==0?h=pi(b):p!==0?h=pi(p):r||(r=l&~t,r!==0&&(h=pi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Jn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function qh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var t=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),t}function yi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Cr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Hh(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var b=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(r=p&~r;0<r;){var K=31-At(r),Q=1<<K;b[K]=0,R[K]=-1;var P=z[K];if(P!==null)for(z[K]=null,K=0;K<P.length;K++){var H=P[K];H!==null&&(H.lane&=-536870913)}r&=~Q}l!==0&&Nr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Nr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-At(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Rl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-At(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Il(t,n){var r=n&-n;return r=(r&42)!==0?1:Dr(r),(r&(t.suspendedLanes|n))!==0?0:r}function Dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:H0(t.type))}function Zn(t,n){var r=te.p;try{return te.p=t,n()}finally{te.p=r}}var ei=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ei,Ht="__reactProps$"+ei,_i="__reactContainer$"+ei,da="__reactEvents$"+ei,Fh="__reactListeners$"+ei,gu="__reactHandles$"+ei,yu="__reactResources$"+ei,vi="__reactMarker$"+ei;function ma(t){delete t[Nt],delete t[Ht],delete t[da],delete t[Fh],delete t[gu]}function Ei(t){var n=t[Nt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[_i]||r[Nt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=R0(t);t!==null;){if(r=t[Nt])return r;t=R0(t)}return n}t=r,r=t.parentNode}return null}function jn(t){if(t=t[Nt]||t[_i]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Sn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ti(t){var n=t[yu];return n||(n=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[vi]=!0}var Cl=new Set,Nl={};function bi(t,n){Si(t,n),Si(t+"Capture",n)}function Si(t,n){for(Nl[t]=n,t=0;t<n.length;t++)Cl.add(n[t])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},Ml={};function _u(t){return Z.call(Ml,t)?!0:Z.call(Ol,t)?!1:Dl.test(t)?Ml[t]=!0:(Ol[t]=!0,!1)}function pa(t,n,r){if(_u(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function An(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ot(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function kl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function tt(t){if(!t._valueTracker){var n=xs(t)?"checked":"value";t._valueTracker=kl(t,n,""+t[n])}}function Or(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=xs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Mr=/[\n"\\]/g;function dn(t){return t.replace(Mr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ga(t,n,r,l,h,f,p,b){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ft(n)):t.value!==""+Ft(n)&&(t.value=""+Ft(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Vl(t,p,Ft(n)):r!=null?Vl(t,p,Ft(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ft(b):t.removeAttribute("name")}function vu(t,n,r,l,h,f,p,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){tt(t);return}r=r!=null?""+Ft(r):"",n=n!=null?""+Ft(n):r,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),tt(t)}function Vl(t,n,r){n==="number"&&Ai(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Rs(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ft(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Eu(t,n,r){if(n!=null&&(n=""+Ft(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ft(r):""}function Is(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(pt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ft(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),tt(t)}function mn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Tu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ll(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&jl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&jl(t,f,n[f])}function ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return Cs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var Ul=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ns=null,wi=null;function kr(t){var n=jn(t);if(n&&(t=n.stateNode)){var r=t[Ht]||null;e:switch(t=n.stateNode,n.type){case"input":if(ga(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+dn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Ht]||null;if(!h)throw Error(a(90));ga(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Or(l)}break e;case"textarea":Eu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Rs(t,!!r.multiple,n,!1)}}}var va=!1;function Ds(t,n,r){if(va)return t(n,r);va=!0;try{var l=t(n);return l}finally{if(va=!1,(Ns!==null||wi!==null)&&(pc(),Ns&&(n=Ns,t=wi,wi=Ns=null,kr(n),t)))for(n=0;n<t.length;n++)kr(t[n])}}function ni(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Ht]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(Un)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Vr=!1}var xi=null,zl=null,jr=null;function Pl(){if(jr)return jr;var t,n=zl,r=n.length,l,h="value"in xi?xi.value:xi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return jr=h.slice(t,1<l?1-l:void 0)}function Lr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function ii(){return!1}function Qt(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(r=t[b],this[b]=r?r(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qi:ii,this.isPropagationStopped=ii,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Qt(Xi),Os=A({},Xi,{view:0,detail:0}),Bl=Qt(Os),Ms,Ea,Ii,Ta=A({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(Ms=t.screenX-Ii.screenX,Ea=t.screenY-Ii.screenY):Ea=Ms=0,Ii=t),Ms)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),ql=Qt(Ta),Ur=A({},Ta,{dataTransfer:0}),Su=Qt(Ur),Au=A({},Os,{relatedTarget:0}),zr=Qt(Au),Hl=A({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=Qt(Hl),ba=A({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xu=Qt(ba),Ru=A({},Xi,{data:0}),Ci=Qt(Ru),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Nu[t])?!!n[t]:!1}function ks(){return Du}var on=A({},Os,{key:function(t){if(t.key){var n=Iu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?Lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ou=Qt(on),Mu=A({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Qt(Mu),u=A({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),m=Qt(u),v=A({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Qt(v),L=A({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Qt(L),ne=A({},Xi,{newState:0,oldState:0}),De=Qt(ne),wt=[9,13,27,32],$e=Un&&"CompositionEvent"in window,gt=null;Un&&"documentMode"in document&&(gt=document.documentMode);var zn=Un&&"TextEvent"in window&&!gt,Ni=Un&&(!$e||gt&&8<gt&&11>=gt),si=" ",ri=!1;function Pr(t,n){switch(t){case"keyup":return wt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function dT(t,n){switch(t){case"compositionend":return Sa(n);case"keypress":return n.which!==32?null:(ri=!0,si);case"textInput":return t=n.data,t===si&&ri?null:t;default:return null}}function mT(t,n){if(Aa)return t==="compositionend"||!$e&&Pr(t,n)?(t=Pl(),jr=zl=xi=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ni&&n.locale!=="ko"?null:n.data;default:return null}}var pT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Np(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!pT[t.type]:n==="textarea"}function Dp(t,n,r,l){Ns?wi?wi.push(l):wi=[l]:Ns=l,n=bc(n,"onChange"),0<n.length&&(r=new Ri("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Fl=null,Gl=null;function gT(t){d0(t,0)}function ku(t){var n=Sn(t);if(Or(n))return t}function Op(t,n){if(t==="change")return n}var Mp=!1;if(Un){var Gh;if(Un){var Kh="oninput"in document;if(!Kh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Kh=typeof kp.oninput=="function"}Gh=Kh}else Gh=!1;Mp=Gh&&(!document.documentMode||9<document.documentMode)}function Vp(){Fl&&(Fl.detachEvent("onpropertychange",jp),Gl=Fl=null)}function jp(t){if(t.propertyName==="value"&&ku(Gl)){var n=[];Dp(n,Gl,t,Ln(t)),Ds(gT,n)}}function yT(t,n,r){t==="focusin"?(Vp(),Fl=n,Gl=r,Fl.attachEvent("onpropertychange",jp)):t==="focusout"&&Vp()}function _T(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(Gl)}function vT(t,n){if(t==="click")return ku(n)}function ET(t,n){if(t==="input"||t==="change")return ku(n)}function TT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var wn=typeof Object.is=="function"?Object.is:TT;function Kl(t,n){if(wn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Z.call(n,h)||!wn(t[h],n[h]))return!1}return!0}function Lp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Up(t,n){var r=Lp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lp(r)}}function zp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?zp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Pp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ai(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ai(t.document)}return n}function Yh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var bT=Un&&"documentMode"in document&&11>=document.documentMode,wa=null,Qh=null,Yl=null,Xh=!1;function Bp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xh||wa==null||wa!==Ai(l)||(l=wa,"selectionStart"in l&&Yh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yl&&Kl(Yl,l)||(Yl=l,l=bc(Qh,"onSelect"),0<l.length&&(n=new Ri("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=wa)))}function Br(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var xa={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},$h={},qp={};Un&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function qr(t){if($h[t])return $h[t];if(!xa[t])return t;var n=xa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in qp)return $h[t]=n[r];return t}var Hp=qr("animationend"),Fp=qr("animationiteration"),Gp=qr("animationstart"),ST=qr("transitionrun"),AT=qr("transitionstart"),wT=qr("transitioncancel"),Kp=qr("transitionend"),Yp=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wh.push("scrollEnd");function ai(t,n){Yp.set(t,n),bi(n,[t])}var Vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],Ra=0,Jh=0;function ju(){for(var t=Ra,n=Jh=Ra=0;n<t;){var r=Pn[n];Pn[n++]=null;var l=Pn[n];Pn[n++]=null;var h=Pn[n];Pn[n++]=null;var f=Pn[n];if(Pn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Qp(r,h,f)}}function Lu(t,n,r,l){Pn[Ra++]=t,Pn[Ra++]=n,Pn[Ra++]=r,Pn[Ra++]=l,Jh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zh(t,n,r,l){return Lu(t,n,r,l),Uu(t)}function Hr(t,n){return Lu(t,null,null,n),Uu(t)}function Qp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-At(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Uu(t){if(50<go)throw go=0,ud=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ia={};function xT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,n,r,l){return new xT(t,n,r,l)}function ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,n){var r=t.alternate;return r===null?(r=xn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Xp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function zu(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")ef(t)&&(p=1);else if(typeof t=="string")p=Db(t,r,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=xn(31,r,n,h),t.elementType=C,t.lanes=f,t;case se:return Fr(r.children,h,f,n);case re:p=8,h|=24;break;case ye:return t=xn(12,r,n,h|2),t.elementType=ye,t.lanes=f,t;case mt:return t=xn(13,r,n,h),t.elementType=mt,t.lanes=f,t;case je:return t=xn(19,r,n,h),t.elementType=je,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case be:p=10;break e;case Re:p=9;break e;case Je:p=11;break e;case I:p=14;break e;case w:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=xn(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Fr(t,n,r,l){return t=xn(7,t,l,n),t.lanes=r,t}function tf(t,n,r){return t=xn(6,t,null,n),t.lanes=r,t}function $p(t){var n=xn(18,null,null,0);return n.stateNode=t,n}function nf(t,n,r){return n=xn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Wp=new WeakMap;function Bn(t,n){if(typeof t=="object"&&t!==null){var r=Wp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:di(n)},Wp.set(t,n),n)}return{value:t,source:n,stack:di(n)}}var Ca=[],Na=0,Pu=null,Ql=0,qn=[],Hn=0,Vs=null,Di=1,Oi="";function Ji(t,n){Ca[Na++]=Ql,Ca[Na++]=Pu,Pu=t,Ql=n}function Jp(t,n,r){qn[Hn++]=Di,qn[Hn++]=Oi,qn[Hn++]=Vs,Vs=t;var l=Di;t=Oi;var h=32-At(l)-1;l&=~(1<<h),r+=1;var f=32-At(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Di=1<<32-At(n)+h|r<<h|l,Oi=f+t}else Di=1<<f|r<<h|l,Oi=t}function sf(t){t.return!==null&&(Ji(t,1),Jp(t,1,0))}function rf(t){for(;t===Pu;)Pu=Ca[--Na],Ca[Na]=null,Ql=Ca[--Na],Ca[Na]=null;for(;t===Vs;)Vs=qn[--Hn],qn[Hn]=null,Oi=qn[--Hn],qn[Hn]=null,Di=qn[--Hn],qn[Hn]=null}function Zp(t,n){qn[Hn++]=Di,qn[Hn++]=Oi,qn[Hn++]=Vs,Di=n.id,Oi=n.overflow,Vs=t}var Xt=null,ht=null,Fe=!1,js=null,Fn=!1,af=Error(a(519));function Ls(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xl(Bn(n,t)),af}function eg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Nt]=t,n[Ht]=l,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(r=0;r<_o.length;r++)Ve(_o[r],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),vu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),Is(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||y0(n.textContent,r)?(l.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),l.onScroll!=null&&Ve("scroll",n),l.onScrollEnd!=null&&Ve("scrollend",n),l.onClick!=null&&(n.onclick=ti),n=!0):n=!1,n||Ls(t,!0)}function tg(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Xt=Xt.return}}function Da(t){if(t!==Xt)return!1;if(!Fe)return tg(t),Fe=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Ad(t.type,t.memoizedProps)),r=!r),r&&ht&&Ls(t),tg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ht=x0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ht=x0(t)}else n===27?(n=ht,Ws(t.type)?(t=Cd,Cd=null,ht=t):ht=n):ht=Xt?Kn(t.stateNode.nextSibling):null;return!0}function Gr(){ht=Xt=null,Fe=!1}function lf(){var t=js;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),js=null),t}function Xl(t){js===null?js=[t]:js.push(t)}var of=O(null),Kr=null,Zi=null;function Us(t,n,r){ie(of,n._currentValue),n._currentValue=r}function es(t){t._currentValue=of.current,G(of)}function uf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function cf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var R=0;R<n.length;R++)if(b.context===n[R]){f.lanes|=r,b=f.alternate,b!==null&&(b.lanes|=r),uf(f.return,r,t),l||(p=null);break e}f=b.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),uf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Oa(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var b=h.type;wn(h.pendingProps.value,p.value)||(t!==null?t.push(b):t=[b])}}else if(h===Le.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(So):t=[So])}h=h.return}t!==null&&cf(n,t,r,l),n.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yr(t){Kr=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return ng(Kr,t)}function qu(t,n){return Kr===null&&Yr(t),ng(t,n)}function ng(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Zi===null){if(t===null)throw Error(a(308));Zi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Zi=Zi.next=n;return r}var RT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},IT=s.unstable_scheduleCallback,CT=s.unstable_NormalPriority,Mt={$$typeof:be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new RT,data:new Map,refCount:0}}function $l(t){t.refCount--,t.refCount===0&&IT(CT,function(){t.controller.abort()})}var Wl=null,ff=0,Ma=0,ka=null;function NT(t,n){if(Wl===null){var r=Wl=[];ff=0,Ma=pd(),ka={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ff++,n.then(ig,ig),n}function ig(){if(--ff===0&&Wl!==null){ka!==null&&(ka.status="fulfilled");var t=Wl;Wl=null,Ma=0,ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function DT(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var sg=F.S;F.S=function(t,n){By=$(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&NT(t,n),sg!==null&&sg(t,n)};var Qr=O(null);function df(){var t=Qr.current;return t!==null?t:ct.pooledCache}function Hu(t,n){n===null?ie(Qr,Qr.current):ie(Qr,n.pool)}function rg(){var t=df();return t===null?null:{parent:Mt._currentValue,pool:t}}var Va=Error(a(460)),mf=Error(a(474)),Fu=Error(a(542)),Gu={then:function(){}};function ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ti,ti),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ug(t),t;default:if(typeof n.status=="string")n.then(ti,ti);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ug(t),t}throw $r=n,Va}}function Xr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?($r=r,Va):r}}var $r=null;function og(){if($r===null)throw Error(a(459));var t=$r;return $r=null,t}function ug(t){if(t===Va||t===Fu)throw Error(a(483))}var ja=null,Jl=0;function Ku(t){var n=Jl;return Jl+=1,ja===null&&(ja=[]),lg(ja,t,n)}function Zl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Yu(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function cg(t){function n(V,M){if(t){var U=V.deletions;U===null?(V.deletions=[M],V.flags|=16):U.push(M)}}function r(V,M){if(!t)return null;for(;M!==null;)n(V,M),M=M.sibling;return null}function l(V){for(var M=new Map;V!==null;)V.key!==null?M.set(V.key,V):M.set(V.index,V),V=V.sibling;return M}function h(V,M){return V=Wi(V,M),V.index=0,V.sibling=null,V}function f(V,M,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<M?(V.flags|=67108866,M):U):(V.flags|=67108866,M)):(V.flags|=1048576,M)}function p(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function b(V,M,U,Y){return M===null||M.tag!==6?(M=tf(U,V.mode,Y),M.return=V,M):(M=h(M,U),M.return=V,M)}function R(V,M,U,Y){var me=U.type;return me===se?K(V,M,U.props.children,Y,U.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&Xr(me)===M.type)?(M=h(M,U.props),Zl(M,U),M.return=V,M):(M=zu(U.type,U.key,U.props,null,V.mode,Y),Zl(M,U),M.return=V,M)}function z(V,M,U,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=nf(U,V.mode,Y),M.return=V,M):(M=h(M,U.children||[]),M.return=V,M)}function K(V,M,U,Y,me){return M===null||M.tag!==7?(M=Fr(U,V.mode,Y,me),M.return=V,M):(M=h(M,U),M.return=V,M)}function Q(V,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=tf(""+M,V.mode,U),M.return=V,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case q:return U=zu(M.type,M.key,M.props,null,V.mode,U),Zl(U,M),U.return=V,U;case ee:return M=nf(M,V.mode,U),M.return=V,M;case w:return M=Xr(M),Q(V,M,U)}if(pt(M)||j(M))return M=Fr(M,V.mode,U,null),M.return=V,M;if(typeof M.then=="function")return Q(V,Ku(M),U);if(M.$$typeof===be)return Q(V,qu(V,M),U);Yu(V,M)}return null}function P(V,M,U,Y){var me=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return me!==null?null:b(V,M,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case q:return U.key===me?R(V,M,U,Y):null;case ee:return U.key===me?z(V,M,U,Y):null;case w:return U=Xr(U),P(V,M,U,Y)}if(pt(U)||j(U))return me!==null?null:K(V,M,U,Y,null);if(typeof U.then=="function")return P(V,M,Ku(U),Y);if(U.$$typeof===be)return P(V,M,qu(V,U),Y);Yu(V,U)}return null}function H(V,M,U,Y,me){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(U)||null,b(M,V,""+Y,me);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:return V=V.get(Y.key===null?U:Y.key)||null,R(M,V,Y,me);case ee:return V=V.get(Y.key===null?U:Y.key)||null,z(M,V,Y,me);case w:return Y=Xr(Y),H(V,M,U,Y,me)}if(pt(Y)||j(Y))return V=V.get(U)||null,K(M,V,Y,me,null);if(typeof Y.then=="function")return H(V,M,U,Ku(Y),me);if(Y.$$typeof===be)return H(V,M,U,qu(M,Y),me);Yu(M,Y)}return null}function ue(V,M,U,Y){for(var me=null,Ke=null,he=M,Me=M=0,ze=null;he!==null&&Me<U.length;Me++){he.index>Me?(ze=he,he=null):ze=he.sibling;var Ye=P(V,he,U[Me],Y);if(Ye===null){he===null&&(he=ze);break}t&&he&&Ye.alternate===null&&n(V,he),M=f(Ye,M,Me),Ke===null?me=Ye:Ke.sibling=Ye,Ke=Ye,he=ze}if(Me===U.length)return r(V,he),Fe&&Ji(V,Me),me;if(he===null){for(;Me<U.length;Me++)he=Q(V,U[Me],Y),he!==null&&(M=f(he,M,Me),Ke===null?me=he:Ke.sibling=he,Ke=he);return Fe&&Ji(V,Me),me}for(he=l(he);Me<U.length;Me++)ze=H(he,V,Me,U[Me],Y),ze!==null&&(t&&ze.alternate!==null&&he.delete(ze.key===null?Me:ze.key),M=f(ze,M,Me),Ke===null?me=ze:Ke.sibling=ze,Ke=ze);return t&&he.forEach(function(nr){return n(V,nr)}),Fe&&Ji(V,Me),me}function _e(V,M,U,Y){if(U==null)throw Error(a(151));for(var me=null,Ke=null,he=M,Me=M=0,ze=null,Ye=U.next();he!==null&&!Ye.done;Me++,Ye=U.next()){he.index>Me?(ze=he,he=null):ze=he.sibling;var nr=P(V,he,Ye.value,Y);if(nr===null){he===null&&(he=ze);break}t&&he&&nr.alternate===null&&n(V,he),M=f(nr,M,Me),Ke===null?me=nr:Ke.sibling=nr,Ke=nr,he=ze}if(Ye.done)return r(V,he),Fe&&Ji(V,Me),me;if(he===null){for(;!Ye.done;Me++,Ye=U.next())Ye=Q(V,Ye.value,Y),Ye!==null&&(M=f(Ye,M,Me),Ke===null?me=Ye:Ke.sibling=Ye,Ke=Ye);return Fe&&Ji(V,Me),me}for(he=l(he);!Ye.done;Me++,Ye=U.next())Ye=H(he,V,Me,Ye.value,Y),Ye!==null&&(t&&Ye.alternate!==null&&he.delete(Ye.key===null?Me:Ye.key),M=f(Ye,M,Me),Ke===null?me=Ye:Ke.sibling=Ye,Ke=Ye);return t&&he.forEach(function(qb){return n(V,qb)}),Fe&&Ji(V,Me),me}function ot(V,M,U,Y){if(typeof U=="object"&&U!==null&&U.type===se&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case q:e:{for(var me=U.key;M!==null;){if(M.key===me){if(me=U.type,me===se){if(M.tag===7){r(V,M.sibling),Y=h(M,U.props.children),Y.return=V,V=Y;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&Xr(me)===M.type){r(V,M.sibling),Y=h(M,U.props),Zl(Y,U),Y.return=V,V=Y;break e}r(V,M);break}else n(V,M);M=M.sibling}U.type===se?(Y=Fr(U.props.children,V.mode,Y,U.key),Y.return=V,V=Y):(Y=zu(U.type,U.key,U.props,null,V.mode,Y),Zl(Y,U),Y.return=V,V=Y)}return p(V);case ee:e:{for(me=U.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){r(V,M.sibling),Y=h(M,U.children||[]),Y.return=V,V=Y;break e}else{r(V,M);break}else n(V,M);M=M.sibling}Y=nf(U,V.mode,Y),Y.return=V,V=Y}return p(V);case w:return U=Xr(U),ot(V,M,U,Y)}if(pt(U))return ue(V,M,U,Y);if(j(U)){if(me=j(U),typeof me!="function")throw Error(a(150));return U=me.call(U),_e(V,M,U,Y)}if(typeof U.then=="function")return ot(V,M,Ku(U),Y);if(U.$$typeof===be)return ot(V,M,qu(V,U),Y);Yu(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(r(V,M.sibling),Y=h(M,U),Y.return=V,V=Y):(r(V,M),Y=tf(U,V.mode,Y),Y.return=V,V=Y),p(V)):r(V,M)}return function(V,M,U,Y){try{Jl=0;var me=ot(V,M,U,Y);return ja=null,me}catch(he){if(he===Va||he===Fu)throw he;var Ke=xn(29,he,null,V.mode);return Ke.lanes=Y,Ke.return=V,Ke}}}var Wr=cg(!0),hg=cg(!1),zs=!1;function pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ps(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Uu(t),Qp(t,null,r),n}return Lu(t,l,n,r),Uu(t)}function eo(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Rl(t,r)}}function yf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var _f=!1;function to(){if(_f){var t=ka;if(t!==null)throw t}}function no(t,n,r,l){_f=!1;var h=t.updateQueue;zs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var R=b,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var K=t.alternate;K!==null&&(K=K.updateQueue,b=K.lastBaseUpdate,b!==p&&(b===null?K.firstBaseUpdate=z:b.next=z,K.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;p=0,K=z=R=null,b=f;do{var P=b.lane&-536870913,H=P!==b.lane;if(H?(Ue&P)===P:(l&P)===P){P!==0&&P===Ma&&(_f=!0),K!==null&&(K=K.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ue=t,_e=b;P=n;var ot=r;switch(_e.tag){case 1:if(ue=_e.payload,typeof ue=="function"){Q=ue.call(ot,Q,P);break e}Q=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=_e.payload,P=typeof ue=="function"?ue.call(ot,Q,P):ue,P==null)break e;Q=A({},Q,P);break e;case 2:zs=!0}}P=b.callback,P!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[P]:H.push(P))}else H={lane:P,tag:b.tag,payload:b.payload,callback:b.callback,next:null},K===null?(z=K=H,R=Q):K=K.next=H,p|=P;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;H=b,b=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Ks|=p,t.lanes=p,t.memoizedState=Q}}function fg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function dg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)fg(r[t],n)}var La=O(null),Qu=O(0);function mg(t,n){t=us,ie(Qu,t),ie(La,n),us=t|n.baseLanes}function vf(){ie(Qu,us),ie(La,La.current)}function Ef(){us=Qu.current,G(La),G(Qu)}var Rn=O(null),Gn=null;function qs(t){var n=t.alternate;ie(xt,xt.current&1),ie(Rn,t),Gn===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Gn=t)}function Tf(t){ie(xt,xt.current),ie(Rn,t),Gn===null&&(Gn=t)}function pg(t){t.tag===22?(ie(xt,xt.current),ie(Rn,t),Gn===null&&(Gn=t)):Hs()}function Hs(){ie(xt,xt.current),ie(Rn,Rn.current)}function In(t){G(Rn),Gn===t&&(Gn=null),G(xt)}var xt=O(0);function Xu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Rd(r)||Id(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,Oe=null,at=null,kt=null,$u=!1,Ua=!1,Jr=!1,Wu=0,io=0,za=null,OT=0;function Tt(){throw Error(a(321))}function bf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!wn(t[r],n[r]))return!1;return!0}function Sf(t,n,r,l,h,f){return ts=f,Oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Jg:Uf,Jr=!1,f=r(l,h),Jr=!1,Ua&&(f=yg(n,r,l,h)),gg(t),f}function gg(t){F.H=ao;var n=at!==null&&at.next!==null;if(ts=0,kt=at=Oe=null,$u=!1,io=0,za=null,n)throw Error(a(300));t===null||Vt||(t=t.dependencies,t!==null&&Bu(t)&&(Vt=!0))}function yg(t,n,r,l){Oe=t;var h=0;do{if(Ua&&(za=null),io=0,Ua=!1,25<=h)throw Error(a(301));if(h+=1,kt=at=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Zg,f=n(r,l)}while(Ua);return f}function MT(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?so(n):n,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(Oe.flags|=1024),n}function Af(){var t=Wu!==0;return Wu=0,t}function wf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function xf(t){if($u){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$u=!1}ts=0,kt=at=Oe=null,Ua=!1,io=Wu=0,za=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Oe.memoizedState=kt=t:kt=kt.next=t,kt}function Rt(){if(at===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var n=kt===null?Oe.memoizedState:kt.next;if(n!==null)kt=n,at=t;else{if(t===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},kt===null?Oe.memoizedState=kt=t:kt=kt.next=t}return kt}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function so(t){var n=io;return io+=1,za===null&&(za=[]),t=lg(za,t,n),n=Oe,(kt===null?n.memoizedState:kt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Jg:Uf),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return so(t);if(t.$$typeof===be)return $t(t)}throw Error(a(438,String(t)))}function Rf(t){var n=null,r=Oe.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ju(),Oe.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=k;return n.index++,r}function ns(t,n){return typeof n=="function"?n(t):n}function ec(t){var n=Rt();return If(n,at,t)}function If(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=p=null,R=null,z=n,K=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Ue&Q)===Q:(ts&Q)===Q){var P=z.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===Ma&&(K=!0);else if((ts&P)===P){z=z.next,P===Ma&&(K=!0);continue}else Q={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(b=R=Q,p=f):R=R.next=Q,Oe.lanes|=P,Ks|=P;Q=z.action,Jr&&r(f,Q),f=z.hasEagerState?z.eagerState:r(f,Q)}else P={lane:Q,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(b=R=P,p=f):R=R.next=P,Oe.lanes|=Q,Ks|=Q;z=z.next}while(z!==null&&z!==n);if(R===null?p=f:R.next=b,!wn(f,t.memoizedState)&&(Vt=!0,K&&(r=ka,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Cf(t){var n=Rt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);wn(f,n.memoizedState)||(Vt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function _g(t,n,r){var l=Oe,h=Rt(),f=Fe;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!wn((at||h).memoizedState,r);if(p&&(h.memoizedState=r,Vt=!0),h=h.queue,Of(Tg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,Pa(9,{destroy:void 0},Eg.bind(null,l,h,r,n),null),ct===null)throw Error(a(349));f||(ts&127)!==0||vg(l,n,r)}return r}function vg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Oe.updateQueue,n===null?(n=Ju(),Oe.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Eg(t,n,r,l){n.value=r,n.getSnapshot=l,bg(n)&&Sg(t)}function Tg(t,n,r){return r(function(){bg(n)&&Sg(t)})}function bg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!wn(t,r)}catch{return!0}}function Sg(t){var n=Hr(t,2);n!==null&&vn(n,t,2)}function Nf(t){var n=un();if(typeof t=="function"){var r=t;if(t=r(),Jr){Vn(!0);try{r()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},n}function Ag(t,n,r,l){return t.baseState=r,If(t,at,typeof l=="function"?l:ns)}function kT(t,n,r,l,h){if(ic(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,wg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function wg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var b=r(h,l),R=F.S;R!==null&&R(p,b),xg(t,n,b)}catch(z){Df(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=r(h,l),xg(t,n,f)}catch(z){Df(t,n,z)}}function xg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Rg(t,n,l)},function(l){return Df(t,n,l)}):Rg(t,n,r)}function Rg(t,n,r){n.status="fulfilled",n.value=r,Ig(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,wg(t,r)))}function Df(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Ig(n),n=n.next;while(n!==l)}t.action=null}function Ig(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Cg(t,n){return n}function Ng(t,n){if(Fe){var r=ct.formState;if(r!==null){e:{var l=Oe;if(Fe){if(ht){t:{for(var h=ht,f=Fn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Kn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ht=Kn(h.nextSibling),l=h.data==="F!";break e}}Ls(l)}l=!1}l&&(n=r[0])}}return r=un(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cg,lastRenderedState:n},r.queue=l,r=Xg.bind(null,Oe,l),l.dispatch=r,l=Nf(!1),f=Lf.bind(null,Oe,!1,l.queue),l=un(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=kT.bind(null,Oe,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Dg(t){var n=Rt();return Og(n,at,t)}function Og(t,n,r){if(n=If(t,n,Cg)[0],t=ec(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=so(n)}catch(p){throw p===Va?Fu:p}else l=n;n=Rt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Oe.flags|=2048,Pa(9,{destroy:void 0},VT.bind(null,h,r),null)),[l,f,t]}function VT(t,n){t.action=n}function Mg(t){var n=Rt(),r=at;if(r!==null)return Og(n,r,t);Rt(),n=n.memoizedState,r=Rt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Pa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Oe.updateQueue,n===null&&(n=Ju(),Oe.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function kg(){return Rt().memoizedState}function tc(t,n,r,l){var h=un();Oe.flags|=t,h.memoizedState=Pa(1|n,{destroy:void 0},r,l===void 0?null:l)}function nc(t,n,r,l){var h=Rt();l=l===void 0?null:l;var f=h.memoizedState.inst;at!==null&&l!==null&&bf(l,at.memoizedState.deps)?h.memoizedState=Pa(n,f,r,l):(Oe.flags|=t,h.memoizedState=Pa(1|n,f,r,l))}function Vg(t,n){tc(8390656,8,t,n)}function Of(t,n){nc(2048,8,t,n)}function jT(t){Oe.flags|=4;var n=Oe.updateQueue;if(n===null)n=Ju(),Oe.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function jg(t){var n=Rt().memoizedState;return jT({ref:n,nextImpl:t}),function(){if((We&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Lg(t,n){return nc(4,2,t,n)}function Ug(t,n){return nc(4,4,t,n)}function zg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Pg(t,n,r){r=r!=null?r.concat([t]):null,nc(4,4,zg.bind(null,n,t),r)}function Mf(){}function Bg(t,n){var r=Rt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&bf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function qg(t,n){var r=Rt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&bf(n,l[1]))return l[0];if(l=t(),Jr){Vn(!0);try{t()}finally{Vn(!1)}}return r.memoizedState=[l,n],l}function kf(t,n,r){return r===void 0||(ts&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Hy(),Oe.lanes|=t,Ks|=t,r)}function Hg(t,n,r,l){return wn(r,n)?r:La.current!==null?(t=kf(t,r,l),wn(t,n)||(Vt=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(Ue&261930)===0?(Vt=!0,t.memoizedState=r):(t=Hy(),Oe.lanes|=t,Ks|=t,n)}function Fg(t,n,r,l,h){var f=te.p;te.p=f!==0&&8>f?f:8;var p=F.T,b={};F.T=b,Lf(t,!1,n,r);try{var R=h(),z=F.S;if(z!==null&&z(b,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=DT(R,l);ro(t,n,K,Dn(t))}else ro(t,n,l,Dn(t))}catch(Q){ro(t,n,{then:function(){},status:"rejected",reason:Q},Dn())}finally{te.p=f,p!==null&&b.types!==null&&(p.types=b.types),F.T=p}}function LT(){}function Vf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Gg(t).queue;Fg(t,h,n,de,r===null?LT:function(){return Kg(t),r(l)})}function Gg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:de},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Kg(t){var n=Gg(t);n.next===null&&(n=t.alternate.memoizedState),ro(t,n.next.queue,{},Dn())}function jf(){return $t(So)}function Yg(){return Rt().memoizedState}function Qg(){return Rt().memoizedState}function UT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Dn();t=Ps(r);var l=Bs(n,t,r);l!==null&&(vn(l,n,r),eo(l,n,r)),n={cache:hf()},t.payload=n;return}n=n.return}}function zT(t,n,r){var l=Dn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ic(t)?$g(n,r):(r=Zh(t,n,r,l),r!==null&&(vn(r,t,l),Wg(r,n,l)))}function Xg(t,n,r){var l=Dn();ro(t,n,r,l)}function ro(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ic(t))$g(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,b=f(p,r);if(h.hasEagerState=!0,h.eagerState=b,wn(b,p))return Lu(t,n,h,0),ct===null&&ju(),!1}catch{}if(r=Zh(t,n,h,l),r!==null)return vn(r,t,l),Wg(r,n,l),!0}return!1}function Lf(t,n,r,l){if(l={lane:2,revertLane:pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(n)throw Error(a(479))}else n=Zh(t,r,l,2),n!==null&&vn(n,t,2)}function ic(t){var n=t.alternate;return t===Oe||n!==null&&n===Oe}function $g(t,n){Ua=$u=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Wg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Rl(t,r)}}var ao={readContext:$t,use:Zu,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};ao.useEffectEvent=Tt;var Jg={readContext:$t,use:Zu,useCallback:function(t,n){return un().memoizedState=[t,n===void 0?null:n],t},useContext:$t,useEffect:Vg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,tc(4194308,4,zg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return tc(4194308,4,t,n)},useInsertionEffect:function(t,n){tc(4,2,t,n)},useMemo:function(t,n){var r=un();n=n===void 0?null:n;var l=t();if(Jr){Vn(!0);try{t()}finally{Vn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=un();if(r!==void 0){var h=r(n);if(Jr){Vn(!0);try{r(n)}finally{Vn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=zT.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var n=un();return t={current:t},n.memoizedState=t},useState:function(t){t=Nf(t);var n=t.queue,r=Xg.bind(null,Oe,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Mf,useDeferredValue:function(t,n){var r=un();return kf(r,t,n)},useTransition:function(){var t=Nf(!1);return t=Fg.bind(null,Oe,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Oe,h=un();if(Fe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ct===null)throw Error(a(349));(Ue&127)!==0||vg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Vg(Tg.bind(null,l,f,t),[t]),l.flags|=2048,Pa(9,{destroy:void 0},Eg.bind(null,l,f,r,n),null),r},useId:function(){var t=un(),n=ct.identifierPrefix;if(Fe){var r=Oi,l=Di;r=(l&~(1<<32-At(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Wu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=OT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:jf,useFormState:Ng,useActionState:Ng,useOptimistic:function(t){var n=un();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Lf.bind(null,Oe,!0,r),r.dispatch=n,[t,n]},useMemoCache:Rf,useCacheRefresh:function(){return un().memoizedState=UT.bind(null,Oe)},useEffectEvent:function(t){var n=un(),r={impl:t};return n.memoizedState=r,function(){if((We&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Uf={readContext:$t,use:Zu,useCallback:Bg,useContext:$t,useEffect:Of,useImperativeHandle:Pg,useInsertionEffect:Lg,useLayoutEffect:Ug,useMemo:qg,useReducer:ec,useRef:kg,useState:function(){return ec(ns)},useDebugValue:Mf,useDeferredValue:function(t,n){var r=Rt();return Hg(r,at.memoizedState,t,n)},useTransition:function(){var t=ec(ns)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:so(t),n]},useSyncExternalStore:_g,useId:Yg,useHostTransitionStatus:jf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t,n){var r=Rt();return Ag(r,at,t,n)},useMemoCache:Rf,useCacheRefresh:Qg};Uf.useEffectEvent=jg;var Zg={readContext:$t,use:Zu,useCallback:Bg,useContext:$t,useEffect:Of,useImperativeHandle:Pg,useInsertionEffect:Lg,useLayoutEffect:Ug,useMemo:qg,useReducer:Cf,useRef:kg,useState:function(){return Cf(ns)},useDebugValue:Mf,useDeferredValue:function(t,n){var r=Rt();return at===null?kf(r,t,n):Hg(r,at.memoizedState,t,n)},useTransition:function(){var t=Cf(ns)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:so(t),n]},useSyncExternalStore:_g,useId:Yg,useHostTransitionStatus:jf,useFormState:Mg,useActionState:Mg,useOptimistic:function(t,n){var r=Rt();return at!==null?Ag(r,at,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Qg};Zg.useEffectEvent=jg;function zf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Pf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Dn(),h=Ps(l);h.payload=n,r!=null&&(h.callback=r),n=Bs(t,h,l),n!==null&&(vn(n,t,l),eo(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Dn(),h=Ps(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Bs(t,h,l),n!==null&&(vn(n,t,l),eo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Dn(),l=Ps(r);l.tag=2,n!=null&&(l.callback=n),n=Bs(t,l,r),n!==null&&(vn(n,t,r),eo(n,t,r))}};function ey(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Kl(r,l)||!Kl(h,f):!0}function ty(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Pf.enqueueReplaceState(n,n.state,null)}function Zr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function ny(t){Vu(t)}function iy(t){console.error(t)}function sy(t){Vu(t)}function sc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ry(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(t,n,r){return r=Ps(r),r.tag=3,r.payload={element:null},r.callback=function(){sc(t,n)},r}function ay(t){return t=Ps(t),t.tag=3,t}function ly(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){ry(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ry(n,r,l),typeof h!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function PT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Oa(n,r,h,!0),r=Rn.current,r!==null){switch(r.tag){case 31:case 13:return Gn===null?gc():r.alternate===null&&bt===0&&(bt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Gu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),fd(t,l,h)),!1;case 22:return r.flags|=65536,l===Gu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),fd(t,l,h)),!1}throw Error(a(435,r.tag))}return fd(t,l,h),gc(),!1}if(Fe)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==af&&(t=Error(a(422),{cause:l}),Xl(Bn(t,r)))):(l!==af&&(n=Error(a(423),{cause:l}),Xl(Bn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Bn(l,r),h=Bf(t.stateNode,l,h),yf(t,h),bt!==4&&(bt=2)),!1;var f=Error(a(520),{cause:l});if(f=Bn(f,r),po===null?po=[f]:po.push(f),bt!==4&&(bt=2),n===null)return!0;l=Bn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Bf(r.stateNode,l,t),yf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ys===null||!Ys.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ay(h),ly(h,t,r,l),yf(r,h),!1}r=r.return}while(r!==null);return!1}var qf=Error(a(461)),Vt=!1;function Wt(t,n,r,l){n.child=t===null?hg(n,null,r,l):Wr(n,t.child,r,l)}function oy(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var b in l)b!=="ref"&&(p[b]=l[b])}else p=l;return Yr(n),l=Sf(t,n,r,p,f,h),b=Af(),t!==null&&!Vt?(wf(t,n,h),is(t,n,h)):(Fe&&b&&sf(n),n.flags|=1,Wt(t,n,l,h),n.child)}function uy(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!ef(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,cy(t,n,f,l,h)):(t=zu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!$f(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Kl,r(p,l)&&t.ref===n.ref)return is(t,n,h)}return n.flags|=1,t=Wi(f,l),t.ref=n.ref,t.return=n,n.child=t}function cy(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Kl(f,l)&&t.ref===n.ref)if(Vt=!1,n.pendingProps=l=f,$f(t,h))(t.flags&131072)!==0&&(Vt=!0);else return n.lanes=t.lanes,is(t,n,h)}return Hf(t,n,r,l,h)}function hy(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return fy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hu(n,f!==null?f.cachePool:null),f!==null?mg(n,f):vf(),pg(n);else return l=n.lanes=536870912,fy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Hu(n,f.cachePool),mg(n,f),Hs(),n.memoizedState=null):(t!==null&&Hu(n,null),vf(),Hs());return Wt(t,n,h,r),n.child}function lo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fy(t,n,r,l,h){var f=df();return f=f===null?null:{parent:Mt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Hu(n,null),vf(),pg(n),t!==null&&Oa(t,n,l,!0),n.childLanes=h,null}function rc(t,n){return n=lc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function dy(t,n,r){return Wr(n,t.child,null,r),t=rc(n,n.pendingProps),t.flags|=2,In(n),n.memoizedState=null,t}function BT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Fe){if(l.mode==="hidden")return t=rc(n,l),n.lanes=536870912,lo(null,t);if(Tf(n),(t=ht)?(t=w0(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},r=$p(t),r.return=n,n.child=r,Xt=n,ht=null)):t=null,t===null)throw Ls(n);return n.lanes=536870912,null}return rc(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(Tf(n),h)if(n.flags&256)n.flags&=-257,n=dy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Vt||Oa(t,n,r,!1),h=(r&t.childLanes)!==0,Vt||h){if(l=ct,l!==null&&(p=Il(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Hr(t,p),vn(l,t,p),qf;gc(),n=dy(t,n,r)}else t=f.treeContext,ht=Kn(p.nextSibling),Xt=n,Fe=!0,js=null,Fn=!1,t!==null&&Zp(n,t),n=rc(n,l),n.flags|=4096;return n}return t=Wi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ac(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Hf(t,n,r,l,h){return Yr(n),r=Sf(t,n,r,l,void 0,h),l=Af(),t!==null&&!Vt?(wf(t,n,h),is(t,n,h)):(Fe&&l&&sf(n),n.flags|=1,Wt(t,n,r,h),n.child)}function my(t,n,r,l,h,f){return Yr(n),n.updateQueue=null,r=yg(n,l,r,h),gg(t),l=Af(),t!==null&&!Vt?(wf(t,n,f),is(t,n,f)):(Fe&&l&&sf(n),n.flags|=1,Wt(t,n,r,f),n.child)}function py(t,n,r,l,h){if(Yr(n),n.stateNode===null){var f=Ia,p=r.contextType;typeof p=="object"&&p!==null&&(f=$t(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},pf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?$t(p):Ia,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(zf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Pf.enqueueReplaceState(f,f.state,null),no(n,l,f,h),to(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,R=Zr(r,b);f.props=R;var z=f.context,K=r.contextType;p=Ia,typeof K=="object"&&K!==null&&(p=$t(K));var Q=r.getDerivedStateFromProps;K=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||z!==p)&&ty(n,f,l,p),zs=!1;var P=n.memoizedState;f.state=P,no(n,l,f,h),to(),z=n.memoizedState,b||P!==z||zs?(typeof Q=="function"&&(zf(n,r,Q,l),z=n.memoizedState),(R=zs||ey(n,r,R,l,P,z,p))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,gf(t,n),p=n.memoizedProps,K=Zr(r,p),f.props=K,Q=n.pendingProps,P=f.context,z=r.contextType,R=Ia,typeof z=="object"&&z!==null&&(R=$t(z)),b=r.getDerivedStateFromProps,(z=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Q||P!==R)&&ty(n,f,l,R),zs=!1,P=n.memoizedState,f.state=P,no(n,l,f,h),to();var H=n.memoizedState;p!==Q||P!==H||zs||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof b=="function"&&(zf(n,r,b,l),H=n.memoizedState),(K=zs||ey(n,r,K,l,P,H,R)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=R,l=K):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ac(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Wr(n,t.child,null,h),n.child=Wr(n,null,r,h)):Wt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=is(t,n,h),t}function gy(t,n,r,l){return Gr(),n.flags|=256,Wt(t,n,r,l),n.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(t){return{baseLanes:t,cachePool:rg()}}function Kf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Nn),t}function yy(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Fe){if(h?qs(n):Hs(),(t=ht)?(t=w0(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},r=$p(t),r.return=n,n.child=r,Xt=n,ht=null)):t=null,t===null)throw Ls(n);return Id(t)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Hs(),h=n.mode,b=lc({mode:"hidden",children:b},h),l=Fr(l,h,r,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=Gf(r),l.childLanes=Kf(t,p,r),n.memoizedState=Ff,lo(null,l)):(qs(n),Yf(n,b))}var R=t.memoizedState;if(R!==null&&(b=R.dehydrated,b!==null)){if(f)n.flags&256?(qs(n),n.flags&=-257,n=Qf(t,n,r)):n.memoizedState!==null?(Hs(),n.child=t.child,n.flags|=128,n=null):(Hs(),b=l.fallback,h=n.mode,l=lc({mode:"visible",children:l.children},h),b=Fr(b,h,r,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,Wr(n,t.child,null,r),l=n.child,l.memoizedState=Gf(r),l.childLanes=Kf(t,p,r),n.memoizedState=Ff,n=lo(null,l));else if(qs(n),Id(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,Xl({value:l,source:null,stack:null}),n=Qf(t,n,r)}else if(Vt||Oa(t,n,r,!1),p=(r&t.childLanes)!==0,Vt||p){if(p=ct,p!==null&&(l=Il(p,r),l!==0&&l!==R.retryLane))throw R.retryLane=l,Hr(t,l),vn(p,t,l),qf;Rd(b)||gc(),n=Qf(t,n,r)}else Rd(b)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ht=Kn(b.nextSibling),Xt=n,Fe=!0,js=null,Fn=!1,t!==null&&Zp(n,t),n=Yf(n,l.children),n.flags|=4096);return n}return h?(Hs(),b=l.fallback,h=n.mode,R=t.child,z=R.sibling,l=Wi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?b=Wi(z,b):(b=Fr(b,h,r,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,lo(null,l),l=n.child,b=t.child.memoizedState,b===null?b=Gf(r):(h=b.cachePool,h!==null?(R=Mt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=rg(),b={baseLanes:b.baseLanes|r,cachePool:h}),l.memoizedState=b,l.childLanes=Kf(t,p,r),n.memoizedState=Ff,lo(t.child,l)):(qs(n),r=t.child,t=r.sibling,r=Wi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Yf(t,n){return n=lc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lc(t,n){return t=xn(22,t,null,n),t.lanes=0,t}function Qf(t,n,r){return Wr(n,t.child,null,r),t=Yf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function _y(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),uf(t.return,n,r)}function Xf(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function vy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=xt.current,b=(p&2)!==0;if(b?(p=p&1|2,n.flags|=128):p&=1,ie(xt,p),Wt(t,n,l,r),l=Fe?Ql:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_y(t,r,n);else if(t.tag===19)_y(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Xu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Xf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Xu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Xf(n,!0,r,null,f,l);break;case"together":Xf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function is(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ks|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Oa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Wi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Wi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function $f(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function qT(t,n,r){switch(n.tag){case 3:St(n,n.stateNode.containerInfo),Us(n,Mt,t.memoizedState.cache),Gr();break;case 27:case 5:Hi(n);break;case 4:St(n,n.stateNode.containerInfo);break;case 10:Us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Tf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(qs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?yy(t,n,r):(qs(n),t=is(t,n,r),t!==null?t.sibling:null);qs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Oa(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return vy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(xt,xt.current),l)break;return null;case 22:return n.lanes=0,hy(t,n,r,n.pendingProps);case 24:Us(n,Mt,t.memoizedState.cache)}return is(t,n,r)}function Ey(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Vt=!0;else{if(!$f(t,r)&&(n.flags&128)===0)return Vt=!1,qT(t,n,r);Vt=(t.flags&131072)!==0}else Vt=!1,Fe&&(n.flags&1048576)!==0&&Jp(n,Ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Xr(n.elementType),n.type=t,typeof t=="function")ef(t)?(l=Zr(t,l),n.tag=1,n=py(null,n,t,l,r)):(n.tag=0,n=Hf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Je){n.tag=11,n=oy(null,n,t,l,r);break e}else if(h===I){n.tag=14,n=uy(null,n,t,l,r);break e}}throw n=st(t)||t,Error(a(306,n,""))}}return n;case 0:return Hf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Zr(l,n.pendingProps),py(t,n,l,h,r);case 3:e:{if(St(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,gf(t,n),no(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Us(n,Mt,l),l!==f.cache&&cf(n,[Mt],r,!0),to(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=gy(t,n,l,r);break e}else if(l!==h){h=Bn(Error(a(424)),n),Xl(h),n=gy(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ht=Kn(t.firstChild),Xt=n,Fe=!0,js=null,Fn=!0,r=hg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gr(),l===h){n=is(t,n,r);break e}Wt(t,n,l,r)}n=n.child}return n;case 26:return ac(t,n),t===null?(r=D0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Fe||(r=n.type,t=n.pendingProps,l=Sc(Ie.current).createElement(r),l[Nt]=n,l[Ht]=t,Jt(l,r,t),Dt(l),n.stateNode=l):n.memoizedState=D0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Hi(n),t===null&&Fe&&(l=n.stateNode=I0(n.type,n.pendingProps,Ie.current),Xt=n,Fn=!0,h=ht,Ws(n.type)?(Cd=h,ht=Kn(l.firstChild)):ht=h),Wt(t,n,n.pendingProps.children,r),ac(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Fe&&((h=l=ht)&&(l=_b(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,Xt=n,ht=Kn(l.firstChild),Fn=!1,h=!0):h=!1),h||Ls(n)),Hi(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Ad(h,f)?l=null:p!==null&&Ad(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Sf(t,n,MT,null,null,r),So._currentValue=h),ac(t,n),Wt(t,n,l,r),n.child;case 6:return t===null&&Fe&&((t=r=ht)&&(r=vb(r,n.pendingProps,Fn),r!==null?(n.stateNode=r,Xt=n,ht=null,t=!0):t=!1),t||Ls(n)),null;case 13:return yy(t,n,r);case 4:return St(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Wr(n,null,l,r):Wt(t,n,l,r),n.child;case 11:return oy(t,n,n.type,n.pendingProps,r);case 7:return Wt(t,n,n.pendingProps,r),n.child;case 8:return Wt(t,n,n.pendingProps.children,r),n.child;case 12:return Wt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Us(n,n.type,l.value),Wt(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Yr(n),h=$t(h),l=l(h),n.flags|=1,Wt(t,n,l,r),n.child;case 14:return uy(t,n,n.type,n.pendingProps,r);case 15:return cy(t,n,n.type,n.pendingProps,r);case 19:return vy(t,n,r);case 31:return BT(t,n,r);case 22:return hy(t,n,r,n.pendingProps);case 24:return Yr(n),l=$t(Mt),t===null?(h=df(),h===null&&(h=ct,f=hf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},pf(n),Us(n,Mt,h)):((t.lanes&r)!==0&&(gf(t,n),no(n,null,null,r),to()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Us(n,Mt,l)):(l=f.cache,Us(n,Mt,l),l!==h.cache&&cf(n,[Mt],r,!0))),Wt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ss(t){t.flags|=4}function Wf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Yy())t.flags|=8192;else throw $r=Gu,mf}else t.flags&=-16777217}function Ty(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!j0(n))if(Yy())t.flags|=8192;else throw $r=Gu,mf}function oc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mu():536870912,t.lanes|=n,Fa|=n)}function oo(t,n){if(!Fe)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ft(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function HT(t,n,r){var l=n.pendingProps;switch(rf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(n),null;case 1:return ft(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),es(Mt),ut(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Da(n)?ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lf())),ft(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ss(n),f!==null?(ft(n),Ty(n,f)):(ft(n),Wf(n,h,null,l,r))):f?f!==t.memoizedState?(ss(n),ft(n),Ty(n,f)):(ft(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ss(n),ft(n),Wf(n,h,t,l,r)),null;case 27:if(Fi(n),r=Ie.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ss(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ft(n),null}t=ae.current,Da(n)?eg(n):(t=I0(h,l,r),n.stateNode=t,ss(n))}return ft(n),null;case 5:if(Fi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ss(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ft(n),null}if(f=ae.current,Da(n))eg(n);else{var p=Sc(Ie.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Nt]=n,f[Ht]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Jt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ss(n)}}return ft(n),Wf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ss(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ie.current,Da(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Nt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||y0(t.nodeValue,r)),t||Ls(n,!0)}else t=Sc(t).createTextNode(l),t[Nt]=n,n.stateNode=t}return ft(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Da(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Nt]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),t=!1}else r=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ft(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Da(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Nt]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),h=!1}else h=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),oc(n,n.updateQueue),ft(n),null);case 4:return ut(),t===null&&vd(n.stateNode.containerInfo),ft(n),null;case 10:return es(n.type),ft(n),null;case 19:if(G(xt),l=n.memoizedState,l===null)return ft(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)oo(l,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Xu(t),f!==null){for(n.flags|=128,oo(l,!1),t=f.updateQueue,n.updateQueue=t,oc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Xp(r,t),r=r.sibling;return ie(xt,xt.current&1|2),Fe&&Ji(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&$()>dc&&(n.flags|=128,h=!0,oo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Xu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,oc(n,t),oo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Fe)return ft(n),null}else 2*$()-l.renderingStartTime>dc&&r!==536870912&&(n.flags|=128,h=!0,oo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=$(),t.sibling=null,r=xt.current,ie(xt,h?r&1|2:r&1),Fe&&Ji(n,l.treeForkCount),t):(ft(n),null);case 22:case 23:return In(n),Ef(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ft(n),n.subtreeFlags&6&&(n.flags|=8192)):ft(n),r=n.updateQueue,r!==null&&oc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&G(Qr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),es(Mt),ft(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function FT(t,n){switch(rf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return es(Mt),ut(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Fi(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(a(340));Gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(In(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return G(xt),null;case 4:return ut(),null;case 10:return es(n.type),null;case 22:case 23:return In(n),Ef(),t!==null&&G(Qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return es(Mt),null;case 25:return null;default:return null}}function by(t,n){switch(rf(n),n.tag){case 3:es(Mt),ut();break;case 26:case 27:case 5:Fi(n);break;case 4:ut();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:G(xt);break;case 10:es(n.type);break;case 22:case 23:In(n),Ef(),t!==null&&G(Qr);break;case 24:es(Mt)}}function uo(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(b){it(n,n.return,b)}}function Fs(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,h=n;var R=r,z=b;try{z()}catch(K){it(h,R,K)}}}l=l.next}while(l!==f)}}catch(K){it(n,n.return,K)}}function Sy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{dg(n,r)}catch(l){it(t,t.return,l)}}}function Ay(t,n,r){r.props=Zr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){it(t,n,l)}}function co(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){it(t,n,h)}}function Mi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){it(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){it(t,n,h)}else r.current=null}function wy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){it(t,t.return,h)}}function Jf(t,n,r){try{var l=t.stateNode;fb(l,t.type,r,n),l[Ht]=n}catch(h){it(t,t.return,h)}}function xy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ws(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ws(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ed(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ti));else if(l!==4&&(l===27&&Ws(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(ed(t,n,r),t=t.sibling;t!==null;)ed(t,n,r),t=t.sibling}function uc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Ws(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(uc(t,n,r),t=t.sibling;t!==null;)uc(t,n,r),t=t.sibling}function Ry(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Jt(n,l,r),n[Nt]=t,n[Ht]=r}catch(f){it(t,t.return,f)}}var rs=!1,jt=!1,td=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function GT(t,n){if(t=t.containerInfo,bd=Nc,t=Pp(t),Yh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,b=-1,R=-1,z=0,K=0,Q=t,P=null;t:for(;;){for(var H;Q!==r||h!==0&&Q.nodeType!==3||(b=p+h),Q!==f||l!==0&&Q.nodeType!==3||(R=p+l),Q.nodeType===3&&(p+=Q.nodeValue.length),(H=Q.firstChild)!==null;)P=Q,Q=H;for(;;){if(Q===t)break t;if(P===r&&++z===h&&(b=p),P===f&&++K===l&&(R=p),(H=Q.nextSibling)!==null)break;Q=P,P=Q.parentNode}Q=H}r=b===-1||R===-1?null:{start:b,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sd={focusedElem:t,selectionRange:r},Nc=!1,Gt=n;Gt!==null;)if(n=Gt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Gt=t;else for(;Gt!==null;){switch(n=Gt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ue=Zr(r.type,h);t=l.getSnapshotBeforeUpdate(ue,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){it(r,r.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)xd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Gt=t;break}Gt=n.return}}function Cy(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ls(t,r),l&4&&uo(5,r);break;case 1:if(ls(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){it(r,r.return,p)}else{var h=Zr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){it(r,r.return,p)}}l&64&&Sy(r),l&512&&co(r,r.return);break;case 3:if(ls(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{dg(t,n)}catch(p){it(r,r.return,p)}}break;case 27:n===null&&l&4&&Ry(r);case 26:case 5:ls(t,r),n===null&&l&4&&wy(r),l&512&&co(r,r.return);break;case 12:ls(t,r);break;case 31:ls(t,r),l&4&&Oy(t,r);break;case 13:ls(t,r),l&4&&My(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=eb.bind(null,r),Eb(t,r))));break;case 22:if(l=r.memoizedState!==null||rs,!l){n=n!==null&&n.memoizedState!==null||jt,h=rs;var f=jt;rs=l,(jt=n)&&!f?os(t,r,(r.subtreeFlags&8772)!==0):ls(t,r),rs=h,jt=f}break;case 30:break;default:ls(t,r)}}function Ny(t){var n=t.alternate;n!==null&&(t.alternate=null,Ny(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ma(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,pn=!1;function as(t,n,r){for(r=r.child;r!==null;)Dy(t,n,r),r=r.sibling}function Dy(t,n,r){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Wn,r)}catch{}switch(r.tag){case 26:jt||Mi(r,n),as(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:jt||Mi(r,n);var l=yt,h=pn;Ws(r.type)&&(yt=r.stateNode,pn=!1),as(t,n,r),Eo(r.stateNode),yt=l,pn=h;break;case 5:jt||Mi(r,n);case 6:if(l=yt,h=pn,yt=null,as(t,n,r),yt=l,pn=h,yt!==null)if(pn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(r.stateNode)}catch(f){it(r,n,f)}else try{yt.removeChild(r.stateNode)}catch(f){it(r,n,f)}break;case 18:yt!==null&&(pn?(t=yt,S0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ja(t)):S0(yt,r.stateNode));break;case 4:l=yt,h=pn,yt=r.stateNode.containerInfo,pn=!0,as(t,n,r),yt=l,pn=h;break;case 0:case 11:case 14:case 15:Fs(2,r,n),jt||Fs(4,r,n),as(t,n,r);break;case 1:jt||(Mi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Ay(r,n,l)),as(t,n,r);break;case 21:as(t,n,r);break;case 22:jt=(l=jt)||r.memoizedState!==null,as(t,n,r),jt=l;break;default:as(t,n,r)}}function Oy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ja(t)}catch(r){it(n,n.return,r)}}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ja(t)}catch(r){it(n,n.return,r)}}function KT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Iy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Iy),n;default:throw Error(a(435,t.tag))}}function cc(t,n){var r=KT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=tb.bind(null,t,l);l.then(h,h)}})}function gn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(Ws(b.type)){yt=b.stateNode,pn=!1;break e}break;case 5:yt=b.stateNode,pn=!1;break e;case 3:case 4:yt=b.stateNode.containerInfo,pn=!0;break e}b=b.return}if(yt===null)throw Error(a(160));Dy(f,p,h),yt=null,pn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ky(n,t),n=n.sibling}var li=null;function ky(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(n,t),yn(t),l&4&&(Fs(3,t,t.return),uo(3,t),Fs(5,t,t.return));break;case 1:gn(n,t),yn(t),l&512&&(jt||r===null||Mi(r,r.return)),l&64&&rs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=li;if(gn(n,t),yn(t),l&512&&(jt||r===null||Mi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[vi]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Jt(f,l,r),f[Nt]=t,Dt(f),l=f;break e;case"link":var p=k0("link","href",h).get(l+(r.href||""));if(p){for(var b=0;b<p.length;b++)if(f=p[b],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(b,1);break t}}f=h.createElement(l),Jt(f,l,r),h.head.appendChild(f);break;case"meta":if(p=k0("meta","content",h).get(l+(r.content||""))){for(b=0;b<p.length;b++)if(f=p[b],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(b,1);break t}}f=h.createElement(l),Jt(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Nt]=t,Dt(f),l=f}t.stateNode=l}else V0(h,t.type,t.stateNode);else t.stateNode=M0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?V0(h,t.type,t.stateNode):M0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,r.memoizedProps)}break;case 27:gn(n,t),yn(t),l&512&&(jt||r===null||Mi(r,r.return)),r!==null&&l&4&&Jf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(gn(n,t),yn(t),l&512&&(jt||r===null||Mi(r,r.return)),t.flags&32){h=t.stateNode;try{mn(h,"")}catch(ue){it(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Jf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(td=!0);break;case 6:if(gn(n,t),yn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ue){it(t,t.return,ue)}}break;case 3:if(xc=null,h=li,li=Ac(n.containerInfo),gn(n,t),li=h,yn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ja(n.containerInfo)}catch(ue){it(t,t.return,ue)}td&&(td=!1,Vy(t));break;case 4:l=li,li=Ac(t.stateNode.containerInfo),gn(n,t),yn(t),li=l;break;case 12:gn(n,t),yn(t);break;case 31:gn(n,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cc(t,l)));break;case 13:gn(n,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(fc=$()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cc(t,l)));break;case 22:h=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=rs,K=jt;if(rs=z||h,jt=K||R,gn(n,t),jt=K,rs=z,yn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||rs||jt||ea(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=R.stateNode;var Q=R.memoizedProps.style,P=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;b.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ue){it(R,R.return,ue)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ue){it(R,R.return,ue)}}}else if(n.tag===18){if(r===null){R=n;try{var H=R.stateNode;h?A0(H,!0):A0(R.stateNode,!1)}catch(ue){it(R,R.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,cc(t,r))));break;case 19:gn(n,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cc(t,l)));break;case 30:break;case 21:break;default:gn(n,t),yn(t)}}function yn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(xy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Zf(t);uc(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(mn(p,""),r.flags&=-33);var b=Zf(t);uc(t,b,p);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Zf(t);ed(t,z,R);break;default:throw Error(a(161))}}catch(K){it(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Vy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ls(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cy(t,n.alternate,n),n=n.sibling}function ea(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fs(4,n,n.return),ea(n);break;case 1:Mi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ay(n,n.return,r),ea(n);break;case 27:Eo(n.stateNode);case 26:case 5:Mi(n,n.return),ea(n);break;case 22:n.memoizedState===null&&ea(n);break;case 30:ea(n);break;default:ea(n)}t=t.sibling}}function os(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:os(h,f,r),uo(4,f);break;case 1:if(os(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){it(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)fg(R[h],b)}catch(z){it(l,l.return,z)}}r&&p&64&&Sy(f),co(f,f.return);break;case 27:Ry(f);case 26:case 5:os(h,f,r),r&&l===null&&p&4&&wy(f),co(f,f.return);break;case 12:os(h,f,r);break;case 31:os(h,f,r),r&&p&4&&Oy(h,f);break;case 13:os(h,f,r),r&&p&4&&My(h,f);break;case 22:f.memoizedState===null&&os(h,f,r),co(f,f.return);break;case 30:break;default:os(h,f,r)}n=n.sibling}}function nd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&$l(r))}function id(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$l(t))}function oi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jy(t,n,r,l),n=n.sibling}function jy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(t,n,r,l),h&2048&&uo(9,n);break;case 1:oi(t,n,r,l);break;case 3:oi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$l(t)));break;case 12:if(h&2048){oi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,b=f.onPostCommit;typeof b=="function"&&b(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){it(n,n.return,R)}}else oi(t,n,r,l);break;case 31:oi(t,n,r,l);break;case 13:oi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?oi(t,n,r,l):ho(t,n):f._visibility&2?oi(t,n,r,l):(f._visibility|=2,Ba(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&nd(p,n);break;case 24:oi(t,n,r,l),h&2048&&id(n.alternate,n);break;default:oi(t,n,r,l)}}function Ba(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,b=r,R=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ba(f,p,b,R,h),uo(8,p);break;case 23:break;case 22:var K=p.stateNode;p.memoizedState!==null?K._visibility&2?Ba(f,p,b,R,h):ho(f,p):(K._visibility|=2,Ba(f,p,b,R,h)),h&&z&2048&&nd(p.alternate,p);break;case 24:Ba(f,p,b,R,h),h&&z&2048&&id(p.alternate,p);break;default:Ba(f,p,b,R,h)}n=n.sibling}}function ho(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:ho(r,l),h&2048&&nd(l.alternate,l);break;case 24:ho(r,l),h&2048&&id(l.alternate,l);break;default:ho(r,l)}n=n.sibling}}var fo=8192;function qa(t,n,r){if(t.subtreeFlags&fo)for(t=t.child;t!==null;)Ly(t,n,r),t=t.sibling}function Ly(t,n,r){switch(t.tag){case 26:qa(t,n,r),t.flags&fo&&t.memoizedState!==null&&Ob(r,li,t.memoizedState,t.memoizedProps);break;case 5:qa(t,n,r);break;case 3:case 4:var l=li;li=Ac(t.stateNode.containerInfo),qa(t,n,r),li=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=fo,fo=16777216,qa(t,n,r),fo=l):qa(t,n,r));break;default:qa(t,n,r)}}function Uy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function mo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Gt=l,Py(l,t)}Uy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zy(t),t=t.sibling}function zy(t){switch(t.tag){case 0:case 11:case 15:mo(t),t.flags&2048&&Fs(9,t,t.return);break;case 3:mo(t);break;case 12:mo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,hc(t)):mo(t);break;default:mo(t)}}function hc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Gt=l,Py(l,t)}Uy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fs(8,n,n.return),hc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,hc(n));break;default:hc(n)}t=t.sibling}}function Py(t,n){for(;Gt!==null;){var r=Gt;switch(r.tag){case 0:case 11:case 15:Fs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$l(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Gt=l;else e:for(r=t;Gt!==null;){l=Gt;var h=l.sibling,f=l.return;if(Ny(l),l===r){Gt=null;break e}if(h!==null){h.return=f,Gt=h;break e}Gt=f}}}var YT={getCacheForType:function(t){var n=$t(Mt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return $t(Mt).controller.signal}},QT=typeof WeakMap=="function"?WeakMap:Map,We=0,ct=null,ke=null,Ue=0,nt=0,Cn=null,Gs=!1,Ha=!1,sd=!1,us=0,bt=0,Ks=0,ta=0,rd=0,Nn=0,Fa=0,po=null,_n=null,ad=!1,fc=0,By=0,dc=1/0,mc=null,Ys=null,Pt=0,Qs=null,Ga=null,cs=0,ld=0,od=null,qy=null,go=0,ud=null;function Dn(){return(We&2)!==0&&Ue!==0?Ue&-Ue:F.T!==null?pd():pu()}function Hy(){if(Nn===0)if((Ue&536870912)===0||Fe){var t=Ir;Ir<<=1,(Ir&3932160)===0&&(Ir=262144),Nn=t}else Nn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),Nn}function vn(t,n,r){(t===ct&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Xs(t,Ue,Nn,!1)),Cr(t,r),((We&2)===0||t!==ct)&&(t===ct&&((We&2)===0&&(ta|=r),bt===4&&Xs(t,Ue,Nn,!1)),ki(t))}function Fy(t,n,r){if((We&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Jn(t,n),h=l?WT(t,n):hd(t,n,!0),f=l;do{if(h===0){Ha&&!l&&Xs(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!XT(r)){h=hd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var b=t;h=po;var R=b.current.memoizedState.isDehydrated;if(R&&(Ka(b,p).flags|=256),p=hd(b,p,!1),p!==2){if(sd&&!R){b.errorRecoveryDisabledLanes|=f,ta|=f,h=4;break e}f=_n,_n=h,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ka(t,0),Xs(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Xs(l,n,Nn,!Gs);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=fc+300-$(),10<h)){if(Xs(l,n,Nn,!Gs),gi(l,0,!0)!==0)break e;cs=n,l.timeoutHandle=T0(Gy.bind(null,l,r,_n,mc,ad,n,Nn,ta,Fa,Gs,f,"Throttled",-0,0),h);break e}Gy(l,r,_n,mc,ad,n,Nn,ta,Fa,Gs,f,null,-0,0)}}break}while(!0);ki(t)}function Gy(t,n,r,l,h,f,p,b,R,z,K,Q,P,H){if(t.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Ly(n,f,Q);var ue=(f&62914560)===f?fc-$():(f&4194048)===f?By-$():0;if(ue=Mb(Q,ue),ue!==null){cs=f,t.cancelPendingCommit=ue(Zy.bind(null,t,n,f,r,l,h,p,b,R,K,Q,null,P,H)),Xs(t,f,p,!z);return}}Zy(t,n,f,r,l,h,p,b,R)}function XT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xs(t,n,r,l){n&=~rd,n&=~ta,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-At(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&Nr(t,r,n)}function pc(){return(We&6)===0?(yo(0),!1):!0}function cd(){if(ke!==null){if(nt===0)var t=ke.return;else t=ke,Zi=Kr=null,xf(t),ja=null,Jl=0,t=ke;for(;t!==null;)by(t.alternate,t),t=t.return;ke=null}}function Ka(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,pb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),cs=0,cd(),ct=t,ke=r=Wi(t.current,null),Ue=n,nt=0,Cn=null,Gs=!1,Ha=Jn(t,n),sd=!1,Fa=Nn=rd=ta=Ks=bt=0,_n=po=null,ad=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-At(l),f=1<<h;n|=t[h],l&=~f}return us=n,ju(),r}function Ky(t,n){Oe=null,F.H=ao,n===Va||n===Fu?(n=og(),nt=3):n===mf?(n=og(),nt=4):nt=n===qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,ke===null&&(bt=1,sc(t,Bn(n,t.current)))}function Yy(){var t=Rn.current;return t===null?!0:(Ue&4194048)===Ue?Gn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Gn:!1}function Qy(){var t=F.H;return F.H=ao,t===null?ao:t}function Xy(){var t=F.A;return F.A=YT,t}function gc(){bt=4,Gs||(Ue&4194048)!==Ue&&Rn.current!==null||(Ha=!0),(Ks&134217727)===0&&(ta&134217727)===0||ct===null||Xs(ct,Ue,Nn,!1)}function hd(t,n,r){var l=We;We|=2;var h=Qy(),f=Xy();(ct!==t||Ue!==n)&&(mc=null,Ka(t,n)),n=!1;var p=bt;e:do try{if(nt!==0&&ke!==null){var b=ke,R=Cn;switch(nt){case 8:cd(),p=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var z=nt;if(nt=0,Cn=null,Ya(t,b,R,z),r&&Ha){p=0;break e}break;default:z=nt,nt=0,Cn=null,Ya(t,b,R,z)}}$T(),p=bt;break}catch(K){Ky(t,K)}while(!0);return n&&t.shellSuspendCounter++,Zi=Kr=null,We=l,F.H=h,F.A=f,ke===null&&(ct=null,Ue=0,ju()),p}function $T(){for(;ke!==null;)$y(ke)}function WT(t,n){var r=We;We|=2;var l=Qy(),h=Xy();ct!==t||Ue!==n?(mc=null,dc=$()+500,Ka(t,n)):Ha=Jn(t,n);e:do try{if(nt!==0&&ke!==null){n=ke;var f=Cn;t:switch(nt){case 1:nt=0,Cn=null,Ya(t,n,f,1);break;case 2:case 9:if(ag(f)){nt=0,Cn=null,Wy(n);break}n=function(){nt!==2&&nt!==9||ct!==t||(nt=7),ki(t)},f.then(n,n);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:ag(f)?(nt=0,Cn=null,Wy(n)):(nt=0,Cn=null,Ya(t,n,f,7));break;case 5:var p=null;switch(ke.tag){case 26:p=ke.memoizedState;case 5:case 27:var b=ke;if(p?j0(p):b.stateNode.complete){nt=0,Cn=null;var R=b.sibling;if(R!==null)ke=R;else{var z=b.return;z!==null?(ke=z,yc(z)):ke=null}break t}}nt=0,Cn=null,Ya(t,n,f,5);break;case 6:nt=0,Cn=null,Ya(t,n,f,6);break;case 8:cd(),bt=6;break e;default:throw Error(a(462))}}JT();break}catch(K){Ky(t,K)}while(!0);return Zi=Kr=null,F.H=l,F.A=h,We=r,ke!==null?0:(ct=null,Ue=0,ju(),bt)}function JT(){for(;ke!==null&&!ce();)$y(ke)}function $y(t){var n=Ey(t.alternate,t,us);t.memoizedProps=t.pendingProps,n===null?yc(t):ke=n}function Wy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=my(r,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=my(r,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:xf(n);default:by(r,n),n=ke=Xp(n,us),n=Ey(r,n,us)}t.memoizedProps=t.pendingProps,n===null?yc(t):ke=n}function Ya(t,n,r,l){Zi=Kr=null,xf(n),ja=null,Jl=0;var h=n.return;try{if(PT(t,h,n,r,Ue)){bt=1,sc(t,Bn(r,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;bt=1,sc(t,Bn(r,t.current)),ke=null;return}n.flags&32768?(Fe||l===1?t=!0:Ha||(Ue&536870912)!==0?t=!1:(Gs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jy(n,t)):yc(n)}function yc(t){var n=t;do{if((n.flags&32768)!==0){Jy(n,Gs);return}t=n.return;var r=HT(n.alternate,n,us);if(r!==null){ke=r;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);bt===0&&(bt=5)}function Jy(t,n){do{var r=FT(t.alternate,t);if(r!==null){r.flags&=32767,ke=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=r}while(t!==null);bt=6,ke=null}function Zy(t,n,r,l,h,f,p,b,R){t.cancelPendingCommit=null;do _c();while(Pt!==0);if((We&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Jh,Hh(t,r,f,p,b,R),t===ct&&(ke=ct=null,Ue=0),Ga=n,Qs=t,cs=r,ld=f,od=h,qy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nb(Ze,function(){return s0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=te.p,te.p=2,p=We,We|=4;try{GT(t,n,r)}finally{We=p,te.p=h,F.T=l}}Pt=1,e0(),t0(),n0()}}function e0(){if(Pt===1){Pt=0;var t=Qs,n=Ga,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=te.p;te.p=2;var h=We;We|=4;try{ky(n,t);var f=Sd,p=Pp(t.containerInfo),b=f.focusedElem,R=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&zp(b.ownerDocument.documentElement,b)){if(R!==null&&Yh(b)){var z=R.start,K=R.end;if(K===void 0&&(K=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min(K,b.value.length);else{var Q=b.ownerDocument||document,P=Q&&Q.defaultView||window;if(P.getSelection){var H=P.getSelection(),ue=b.textContent.length,_e=Math.min(R.start,ue),ot=R.end===void 0?_e:Math.min(R.end,ue);!H.extend&&_e>ot&&(p=ot,ot=_e,_e=p);var V=Up(b,_e),M=Up(b,ot);if(V&&M&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var U=Q.createRange();U.setStart(V.node,V.offset),H.removeAllRanges(),_e>ot?(H.addRange(U),H.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),H.addRange(U))}}}}for(Q=[],H=b;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Q.length;b++){var Y=Q[b];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Nc=!!bd,Sd=bd=null}finally{We=h,te.p=l,F.T=r}}t.current=n,Pt=2}}function t0(){if(Pt===2){Pt=0;var t=Qs,n=Ga,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=te.p;te.p=2;var h=We;We|=4;try{Cy(t,n.alternate,n)}finally{We=h,te.p=l,F.T=r}}Pt=3}}function n0(){if(Pt===4||Pt===3){Pt=0,Ce();var t=Qs,n=Ga,r=cs,l=qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pt=5:(Pt=0,Ga=Qs=null,i0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ys=null),Yi(r),n=n.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Wn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=te.p,te.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var b=l[p];f(b.value,{componentStack:b.stack})}}finally{F.T=n,te.p=h}}(cs&3)!==0&&_c(),ki(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===ud?go++:(go=0,ud=t):go=0,yo(0)}}function i0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$l(n)))}function _c(){return e0(),t0(),n0(),s0()}function s0(){if(Pt!==5)return!1;var t=Qs,n=ld;ld=0;var r=Yi(cs),l=F.T,h=te.p;try{te.p=32>r?32:r,F.T=null,r=od,od=null;var f=Qs,p=cs;if(Pt=0,Ga=Qs=null,cs=0,(We&6)!==0)throw Error(a(331));var b=We;if(We|=4,zy(f.current),jy(f,f.current,p,r),We=b,yo(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Wn,f)}catch{}return!0}finally{te.p=h,F.T=l,i0(t,n)}}function r0(t,n,r){n=Bn(r,n),n=Bf(t.stateNode,n,2),t=Bs(t,n,2),t!==null&&(Cr(t,2),ki(t))}function it(t,n,r){if(t.tag===3)r0(t,t,r);else for(;n!==null;){if(n.tag===3){r0(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ys===null||!Ys.has(l))){t=Bn(r,t),r=ay(2),l=Bs(n,r,2),l!==null&&(ly(r,l,n,t),Cr(l,2),ki(l));break}}n=n.return}}function fd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new QT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(sd=!0,h.add(r),t=ZT.bind(null,t,n,r),n.then(t,t))}function ZT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ct===t&&(Ue&r)===r&&(bt===4||bt===3&&(Ue&62914560)===Ue&&300>$()-fc?(We&2)===0&&Ka(t,0):rd|=r,Fa===Ue&&(Fa=0)),ki(t)}function a0(t,n){n===0&&(n=mu()),t=Hr(t,n),t!==null&&(Cr(t,n),ki(t))}function eb(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),a0(t,r)}function tb(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),a0(t,r)}function nb(t,n){return J(t,n)}var vc=null,Qa=null,dd=!1,Ec=!1,md=!1,$s=0;function ki(t){t!==Qa&&t.next===null&&(Qa===null?vc=Qa=t:Qa=Qa.next=t),Ec=!0,dd||(dd=!0,sb())}function yo(t,n){if(!md&&Ec){md=!0;do for(var r=!1,l=vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-At(42|t)+1)-1,f&=h&~(p&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,c0(l,f))}else f=Ue,f=gi(l,l===ct?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Jn(l,f)||(r=!0,c0(l,f));l=l.next}while(r);md=!1}}function ib(){l0()}function l0(){Ec=dd=!1;var t=0;$s!==0&&mb()&&(t=$s);for(var n=$(),r=null,l=vc;l!==null;){var h=l.next,f=o0(l,n);f===0?(l.next=null,r===null?vc=h:r.next=h,h===null&&(Qa=r)):(r=l,(t!==0||(f&3)!==0)&&(Ec=!0)),l=h}Pt!==0&&Pt!==5||yo(t),$s!==0&&($s=0)}function o0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-At(f),b=1<<p,R=h[p];R===-1?((b&r)===0||(b&l)!==0)&&(h[p]=qh(b,n)):R<=n&&(t.expiredLanes|=b),f&=~b}if(n=ct,r=Ue,r=gi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&oe(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Jn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&oe(l),Yi(r)){case 2:case 8:r=_t;break;case 32:r=Ze;break;case 268435456:r=Ki;break;default:r=Ze}return l=u0.bind(null,t),r=J(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&oe(l),t.callbackPriority=2,t.callbackNode=null,2}function u0(t,n){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(_c()&&t.callbackNode!==r)return null;var l=Ue;return l=gi(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Fy(t,l,n),o0(t,$()),t.callbackNode!=null&&t.callbackNode===r?u0.bind(null,t):null)}function c0(t,n){if(_c())return null;Fy(t,n,!0)}function sb(){gb(function(){(We&6)!==0?J(Ne,ib):l0()})}function pd(){if($s===0){var t=Ma;t===0&&(t=mi,mi<<=1,(mi&261888)===0&&(mi=256)),$s=t}return $s}function h0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function f0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function rb(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=h0((h[Ht]||null).action),p=l.submitter;p&&(n=(n=p[Ht]||null)?h0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var b=new Ri("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var R=p?f0(h,p):new FormData(h);Vf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(b.preventDefault(),R=p?f0(h,p):new FormData(h),Vf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var gd=0;gd<Wh.length;gd++){var yd=Wh[gd],ab=yd.toLowerCase(),lb=yd[0].toUpperCase()+yd.slice(1);ai(ab,"on"+lb)}ai(Hp,"onAnimationEnd"),ai(Fp,"onAnimationIteration"),ai(Gp,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(ST,"onTransitionRun"),ai(AT,"onTransitionStart"),ai(wT,"onTransitionCancel"),ai(Kp,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_o));function d0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var b=l[p],R=b.instance,z=b.currentTarget;if(b=b.listener,R!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch(K){Vu(K)}h.currentTarget=null,f=R}else for(p=0;p<l.length;p++){if(b=l[p],R=b.instance,z=b.currentTarget,b=b.listener,R!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch(K){Vu(K)}h.currentTarget=null,f=R}}}}function Ve(t,n){var r=n[da];r===void 0&&(r=n[da]=new Set);var l=t+"__bubble";r.has(l)||(m0(n,t,2,!1),r.add(l))}function _d(t,n,r){var l=0;n&&(l|=4),m0(r,t,l,n)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function vd(t){if(!t[Tc]){t[Tc]=!0,Cl.forEach(function(r){r!=="selectionchange"&&(ob.has(r)||_d(r,!1,t),_d(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Tc]||(n[Tc]=!0,_d("selectionchange",!1,n))}}function m0(t,n,r,l){switch(H0(n)){case 2:var h=jb;break;case 8:h=Lb;break;default:h=kd}r=h.bind(null,n,r,t),h=void 0,!Vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Ed(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var b=l.stateNode.containerInfo;if(b===h)break;if(p===4)for(p=l.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;b!==null;){if(p=Ei(b),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){l=f=p;continue e}b=b.parentNode}}l=l.return}Ds(function(){var z=f,K=Ln(r),Q=[];e:{var P=Yp.get(t);if(P!==void 0){var H=Ri,ue=t;switch(t){case"keypress":if(Lr(r)===0)break e;case"keydown":case"keyup":H=Ou;break;case"focusin":ue="focus",H=zr;break;case"focusout":ue="blur",H=zr;break;case"beforeblur":case"afterblur":H=zr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Hp:case Fp:case Gp:H=wu;break;case Kp:H=S;break;case"scroll":case"scrollend":H=Bl;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=$i;break;case"toggle":case"beforetoggle":H=De}var _e=(n&4)!==0,ot=!_e&&(t==="scroll"||t==="scrollend"),V=_e?P!==null?P+"Capture":null:P;_e=[];for(var M=z,U;M!==null;){var Y=M;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||V===null||(Y=ni(M,V),Y!=null&&_e.push(vo(M,Y,U))),ot)break;M=M.return}0<_e.length&&(P=new H(P,ue,null,r,K),Q.push({event:P,listeners:_e}))}}if((n&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",P&&r!==Ul&&(ue=r.relatedTarget||r.fromElement)&&(Ei(ue)||ue[_i]))break e;if((H||P)&&(P=K.window===K?K:(P=K.ownerDocument)?P.defaultView||P.parentWindow:window,H?(ue=r.relatedTarget||r.toElement,H=z,ue=ue?Ei(ue):null,ue!==null&&(ot=c(ue),_e=ue.tag,ue!==ot||_e!==5&&_e!==27&&_e!==6)&&(ue=null)):(H=null,ue=z),H!==ue)){if(_e=ql,Y="onMouseLeave",V="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=$i,Y="onPointerLeave",V="onPointerEnter",M="pointer"),ot=H==null?P:Sn(H),U=ue==null?P:Sn(ue),P=new _e(Y,M+"leave",H,r,K),P.target=ot,P.relatedTarget=U,Y=null,Ei(K)===z&&(_e=new _e(V,M+"enter",ue,r,K),_e.target=U,_e.relatedTarget=ot,Y=_e),ot=Y,H&&ue)t:{for(_e=ub,V=H,M=ue,U=0,Y=V;Y;Y=_e(Y))U++;Y=0;for(var me=M;me;me=_e(me))Y++;for(;0<U-Y;)V=_e(V),U--;for(;0<Y-U;)M=_e(M),Y--;for(;U--;){if(V===M||M!==null&&V===M.alternate){_e=V;break t}V=_e(V),M=_e(M)}_e=null}else _e=null;H!==null&&p0(Q,P,H,_e,!1),ue!==null&&ot!==null&&p0(Q,ot,ue,_e,!0)}}e:{if(P=z?Sn(z):window,H=P.nodeName&&P.nodeName.toLowerCase(),H==="select"||H==="input"&&P.type==="file")var Ke=Op;else if(Np(P))if(Mp)Ke=ET;else{Ke=_T;var he=yT}else H=P.nodeName,!H||H.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&ya(z.elementType)&&(Ke=Op):Ke=vT;if(Ke&&(Ke=Ke(t,z))){Dp(Q,Ke,r,K);break e}he&&he(t,P,z),t==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&Vl(P,"number",P.value)}switch(he=z?Sn(z):window,t){case"focusin":(Np(he)||he.contentEditable==="true")&&(wa=he,Qh=z,Yl=null);break;case"focusout":Yl=Qh=wa=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Bp(Q,r,K);break;case"selectionchange":if(bT)break;case"keydown":case"keyup":Bp(Q,r,K)}var Me;if($e)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Aa?Pr(t,r)&&(ze="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ze="onCompositionStart");ze&&(Ni&&r.locale!=="ko"&&(Aa||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Aa&&(Me=Pl()):(xi=K,zl="value"in xi?xi.value:xi.textContent,Aa=!0)),he=bc(z,ze),0<he.length&&(ze=new Ci(ze,t,null,r,K),Q.push({event:ze,listeners:he}),Me?ze.data=Me:(Me=Sa(r),Me!==null&&(ze.data=Me)))),(Me=zn?dT(t,r):mT(t,r))&&(ze=bc(z,"onBeforeInput"),0<ze.length&&(he=new Ci("onBeforeInput","beforeinput",null,r,K),Q.push({event:he,listeners:ze}),he.data=Me)),rb(Q,t,z,r,K)}d0(Q,n)})}function vo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function bc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ni(t,r),h!=null&&l.unshift(vo(t,h,f)),h=ni(t,n),h!=null&&l.push(vo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function ub(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function p0(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var b=r,R=b.alternate,z=b.stateNode;if(b=b.tag,R!==null&&R===l)break;b!==5&&b!==26&&b!==27||z===null||(R=z,h?(z=ni(r,f),z!=null&&p.unshift(vo(r,z,R))):h||(z=ni(r,f),z!=null&&p.push(vo(r,z,R)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var cb=/\r\n?/g,hb=/\u0000|\uFFFD/g;function g0(t){return(typeof t=="string"?t:""+t).replace(cb,`
`).replace(hb,"")}function y0(t,n){return n=g0(n),g0(t)===n}function lt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(t,""+l);break;case"className":An(t,"class",l);break;case"tabIndex":An(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,r,l);break;case"style":Ll(t,l,f);break;case"data":if(n!=="object"){An(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=_a(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&lt(t,n,"name",h.name,h,null),lt(t,n,"formEncType",h.formEncType,h,null),lt(t,n,"formMethod",h.formMethod,h,null),lt(t,n,"formTarget",h.formTarget,h,null)):(lt(t,n,"encType",h.encType,h,null),lt(t,n,"method",h.method,h,null),lt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=_a(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ti);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=_a(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),pa(t,"popover",l);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=bu.get(r)||r,pa(t,r,l))}}function Td(t,n,r,l,h,f){switch(r){case"style":Ll(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Ht]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):pa(t,r,l)}}}function Jt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:lt(t,n,f,p,r,null)}}h&&lt(t,n,"srcSet",r.srcSet,r,null),l&&lt(t,n,"src",r.src,r,null);return;case"input":Ve("invalid",t);var b=f=p=h=null,R=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var K=r[l];if(K!=null)switch(l){case"name":h=K;break;case"type":p=K;break;case"checked":R=K;break;case"defaultChecked":z=K;break;case"value":f=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:lt(t,n,l,K,r,null)}}vu(t,f,b,R,z,p,h,!1);return;case"select":Ve("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(b=r[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":p=b;break;case"multiple":l=b;default:lt(t,n,h,b,r,null)}n=f,r=p,t.multiple=!!l,n!=null?Rs(t,!!l,n,!1):r!=null&&Rs(t,!!l,r,!0);return;case"textarea":Ve("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(b=r[p],b!=null))switch(p){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:lt(t,n,p,b,r,null)}Is(t,l,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(l=r[R],l!=null)&&(R==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":lt(t,n,R,l,r,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<_o.length;l++)Ve(_o[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:lt(t,n,z,l,r,null)}return;default:if(ya(n)){for(K in r)r.hasOwnProperty(K)&&(l=r[K],l!==void 0&&Td(t,n,K,l,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(l=r[b],l!=null&&lt(t,n,b,l,r,null))}function fb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,b=null,R=null,z=null,K=null;for(H in r){var Q=r[H];if(r.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Q;default:l.hasOwnProperty(H)||lt(t,n,H,null,l,Q)}}for(var P in l){var H=l[P];if(Q=r[P],l.hasOwnProperty(P)&&(H!=null||Q!=null))switch(P){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":K=H;break;case"value":p=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Q&&lt(t,n,P,H,l,Q)}}ga(t,p,b,R,z,K,f,h);return;case"select":H=p=b=P=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(f)||lt(t,n,f,null,l,R)}for(h in l)if(f=l[h],R=r[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":P=f;break;case"defaultValue":b=f;break;case"multiple":p=f;default:f!==R&&lt(t,n,h,f,l,R)}n=b,r=p,l=H,P!=null?Rs(t,!!r,P,!1):!!l!=!!r&&(n!=null?Rs(t,!!r,n,!0):Rs(t,!!r,r?[]:"",!1));return;case"textarea":H=P=null;for(b in r)if(h=r[b],r.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:lt(t,n,b,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":P=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&lt(t,n,p,h,l,f)}Eu(t,P,H);return;case"option":for(var ue in r)P=r[ue],r.hasOwnProperty(ue)&&P!=null&&!l.hasOwnProperty(ue)&&(ue==="selected"?t.selected=!1:lt(t,n,ue,null,l,P));for(R in l)P=l[R],H=r[R],l.hasOwnProperty(R)&&P!==H&&(P!=null||H!=null)&&(R==="selected"?t.selected=P&&typeof P!="function"&&typeof P!="symbol":lt(t,n,R,P,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in r)P=r[_e],r.hasOwnProperty(_e)&&P!=null&&!l.hasOwnProperty(_e)&&lt(t,n,_e,null,l,P);for(z in l)if(P=l[z],H=r[z],l.hasOwnProperty(z)&&P!==H&&(P!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:lt(t,n,z,P,l,H)}return;default:if(ya(n)){for(var ot in r)P=r[ot],r.hasOwnProperty(ot)&&P!==void 0&&!l.hasOwnProperty(ot)&&Td(t,n,ot,void 0,l,P);for(K in l)P=l[K],H=r[K],!l.hasOwnProperty(K)||P===H||P===void 0&&H===void 0||Td(t,n,K,P,l,H);return}}for(var V in r)P=r[V],r.hasOwnProperty(V)&&P!=null&&!l.hasOwnProperty(V)&&lt(t,n,V,null,l,P);for(Q in l)P=l[Q],H=r[Q],!l.hasOwnProperty(Q)||P===H||P==null&&H==null||lt(t,n,Q,P,l,H)}function _0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function db(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,b=h.duration;if(f&&b&&_0(p)){for(p=0,b=h.responseEnd,l+=1;l<r.length;l++){var R=r[l],z=R.startTime;if(z>b)break;var K=R.transferSize,Q=R.initiatorType;K&&_0(Q)&&(R=R.responseEnd,p+=K*(R<b?1:(b-z)/(R-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bd=null,Sd=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function v0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ad(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wd=null;function mb(){var t=window.event;return t&&t.type==="popstate"?t===wd?!1:(wd=t,!0):(wd=null,!1)}var T0=typeof setTimeout=="function"?setTimeout:void 0,pb=typeof clearTimeout=="function"?clearTimeout:void 0,b0=typeof Promise=="function"?Promise:void 0,gb=typeof queueMicrotask=="function"?queueMicrotask:typeof b0<"u"?function(t){return b0.resolve(null).then(t).catch(yb)}:T0;function yb(t){setTimeout(function(){throw t})}function Ws(t){return t==="head"}function S0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Ja(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Eo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Eo(r);for(var f=r.firstChild;f;){var p=f.nextSibling,b=f.nodeName;f[vi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&Eo(t.ownerDocument.body);r=h}while(r);Ja(n)}function A0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function xd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":xd(r),ma(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function _b(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function vb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Kn(t.nextSibling),t===null))return null;return t}function w0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Kn(t.nextSibling),t===null))return null;return t}function Rd(t){return t.data==="$?"||t.data==="$~"}function Id(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Eb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Cd=null;function x0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Kn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function R0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function I0(t,n,r){switch(n=Sc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Eo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ma(t)}var Yn=new Map,C0=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hs=te.d;te.d={f:Tb,r:bb,D:Sb,C:Ab,L:wb,m:xb,X:Ib,S:Rb,M:Cb};function Tb(){var t=hs.f(),n=pc();return t||n}function bb(t){var n=jn(t);n!==null&&n.tag===5&&n.type==="form"?Kg(n):hs.r(t)}var Xa=typeof document>"u"?null:document;function N0(t,n,r){var l=Xa;if(l&&typeof n=="string"&&n){var h=dn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),C0.has(h)||(C0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Jt(n,"link",t),Dt(n),l.head.appendChild(n)))}}function Sb(t){hs.D(t),N0("dns-prefetch",t,null)}function Ab(t,n){hs.C(t,n),N0("preconnect",t,n)}function wb(t,n,r){hs.L(t,n,r);var l=Xa;if(l&&t&&n){var h='link[rel="preload"][as="'+dn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+dn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+dn(r.imageSizes)+'"]')):h+='[href="'+dn(t)+'"]';var f=h;switch(n){case"style":f=$a(t);break;case"script":f=Wa(t)}Yn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Yn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(To(f))||n==="script"&&l.querySelector(bo(f))||(n=l.createElement("link"),Jt(n,"link",t),Dt(n),l.head.appendChild(n)))}}function xb(t,n){hs.m(t,n);var r=Xa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Wa(t)}if(!Yn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Yn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(bo(f)))return}l=r.createElement("link"),Jt(l,"link",t),Dt(l),r.head.appendChild(l)}}}function Rb(t,n,r){hs.S(t,n,r);var l=Xa;if(l&&t){var h=Ti(l).hoistableStyles,f=$a(t);n=n||"default";var p=h.get(f);if(!p){var b={loading:0,preload:null};if(p=l.querySelector(To(f)))b.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Yn.get(f))&&Nd(t,r);var R=p=l.createElement("link");Dt(R),Jt(R,"link",t),R._p=new Promise(function(z,K){R.onload=z,R.onerror=K}),R.addEventListener("load",function(){b.loading|=1}),R.addEventListener("error",function(){b.loading|=2}),b.loading|=4,wc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:b},h.set(f,p)}}}function Ib(t,n){hs.X(t,n);var r=Xa;if(r&&t){var l=Ti(r).hoistableScripts,h=Wa(t),f=l.get(h);f||(f=r.querySelector(bo(h)),f||(t=A({src:t,async:!0},n),(n=Yn.get(h))&&Dd(t,n),f=r.createElement("script"),Dt(f),Jt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Cb(t,n){hs.M(t,n);var r=Xa;if(r&&t){var l=Ti(r).hoistableScripts,h=Wa(t),f=l.get(h);f||(f=r.querySelector(bo(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Yn.get(h))&&Dd(t,n),f=r.createElement("script"),Dt(f),Jt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function D0(t,n,r,l){var h=(h=Ie.current)?Ac(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=$a(r.href),r=Ti(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=$a(r.href);var f=Ti(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(To(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Yn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Yn.set(t,r),f||Nb(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Wa(r),r=Ti(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function $a(t){return'href="'+dn(t)+'"'}function To(t){return'link[rel="stylesheet"]['+t+"]"}function O0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Nb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Jt(n,"link",r),Dt(n),t.head.appendChild(n))}function Wa(t){return'[src="'+dn(t)+'"]'}function bo(t){return"script[async]"+t}function M0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+dn(r.href)+'"]');if(l)return n.instance=l,Dt(l),l;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Dt(l),Jt(l,"style",h),wc(l,r.precedence,t),n.instance=l;case"stylesheet":h=$a(r.href);var f=t.querySelector(To(h));if(f)return n.state.loading|=4,n.instance=f,Dt(f),f;l=O0(r),(h=Yn.get(h))&&Nd(l,h),f=(t.ownerDocument||t).createElement("link"),Dt(f);var p=f;return p._p=new Promise(function(b,R){p.onload=b,p.onerror=R}),Jt(f,"link",l),n.state.loading|=4,wc(f,r.precedence,t),n.instance=f;case"script":return f=Wa(r.src),(h=t.querySelector(bo(f)))?(n.instance=h,Dt(h),h):(l=r,(h=Yn.get(f))&&(l=A({},r),Dd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),Jt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wc(l,r.precedence,t));return n.instance}function wc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var b=l[p];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Dd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var xc=null;function k0(t,n,r){if(xc===null){var l=new Map,h=xc=new Map;h.set(r,l)}else h=xc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[vi]||f[Nt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var b=l.get(p);b?b.push(f):l.set(p,[f])}}return l}function V0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Db(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function j0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ob(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=$a(l.href),f=n.querySelector(To(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Rc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Dt(f);return}f=n.ownerDocument||n,l=O0(l),(h=Yn.get(h))&&Nd(l,h),f=f.createElement("link"),Dt(f);var p=f;p._p=new Promise(function(b,R){p.onload=b,p.onerror=R}),Jt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Rc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Od=0;function Mb(t,n){return t.stylesheets&&t.count===0&&Cc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Od===0&&(Od=62500*db());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Od?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Cc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,n.forEach(kb,t),Ic=null,Rc.call(t))}function kb(t,n){if(!(n.state.loading&4)){var r=Ic.get(t);if(r)var l=r.get(null);else{r=new Map,Ic.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=Rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var So={$$typeof:be,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Vb(t,n,r,l,h,f,p,b,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function L0(t,n,r,l,h,f,p,b,R,z,K,Q){return t=new Vb(t,n,r,p,R,z,K,Q,b),n=1,f===!0&&(n|=24),f=xn(3,null,null,n),t.current=f,f.stateNode=t,n=hf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},pf(f),t}function U0(t){return t?(t=Ia,t):Ia}function z0(t,n,r,l,h,f){h=U0(h),l.context===null?l.context=h:l.pendingContext=h,l=Ps(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Bs(t,l,n),r!==null&&(vn(r,t,n),eo(r,t,n))}function P0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Md(t,n){P0(t,n),(t=t.alternate)&&P0(t,n)}function B0(t){if(t.tag===13||t.tag===31){var n=Hr(t,67108864);n!==null&&vn(n,t,67108864),Md(t,67108864)}}function q0(t){if(t.tag===13||t.tag===31){var n=Dn();n=Dr(n);var r=Hr(t,n);r!==null&&vn(r,t,n),Md(t,n)}}var Nc=!0;function jb(t,n,r,l){var h=F.T;F.T=null;var f=te.p;try{te.p=2,kd(t,n,r,l)}finally{te.p=f,F.T=h}}function Lb(t,n,r,l){var h=F.T;F.T=null;var f=te.p;try{te.p=8,kd(t,n,r,l)}finally{te.p=f,F.T=h}}function kd(t,n,r,l){if(Nc){var h=Vd(l);if(h===null)Ed(t,n,l,Dc,r),F0(t,l);else if(zb(h,t,n,r,l))l.stopPropagation();else if(F0(t,l),n&4&&-1<Ub.indexOf(t)){for(;h!==null;){var f=jn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=pi(f.pendingLanes);if(p!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var R=1<<31-At(p);b.entanglements[1]|=R,p&=~R}ki(f),(We&6)===0&&(dc=$()+500,yo(0))}}break;case 31:case 13:b=Hr(f,2),b!==null&&vn(b,f,2),pc(),Md(f,2)}if(f=Vd(l),f===null&&Ed(t,n,l,Dc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else Ed(t,n,l,null,r)}}function Vd(t){return t=Ln(t),jd(t)}var Dc=null;function jd(t){if(Dc=null,t=Ei(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Dc=t,null}function H0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pe()){case Ne:return 2;case _t:return 8;case Ze:case xl:return 32;case Ki:return 268435456;default:return 32}default:return 32}}var Ld=!1,Js=null,Zs=null,er=null,Ao=new Map,wo=new Map,tr=[],Ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F0(t,n){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(n.pointerId)}}function xo(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=jn(n),n!==null&&B0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function zb(t,n,r,l,h){switch(n){case"focusin":return Js=xo(Js,t,n,r,l,h),!0;case"dragenter":return Zs=xo(Zs,t,n,r,l,h),!0;case"mouseover":return er=xo(er,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Ao.set(f,xo(Ao.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,wo.set(f,xo(wo.get(f)||null,t,n,r,l,h)),!0}return!1}function G0(t){var n=Ei(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Zn(t.priority,function(){q0(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,Zn(t.priority,function(){q0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Vd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Ul=l,r.target.dispatchEvent(l),Ul=null}else return n=jn(r),n!==null&&B0(n),t.blockedOn=r,!1;n.shift()}return!0}function K0(t,n,r){Oc(t)&&r.delete(n)}function Pb(){Ld=!1,Js!==null&&Oc(Js)&&(Js=null),Zs!==null&&Oc(Zs)&&(Zs=null),er!==null&&Oc(er)&&(er=null),Ao.forEach(K0),wo.forEach(K0)}function Mc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ld||(Ld=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Pb)))}var kc=null;function Y0(t){kc!==t&&(kc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){kc===t&&(kc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(jd(l||r)===null)continue;break}var f=jn(r);f!==null&&(t.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Ja(t){function n(R){return Mc(R,t)}Js!==null&&Mc(Js,t),Zs!==null&&Mc(Zs,t),er!==null&&Mc(er,t),Ao.forEach(n),wo.forEach(n);for(var r=0;r<tr.length;r++){var l=tr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<tr.length&&(r=tr[0],r.blockedOn===null);)G0(r),r.blockedOn===null&&tr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[Ht]||null;if(typeof f=="function")p||Y0(r);else if(p){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ht]||null)b=p.formAction;else if(jd(h)!==null)continue}else b=p.action;typeof b=="function"?r[l+1]=b:(r.splice(l,3),l-=3),Y0(r)}}}function Q0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ud(t){this._internalRoot=t}Vc.prototype.render=Ud.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Dn();z0(r,l,t,n,null,null)},Vc.prototype.unmount=Ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;z0(t.current,2,null,t,null,null),pc(),n[_i]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var n=pu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<tr.length&&n!==0&&n<tr[r].priority;r++);tr.splice(r,0,t),r===0&&G0(t)}};var X0=e.version;if(X0!=="19.2.4")throw Error(a(527,X0,"19.2.4"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Bb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Wn=jc.inject(Bb),Yt=jc}catch{}}return Io.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=ny,f=iy,p=sy;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=L0(t,1,!1,null,null,r,l,null,h,f,p,Q0),t[_i]=n.current,vd(t),new Ud(n)},Io.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=ny,p=iy,b=sy,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=L0(t,1,!0,n,r??null,l,h,R,f,p,b,Q0),n.context=U0(null),r=n.current,l=Dn(),l=Dr(l),h=Ps(l),h.callback=null,Bs(r,h,l),r=l,n.current.lanes=r,Cr(n,r),ki(n),t[_i]=n.current,vd(t),new Vc(n)},Io.version="19.2.4",Io}var r_;function Wb(){if(r_)return Bd.exports;r_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Bd.exports=$b(),Bd.exports}var Jb=Wb();const Zb=()=>{};var a_={};const qv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},eS=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,y=_?s[o+2]:0,E=c>>2,A=(c&3)<<4|g>>4;let N=(g&15)<<2|y>>6,q=y&63;_||(q=64,d||(N=64)),a.push(i[E],i[A],i[N],i[q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(qv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):eS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||y==null||A==null)throw new tS;const N=c<<2|g>>4;if(a.push(N),y!==64){const q=g<<4&240|y>>2;if(a.push(q),A!==64){const ee=y<<6&192|A;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class tS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nS=function(s){const e=qv(s);return Hv.encodeByteArray(e,!0)},th=function(s){return nS(s).replace(/\./g,"")},Fv=function(s){try{return Hv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sS=()=>iS().__FIREBASE_DEFAULTS__,rS=()=>{if(typeof process>"u"||typeof a_>"u")return;const s=a_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},aS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Fv(s[1]);return e&&JSON.parse(e)},bh=()=>{try{return Zb()||sS()||rS()||aS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Gv=s=>bh()?.emulatorHosts?.[s],lS=s=>{const e=Gv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Kv=()=>bh()?.config,Yv=s=>bh()?.[`_${s}`];class oS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function vl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qv(s){return(await fetch(s,{credentials:"include"})).ok}function uS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[th(JSON.stringify(i)),th(JSON.stringify(d)),""].join(".")}const Vo={};function cS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Vo))Vo[e]?s.emulator.push(e):s.prod.push(e);return s}function hS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let l_=!1;function Xv(s,e){if(typeof window>"u"||typeof document>"u"||!vl(window.location.host)||Vo[s]===e||Vo[s]||l_)return;Vo[s]=e;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=cS().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,q){N.setAttribute("width","24"),N.setAttribute("id",q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{l_=!0,d()},N}function E(N,q){N.setAttribute("id",q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=hS(a),q=i("text"),ee=document.getElementById(q)||document.createElement("span"),se=i("learnmore"),re=document.getElementById(se)||document.createElement("a"),ye=i("preprendIcon"),Re=document.getElementById(ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const be=N.element;g(be),E(re,se);const Je=y();_(Re,ye),be.append(Re,ee,re,Je),document.body.appendChild(be)}c?(ee.innerText="Preview backend disconnected.",Re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function dS(){const s=bh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function gS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yS(){const s=ln();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function _S(){return!dS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vS(){try{return typeof indexedDB=="object"}catch{return!1}}function ES(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const TS="FirebaseError";class Ss extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=TS,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wo.prototype.create)}}class Wo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?bS(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ss(o,g,a)}}function bS(s,e){return s.replace(SS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const SS=/\{\$([^}]+)}/g;function AS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function yr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(o_(c)&&o_(d)){if(!yr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function o_(s){return s!==null&&typeof s=="object"}function Jo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function wS(s,e){const i=new xS(s,e);return i.subscribe.bind(i)}class xS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");RS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Gd),o.error===void 0&&(o.error=Gd),o.complete===void 0&&(o.complete=Gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Gd(){}function fn(s){return s&&s._delegate?s._delegate:s}class ra{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const na="[DEFAULT]";class IS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new oS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NS(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:CS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CS(s){return s===na?void 0:s}function NS(s){return s.instantiationMode==="EAGER"}class DS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new IS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const OS={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},MS=Pe.INFO,kS={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},VS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=kS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pm{constructor(e){this.name=e,this._logLevel=MS,this._logHandler=VS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const jS=(s,e)=>e.some(i=>s instanceof i);let u_,c_;function LS(){return u_||(u_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function US(){return c_||(c_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $v=new WeakMap,dm=new WeakMap,Wv=new WeakMap,Kd=new WeakMap,Bm=new WeakMap;function zS(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(hr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&$v.set(i,s)}).catch(()=>{}),Bm.set(e,s),e}function PS(s){if(dm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});dm.set(s,e)}let mm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return dm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Wv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function BS(s){mm=s(mm)}function qS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Yd(this),e,...i);return Wv.set(a,e.sort?e.sort():[e]),hr(a)}:US().includes(s)?function(...e){return s.apply(Yd(this),e),hr($v.get(this))}:function(...e){return hr(s.apply(Yd(this),e))}}function HS(s){return typeof s=="function"?qS(s):(s instanceof IDBTransaction&&PS(s),jS(s,LS())?new Proxy(s,mm):s)}function hr(s){if(s instanceof IDBRequest)return zS(s);if(Kd.has(s))return Kd.get(s);const e=HS(s);return e!==s&&(Kd.set(s,e),Bm.set(e,s)),e}const Yd=s=>Bm.get(s);function FS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=hr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(hr(d.result),_.oldVersion,_.newVersion,hr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const GS=["get","getKey","getAll","getAllKeys","count"],KS=["put","add","delete","clear"],Qd=new Map;function h_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Qd.get(e))return Qd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=KS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||GS.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return Qd.set(e,c),c}BS(s=>({...s,get:(e,i,a)=>h_(e,i)||s.get(e,i,a),has:(e,i)=>!!h_(e,i)||s.has(e,i)}));class YS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(QS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function QS(s){return s.getComponent()?.type==="VERSION"}const pm="@firebase/app",f_="0.14.7";const ys=new Pm("@firebase/app"),XS="@firebase/app-compat",$S="@firebase/analytics-compat",WS="@firebase/analytics",JS="@firebase/app-check-compat",ZS="@firebase/app-check",eA="@firebase/auth",tA="@firebase/auth-compat",nA="@firebase/database",iA="@firebase/data-connect",sA="@firebase/database-compat",rA="@firebase/functions",aA="@firebase/functions-compat",lA="@firebase/installations",oA="@firebase/installations-compat",uA="@firebase/messaging",cA="@firebase/messaging-compat",hA="@firebase/performance",fA="@firebase/performance-compat",dA="@firebase/remote-config",mA="@firebase/remote-config-compat",pA="@firebase/storage",gA="@firebase/storage-compat",yA="@firebase/firestore",_A="@firebase/ai",vA="@firebase/firestore-compat",EA="firebase",TA="12.8.0";const gm="[DEFAULT]",bA={[pm]:"fire-core",[XS]:"fire-core-compat",[WS]:"fire-analytics",[$S]:"fire-analytics-compat",[ZS]:"fire-app-check",[JS]:"fire-app-check-compat",[eA]:"fire-auth",[tA]:"fire-auth-compat",[nA]:"fire-rtdb",[iA]:"fire-data-connect",[sA]:"fire-rtdb-compat",[rA]:"fire-fn",[aA]:"fire-fn-compat",[lA]:"fire-iid",[oA]:"fire-iid-compat",[uA]:"fire-fcm",[cA]:"fire-fcm-compat",[hA]:"fire-perf",[fA]:"fire-perf-compat",[dA]:"fire-rc",[mA]:"fire-rc-compat",[pA]:"fire-gcs",[gA]:"fire-gcs-compat",[yA]:"fire-fst",[vA]:"fire-fst-compat",[_A]:"fire-vertex","fire-js":"fire-js",[EA]:"fire-js-all"};const nh=new Map,SA=new Map,ym=new Map;function d_(s,e){try{s.container.addComponent(e)}catch(i){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function cl(s){const e=s.name;if(ym.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;ym.set(e,s);for(const i of nh.values())d_(i,s);for(const i of SA.values())d_(i,s);return!0}function qm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Xn(s){return s==null?!1:s.settings!==void 0}const AA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Wo("app","Firebase",AA);class wA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const El=TA;function Jv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:gm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw fr.create("bad-app-name",{appName:String(o)});if(i||(i=Kv()),!i)throw fr.create("no-options");const c=nh.get(o);if(c){if(yr(i,c.options)&&yr(a,c.config))return c;throw fr.create("duplicate-app",{appName:o})}const d=new DS(o);for(const _ of ym.values())d.addComponent(_);const g=new wA(i,a,d);return nh.set(o,g),g}function Zv(s=gm){const e=nh.get(s);if(!e&&s===gm&&Kv())return Jv();if(!e)throw fr.create("no-app",{appName:s});return e}function dr(s,e,i){let a=bA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(d.join(" "));return}cl(new ra(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const xA="firebase-heartbeat-database",RA=1,Bo="firebase-heartbeat-store";let Xd=null;function e1(){return Xd||(Xd=FS(xA,RA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Bo)}catch(i){console.warn(i)}}}}).catch(s=>{throw fr.create("idb-open",{originalErrorMessage:s.message})})),Xd}async function IA(s){try{const i=(await e1()).transaction(Bo),a=await i.objectStore(Bo).get(t1(s));return await i.done,a}catch(e){if(e instanceof Ss)ys.warn(e.message);else{const i=fr.create("idb-get",{originalErrorMessage:e?.message});ys.warn(i.message)}}}async function m_(s,e){try{const a=(await e1()).transaction(Bo,"readwrite");await a.objectStore(Bo).put(e,t1(s)),await a.done}catch(i){if(i instanceof Ss)ys.warn(i.message);else{const a=fr.create("idb-set",{originalErrorMessage:i?.message});ys.warn(a.message)}}}function t1(s){return`${s.name}!${s.options.appId}`}const CA=1024,NA=30;class DA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new MA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=p_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>NA){const o=kA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ys.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=p_(),{heartbeatsToSend:i,unsentEntries:a}=OA(this._heartbeatsCache.heartbeats),o=th(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ys.warn(e),""}}}function p_(){return new Date().toISOString().substring(0,10)}function OA(s,e=CA){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),g_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),g_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class MA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vS()?ES().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await IA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return m_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return m_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function g_(s){return th(JSON.stringify({version:2,heartbeats:s})).length}function kA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function VA(s){cl(new ra("platform-logger",e=>new YS(e),"PRIVATE")),cl(new ra("heartbeat",e=>new DA(e),"PRIVATE")),dr(pm,f_,s),dr(pm,f_,"esm2020"),dr("fire-js","")}VA("");var jA="firebase",LA="12.8.0";dr(jA,LA,"app");function n1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UA=n1,i1=new Wo("auth","Firebase",n1());const ih=new Pm("@firebase/auth");function zA(s,...e){ih.logLevel<=Pe.WARN&&ih.warn(`Auth (${El}): ${s}`,...e)}function Gc(s,...e){ih.logLevel<=Pe.ERROR&&ih.error(`Auth (${El}): ${s}`,...e)}function _s(s,...e){throw Hm(s,...e)}function ji(s,...e){return Hm(s,...e)}function s1(s,e,i){const a={...UA(),[e]:i};return new Wo("auth","Firebase",a).create(e,{appName:s.name})}function gs(s){return s1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return i1.create(s,...e)}function Te(s,e,...i){if(!s)throw Hm(e,...i)}function ms(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Gc(e),new Error(e)}function vs(s,e){s||ms(e)}function _m(){return typeof self<"u"&&self.location?.href||""}function PA(){return y_()==="http:"||y_()==="https:"}function y_(){return typeof self<"u"&&self.location?.protocol||null}function BA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PA()||pS()||"connection"in navigator)?navigator.onLine:!0}function qA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Zo{constructor(e,i){this.shortDelay=e,this.longDelay=i,vs(i>e,"Short delay should be less than long delay!"),this.isMobile=fS()||gS()}get(){return BA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fm(s,e){vs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class r1{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const FA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GA=new Zo(3e4,6e4);function eu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Tl(s,e,i,a,o={}){return a1(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Jo({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return mS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&vl(s.emulatorConfig.host)&&(y.credentials="include"),r1.fetch()(await l1(s,s.config.apiHost,i,g),y)})}async function a1(s,e,i){s._canInitEmulator=!1;const a={...HA,...e};try{const o=new KA(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Lc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Lc(s,"user-disabled",d);const E=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw s1(s,E,y);_s(s,E)}}catch(o){if(o instanceof Ss)throw o;_s(s,"network-request-failed",{message:String(o)})}}async function Gm(s,e,i,a,o={}){const c=await Tl(s,e,i,a,o);return"mfaPendingCredential"in c&&_s(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function l1(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Fm(s.config,o):`${s.config.apiScheme}://${o}`;return FA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class KA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ji(this.auth,"network-request-failed")),GA.get())})}}function Lc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=ji(s,e,a);return o.customData._tokenResponse=i,o}async function YA(s,e){return Tl(s,"POST","/v1/accounts:delete",e)}async function sh(s,e){return Tl(s,"POST","/v1/accounts:lookup",e)}function jo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QA(s,e=!1){const i=fn(s),a=await i.getIdToken(e),o=Km(a);Te(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:jo($d(o.auth_time)),issuedAtTime:jo($d(o.iat)),expirationTime:jo($d(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $d(s){return Number(s)*1e3}function Km(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Fv(i);return o?JSON.parse(o):(Gc("Failed to decode base64 JWT payload"),null)}catch(o){return Gc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function __(s){const e=Km(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function qo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ss&&XA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function XA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class $A{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=jo(this.lastLoginAt),this.creationTime=jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rh(s){const e=s.auth,i=await s.getIdToken(),a=await qo(s,sh(e,{idToken:i}));Te(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?o1(o.providerUserInfo):[],d=JA(s.providerData,c),g=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,y=g?_:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new vm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function WA(s){const e=fn(s);await rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JA(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function o1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function ZA(s,e){const i=await a1(s,{},async()=>{const a=Jo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await l1(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&vl(s.emulatorConfig.host)&&(_.credentials="include"),r1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function e2(s,e){return Tl(s,"POST","/v2/accounts:revokeToken",eu(s,e))}class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):__(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=__(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await ZA(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new sl;return a&&(Te(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return ms("not implemented")}}function ir(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new $A(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await qo(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return QA(this,e)}reload(){return WA(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await rh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(gs(this.auth));const e=await this.getIdToken();return await qo(this,YA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:A,emailVerified:N,isAnonymous:q,providerData:ee,stsTokenManager:se}=i;Te(A&&se,e,"internal-error");const re=sl.fromJSON(this.name,se);Te(typeof A=="string",e,"internal-error"),ir(a,e.name),ir(o,e.name),Te(typeof N=="boolean",e,"internal-error"),Te(typeof q=="boolean",e,"internal-error"),ir(c,e.name),ir(d,e.name),ir(g,e.name),ir(_,e.name),ir(y,e.name),ir(E,e.name);const ye=new ui({uid:A,auth:e,email:o,emailVerified:N,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:re,createdAt:y,lastLoginAt:E});return ee&&Array.isArray(ee)&&(ye.providerData=ee.map(Re=>({...Re}))),_&&(ye._redirectEventId=_),ye}static async _fromIdTokenResponse(e,i,a=!1){const o=new sl;o.updateFromServerResponse(i);const c=new ui({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await rh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?o1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new sl;g.updateFromIdToken(a);const _=new ui({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const v_=new Map;function ps(s){vs(s instanceof Function,"Expected a class definition");let e=v_.get(s);return e?(vs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,v_.set(s,e),e)}class u1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}u1.type="NONE";const E_=u1;function Kc(s,e,i){return`firebase:${s}:${e}:${i}`}class rl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Kc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Kc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await sh(this.auth,{idToken:e}).catch(()=>{});return i?ui._fromGetAccountInfoResponse(this.auth,i,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new rl(ps(E_),e,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ps(E_);const d=Kc(a,e.config.apiKey,e.name);let g=null;for(const y of i)try{const E=await y._get(d);if(E){let A;if(typeof E=="string"){const N=await sh(e,{idToken:E}).catch(()=>{});if(!N)break;A=await ui._fromGetAccountInfoResponse(e,N,E)}else A=ui._fromJSON(e,E);y!==c&&(g=A),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new rl(c,e,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new rl(c,e,a))}}function T_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p1(e))return"Blackberry";if(g1(e))return"Webos";if(h1(e))return"Safari";if((e.includes("chrome/")||f1(e))&&!e.includes("edge/"))return"Chrome";if(m1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function c1(s=ln()){return/firefox\//i.test(s)}function h1(s=ln()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f1(s=ln()){return/crios\//i.test(s)}function d1(s=ln()){return/iemobile/i.test(s)}function m1(s=ln()){return/android/i.test(s)}function p1(s=ln()){return/blackberry/i.test(s)}function g1(s=ln()){return/webos/i.test(s)}function Ym(s=ln()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function t2(s=ln()){return Ym(s)&&!!window.navigator?.standalone}function n2(){return yS()&&document.documentMode===10}function y1(s=ln()){return Ym(s)||m1(s)||g1(s)||p1(s)||/windows phone/i.test(s)||d1(s)}function _1(s,e=[]){let i;switch(s){case"Browser":i=T_(ln());break;case"Worker":i=`${T_(ln())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${El}/${a}`}class i2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function s2(s,e={}){return Tl(s,"GET","/v2/passwordPolicy",eu(s,e))}const r2=6;class a2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??r2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class l2{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b_(this),this.idTokenSubscription=new b_(this),this.beforeStateQueue=new i2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ps(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await sh(this,{idToken:e}),a=await ui._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(gs(this));const i=e?fn(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s2(this),i=new a2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await e2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ps(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[ps(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function tu(s){return fn(s)}class b_{constructor(e){this.auth=e,this.observer=null,this.addObserver=wS(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o2(s){Qm=s}function u2(s){return Qm.loadJS(s)}function c2(){return Qm.gapiScript}function h2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function f2(s,e){const i=qm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(yr(c,e??{}))return o;_s(o,"already-initialized")}return i.initialize({options:e})}function d2(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ps);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function m2(s,e,i){const a=tu(s);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=v1(e),{host:d,port:g}=p2(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(yr(y,a.config.emulator)&&yr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,vl(d)?(Qv(`${c}//${d}${_}`),Xv("Auth",!0)):g2()}function v1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function p2(s){const e=v1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:S_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:S_(d)}}}function S_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function g2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class E1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,i){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function al(s,e){return Gm(s,"POST","/v1/accounts:signInWithIdp",eu(s,e))}const y2="http://localhost";class aa extends E1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):_s("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new aa(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return al(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,al(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,al(e,i)}buildRequest(){const e={requestUri:y2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Jo(i)}return e}}class T1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nu extends T1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class rr extends nu{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";rr.PROVIDER_ID="facebook.com";class ar extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return aa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ar.credential(i,a)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";class lr extends nu{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class or extends nu{constructor(){super("twitter.com")}static credential(e,i){return aa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return or.credential(i,a)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";async function _2(s,e){return Gm(s,"POST","/v1/accounts:signUp",eu(s,e))}class Es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await ui._fromIdTokenResponse(e,a,o),d=A_(a);return new Es({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=A_(a);return new Es({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function A_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function v2(s){if(Xn(s.app))return Promise.reject(gs(s));const e=tu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Es({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await _2(e,{returnSecureToken:!0}),a=await Es._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class ah extends Ss{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new ah(e,i,a,o)}}function b1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(s,c,e,a):c})}async function E2(s,e,i=!1){const a=await qo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Es._forOperation(s,"link",a)}async function T2(s,e,i=!1){const{auth:a}=s;if(Xn(a.app))return Promise.reject(gs(a));const o="reauthenticate";try{const c=await qo(s,b1(a,o,e,s),i);Te(c.idToken,a,"internal-error");const d=Km(c.idToken);Te(d,a,"internal-error");const{sub:g}=d;return Te(s.uid===g,a,"user-mismatch"),Es._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&_s(a,"user-mismatch"),c}}async function b2(s,e,i=!1){if(Xn(s.app))return Promise.reject(gs(s));const a="signIn",o=await b1(s,a,e),c=await Es._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function S2(s,e){return Gm(s,"POST","/v1/accounts:signInWithCustomToken",eu(s,e))}async function A2(s,e){if(Xn(s.app))return Promise.reject(gs(s));const i=tu(s),a=await S2(i,{token:e,returnSecureToken:!0}),o=await Es._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function w2(s,e,i,a){return fn(s).onIdTokenChanged(e,i,a)}function x2(s,e,i){return fn(s).beforeAuthStateChanged(e,i)}function R2(s,e,i,a){return fn(s).onAuthStateChanged(e,i,a)}const lh="__sak";class S1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const I2=1e3,C2=10;class A1 extends S1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);n2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,C2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},I2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}A1.type="LOCAL";const N2=A1;class w1 extends S1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}w1.type="SESSION";const x1=w1;function D2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Sh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await D2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sh.receivers=[];function Xm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class O2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Xm("",20);o.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const N=A;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Li(){return window}function M2(s){Li().location.href=s}function R1(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function k2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V2(){return navigator?.serviceWorker?.controller||null}function j2(){return R1()?self:null}const I1="firebaseLocalStorageDb",L2=1,oh="firebaseLocalStorage",C1="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ah(s,e){return s.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function U2(){const s=indexedDB.deleteDatabase(I1);return new iu(s).toPromise()}function Em(){const s=indexedDB.open(I1,L2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(oh,{keyPath:C1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(oh)?e(a):(a.close(),await U2(),e(await Em()))})})}async function w_(s,e,i){const a=Ah(s,!0).put({[C1]:e,value:i});return new iu(a).toPromise()}async function z2(s,e){const i=Ah(s,!1).get(e),a=await new iu(i).toPromise();return a===void 0?null:a.value}function x_(s,e){const i=Ah(s,!0).delete(e);return new iu(i).toPromise()}const P2=800,B2=3;class N1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>B2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sh._getInstance(j2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await k2(),!this.activeServiceWorker)return;this.sender=new O2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Em();return await w_(e,lh,"1"),await x_(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>w_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>z2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>x_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ah(o,!1).getAll();return new iu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N1.type="LOCAL";const q2=N1;new Zo(3e4,6e4);function H2(s,e){return e?ps(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class $m extends E1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,i){return al(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function F2(s){return b2(s.auth,new $m(s),s.bypassAuthState)}function G2(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),T2(i,new $m(s),s.bypassAuthState)}async function K2(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),E2(i,new $m(s),s.bypassAuthState)}class D1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F2;case"linkViaPopup":case"linkViaRedirect":return K2;case"reauthViaPopup":case"reauthViaRedirect":return G2;default:_s(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Y2=new Zo(2e3,1e4);class il extends D1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y2.get())};e()}}il.currentPopupAction=null;const Q2="pendingRedirect",Yc=new Map;class X2 extends D1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Yc.get(this.auth._key());if(!e){try{const a=await $2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Yc.set(this.auth._key(),e)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $2(s,e){const i=Z2(e),a=J2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function W2(s,e){Yc.set(s._key(),e)}function J2(s){return ps(s._redirectPersistence)}function Z2(s){return Kc(Q2,s.config.apiKey,s.name)}async function ew(s,e,i=!1){if(Xn(s.app))return Promise.reject(gs(s));const a=tu(s),o=H2(a,e),d=await new X2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const tw=600*1e3;class nw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!O1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ji(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tw&&this.cachedEventUids.clear(),this.cachedEventUids.has(R_(e))}saveEventToCache(e){this.cachedEventUids.add(R_(e)),this.lastProcessedEventTime=Date.now()}}function R_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function O1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function iw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O1(s);default:return!1}}async function sw(s,e={}){return Tl(s,"GET","/v1/projects",e)}const rw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aw=/^https?/;async function lw(s){if(s.config.emulator)return;const{authorizedDomains:e}=await sw(s);for(const i of e)try{if(ow(i))return}catch{}_s(s,"unauthorized-domain")}function ow(s){const e=_m(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!aw.test(i))return!1;if(rw.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const uw=new Zo(3e4,6e4);function I_(){const s=Li().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function cw(s){return new Promise((e,i)=>{function a(){I_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I_(),i(ji(s,"network-request-failed"))},timeout:uw.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)a();else{const o=h2("iframefcb");return Li()[o]=()=>{gapi.load?a():i(ji(s,"network-request-failed"))},u2(`${c2()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function hw(s){return Qc=Qc||cw(s),Qc}const fw=new Zo(5e3,15e3),dw="__/auth/iframe",mw="emulator/auth/iframe",pw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yw(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Fm(e,mw):`https://${s.config.authDomain}/${dw}`,a={apiKey:e.apiKey,appName:s.name,v:El},o=gw.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Jo(a).slice(1)}`}async function _w(s){const e=await hw(s),i=Li().gapi;return Te(i,s,"internal-error"),e.open({where:document.body,url:yw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=ji(s,"network-request-failed"),g=Li().setTimeout(()=>{c(d)},fw.get());function _(){Li().clearTimeout(g),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const vw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ew=500,Tw=600,bw="_blank",Sw="http://localhost";class C_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Aw(s,e,i,a=Ew,o=Tw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...vw,width:a.toString(),height:o.toString(),top:c,left:d},y=ln().toLowerCase();i&&(g=f1(y)?bw:i),c1(y)&&(e=e||Sw,_.scrollbars="yes");const E=Object.entries(_).reduce((N,[q,ee])=>`${N}${q}=${ee},`,"");if(t2(y)&&g!=="_self")return ww(e||"",g),new C_(null);const A=window.open(e||"",g,E);Te(A,s,"popup-blocked");try{A.focus()}catch{}return new C_(A)}function ww(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const xw="__/auth/handler",Rw="emulator/auth/handler",Iw=encodeURIComponent("fac");async function N_(s,e,i,a,o,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:El,eventId:o};if(e instanceof T1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",AS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(e instanceof nu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const _=await s._getAppCheckToken(),y=_?`#${Iw}=${encodeURIComponent(_)}`:"";return`${Cw(s)}?${Jo(g).slice(1)}${y}`}function Cw({config:s}){return s.emulator?Fm(s,Rw):`https://${s.authDomain}/${xw}`}const Wd="webStorageSupport";class Nw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x1,this._completeRedirectFn=ew,this._overrideRedirectResult=W2}async _openPopup(e,i,a,o){vs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await N_(e,i,a,_m(),o);return Aw(e,c,Xm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await N_(e,i,a,_m(),o);return M2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(vs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await _w(e),a=new nw(e);return i.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Wd,{type:Wd},o=>{const c=o?.[0]?.[Wd];c!==void 0&&i(!!c),_s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=lw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return y1()||h1()||Ym()}}const Dw=Nw;var D_="@firebase/auth",O_="1.12.0";class Ow{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Mw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kw(s){cl(new ra("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_1(s)},y=new l2(a,o,c,_);return d2(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),cl(new ra("auth-internal",e=>{const i=tu(e.getProvider("auth").getImmediate());return(a=>new Ow(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(D_,O_,Mw(s)),dr(D_,O_,"esm2020")}const Vw=300,jw=Yv("authIdTokenMaxAge")||Vw;let M_=null;const Lw=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>jw)return;const o=i?.token;M_!==o&&(M_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Uw(s=Zv()){const e=qm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=f2(s,{popupRedirectResolver:Dw,persistence:[q2,N2,x1]}),a=Yv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Lw(c.toString());x2(i,d,()=>d(i.currentUser)),w2(i,g=>d(g))}}const o=Gv("auth");return o&&m2(i,`http://${o}`),i}function zw(){return document.getElementsByTagName("head")?.[0]??document}o2({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=ji("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",zw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kw("Browser");var k_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mr,M1;(function(){var s;function e(I,w){function C(){}C.prototype=w.prototype,I.F=w.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(k,D,j){for(var x=Array(arguments.length-2),st=2;st<arguments.length;st++)x[st-2]=arguments[st];return w.prototype[D].apply(k,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,C){C||(C=0);const k=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)k[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)k[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=I.g[0],C=I.g[1],D=I.g[2];let j=I.g[3],x;x=w+(j^C&(D^j))+k[0]+3614090360&4294967295,w=C+(x<<7&4294967295|x>>>25),x=j+(D^w&(C^D))+k[1]+3905402710&4294967295,j=w+(x<<12&4294967295|x>>>20),x=D+(C^j&(w^C))+k[2]+606105819&4294967295,D=j+(x<<17&4294967295|x>>>15),x=C+(w^D&(j^w))+k[3]+3250441966&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(j^C&(D^j))+k[4]+4118548399&4294967295,w=C+(x<<7&4294967295|x>>>25),x=j+(D^w&(C^D))+k[5]+1200080426&4294967295,j=w+(x<<12&4294967295|x>>>20),x=D+(C^j&(w^C))+k[6]+2821735955&4294967295,D=j+(x<<17&4294967295|x>>>15),x=C+(w^D&(j^w))+k[7]+4249261313&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(j^C&(D^j))+k[8]+1770035416&4294967295,w=C+(x<<7&4294967295|x>>>25),x=j+(D^w&(C^D))+k[9]+2336552879&4294967295,j=w+(x<<12&4294967295|x>>>20),x=D+(C^j&(w^C))+k[10]+4294925233&4294967295,D=j+(x<<17&4294967295|x>>>15),x=C+(w^D&(j^w))+k[11]+2304563134&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(j^C&(D^j))+k[12]+1804603682&4294967295,w=C+(x<<7&4294967295|x>>>25),x=j+(D^w&(C^D))+k[13]+4254626195&4294967295,j=w+(x<<12&4294967295|x>>>20),x=D+(C^j&(w^C))+k[14]+2792965006&4294967295,D=j+(x<<17&4294967295|x>>>15),x=C+(w^D&(j^w))+k[15]+1236535329&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(D^j&(C^D))+k[1]+4129170786&4294967295,w=C+(x<<5&4294967295|x>>>27),x=j+(C^D&(w^C))+k[6]+3225465664&4294967295,j=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(j^w))+k[11]+643717713&4294967295,D=j+(x<<14&4294967295|x>>>18),x=C+(j^w&(D^j))+k[0]+3921069994&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^j&(C^D))+k[5]+3593408605&4294967295,w=C+(x<<5&4294967295|x>>>27),x=j+(C^D&(w^C))+k[10]+38016083&4294967295,j=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(j^w))+k[15]+3634488961&4294967295,D=j+(x<<14&4294967295|x>>>18),x=C+(j^w&(D^j))+k[4]+3889429448&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^j&(C^D))+k[9]+568446438&4294967295,w=C+(x<<5&4294967295|x>>>27),x=j+(C^D&(w^C))+k[14]+3275163606&4294967295,j=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(j^w))+k[3]+4107603335&4294967295,D=j+(x<<14&4294967295|x>>>18),x=C+(j^w&(D^j))+k[8]+1163531501&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^j&(C^D))+k[13]+2850285829&4294967295,w=C+(x<<5&4294967295|x>>>27),x=j+(C^D&(w^C))+k[2]+4243563512&4294967295,j=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(j^w))+k[7]+1735328473&4294967295,D=j+(x<<14&4294967295|x>>>18),x=C+(j^w&(D^j))+k[12]+2368359562&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(C^D^j)+k[5]+4294588738&4294967295,w=C+(x<<4&4294967295|x>>>28),x=j+(w^C^D)+k[8]+2272392833&4294967295,j=w+(x<<11&4294967295|x>>>21),x=D+(j^w^C)+k[11]+1839030562&4294967295,D=j+(x<<16&4294967295|x>>>16),x=C+(D^j^w)+k[14]+4259657740&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^j)+k[1]+2763975236&4294967295,w=C+(x<<4&4294967295|x>>>28),x=j+(w^C^D)+k[4]+1272893353&4294967295,j=w+(x<<11&4294967295|x>>>21),x=D+(j^w^C)+k[7]+4139469664&4294967295,D=j+(x<<16&4294967295|x>>>16),x=C+(D^j^w)+k[10]+3200236656&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^j)+k[13]+681279174&4294967295,w=C+(x<<4&4294967295|x>>>28),x=j+(w^C^D)+k[0]+3936430074&4294967295,j=w+(x<<11&4294967295|x>>>21),x=D+(j^w^C)+k[3]+3572445317&4294967295,D=j+(x<<16&4294967295|x>>>16),x=C+(D^j^w)+k[6]+76029189&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^j)+k[9]+3654602809&4294967295,w=C+(x<<4&4294967295|x>>>28),x=j+(w^C^D)+k[12]+3873151461&4294967295,j=w+(x<<11&4294967295|x>>>21),x=D+(j^w^C)+k[15]+530742520&4294967295,D=j+(x<<16&4294967295|x>>>16),x=C+(D^j^w)+k[2]+3299628645&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(D^(C|~j))+k[0]+4096336452&4294967295,w=C+(x<<6&4294967295|x>>>26),x=j+(C^(w|~D))+k[7]+1126891415&4294967295,j=w+(x<<10&4294967295|x>>>22),x=D+(w^(j|~C))+k[14]+2878612391&4294967295,D=j+(x<<15&4294967295|x>>>17),x=C+(j^(D|~w))+k[5]+4237533241&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~j))+k[12]+1700485571&4294967295,w=C+(x<<6&4294967295|x>>>26),x=j+(C^(w|~D))+k[3]+2399980690&4294967295,j=w+(x<<10&4294967295|x>>>22),x=D+(w^(j|~C))+k[10]+4293915773&4294967295,D=j+(x<<15&4294967295|x>>>17),x=C+(j^(D|~w))+k[1]+2240044497&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~j))+k[8]+1873313359&4294967295,w=C+(x<<6&4294967295|x>>>26),x=j+(C^(w|~D))+k[15]+4264355552&4294967295,j=w+(x<<10&4294967295|x>>>22),x=D+(w^(j|~C))+k[6]+2734768916&4294967295,D=j+(x<<15&4294967295|x>>>17),x=C+(j^(D|~w))+k[13]+1309151649&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~j))+k[4]+4149444226&4294967295,w=C+(x<<6&4294967295|x>>>26),x=j+(C^(w|~D))+k[11]+3174756917&4294967295,j=w+(x<<10&4294967295|x>>>22),x=D+(w^(j|~C))+k[2]+718787259&4294967295,D=j+(x<<15&4294967295|x>>>17),x=C+(j^(D|~w))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+j&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const C=w-this.blockSize,k=this.C;let D=this.h,j=0;for(;j<w;){if(D==0)for(;j<=C;)o(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<w;)if(k[D++]=I.charCodeAt(j++),D==this.blockSize){o(this,k),D=0;break}}else for(;j<w;)if(k[D++]=I[j++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)I[w++]=this.g[C]>>>k&255;return I};function c(I,w){var C=g;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=w(I)}function d(I,w){this.h=w;const C=[];let k=!0;for(let D=I.length-1;D>=0;D--){const j=I[D]|0;k&&j==w||(C[D]=j,k=!1)}this.g=C}var g={};function _(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return re(y(-I));const w=[];let C=1;for(let k=0;I>=C;k++)w[k]=I/C|0,C*=4294967296;return new d(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return re(E(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let k=A;for(let j=0;j<I.length;j+=8){var D=Math.min(8,I.length-j);const x=parseInt(I.substring(j,j+D),w);D<8?(D=y(Math.pow(w,D)),k=k.j(D).add(y(x))):(k=k.j(C),k=k.add(y(x)))}return k}var A=_(0),N=_(1),q=_(16777216);s=d.prototype,s.m=function(){if(se(this))return-re(this).m();let I=0,w=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);I+=(k>=0?k:4294967296+k)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(ee(this))return"0";if(se(this))return"-"+re(this).toString(I);const w=y(Math.pow(I,6));var C=this;let k="";for(;;){const D=Je(C,w).g;C=ye(C,D.j(w));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,ee(C))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function ee(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function se(I){return I.h==-1}s.l=function(I){return I=ye(this,I),se(I)?-1:ee(I)?0:1};function re(I){const w=I.g.length,C=[];for(let k=0;k<w;k++)C[k]=~I.g[k];return new d(C,~I.h).add(N)}s.abs=function(){return se(this)?re(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),C=[];let k=0;for(let D=0;D<=w;D++){let j=k+(this.i(D)&65535)+(I.i(D)&65535),x=(j>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);k=x>>>16,j&=65535,x&=65535,C[D]=x<<16|j}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ye(I,w){return I.add(re(w))}s.j=function(I){if(ee(this)||ee(I))return A;if(se(this))return se(I)?re(this).j(re(I)):re(re(this).j(I));if(se(I))return re(this.j(re(I)));if(this.l(q)<0&&I.l(q)<0)return y(this.m()*I.m());const w=this.g.length+I.g.length,C=[];for(var k=0;k<2*w;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<I.g.length;D++){const j=this.i(k)>>>16,x=this.i(k)&65535,st=I.i(D)>>>16,pt=I.i(D)&65535;C[2*k+2*D]+=x*pt,Re(C,2*k+2*D),C[2*k+2*D+1]+=j*pt,Re(C,2*k+2*D+1),C[2*k+2*D+1]+=x*st,Re(C,2*k+2*D+1),C[2*k+2*D+2]+=j*st,Re(C,2*k+2*D+2)}for(I=0;I<w;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=w;I<2*w;I++)C[I]=0;return new d(C,0)};function Re(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function be(I,w){this.g=I,this.h=w}function Je(I,w){if(ee(w))throw Error("division by zero");if(ee(I))return new be(A,A);if(se(I))return w=Je(re(I),w),new be(re(w.g),re(w.h));if(se(w))return w=Je(I,re(w)),new be(re(w.g),w.h);if(I.g.length>30){if(se(I)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var C=N,k=w;k.l(I)<=0;)C=mt(C),k=mt(k);var D=je(C,1),j=je(k,1);for(k=je(k,2),C=je(C,2);!ee(k);){var x=j.add(k);x.l(I)<=0&&(D=D.add(C),j=x),k=je(k,1),C=je(C,1)}return w=ye(I,D.j(w)),new be(D,w)}for(D=A;I.l(w)>=0;){for(C=Math.max(1,Math.floor(I.m()/w.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=y(C),x=j.j(w);se(x)||x.l(I)>0;)C-=k,j=y(C),x=j.j(w);ee(j)&&(j=N),D=D.add(j),I=ye(I,x)}return new be(D,I)}s.B=function(I){return Je(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)&I.i(k);return new d(C,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)|I.i(k);return new d(C,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)^I.i(k);return new d(C,this.h^I.h)};function mt(I){const w=I.g.length+1,C=[];for(let k=0;k<w;k++)C[k]=I.i(k)<<1|I.i(k-1)>>>31;return new d(C,I.h)}function je(I,w){const C=w>>5;w%=32;const k=I.g.length-C,D=[];for(let j=0;j<k;j++)D[j]=w>0?I.i(j+C)>>>w|I.i(j+C+1)<<32-w:I.i(j+C);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,M1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,mr=d}).apply(typeof k_<"u"?k_:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var k1,Do,V1,Xc,Tm,j1,L1,U1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var L=u[S];if(!(L in v))break e;v=v[L]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,L,B){for(var ne=Array(arguments.length-2),De=2;De<arguments.length;De++)ne[De-2]=arguments[De];return m.prototype[L].apply(S,ne)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function ee(u,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let ne=0;ne<B;ne++)u[v+ne]=L[ne]}else u.push(L)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function re(u){d.setTimeout(()=>{throw u},0)}function ye(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Re{constructor(){this.h=this.g=null}add(m,v){const S=be.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var be=new se(()=>new Je,u=>u.reset());class Je{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,je=!1,I=new Re,w=()=>{const u=Promise.resolve(void 0);mt=()=>{u.then(C)}};function C(){for(var u;u=ye();){try{u.h.call(u.g)}catch(v){re(v)}var m=be;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}je=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function st(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(st,D),st.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pt="closure_listenable_"+(Math.random()*1e6|0),F=0;function te(u,m,v,S,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=L,this.key=++F,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function He(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Ae(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)u[v]=S[v];for(let B=0;B<G.length;B++)v=G[B],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,S,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ne=Ie(u,m,S,L);return ne>-1?(m=u[ne],v||(m.fa=!1)):(m=new te(m,this.src,B,!!S,L),m.fa=v,u.push(m)),m};function Ee(u,m){const v=m.type;if(v in u.g){var S=u.g[v],L=Array.prototype.indexOf.call(S,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(S,L,1),B&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ie(u,m,v,S){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==S)return L}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),St={};function ut(u,m,v,S,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ut(u,m[B],v,S,L);return null}return v=di(v),u&&u[pt]?u.J(m,v,g(S)?!!S.capture:!1,L):Hi(u,m,v,!1,S,L)}function Hi(u,m,v,S,L,B){if(!m)throw Error("Invalid event type");const ne=g(L)?!!L.capture:!!L;let De=Gi(u);if(De||(u[Le]=De=new ae(u)),v=De.add(m,v,S,ne,B),v.proxy)return v;if(S=Fi(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)j||(L=ne),L===void 0&&(L=!1),u.addEventListener(m.toString(),S,L);else if(u.attachEvent)u.attachEvent(kn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Fi(){function u(v){return m.call(u.src,u.listener,v)}const m=xr;return u}function As(u,m,v,S,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)As(u,m[B],v,S,L);else S=g(S)?!!S.capture:!!S,v=di(v),u&&u[pt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ie(m,v,S,L),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Gi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ie(m,v,S,L)),(v=u>-1?m[u]:null)&&ws(v))}function ws(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[pt])Ee(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(kn(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Gi(m))?(Ee(v,u),v.h==0&&(v.src=null,m[Le]=null)):de(u)}}}function kn(u){return u in St?St[u]:St[u]="on"+u}function xr(u,m){if(u.da)u=!0;else{m=new st(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&ws(u),u=v.call(S,m)}return u}function Gi(u){return u=u[Le],u instanceof ae?u:null}var Rr="__closure_events_fn_"+(Math.random()*1e9>>>0);function di(u){return typeof u=="function"?u:(u[Rr]||(u[Rr]=function(m){return u.handleEvent(m)}),u[Rr])}function Z(){k.call(this),this.i=new ae(this),this.M=this,this.G=null}A(Z,k),Z.prototype[pt]=!0,Z.prototype.removeEventListener=function(u,m,v,S){As(this,u,m,v,S)};function J(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(S,u),ie(m,L)}L=!0;let B,ne;if(v)for(ne=v.length-1;ne>=0;ne--)B=m.g=v[ne],L=oe(B,S,!0,m)&&L;if(B=m.g=u,L=oe(B,S,!0,m)&&L,L=oe(B,S,!1,m)&&L,v)for(ne=0;ne<v.length;ne++)B=m.g=v[ne],L=oe(B,S,!1,m)&&L}Z.prototype.N=function(){if(Z.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)de(v[S]);delete u.g[m],u.h--}}this.G=null},Z.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},Z.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function oe(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const ne=m[B];if(ne&&!ne.da&&ne.capture==v){const De=ne.listener,wt=ne.ha||ne.src;ne.fa&&Ee(u.i,ne),L=De.call(wt,S)!==!1&&L}}return L&&!S.defaultPrevented}function ce(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ce(u){u.g=ce(()=>{u.g=null,u.i&&(u.i=!1,Ce(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $ extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ce(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pe(u){k.call(this),this.h=u,this.g={}}A(pe,k);var Ne=[];function _t(u){He(u.g,function(m,v){this.g.hasOwnProperty(v)&&ws(m)},u),u.g={}}pe.prototype.N=function(){pe.Z.N.call(this),_t(this)},pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ze=d.JSON.stringify,xl=d.JSON.parse,Ki=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function cu(){}function hu(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){D.call(this,"d")}A(Yt,D);function Vn(){D.call(this,"c")}A(Vn,D);var At={},fu=null;function fa(){return fu=fu||new Z}At.Ia="serverreachability";function du(u){D.call(this,At.Ia,u)}A(du,D);function mi(u){const m=fa();J(m,new du(m))}At.STAT_EVENT="statevent";function Ir(u,m){D.call(this,At.STAT_EVENT,u),this.stat=m}A(Ir,D);function Ct(u){const m=fa();J(m,new Ir(m,u))}At.Ja="timingevent";function pi(u,m){D.call(this,At.Ja,u),this.size=m}A(pi,D);function gi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function qh(u,m,v,S,L,B){u.info(function(){if(u.g)if(B){var ne="",De=B.split("&");for(let $e=0;$e<De.length;$e++){var wt=De[$e].split("=");if(wt.length>1){const gt=wt[0];wt=wt[1];const zn=gt.split("_");ne=zn.length>=2&&zn[1]=="type"?ne+(gt+"="+wt+"&"):ne+(gt+"=redacted&")}}}else ne=null;else ne=B;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+v+`
`+ne})}function mu(u,m,v,S,L,B,ne){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+ne})}function yi(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hh(u,v)+(S?" "+S:"")})}function Cr(u,m){u.info(function(){return"TIMEOUT: "+m})}Jn.prototype.info=function(){};function Hh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ne=1;ne<S.length;ne++)S[ne]=""}}}}return Ze(B)}catch{return m}}var Nr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Rl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Il;function Dr(){}A(Dr,cu),Dr.prototype.g=function(){return new XMLHttpRequest},Il=new Dr;function Yi(u){return encodeURIComponent(String(u))}function pu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Zn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new pe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Nt={},Ht={};function _i(u,m,v){u.M=1,u.A=Or(Ot(m)),u.u=v,u.R=!0,da(u,null)}function da(u,m){u.F=Date.now(),vi(u),u.B=Ot(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),ya(v.i,"t",S),u.C=0,v=u.j.L,u.h=new ei,u.g=Nu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ne[0]=L.toString()),L=Ne);for(let B=0;B<L.length;B++){const ne=ut(v,L[B],S||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),mi(),qh(u.i,u.v,u.B,u.l,u.S,u.u)}Zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ii(u)==3?m.j():this.Y(u)},Zn.prototype.Y=function(u){try{if(u==this.g)e:{const De=ii(this.g),wt=this.g.ya(),$e=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||De!=4||wt==7||(wt==8||$e<=0?mi(3):mi(2)),Ei(this);var m=this.g.ca();this.X=m;var v=Fh(this);if(this.o=m==200,mu(this.i,this.v,this.B,this.l,this.S,De,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var B=S;break t}}B=null}if(u=B)yi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,u);else{this.o=!1,this.m=3,Ct(12),Sn(this),jn(this);break e}}if(this.R){u=!0;let gt;for(;!this.K&&this.C<v.length;)if(gt=yu(this,v),gt==Ht){De==4&&(this.m=4,Ct(14),u=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Nt){this.m=4,Ct(15),yi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else yi(this.i,this.l,gt,null),Ti(this,gt);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,Ct(16),u=!1),this.o=this.o&&u,!u)yi(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),jn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Hl(ne),ne.P=!0,Ct(11))}}else yi(this.i,this.l,v,null),Ti(this,v);De==4&&Sn(this),this.o&&!this.K&&(De==4?xu(this.j,this):(this.o=!1,vi(this)))}else Xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Sn(this),jn(this)}}}catch{}};function Fh(u){if(!gu(u))return u.g.la();const m=Qt(u.g);if(m==="")return"";let v="";const S=m.length,L=ii(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),jn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<S;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function gu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function yu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Ht:(v=Number(m.substring(v,S)),isNaN(v)?Nt:(S+=1,S+v>m.length?Ht:(m=m.slice(S,S+v),u.C=S+v,m)))}Zn.prototype.cancel=function(){this.K=!0,Sn(this)};function vi(u){u.T=Date.now()+u.H,ma(u,u.H)}function ma(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=gi(y(u.aa,u),m)}function Ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(mi(),Ct(17)),Sn(this),this.m=2,jn(this)):ma(this,this.T-u)};function jn(u){u.j.I==0||u.K||xu(u.j,u)}function Sn(u){Ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_t(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ti(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Si(v.h,u))){if(!u.L&&Si(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ba(v),Ms(v);else break e;zr(v),Ct(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gi(y(v.Va,v),6e3));bi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ci(v,11)}else if((u.L||v.g==u)&&ba(v),!x(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let $e=L[m];const gt=$e[0];if(!(gt<=v.K))if(v.K=gt,$e=$e[1],v.I==2)if($e[0]=="c"){v.M=$e[1],v.ba=$e[2];const zn=$e[3];zn!=null&&(v.ka=zn,v.j.info("VER="+v.ka));const Ni=$e[4];Ni!=null&&(v.za=Ni,v.j.info("SVER="+v.za));const si=$e[5];si!=null&&typeof si=="number"&&si>0&&(S=1.5*si,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ri=u.g;if(ri){const Pr=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var B=S.h;B.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Dl(B,B.h),B.h=null))}if(S.G){const Sa=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(S.wa=Sa,tt(S.J,S.G,Sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ne=u;if(S.na=Cu(S,S.L?S.ba:null,S.W),ne.L){Ol(S.h,ne);var De=ne,wt=S.O;wt&&(De.H=wt),De.D&&(Ei(De),vi(De)),S.g=ne}else Au(S);v.i.length>0&&Ii(v)}else $e[0]!="stop"&&$e[0]!="close"||Ci(v,7);else v.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ci(v,7):Bl(v):$e[0]!="noop"&&v.l&&v.l.qa($e),v.A=0)}}mi(4)}catch{}}var Dt=class{constructor(u,m){this.g=u,this.map=m}};function Cl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bi(u){return u.h?1:u.g?u.g.size:0}function Si(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Dl(u,m){u.g?u.g.add(m):u.h=m}function Ol(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Cl.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ml(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let L,B=null;S>=0?(L=u[v].substring(0,S),B=u[v].substring(S+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,Ft(this,u.j),this.o=u.o,this.g=u.g,xs(this,u.u),this.h=u.h,kl(this,bu(u.i)),this.m=u.m):u&&(m=String(u).match(_u))?(this.l=!1,Ft(this,m[1]||"",!0),this.o=Ai(m[2]||""),this.g=Ai(m[3]||"",!0),xs(this,m[4]),this.h=Ai(m[5]||"",!0),kl(this,m[6]||"",!0),this.m=Ai(m[7]||"")):(this.l=!1,this.i=new Is(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Mr(m,ga,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Mr(m,ga,!0),"@"),u.push(Yi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Mr(v,v.charAt(0)=="/"?Vl:vu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Mr(v,Eu)),u.join("")},An.prototype.resolve=function(u){const m=Ot(this);let v=!!u.j;v?Ft(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)xs(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ne=0;ne<L.length;){const De=L[ne++];De=="."?S&&ne==L.length&&B.push(""):De==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&ne==L.length&&B.push("")):(B.push(De),S=!0)}S=B.join("/")}else S=L}return v?m.h=S:v=u.i.toString()!=="",v?kl(m,bu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ot(u){return new An(u)}function Ft(u,m,v){u.j=v?Ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function xs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function kl(u,m,v){m instanceof Is?(u.i=m,_a(u.i,u.l)):(v||(m=Mr(m,Rs)),u.i=new Is(m,u.l))}function tt(u,m,v){u.i.set(m,v)}function Or(u){return tt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,dn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ga=/[#\/\?@]/g,vu=/[#\?:]/g,Vl=/[#\?]/g,Rs=/[#\?@]/g,Eu=/#/g;function Is(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&pa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Is.prototype,s.add=function(u,m){mn(this),this.i=null,u=Cs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Tu(u,m){mn(u),m=Cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function jl(u,m){return mn(u),m=Cs(u,m),u.g.has(m)}s.forEach=function(u,m){mn(this),this.g.forEach(function(v,S){v.forEach(function(L){u.call(m,L,S,this)},this)},this)};function Ll(u,m){mn(u);let v=[];if(typeof m=="string")jl(u,m)&&(v=v.concat(u.g.get(Cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return mn(this),this.i=null,u=Cs(this,u),jl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ll(this,u),u.length>0?String(u[0]):m):m};function ya(u,m,v){Tu(u,m),v.length>0&&(u.i=null,u.g.set(Cs(u,m),q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const L=Yi(v);v=Ll(this,v);for(let B=0;B<v.length;B++){let ne=L;v[B]!==""&&(ne+="="+Yi(v[B])),u.push(ne)}}return this.i=u.join("&")};function bu(u){const m=new Is;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function _a(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(Tu(this,S),ya(this,L,v))},u)),u.j=m}function ti(u,m){const v=new Jn;if(d.Image){const S=new Image;S.onload=E(Ln,v,"TestLoadImage: loaded",!0,m,S),S.onerror=E(Ln,v,"TestLoadImage: error",!1,m,S),S.onabort=E(Ln,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=E(Ln,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Ul(u,m){const v=new Jn,S=new AbortController,L=setTimeout(()=>{S.abort(),Ln(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(B=>{clearTimeout(L),B.ok?Ln(v,"TestPingServer: ok",!0,m):Ln(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Ln(v,"TestPingServer: error",!1,m)})}function Ln(u,m,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function Ns(){this.g=new Ki}function wi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(wi,cu),wi.prototype.g=function(){return new kr(this.i,this.h)};function kr(u,m){Z.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(kr,Z),s=kr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ni(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;va(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function va(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ds(this):ni(this),this.readyState==3&&va(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ds(this))},s.Na=function(u){this.g&&(this.response=u,Ds(this))},s.ga=function(){this.g&&Ds(this)};function Ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ni(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ni(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let m="";return He(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Vr(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Un(v),typeof u=="string"?v!=null&&Yi(v):tt(u,m,v))}function rt(u){Z.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(rt,Z);var xi=/^https?$/i,zl=["POST","PUT"];s=rt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Il.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){jr(this,B);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())v.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(zl,m,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of v)this.g.setRequestHeader(B,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){jr(this,B)}};function jr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Pl(u),Qi(u)}function Pl(u){u.A||(u.A=!0,J(u,"complete"),J(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,J(this,"complete"),J(this,"abort"),Qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),rt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Lr(this):this.Xa())},s.Xa=function(){Lr(this)};function Lr(u){if(u.h&&typeof c<"u"){if(u.v&&ii(u)==4)setTimeout(u.Ca.bind(u),0);else if(J(u,"readystatechange"),ii(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=B===0){let ne=String(u.D).match(_u)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),S=!xi.test(ne?ne.toLowerCase():"")}v=S}if(v)J(u,"complete"),J(u,"success");else{u.o=6;try{var L=ii(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Pl(u)}}finally{Qi(u)}}}}function Qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||J(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ii(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xl(m)}};function Qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const m={};u=(u.g&&ii(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(x(u[S]))continue;var v=pu(u[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ae(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Os(u){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,u),this.Za=Ri("retryDelaySeedMs",1e4,u),this.Ta=Ri("forwardChannelMaxRetries",2,u),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Cl(u&&u.concurrentRequestLimit),this.Ba=new Ns,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Os.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,S){Ct(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Cu(this,null,this.W),Ii(this)};function Bl(u){if(Ea(u),u.I==3){var m=u.V++,v=Ot(u.J);if(tt(v,"SID",u.M),tt(v,"RID",m),tt(v,"TYPE","terminate"),Ur(u,v),m=new Zn(u,u.j,m),m.M=2,m.A=Or(Ot(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),vi(m)}Iu(u)}function Ms(u){u.g&&(Hl(u),u.g.cancel(),u.g=null)}function Ea(u){Ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),ba(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ii(u){if(!Nl(u.h)&&!u.m){u.m=!0;var m=u.Ea;mt||w(),je||(mt(),je=!0),I.add(m,u),u.D=0}}function Ta(u,m){return bi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=gi(y(u.Ea,u,m),Ru(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Su(this,L,m),v=Ot(this.J),tt(v,"RID",u),tt(v,"CVER",22),this.G&&tt(v,"X-HTTP-Session-Id",this.G),Ur(this,v),B&&(this.R?m="headers="+Yi(Un(B))+"&"+m:this.u&&Vr(v,this.u,B)),Dl(this.h,L),this.Ra&&tt(v,"TYPE","init"),this.S?(tt(v,"$req",m),tt(v,"SID","null"),L.U=!0,_i(L,v,null)):_i(L,v,m),this.I=2}}else this.I==3&&(u?ql(this,u):this.i.length==0||Nl(this.h)||ql(this))};function ql(u,m){var v;m?v=m.l:v=u.V++;const S=Ot(u.J);tt(S,"SID",u.M),tt(S,"RID",v),tt(S,"AID",u.K),Ur(u,S),u.u&&u.o&&Vr(S,u.u,u.o),v=new Zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Su(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Dl(u.h,v),_i(v,S,m)}function Ur(u,m){u.H&&He(u.H,function(v,S){tt(m,S,v)}),u.l&&He({},function(v,S){tt(m,S,v)})}function Su(u,m,v){v=Math.min(u.i.length,v);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let De=-1;for(;;){const wt=["count="+v];De==-1?v>0?(De=L[0].g,wt.push("ofs="+De)):De=0:wt.push("ofs="+De);let $e=!0;for(let gt=0;gt<v;gt++){var B=L[gt].g;const zn=L[gt].map;if(B-=De,B<0)De=Math.max(0,L[gt].g-100),$e=!1;else try{B="req"+B+"_"||"";try{var ne=zn instanceof Map?zn:Object.entries(zn);for(const[Ni,si]of ne){let ri=si;g(si)&&(ri=Ze(si)),wt.push(B+Ni+"="+encodeURIComponent(ri))}}catch(Ni){throw wt.push(B+"type="+encodeURIComponent("_badmap")),Ni}}catch{S&&S(zn)}}if($e){ne=wt.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),m.G=u,ne}function Au(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;mt||w(),je||(mt(),je=!0),I.add(m,u),u.A=0}}function zr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=gi(y(u.Da,u),Ru(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=gi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Ms(this),wu(this))};function Hl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function wu(u){u.g=new Zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ot(u.na);tt(m,"RID","rpc"),tt(m,"SID",u.M),tt(m,"AID",u.K),tt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&tt(m,"TO",u.ia),tt(m,"TYPE","xmlhttp"),Ur(u,m),u.u&&u.o&&Vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Or(Ot(m)),v.u=null,v.R=!0,da(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ms(this),zr(this),Ct(19))};function ba(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function xu(u,m){var v=null;if(u.g==m){ba(u),Hl(u),u.g=null;var S=2}else if(Si(u.h,m))v=m.G,Ol(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;S=fa(),J(S,new pi(S,v)),Ii(u)}else Au(u);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&Ta(u,m)||S==2&&zr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function Ru(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ci(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),S=u.Ua;const L=!S;S=new An(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ft(S,"https"),Or(S),L?ti(S.toString(),v):Ul(S.toString(),v)}else Ct(2);u.I=0,u.l&&u.l.pa(m),Iu(u),Ea(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Iu(u){if(u.I=0,u.ja=[],u.l){const m=Ml(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Cu(u,m,v){var S=v instanceof An?Ot(v):new An(v);if(S.g!="")m&&(S.g=m+"."+S.g),xs(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new An(null);S&&Ft(B,S),m&&(B.g=m),L&&xs(B,L),v&&(B.h=v),S=B}return v=u.G,m=u.wa,v&&m&&tt(S,v,m),tt(S,"VER",u.ka),Ur(u,S),S}function Nu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new rt(new wi({ab:v})):new rt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ks(){}ks.prototype.g=function(u,m){return new on(u,m)};function on(u,m){Z.call(this),this.g=new Os(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $i(this)}A(on,Z),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Bl(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ze(u),u=v);m.i.push(new Dt(m.Ya++,u)),m.I==3&&Ii(m)},on.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,on.Z.N.call(this)};function Ou(u){Yt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Ou,Yt);function Mu(){Vn.call(this),this.status=1}A(Mu,Vn);function $i(u){this.g=u}A($i,Du),$i.prototype.ra=function(){J(this.g,"a")},$i.prototype.qa=function(u){J(this.g,new Ou(u))},$i.prototype.pa=function(u){J(this.g,new Mu)},$i.prototype.oa=function(){J(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,U1=function(){return new ks},L1=function(){return fa()},j1=At,Tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nr.NO_ERROR=0,Nr.TIMEOUT=8,Nr.HTTP_ERROR=6,Xc=Nr,Rl.COMPLETE="complete",V1=Rl,hu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Z.prototype.listen=Z.prototype.J,Do=hu,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,k1=rt}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let bl="12.8.0";function Pw(s){bl=s}const la=new Pm("@firebase/firestore");function Za(){return la.logLevel}function le(s,...e){if(la.logLevel<=Pe.DEBUG){const i=e.map(Wm);la.debug(`Firestore (${bl}): ${s}`,...i)}}function Ts(s,...e){if(la.logLevel<=Pe.ERROR){const i=e.map(Wm);la.error(`Firestore (${bl}): ${s}`,...i)}}function hl(s,...e){if(la.logLevel<=Pe.WARN){const i=e.map(Wm);la.warn(`Firestore (${bl}): ${s}`,...i)}}function Wm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ve(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,z1(s,a,i)}function z1(s,e,i){let a=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ts(a),new Error(a)}function et(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||z1(e,o,a)}function xe(s,e){return s}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ss{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class P1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class qw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Hw{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){et(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new pr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new pr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(et(typeof a.accessToken=="string",31837,{l:a}),new P1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class Fw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Gw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Fw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){et(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(et(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new V_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Yw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Yw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Be(s,e){return s<e?-1:s>e?1:0}function bm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Jd(o)===Jd(c)?Be(o,c):Jd(o)?1:-1}return Be(s.length,e.length)}const Qw=55296,Xw=57343;function Jd(s){const e=s.charCodeAt(0);return e>=Qw&&e<=Xw}function fl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const j_="__name__";class Vi{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Vi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Be(e.length,i.length)}static compareSegments(e,i){const a=Vi.isNumericId(e),o=Vi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(i)):bm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class vt extends Vi{construct(e,i,a){return new vt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new vt(i)}static emptyPath(){return new vt([])}}const $w=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Vi{construct(e,i,a){return new en(e,i,a)}static isValidIdentifier(e){return $w.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j_}static keyField(){return new en([j_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new fe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new fe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new fe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new fe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(i)}static emptyPath(){return new en([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(vt.fromString(e))}static fromName(e){return new ge(vt.fromString(e).popFirst(5))}static empty(){return new ge(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return vt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new vt(e.slice()))}}function Ww(s,e,i){if(!i)throw new fe(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Jw(s,e,i,a){if(e===!0&&a===!0)throw new fe(W.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function L_(s){if(!ge.isDocumentKey(s))throw new fe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function B1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Zm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function ci(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Zm(s);throw new fe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ut(s,e){const i={typeString:s};return e&&(i.value=e),i}function su(s,e){if(!B1(s))throw new fe(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new fe(W.INVALID_ARGUMENT,i);return!0}const U_=-62135596800,z_=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*z_);return new dt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new fe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new fe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<U_)throw new fe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Ut("string",dt._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new dt(0,0))}static max(){return new Se(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ho=-1;function Zw(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(a===1e9?new dt(i+1,0):new dt(i,a));return new _r(o,ge.empty(),e)}function ex(s){return new _r(s.readTime,s.key,Ho)}class _r{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new _r(Se.min(),ge.empty(),Ho)}static max(){return new _r(Se.max(),ge.empty(),Ho)}}function tx(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(s.documentKey,e.documentKey),i!==0?i:Be(s.largestBatchId,e.largestBatchId))}const nx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ix{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Sl(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==nx)throw s;le("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((E=>{d[y]=E,++g,g===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function sx(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Al(s){return s.name==="IndexedDbTransactionError"}class wh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wh.ce=-1;const ep=-1;function xh(s){return s==null}function uh(s){return s===0&&1/s==-1/0}function rx(s){return typeof s=="number"&&Number.isInteger(s)&&!uh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const q1="";function ax(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=P_(e)),e=lx(s.get(i),e);return P_(e)}function lx(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case q1:i+="";break;default:i+=c}}return i}function P_(s){return s+q1+""}function B_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ar(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function H1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Et{constructor(e,i){this.comparator=e,this.root=i||Zt.EMPTY}insert(e,i){return new Et(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Zt.RED,this.left=o??Zt.EMPTY,this.right=c??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Zt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Zt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new qt(this.comparator);return i.data=e,i}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Mn([])}unionWith(e){let i=new qt(en.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class F1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new F1("Invalid base64 string: "+c):c}})(e);return new tn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new tn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const ox=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(s){if(et(!!s,39018),typeof s=="string"){let e=0;const i=ox.exec(s);if(et(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:It(s.seconds),nanos:It(s.nanos)}}function It(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Er(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}const G1="server_timestamp",K1="__type__",Y1="__previous_value__",Q1="__local_write_time__";function tp(s){return(s?.mapValue?.fields||{})[K1]?.stringValue===G1}function Rh(s){const e=s.mapValue.fields[Y1];return tp(e)?Rh(e):e}function Fo(s){const e=vr(s.mapValue.fields[Q1].timestampValue);return new dt(e.seconds,e.nanos)}class ux{constructor(e,i,a,o,c,d,g,_,y,E,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=A}}const ch="(default)";class Go{constructor(e,i){this.projectId=e,this.database=i||ch}static empty(){return new Go("","")}get isDefaultDatabase(){return this.database===ch}isEqual(e){return e instanceof Go&&e.projectId===this.projectId&&e.database===this.database}}function cx(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new fe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(s.options.projectId,e)}const X1="__type__",hx="__max__",Pc={mapValue:{}},$1="__vector__",hh="value";function Tr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?tp(s)?4:dx(s)?9007199254740991:fx(s)?10:11:ve(28295,{value:s})}function Bi(s,e){if(s===e)return!0;const i=Tr(s);if(i!==Tr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Fo(s).isEqual(Fo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=vr(o.timestampValue),g=vr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Er(o.bytesValue).isEqual(Er(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return It(o.geoPointValue.latitude)===It(c.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return It(o.integerValue)===It(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=It(o.doubleValue),g=It(c.doubleValue);return d===g?uh(d)===uh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return fl(s.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(B_(d)!==B_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Bi(d[_],g[_])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function Ko(s,e){return(s.values||[]).find((i=>Bi(i,e)))!==void 0}function dl(s,e){if(s===e)return 0;const i=Tr(s),a=Tr(e);if(i!==a)return Be(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Be(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=It(c.integerValue||c.doubleValue),_=It(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return H_(s.timestampValue,e.timestampValue);case 4:return H_(Fo(s),Fo(e));case 5:return bm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=Er(c),_=Er(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const E=Be(g[y],_[y]);if(E!==0)return E}return Be(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Be(It(c.latitude),It(d.latitude));return g!==0?g:Be(It(c.longitude),It(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return F_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[hh]?.arrayValue,E=_[hh]?.arrayValue,A=Be(y?.values?.length||0,E?.values?.length||0);return A!==0?A:F_(y,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Pc.mapValue&&d===Pc.mapValue)return 0;if(c===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let A=0;A<_.length&&A<E.length;++A){const N=bm(_[A],E[A]);if(N!==0)return N;const q=dl(g[_[A]],y[E[A]]);if(q!==0)return q}return Be(_.length,E.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function H_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Be(s,e);const i=vr(s),a=vr(e),o=Be(i.seconds,a.seconds);return o!==0?o:Be(i.nanos,a.nanos)}function F_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=dl(i[o],a[o]);if(c)return c}return Be(i.length,a.length)}function ml(s){return Sm(s)}function Sm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=vr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Er(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ge.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=Sm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${Sm(i.fields[d])}`;return o+"}"})(s.mapValue):ve(61005,{value:s})}function $c(s){switch(Tr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rh(s);return e?16+$c(e):16;case 5:return 2*s.stringValue.length;case 6:return Er(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+$c(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Ar(a.fields,((c,d)=>{o+=c.length+$c(d)})),o})(s.mapValue);default:throw ve(13486,{value:s})}}function Am(s){return!!s&&"integerValue"in s}function np(s){return!!s&&"arrayValue"in s}function G_(s){return!!s&&"nullValue"in s}function K_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Wc(s){return!!s&&"mapValue"in s}function fx(s){return(s?.mapValue?.fields||{})[X1]?.stringValue===$1}function Lo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ar(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Lo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Lo(s.arrayValue.values[i]);return e}return{...s}}function dx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===hx}class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Wc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lo(i)}setAll(e){let i=en.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Lo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Wc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ar(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new bn(Lo(this.value))}}function W1(s){const e=[];return Ar(s.fields,((i,a)=>{const o=new en([i]);if(Wc(a)){const c=W1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Mn(e)}class an{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new an(e,0,Se.min(),Se.min(),Se.min(),bn.empty(),0)}static newFoundDocument(e,i,a,o){return new an(e,1,i,Se.min(),a,o,0)}static newNoDocument(e,i){return new an(e,2,i,Se.min(),Se.min(),bn.empty(),0)}static newUnknownDocument(e,i){return new an(e,3,i,Se.min(),Se.min(),bn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fh{constructor(e,i){this.position=e,this.inclusive=i}}function Y_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=ge.comparator(ge.fromName(d.referenceValue),i.key):a=dl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Q_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Bi(s.position[i],e.position[i]))return!1;return!0}class dh{constructor(e,i="asc"){this.field=e,this.dir=i}}function mx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class J1{}class Bt extends J1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new gx(e,i,a):i==="array-contains"?new vx(e,a):i==="in"?new Ex(e,a):i==="not-in"?new Tx(e,a):i==="array-contains-any"?new bx(e,a):new Bt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new yx(e,a):new _x(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(dl(i,this.value)):i!==null&&Tr(this.value)===Tr(i)&&this.matchesComparison(dl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends J1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new qi(e,i)}matches(e){return Z1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Z1(s){return s.op==="and"}function eE(s){return px(s)&&Z1(s)}function px(s){for(const e of s.filters)if(e instanceof qi)return!1;return!0}function wm(s){if(s instanceof Bt)return s.field.canonicalString()+s.op.toString()+ml(s.value);if(eE(s))return s.filters.map((e=>wm(e))).join(",");{const e=s.filters.map((i=>wm(i))).join(",");return`${s.op}(${e})`}}function tE(s,e){return s instanceof Bt?(function(a,o){return o instanceof Bt&&a.op===o.op&&a.field.isEqual(o.field)&&Bi(a.value,o.value)})(s,e):s instanceof qi?(function(a,o){return o instanceof qi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&tE(d,o.filters[g])),!0):!1})(s,e):void ve(19439)}function nE(s){return s instanceof Bt?(function(i){return`${i.field.canonicalString()} ${i.op} ${ml(i.value)}`})(s):s instanceof qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(nE).join(" ,")+"}"})(s):"Filter"}class gx extends Bt{constructor(e,i,a){super(e,i,a),this.key=ge.fromName(a.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class yx extends Bt{constructor(e,i){super(e,"in",i),this.keys=iE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class _x extends Bt{constructor(e,i){super(e,"not-in",i),this.keys=iE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function iE(s,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class vx extends Bt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return np(i)&&Ko(i.arrayValue,this.value)}}class Ex extends Bt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ko(this.value.arrayValue,i)}}class Tx extends Bt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ko(this.value.arrayValue,i)}}class bx extends Bt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!np(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ko(this.value.arrayValue,a)))}}class Sx{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function X_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new Sx(s,e,i,a,o,c,d)}function ip(s){const e=xe(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>wm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),xh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>ml(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>ml(a))).join(",")),e.Te=i}return e.Te}function sp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!mx(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!tE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Q_(s.startAt,e.startAt)&&Q_(s.endAt,e.endAt)}function xm(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ih{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Ax(s,e,i,a,o,c,d,g){return new Ih(s,e,i,a,o,c,d,g)}function Ch(s){return new Ih(s)}function $_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function wx(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function xx(s){return s.collectionGroup!==null}function Uo(s){const e=xe(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new qt(en.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new dh(c,a))})),i.has(en.keyField().canonicalString())||e.Ie.push(new dh(en.keyField(),a))}return e.Ie}function Ui(s){const e=xe(s);return e.Ee||(e.Ee=Rx(e,Uo(s))),e.Ee}function Rx(s,e){if(s.limitType==="F")return X_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new dh(o.field,c)}));const i=s.endAt?new fh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new fh(s.startAt.position,s.startAt.inclusive):null;return X_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Rm(s,e,i){return new Ih(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Nh(s,e){return sp(Ui(s),Ui(e))&&s.limitType===e.limitType}function sE(s){return`${ip(Ui(s))}|lt:${s.limitType}`}function el(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>nE(o))).join(", ")}]`),xh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>ml(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>ml(o))).join(",")),`Target(${a})`})(Ui(s))}; limitType=${s.limitType})`}function Dh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ge.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Uo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,_){const y=Y_(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,Uo(a),o)||a.endAt&&!(function(d,g,_){const y=Y_(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,Uo(a),o))})(s,e)}function Ix(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function rE(s){return(e,i)=>{let a=!1;for(const o of Uo(s)){const c=Cx(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Cx(s,e,i){const a=s.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?dl(_,y):ve(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:s.dir})}}class ca{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ar(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return H1(this.inner)}size(){return this.innerSize}}const Nx=new Et(ge.comparator);function bs(){return Nx}const aE=new Et(ge.comparator);function Oo(...s){let e=aE;for(const i of s)e=e.insert(i.key,i);return e}function lE(s){let e=aE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ia(){return zo()}function oE(){return zo()}function zo(){return new ca((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Dx=new Et(ge.comparator),Ox=new qt(ge.comparator);function qe(...s){let e=Ox;for(const i of s)e=e.add(i);return e}const Mx=new qt(Be);function kx(){return Mx}function rp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function uE(s){return{integerValue:""+s}}function Vx(s,e){return rx(e)?uE(e):rp(s,e)}class Oh{constructor(){this._=void 0}}function jx(s,e,i){return s instanceof mh?(function(o,c){const d={fields:{[K1]:{stringValue:G1},[Q1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&tp(c)&&(c=Rh(c)),c&&(d.fields[Y1]=c),{mapValue:d}})(i,e):s instanceof pl?hE(s,e):s instanceof Yo?fE(s,e):(function(o,c){const d=cE(o,c),g=W_(d)+W_(o.Ae);return Am(d)&&Am(o.Ae)?uE(g):rp(o.serializer,g)})(s,e)}function Lx(s,e,i){return s instanceof pl?hE(s,e):s instanceof Yo?fE(s,e):i}function cE(s,e){return s instanceof ph?(function(a){return Am(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class mh extends Oh{}class pl extends Oh{constructor(e){super(),this.elements=e}}function hE(s,e){const i=dE(e);for(const a of s.elements)i.some((o=>Bi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Yo extends Oh{constructor(e){super(),this.elements=e}}function fE(s,e){let i=dE(e);for(const a of s.elements)i=i.filter((o=>!Bi(o,a)));return{arrayValue:{values:i}}}class ph extends Oh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function W_(s){return It(s.integerValue||s.doubleValue)}function dE(s){return np(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Ux{constructor(e,i){this.field=e,this.transform=i}}function zx(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof pl&&o instanceof pl||a instanceof Yo&&o instanceof Yo?fl(a.elements,o.elements,Bi):a instanceof ph&&o instanceof ph?Bi(a.Ae,o.Ae):a instanceof mh&&o instanceof mh})(s.transform,e.transform)}class Px{constructor(e,i){this.version=e,this.transformResults=i}}class hi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Mh{}function mE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ap(s.key,hi.none()):new ru(s.key,s.data,hi.none());{const i=s.data,a=bn.empty();let o=new qt(en.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new wr(s.key,a,new Mn(o.toArray()),hi.none())}}function Bx(s,e,i){s instanceof ru?(function(o,c,d){const g=o.value.clone(),_=Z_(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof wr?(function(o,c,d){if(!Jc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Z_(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(pE(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Po(s,e,i,a){return s instanceof ru?(function(c,d,g,_){if(!Jc(c.precondition,d))return g;const y=c.value.clone(),E=ev(c.fieldTransforms,_,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof wr?(function(c,d,g,_){if(!Jc(c.precondition,d))return g;const y=ev(c.fieldTransforms,_,d),E=d.data;return E.setAll(pE(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,a):(function(c,d,g){return Jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function qx(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=cE(a.transform,o||null);c!=null&&(i===null&&(i=bn.empty()),i.set(a.field,c))}return i||null}function J_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&fl(a,o,((c,d)=>zx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ru extends Mh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wr extends Mh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function pE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Z_(s,e,i){const a=new Map;et(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,Lx(d,g,i[o]))}return a}function ev(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,jx(c,d,e))}return a}class ap extends Mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hx extends Mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Fx{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Bx(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Po(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Po(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=oE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=mE(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,((i,a)=>J_(i,a)))&&fl(this.baseMutations,e.baseMutations,((i,a)=>J_(i,a)))}}class lp{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){et(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return Dx})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new lp(e,i,a,o)}}class Gx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Kx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Lt,Ge;function Yx(s){switch(s){case W.OK:return ve(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function gE(s){if(s===void 0)return Ts("GRPC error has no .code"),W.UNKNOWN;switch(s){case Lt.OK:return W.OK;case Lt.CANCELLED:return W.CANCELLED;case Lt.UNKNOWN:return W.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return W.INTERNAL;case Lt.UNAVAILABLE:return W.UNAVAILABLE;case Lt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Lt.NOT_FOUND:return W.NOT_FOUND;case Lt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Lt.ABORTED:return W.ABORTED;case Lt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Lt.DATA_LOSS:return W.DATA_LOSS;default:return ve(39323,{code:s})}}(Ge=Lt||(Lt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function Qx(){return new TextEncoder}const Xx=new mr([4294967295,4294967295],0);function tv(s){const e=Qx().encode(s),i=new M1;return i.update(e),new Uint8Array(i.digest())}function nv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new mr([i,a],0),new mr([o,c],0)]}class op{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Mo(`Invalid padding: ${i}`);if(a<0)throw new Mo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=mr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(mr.fromNumber(a)));return o.compare(Xx)===1&&(o=new mr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=tv(e),[a,o]=nv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new op(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=tv(e),[a,o]=nv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new kh(Se.min(),o,new Et(Be),bs(),qe())}}class au{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new au(a,i,qe(),qe(),qe())}}class Zc{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class yE{constructor(e,i){this.targetId=e,this.Ce=i}}class _E{constructor(e,i,a=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class iv{constructor(){this.ve=0,this.Fe=sv(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),a=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ve(38017,{changeType:c})}})),new au(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=sv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class $x{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.He=Bc(),this.Je=Bc(),this.Ze=new Et(Be)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(xm(c))if(a===0){const d=new ge(c.path);this.et(i,d,an.newNoDocument(d,Se.min()))}else et(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Er(a).toUint8Array()}catch(_){if(_ instanceof F1)return hl("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new op(d,o,c)}catch(_){return hl(_ instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&xm(g.target)){const _=new ge(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,an.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=qe();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new kh(e,i,this.Ze,this.je,a);return this.je=bs(),this.He=Bc(),this.Je=Bc(),this.Ze=new Et(Be),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new iv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new qt(Be),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new qt(Be),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Bc(){return new Et(ge.comparator)}function sv(){return new Et(ge.comparator)}const Wx={asc:"ASCENDING",desc:"DESCENDING"},Jx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zx={and:"AND",or:"OR"};class eR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Im(s,e){return s.useProto3Json||xh(e)?e:{value:e}}function gh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function tR(s,e){return gh(s,e.toTimestamp())}function zi(s){return et(!!s,49232),Se.fromTimestamp((function(i){const a=vr(i);return new dt(a.seconds,a.nanos)})(s))}function up(s,e){return Cm(s,e).canonicalString()}function Cm(s,e){const i=(function(o){return new vt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function EE(s){const e=vt.fromString(s);return et(wE(e),10190,{key:e.toString()}),e}function Nm(s,e){return up(s.databaseId,e.path)}function Zd(s,e){const i=EE(e);if(i.get(1)!==s.databaseId.projectId)throw new fe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new fe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ge(bE(i))}function TE(s,e){return up(s.databaseId,e)}function nR(s){const e=EE(s);return e.length===4?vt.emptyPath():bE(e)}function Dm(s){return new vt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function bE(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function rv(s,e,i){return{name:Nm(s,e),fields:i.value.mapValue.fields}}function iR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(et(E===void 0||typeof E=="string",58123),tn.fromBase64String(E||"")):(et(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),tn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const E=y.code===void 0?W.UNKNOWN:gE(y.code);return new fe(E,y.message||"")})(d);i=new _E(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Zd(s,a.document.name),c=zi(a.document.updateTime),d=a.document.createTime?zi(a.document.createTime):Se.min(),g=new bn({mapValue:{fields:a.document.fields}}),_=an.newFoundDocument(o,c,d,g),y=a.targetIds||[],E=a.removedTargetIds||[];i=new Zc(y,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Zd(s,a.document),c=a.readTime?zi(a.readTime):Se.min(),d=an.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Zc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Zd(s,a.document),c=a.removedTargetIds||[];i=new Zc([],c,o,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Kx(o,c),g=a.targetId;i=new yE(g,d)}}return i}function sR(s,e){let i;if(e instanceof ru)i={update:rv(s,e.key,e.value)};else if(e instanceof ap)i={delete:Nm(s,e.key)};else if(e instanceof wr)i={update:rv(s,e.key,e.data),updateMask:dR(e.fieldMask)};else{if(!(e instanceof Hx))return ve(16599,{dt:e.type});i={verify:Nm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof mh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof pl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Yo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ph)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:tR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(s,e.precondition)),i}function rR(s,e){return s&&s.length>0?(et(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?zi(o.updateTime):zi(c);return d.isEqual(Se.min())&&(d=zi(c)),new Px(d,o.transformResults||[])})(i,e)))):[]}function aR(s,e){return{documents:[TE(s,e.path)]}}function lR(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=TE(s,o);const c=(function(y){if(y.length!==0)return AE(qi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(N){return{field:tl(N.field),direction:cR(N.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Im(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function oR(s){let e=nR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){et(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const N=SE(A);return N instanceof qi&&eE(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((N=>(function(ee){return new dh(nl(ee.field),(function(re){switch(re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let N;return N=typeof A=="object"?A.value:A,xh(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(A){const N=!!A.before,q=A.values||[];return new fh(q,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const N=!A.before,q=A.values||[];return new fh(q,N)})(i.endAt)),Ax(e,o,d,c,g,"F",_,y)}function uR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function SE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=nl(i.unaryFilter.field);return Bt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=nl(i.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=nl(i.unaryFilter.field);return Bt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=nl(i.unaryFilter.field);return Bt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Bt.create(nl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return qi.create(i.compositeFilter.filters.map((a=>SE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(s):ve(30097,{filter:s})}function cR(s){return Wx[s]}function hR(s){return Jx[s]}function fR(s){return Zx[s]}function tl(s){return{fieldPath:s.canonicalString()}}function nl(s){return en.fromServerFormat(s.fieldPath)}function AE(s){return s instanceof Bt?(function(i){if(i.op==="=="){if(K_(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NAN"}};if(G_(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(K_(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NOT_NAN"}};if(G_(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(i.field),op:hR(i.op),value:i.value}}})(s):s instanceof qi?(function(i){const a=i.getFilters().map((o=>AE(o)));return a.length===1?a[0]:{compositeFilter:{op:fR(i.op),filters:a}}})(s):ve(54877,{filter:s})}function dR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function wE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function xE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class ur{constructor(e,i,a,o,c=Se.min(),d=Se.min(),g=tn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mR{constructor(e){this.yt=e}}function pR(s){const e=oR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Rm(e,e.limit,"L"):e}class gR{constructor(){this.Sn=new yR}addToCollectionParentIndex(e,i){return this.Sn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(_r.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class yR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new qt(vt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new qt(vt.comparator)).toArray()}}const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RE=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(RE,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class gl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new gl(0)}static ar(){return new gl(-1)}}const lv="LruGarbageCollector",_R=1048576;function ov([s,e],[i,a]){const o=Be(s,i);return o===0?Be(e,a):o}class vR{constructor(e){this.Pr=e,this.buffer=new qt(ov),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ov(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ER{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(lv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Al(i)?le(lv,"Ignoring IndexedDB error during garbage collection: ",i):await Sl(i)}await this.Ar(3e5)}))}}class TR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(wh.ce);const a=new vR(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(av)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),av):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,d,g,_,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,g=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(y=Date.now(),Za()<=Pe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function bR(s,e){return new TR(s,e)}class SR{constructor(){this.changes=new ca((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class AR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class wR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Po(a.mutation,o,Mn.empty(),dt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=qe()){const o=ia();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Oo();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ia();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,qe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=bs();const d=zo(),g=(function(){return zo()})();return i.forEach(((_,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof wr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Po(E.mutation,y,E.mutation.getFieldMask(),dt.now())):d.set(y.key,Mn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>g.set(y,new AR(E,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=zo();let o=new Et(((d,g)=>d-g)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let E=a.get(_)||Mn.empty();E=g.applyToLocalView(y,E),a.set(_,E);const A=(o.get(g.batchId)||qe()).add(_);o=o.insert(g.batchId,A)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,E=_.value,A=oE();E.forEach((N=>{if(!c.has(N)){const q=mE(i.get(N),a.get(N));q!==null&&A.set(N,q),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return wx(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):xx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve(ia());let g=Ho,_=c;return d.next((y=>X.forEach(y,((E,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next((N=>{_=_.insert(E,N)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,qe()))).next((E=>({batchId:g,changes:lE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((a=>{let o=Oo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Oo();return this.indexManager.getCollectionParents(e,c).next((g=>X.forEach(g,(_=>{const y=(function(A,N){return new Ih(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((E=>{E.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((_,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,an.newInvalidDocument(E)))}));let g=Oo();return d.forEach(((_,y)=>{const E=c.get(_);E!==void 0&&Po(E.mutation,y,Mn.empty(),dt.now()),Dh(i,y)&&(g=g.insert(_,y))})),g}))}}class xR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:pR(o.bundledQuery),readTime:zi(o.readTime)}})(i)),X.resolve()}}class RR{constructor(){this.overlays=new Et(ge.comparator),this.Lr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ia();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=ia(),c=i.length+1,d=new ge(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new Et(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=ia(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=ia(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=o)););return X.resolve(g)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Gx(i,a));let c=this.Lr.get(i);c===void 0&&(c=qe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class IR{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class cp{constructor(){this.kr=new qt(Kt.Kr),this.qr=new qt(Kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Kt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Kt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new ge(new vt([])),a=new Kt(i,e),o=new Kt(i,e+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ge(new vt([])),a=new Kt(i,e),o=new Kt(i,e+1);let c=qe();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Kt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Kt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ge.comparator(e.key,i.key)||Be(e.Hr,i.Hr)}static Ur(e,i){return Be(e.Hr,i.Hr)||ge.comparator(e.key,i.key)}}class CR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new qt(Kt.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Fx(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new Kt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?ep:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Kt(i,0),o=new Kt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new qt(Be);return i.forEach((o=>{const c=new Kt(o,0),d=new Kt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ge.isDocumentKey(c)||(c=c.child(""));const d=new Kt(new ge(c),0);let g=new qt(Be);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Hr)),!0)}),d),X.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){et(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(o=>{const c=new Kt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Kt(i,0),o=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class NR{constructor(e){this.ti=e,this.docs=(function(){return new Et(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(e,i){let a=bs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():an.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=bs();const d=i.path,g=new ge(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||tx(ex(E),a)<=0||(o.has(E.key)||Dh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){ve(9500)}ni(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new DR(this)}getSize(e){return X.resolve(this.size)}}class DR extends SR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class OR{constructor(e){this.persistence=e,this.ri=new ca((i=>ip(i)),sp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new cp,this.targetCount=0,this.oi=gl._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new gl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.lr(i),X.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this.si.containsKey(i))}}class IE{constructor(e,i){this._i={},this.overlays={},this.ai=new wh(0),this.ui=!1,this.ui=!0,this.ci=new IR,this.referenceDelegate=e(this),this.li=new OR(this),this.indexManager=new gR,this.remoteDocumentCache=(function(o){return new NR(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new mR(i),this.Pi=new xR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new RR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new CR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const o=new MR(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class MR extends ix{constructor(e){super(),this.currentSequenceNumber=e}}class hp{constructor(e){this.persistence=e,this.Ri=new cp,this.Ai=null}static Vi(e){return new hp(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const o=ge.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class yh{constructor(e,i){this.persistence=e,this.fi=new ca((a=>ax(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=bR(this,i)}static Vi(e,i){return new yh(e,i)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return X.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=$c(e.data.value)),i}wr(e,i,a){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class fp{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=qe(),o=qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new fp(e,i.fromCache,a,o)}}class kR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class VR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return _S()?8:sx(ln())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new kR;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(Za()<=Pe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",el(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Za()<=Pe.DEBUG&&le("QueryEngine","Query:",el(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Za()<=Pe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",el(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(i))):X.resolve())}gs(e,i){if($_(i))return X.resolve(null);let a=Ui(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Rm(i,null,"F"),a=Ui(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=qe(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.bs(i,g);return this.Ss(i,y,d,_.readTime)?this.gs(e,Rm(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,a,o){return $_(i)||o.isEqual(Se.min())?X.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?X.resolve(null):(Za()<=Pe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),el(i)),this.Ds(e,d,i,Zw(o,Ho)).next((g=>g)))}))}bs(e,i){let a=new qt(rE(e));return i.forEach(((o,c)=>{Dh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return Za()<=Pe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",el(i)),this.fs.getDocumentsMatchingQuery(e,i,_r.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const dp="LocalStore",jR=3e8;class LR{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new Et(Be),this.Fs=new ca((c=>ip(c)),sp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function UR(s,e,i,a){return new LR(s,e,i,a)}async function CE(s,e){const i=xe(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=qe();for(const y of o){d.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function zR(s,e){const i=xe(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,E){const A=y.batch,N=A.keys();let q=X.resolve();return N.forEach((ee=>{q=q.next((()=>E.getEntry(_,ee))).next((se=>{const re=y.docVersions.get(ee);et(re!==null,48541),se.version.compareTo(re)<0&&(A.applyToRemoteDocument(se,y),se.isValidDocument()&&(se.setReadTime(y.commitVersion),E.addEntry(se)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=qe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function NE(s){const e=xe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function PR(s,e){const i=xe(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];e.targetChanges.forEach(((E,A)=>{const N=o.get(A);if(!N)return;g.push(i.li.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,E.addedDocuments,A))));let q=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?q=q.withResumeToken(tn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,a)),o=o.insert(A,q),(function(se,re,ye){return se.resumeToken.approximateByteSize()===0||re.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=jR?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(N,q,E)&&g.push(i.li.updateTargetData(c,q))}));let _=bs(),y=qe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(BR(c,d,e.documentUpdates).next((E=>{_=E.Bs,y=E.Ls}))),!a.isEqual(Se.min())){const E=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(E)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=o,c)))}function BR(s,e,i){let a=qe(),o=qe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=bs();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Se.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):le(dp,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:o}}))}function qR(s,e){const i=xe(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=ep),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function HR(s,e){const i=xe(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new ur(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Om(s,e,i){const a=xe(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Al(d))throw d;le(dp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function uv(s,e,i){const a=xe(s);let o=Se.min(),c=qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,E){const A=xe(_),N=A.Fs.get(E);return N!==void 0?X.resolve(A.vs.get(N)):A.li.getTargetData(y,E)})(a,d,Ui(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:Se.min(),i?c:qe()))).next((g=>(FR(a,Ix(e),g),{documents:g,ks:c})))))}function FR(s,e,i){let a=s.Ms.get(e)||Se.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class cv{constructor(){this.activeTargetIds=kx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GR{constructor(){this.vo=new cv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new cv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class KR{Mo(e){}shutdown(){}}const hv="ConnectivityMonitor";class fv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(hv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(hv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qc=null;function Mm(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}const em="RestConnection",YR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class QR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===ch?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const d=Mm(),g=this.Qo(e,i.toUriEncodedString());le(em,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,c);const{host:y}=new URL(g),E=vl(y);return this.zo(e,g,_,a,E).then((A=>(le(em,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw hl(em,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}jo(e,i,a,o,c,d){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=YR[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class XR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const sn="WebChannelConnection",Co=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ll extends QR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ll.c_){const e=L1();Co(e,j1.STAT_EVENT,(i=>{i.stat===Tm.PROXY?le(sn,"STAT_EVENT: detected buffering proxy"):i.stat===Tm.NOPROXY&&le(sn,"STAT_EVENT: detected no buffering proxy")})),ll.c_=!0}}zo(e,i,a,o,c){const d=Mm();return new Promise(((g,_)=>{const y=new k1;y.setWithCredentials(!0),y.listenOnce(V1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Xc.NO_ERROR:const A=y.getResponseJson();le(sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case Xc.TIMEOUT:le(sn,`RPC '${e}' ${d} timed out`),_(new fe(W.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const N=y.getStatus();if(le(sn,`RPC '${e}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const ee=q?.error;if(ee&&ee.status&&ee.message){const se=(function(ye){const Re=ye.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Re)>=0?Re:W.UNKNOWN})(ee.status);_(new fe(se,ee.message))}else _(new fe(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new fe(W.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(sn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);le(sn,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=Mm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");le(sn,`Creating RPC '${e}' stream ${o}: ${y}`,g);const E=d.createWebChannel(y,g);this.I_(E);let A=!1,N=!1;const q=new XR({Ho:ee=>{N?le(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(A||(le(sn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),A=!0),le(sn,`RPC '${e}' stream ${o} sending:`,ee),E.send(ee))},Jo:()=>E.close()});return Co(E,Do.EventType.OPEN,(()=>{N||(le(sn,`RPC '${e}' stream ${o} transport opened.`),q.i_())})),Co(E,Do.EventType.CLOSE,(()=>{N||(N=!0,le(sn,`RPC '${e}' stream ${o} transport closed`),q.o_(),this.E_(E))})),Co(E,Do.EventType.ERROR,(ee=>{N||(N=!0,hl(sn,`RPC '${e}' stream ${o} transport errored. Name:`,ee.name,"Message:",ee.message),q.o_(new fe(W.UNAVAILABLE,"The operation could not be completed")))})),Co(E,Do.EventType.MESSAGE,(ee=>{if(!N){const se=ee.data[0];et(!!se,16349);const re=se,ye=re?.error||re[0]?.error;if(ye){le(sn,`RPC '${e}' stream ${o} received error:`,ye);const Re=ye.status;let be=(function(je){const I=Lt[je];if(I!==void 0)return gE(I)})(Re),Je=ye.message;be===void 0&&(be=W.INTERNAL,Je="Unknown error status: "+Re+" with message "+ye.message),N=!0,q.o_(new fe(be,Je)),E.close()}else le(sn,`RPC '${e}' stream ${o} received:`,se),q.__(se)}})),ll.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return U1()}}function $R(s){return new ll(s)}function tm(){return typeof document<"u"?document:null}function Vh(s){return new eR(s,!0)}ll.c_=!1;class DE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const dv="PersistentStream";class OE{constructor(e,i,a,o,c,d,g,_){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Ts(i.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new fe(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(dv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(le(dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WR extends OE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=iR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?zi(d.readTime):Se.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=Dm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=xm(_)?{documents:aR(c,_)}:{query:lR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=vE(c,d.resumeToken);const y=Im(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Se.min())>0){g.readTime=gh(c,d.snapshotVersion.toTimestamp());const y=Im(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const a=uR(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=Dm(this.serializer),i.removeTarget=e,this.K_(i)}}class JR extends OE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=rR(e.writeResults,e.commitTime),a=zi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Dm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>sR(this.serializer,a)))};this.K_(i)}}class ZR{}class eI extends ZR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Cm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(W.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,Cm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function tI(s,e,i,a){return new eI(s,e,i,a)}class nI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class iI{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ha(this)&&(le(oa,"Restarting streams for network reachability change."),await(async function(_){const y=xe(_);y.Ea.add(4),await lu(y),y.Va.set("Unknown"),y.Ea.delete(4),await jh(y)})(this))}))})),this.Va=new nI(a,o)}}async function jh(s){if(ha(s))for(const e of s.Ra)await e(!0)}async function lu(s){for(const e of s.Ra)await e(!1)}function ME(s,e){const i=xe(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),yp(i)?gp(i):wl(i).O_()&&pp(i,e))}function mp(s,e){const i=xe(s),a=wl(i);i.Ia.delete(e),a.O_()&&kE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ha(i)&&i.Va.set("Unknown"))}function pp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}wl(s).Z_(e)}function kE(s,e){s.da.$e(e),wl(s).X_(e)}function gp(s){s.da=new $x({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),wl(s).start(),s.Va.ua()}function yp(s){return ha(s)&&!wl(s).x_()&&s.Ia.size>0}function ha(s){return xe(s).Ea.size===0}function VE(s){s.da=void 0}async function sI(s){s.Va.set("Online")}async function rI(s){s.Ia.forEach(((e,i)=>{pp(s,e)}))}async function aI(s,e){VE(s),yp(s)?(s.Va.ha(e),gp(s)):s.Va.set("Unknown")}async function lI(s,e,i){if(s.Va.set("Online"),e instanceof _E&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(s,e)}catch(a){le(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await _h(s,a)}else if(e instanceof Zc?s.da.Xe(e):e instanceof yE?s.da.st(e):s.da.tt(e),!i.isEqual(Se.min()))try{const a=await NE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),kE(c,_);const A=new ur(E.target,_,y,E.sequenceNumber);pp(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){le(oa,"Failed to raise snapshot:",a),await _h(s,a)}}async function _h(s,e,i){if(!Al(e))throw e;s.Ea.add(1),await lu(s),s.Va.set("Offline"),i||(i=()=>NE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(oa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await jh(s)}))}function jE(s,e){return e().catch((i=>_h(s,i,e)))}async function Lh(s){const e=xe(s),i=br(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ep;for(;oI(e);)try{const o=await qR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,uI(e,o)}catch(o){await _h(e,o)}LE(e)&&UE(e)}function oI(s){return ha(s)&&s.Ta.length<10}function uI(s,e){s.Ta.push(e);const i=br(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function LE(s){return ha(s)&&!br(s).x_()&&s.Ta.length>0}function UE(s){br(s).start()}async function cI(s){br(s).ra()}async function hI(s){const e=br(s);for(const i of s.Ta)e.ea(i.mutations)}async function fI(s,e,i){const a=s.Ta.shift(),o=lp.from(a,e,i);await jE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Lh(s)}async function dI(s,e){e&&br(s).Y_&&await(async function(a,o){if((function(d){return Yx(d)&&d!==W.ABORTED})(o.code)){const c=a.Ta.shift();br(a).B_(),await jE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Lh(a)}})(s,e),LE(s)&&UE(s)}async function mv(s,e){const i=xe(s);i.asyncQueue.verifyOperationInProgress(),le(oa,"RemoteStore received new credentials");const a=ha(i);i.Ea.add(3),await lu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await jh(i)}async function mI(s,e){const i=xe(s);e?(i.Ea.delete(2),await jh(i)):e||(i.Ea.add(2),await lu(i),i.Va.set("Unknown"))}function wl(s){return s.ma||(s.ma=(function(i,a,o){const c=xe(i);return c.sa(),new WR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:sI.bind(null,s),Yo:rI.bind(null,s),t_:aI.bind(null,s),J_:lI.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),yp(s)?gp(s):s.Va.set("Unknown")):(await s.ma.stop(),VE(s))}))),s.ma}function br(s){return s.fa||(s.fa=(function(i,a,o){const c=xe(i);return c.sa(),new JR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:cI.bind(null,s),t_:dI.bind(null,s),ta:hI.bind(null,s),na:fI.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Lh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(oa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class _p{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new _p(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vp(s,e){if(Ts("AsyncQueue",`${e}: ${s}`),Al(s))return new fe(W.UNAVAILABLE,`${e}: ${s}`);throw s}class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ge.comparator(i.key,a.key):(i,a)=>ge.comparator(i.key,a.key),this.keyedMap=Oo(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ol;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class pv{constructor(){this.ga=new Et(ge.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class yl{constructor(e,i,a,o,c,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new yl(e,i,ol.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class pI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class gI{constructor(){this.queries=gv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=xe(i),c=o.queries;o.queries=gv(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(a)}))})(this,new fe(W.ABORTED,"Firestore shutting down"))}}function gv(){return new ca((s=>sE(s)),Nh)}async function zE(s,e){const i=xe(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new pI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=vp(d,`Initialization of query '${el(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Ep(i)}async function PE(s,e){const i=xe(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function yI(s,e){const i=xe(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(a=!0);d.wa=o}}a&&Ep(i)}function _I(s,e,i){const a=xe(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function Ep(s){s.Ca.forEach((e=>{e.next()}))}var km,yv;(yv=km||(km={})).Ma="default",yv.Cache="cache";class BE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new yl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==km.Cache}}class qE{constructor(e){this.key=e}}class HE{constructor(e){this.key=e}}class vI{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=rE(e),this.tu=new ol(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new pv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const N=o.get(E),q=Dh(this.query,A)?A:null,ee=!!N&&this.mutatedKeys.has(N.key),se=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let re=!1;N&&q?N.data.isEqual(q.data)?ee!==se&&(a.track({type:3,doc:q}),re=!0):this.su(N,q)||(a.track({type:2,doc:q}),re=!0,(_&&this.eu(q,_)>0||y&&this.eu(q,y)<0)&&(g=!0)):!N&&q?(a.track({type:0,doc:q}),re=!0):N&&!q&&(a.track({type:1,doc:N}),re=!0,(_||y)&&(g=!0)),re&&(q?(d=d.add(q),c=se?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,A)=>(function(q,ee){const se=re=>{switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:re})}};return se(q)-se(ee)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new yl(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new HE(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new qE(a))})),i}cu(e){this.Za=e.ks,this.Ya=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Tp="SyncEngine";class EI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class TI{constructor(e){this.key=e,this.hu=!1}}class bI{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ca((g=>sE(g)),Nh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Et(ge.comparator),this.Au=new Map,this.Vu=new cp,this.du={},this.mu=new Map,this.fu=gl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SI(s,e,i=!0){const a=XE(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await FE(a,e,i,!0),o}async function AI(s,e){const i=XE(s);await FE(i,e,!0,!1)}async function FE(s,e,i,a){const o=await HR(s.localStore,Ui(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await wI(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&ME(s.remoteStore,o),g}async function wI(s,e,i,a,o){s.pu=(A,N,q)=>(async function(se,re,ye,Re){let be=re.view.ru(ye);be.Ss&&(be=await uv(se.localStore,re.query,!1).then((({documents:I})=>re.view.ru(I,be))));const Je=Re&&Re.targetChanges.get(re.targetId),mt=Re&&Re.targetMismatches.get(re.targetId)!=null,je=re.view.applyChanges(be,se.isPrimaryClient,Je,mt);return vv(se,re.targetId,je.au),je.snapshot})(s,A,N,q);const c=await uv(s.localStore,e,!0),d=new vI(e,c.ks),g=d.ru(c.documents),_=au.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),y=d.applyChanges(g,s.isPrimaryClient,_);vv(s,i,y.au);const E=new EI(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function xI(s,e,i){const a=xe(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Nh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Om(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&mp(a.remoteStore,o.targetId),Vm(a,o.targetId)})).catch(Sl)):(Vm(a,o.targetId),await Om(a.localStore,o.targetId,!0))}async function RI(s,e){const i=xe(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),mp(i.remoteStore,a.targetId))}async function II(s,e,i){const a=VI(s);try{const o=await(function(d,g){const _=xe(d),y=dt.now(),E=g.reduce(((q,ee)=>q.add(ee.key)),qe());let A,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let ee=bs(),se=qe();return _.xs.getEntries(q,E).next((re=>{ee=re,ee.forEach(((ye,Re)=>{Re.isValidDocument()||(se=se.add(ye))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,ee))).next((re=>{A=re;const ye=[];for(const Re of g){const be=qx(Re,A.get(Re.key).overlayedDocument);be!=null&&ye.push(new wr(Re.key,be,W1(be.value.mapValue),hi.exists(!0)))}return _.mutationQueue.addMutationBatch(q,y,ye,g)})).next((re=>{N=re;const ye=re.applyToLocalDocumentSet(A,se);return _.documentOverlayCache.saveOverlays(q,re.batchId,ye)}))})).then((()=>({batchId:N.batchId,changes:lE(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let y=d.du[d.currentUser.toKey()];y||(y=new Et(Be)),y=y.insert(g,_),d.du[d.currentUser.toKey()]=y})(a,o.batchId,i),await ou(a,o.changes),await Lh(a.remoteStore)}catch(o){const c=vp(o,"Failed to persist write");i.reject(c)}}async function GE(s,e){const i=xe(s);try{const a=await PR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?et(d.hu,14607):o.removedDocuments.size>0&&(et(d.hu,42227),d.hu=!1))})),await ou(i,a,e)}catch(a){await Sl(a)}}function _v(s,e,i){const a=xe(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=xe(d);_.onlineState=g;let y=!1;_.queries.forEach(((E,A)=>{for(const N of A.ba)N.va(g)&&(y=!0)})),y&&Ep(_)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function CI(s,e,i){const a=xe(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new Et(ge.comparator);d=d.insert(c,an.newNoDocument(c,Se.min()));const g=qe().add(c),_=new kh(Se.min(),new Map,new Et(Be),d,g);await GE(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(e),bp(a)}else await Om(a.localStore,e,!1).then((()=>Vm(a,e,i))).catch(Sl)}async function NI(s,e){const i=xe(s),a=e.batch.batchId;try{const o=await zR(i.localStore,e);YE(i,a,null),KE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ou(i,o)}catch(o){await Sl(o)}}async function DI(s,e,i){const a=xe(s);try{const o=await(function(d,g){const _=xe(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,g).next((A=>(et(A!==null,37113),E=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(a.localStore,e);YE(a,e,i),KE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await ou(a,o)}catch(o){await Sl(o)}}function KE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function YE(s,e,i){const a=xe(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Vm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||QE(s,a)}))}function QE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(mp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),bp(s))}function vv(s,e,i){for(const a of i)a instanceof qE?(s.Vu.addReference(a.key,e),OI(s,a)):a instanceof HE?(le(Tp,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||QE(s,a.key)):ve(19791,{wu:a})}function OI(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(le(Tp,"New document in limbo: "+i),s.Eu.add(a),bp(s))}function bp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ge(vt.fromString(e)),a=s.fu.next();s.Au.set(a,new TI(i)),s.Ru=s.Ru.insert(i,a),ME(s.remoteStore,new ur(Ui(Ch(i.path)),a,"TargetPurposeLimboResolution",wh.ce))}}async function ou(s,e,i){const a=xe(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){o.push(y);const E=fp.Es(_.targetId,y);c.push(E)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(_,y){const E=xe(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(y,(N=>X.forEach(N.Ts,(q=>E.persistence.referenceDelegate.addReference(A,N.targetId,q))).next((()=>X.forEach(N.Is,(q=>E.persistence.referenceDelegate.removeReference(A,N.targetId,q)))))))))}catch(A){if(!Al(A))throw A;le(dp,"Failed to update sequence numbers: "+A)}for(const A of y){const N=A.targetId;if(!A.fromCache){const q=E.vs.get(N),ee=q.snapshotVersion,se=q.withLastLimboFreeSnapshotVersion(ee);E.vs=E.vs.insert(N,se)}}})(a.localStore,c))}async function MI(s,e){const i=xe(s);if(!i.currentUser.isEqual(e)){le(Tp,"User change. New user:",e.toKey());const a=await CE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new fe(W.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ou(i,a.Ns)}}function kI(s,e){const i=xe(s),a=i.Au.get(e);if(a&&a.hu)return qe().add(a.key);{let o=qe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function XE(s){const e=xe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CI.bind(null,e),e.Pu.J_=yI.bind(null,e.eventManager),e.Pu.yu=_I.bind(null,e.eventManager),e}function VI(s){const e=xe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DI.bind(null,e),e}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return UR(this.persistence,new VR,e.initialUser,this.serializer)}Cu(e){return new IE(hp.Vi,this.serializer)}Du(e){return new GR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class jI extends vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){et(this.persistence.referenceDelegate instanceof yh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new ER(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new IE((a=>yh.Vi(a,i)),this.serializer)}}class jm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>_v(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=MI.bind(null,this.syncEngine),await mI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gI})()}createDatastore(e){const i=Vh(e.databaseInfo.databaseId),a=$R(e.databaseInfo);return tI(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new iI(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>_v(this.syncEngine,i,0)),(function(){return fv.v()?new fv:new KR})())}createSyncEngine(e,i){return(function(o,c,d,g,_,y,E){const A=new bI(o,c,d,g,_,y);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=xe(i);le(oa,"RemoteStore shutting down."),a.Ea.add(5),await lu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jm.provider={build:()=>new jm};class $E{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Sr="FirestoreClient";class LI{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{le(Sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(Sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=vp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function nm(s,e){s.asyncQueue.verifyOperationInProgress(),le(Sr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await CE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Ev(s,e){s.asyncQueue.verifyOperationInProgress();const i=await UI(s);le(Sr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>mv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>mv(e.remoteStore,o))),s._onlineComponents=e}async function UI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(Sr,"Using user provided OfflineComponentProvider");try{await nm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;hl("Error using user provided cache. Falling back to memory cache: "+i),await nm(s,new vh)}}else le(Sr,"Using default OfflineComponentProvider"),await nm(s,new jI(void 0));return s._offlineComponents}async function WE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(Sr,"Using user provided OnlineComponentProvider"),await Ev(s,s._uninitializedComponentsProvider._online)):(le(Sr,"Using default OnlineComponentProvider"),await Ev(s,new jm))),s._onlineComponents}function zI(s){return WE(s).then((e=>e.syncEngine))}async function Lm(s){const e=await WE(s),i=e.eventManager;return i.onListen=SI.bind(null,e.syncEngine),i.onUnlisten=xI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=AI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=RI.bind(null,e.syncEngine),i}function PI(s,e,i,a){const o=new $E(a),c=new BE(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>zE(await Lm(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>PE(await Lm(s),c)))}}function BI(s,e,i={}){const a=new pr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const E=new $E({next:N=>{E.Nu(),d.enqueueAndForget((()=>PE(c,A)));const q=N.docs.has(g);!q&&N.fromCache?y.reject(new fe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&N.fromCache&&_&&_.source==="server"?y.reject(new fe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),A=new BE(Ch(g.path),E,{includeMetadataChanges:!0,Ka:!0});return zE(c,A)})(await Lm(s),s.asyncQueue,e,i,a))),a.promise}function qI(s,e){const i=new pr;return s.asyncQueue.enqueueAndForget((async()=>II(await zI(s),e,i))),i.promise}function JE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const HI="ComponentProvider",Tv=new Map;function FI(s,e,i,a,o){return new ux(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,JE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const ZE="firestore.googleapis.com",bv=!0;class Sv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZE,this.ssl=bv}else this.host=e.host,this.ssl=e.ssl??bv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_R)throw new fe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Jw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sp{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Bw;switch(a.type){case"firstParty":return new Gw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Tv.get(i);a&&(le(HI,"Removing Datastore"),Tv.delete(i),a.terminate())})(this),Promise.resolve()}}function GI(s,e,i,a={}){s=ci(s,Sp);const o=vl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(Qv(`https://${g}`),Xv("Firestore",!0)),c.host!==ZE&&c.host!==g&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:a};if(!yr(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=rn.MOCK_USER;else{y=uS(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new fe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(A)}s._authCredentials=new qw(new P1(y,E))}}class Uh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Uh(this.firestore,e,this._query)}}class zt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(su(i,zt._jsonSchema))return new zt(e,a||null,new ge(vt.fromString(i.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Ut("string",zt._jsonSchemaVersion),referencePath:Ut("string")};class Qo extends Uh{constructor(e,i,a){super(e,i,Ch(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ge(e))}withConverter(e){return new Qo(this.firestore,e,this._path)}}function cn(s,e,...i){if(s=fn(s),arguments.length===1&&(e=Jm.newId()),Ww("doc","path",e),s instanceof Sp){const a=vt.fromString(e,...i);return L_(a),new zt(s,null,new ge(a))}{if(!(s instanceof zt||s instanceof Qo))throw new fe(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(vt.fromString(e,...i));return L_(a),new zt(s.firestore,s instanceof Qo?s.converter:null,new ge(a))}}const Av="AsyncQueue";class wv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DE(this,"async_queue_retry"),this._c=()=>{const a=tm();a&&le(Av,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=tm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=tm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new pr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Al(e))throw e;le(Av,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",xv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=_p.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function xv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ua extends Sp{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new wv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function KI(s,e){const i=typeof s=="object"?s:Zv(),a=typeof s=="string"?s:ch,o=qm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=lS("firestore");c&&GI(o,...c)}return o}function Ap(s){if(s._terminated)throw new fe(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||YI(s),s._firestoreClient}function YI(s){const e=s._freezeSettings(),i=FI(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new LI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(tn.fromBase64String(e))}catch(i){throw new fe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new $n(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Ut("string",$n._jsonSchemaVersion),bytes:Ut("string")};class wp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new fe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zh{constructor(e){this._methodName=e}}class Pi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new fe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new fe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(su(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Ut("string",Pi._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class fi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new fi(e.vectorValues);throw new fe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Ut("string",fi._jsonSchemaVersion),vectorValues:Ut("object")};const QI=/^__.*__$/;class XI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ru(e,this.data,i,this.fieldTransforms)}}class eT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new wr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function tT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:s})}}class Ph{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ph({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Eh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(tT(this.dataSource)&&QI.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class $I{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Vh(e)}createContext(e,i,a,o=!1){return new Ph({dataSource:e,methodName:i,targetDoc:a,path:en.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nT(s){const e=s._freezeSettings(),i=Vh(s._databaseId);return new $I(s._databaseId,!!e.ignoreUndefinedProperties,i)}function WI(s,e,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);Rp("Data must be an object, but it was:",d,a);const g=iT(a,d);let _,y;if(c.merge)_=new Mn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const N=Xo(e,A,i);if(!d.contains(N))throw new fe(W.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);aT(E,N)||E.push(N)}_=new Mn(E),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new XI(new bn(g),_,y)}class Bh extends zh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}function JI(s,e,i){return new Ph({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class xp extends zh{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=JI(this,e,!0),a=this.Ac.map((c=>uu(c,i))),o=new pl(a);return new Ux(e.path,o)}isEqual(e){return e instanceof xp&&yr(this.Ac,e.Ac)}}function ZI(s,e,i,a){const o=s.createContext(1,e,i);Rp("Data must be an object, but it was:",o,a);const c=[],d=bn.empty();Ar(a,((_,y)=>{const E=rT(e,_,i);y=fn(y);const A=o.childContextForFieldPath(E);if(y instanceof Bh)c.push(E);else{const N=uu(y,A);N!=null&&(c.push(E),d.set(E,N))}}));const g=new Mn(c);return new eT(d,g,o.fieldTransforms)}function eC(s,e,i,a,o,c){const d=s.createContext(1,e,i),g=[Xo(e,a,i)],_=[o];if(c.length%2!=0)throw new fe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)g.push(Xo(e,c[N])),_.push(c[N+1]);const y=[],E=bn.empty();for(let N=g.length-1;N>=0;--N)if(!aT(y,g[N])){const q=g[N];let ee=_[N];ee=fn(ee);const se=d.childContextForFieldPath(q);if(ee instanceof Bh)y.push(q);else{const re=uu(ee,se);re!=null&&(y.push(q),E.set(q,re))}}const A=new Mn(y);return new eT(E,A,d.fieldTransforms)}function uu(s,e){if(sT(s=fn(s)))return Rp("Unsupported field value:",e,s),iT(s,e);if(s instanceof zh)return(function(a,o){if(!tT(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let _=uu(g,o.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=fn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Vx(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=dt.fromDate(a);return{timestampValue:gh(o.serializer,c)}}if(a instanceof dt){const c=new dt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:gh(o.serializer,c)}}if(a instanceof Pi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $n)return{bytesValue:vE(o.serializer,a._byteString)};if(a instanceof zt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:up(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof fi)return(function(d,g){const _=d instanceof fi?d.toArray():d;return{mapValue:{fields:{[X1]:{stringValue:$1},[hh]:{arrayValue:{values:_.map((E=>{if(typeof E!="number")throw g.createError("VectorValues must only contain numeric values.");return rp(g.serializer,E)}))}}}}}})(a,o);if(xE(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Zm(a)}`)})(s,e)}function iT(s,e){const i={};return H1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ar(s,((a,o)=>{const c=uu(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function sT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof dt||s instanceof Pi||s instanceof $n||s instanceof zt||s instanceof zh||s instanceof fi||xE(s))}function Rp(s,e,i){if(!sT(i)||!B1(i)){const a=Zm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Xo(s,e,i){if((e=fn(e))instanceof wp)return e._internalPath;if(typeof e=="string")return rT(s,e);throw Eh("Field path arguments must be of type string or ",s,!1,void 0,i)}const tC=new RegExp("[~\\*/\\[\\]]");function rT(s,e,i){if(e.search(tC)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new wp(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Eh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new fe(W.INVALID_ARGUMENT,g+s+_)}function aT(s,e){return s.some((i=>i.isEqual(e)))}class nC{convertValue(e,i="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ar(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[hh].arrayValue?.values?.map((a=>It(a.doubleValue)));return new fi(i)}convertGeoPoint(e){return new Pi(It(e.latitude),It(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Rh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Fo(e));default:return null}}convertTimestamp(e){const i=vr(e);return new dt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=vt.fromString(e);et(wE(a),9688,{name:e});const o=new Go(a.get(1),a.get(3)),c=new ge(a.popFirst(5));return o.isEqual(i)||Ts(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class lT extends nC{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,i)}}function fs(...s){return new xp("arrayUnion",s)}const Rv="@firebase/firestore",Iv="4.10.0";function Cv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class oT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Xo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class iC extends oT{data(){return super.data()}}function sC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function rC(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class ko{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends oT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Xo("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=sa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:Ut("string",sa._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class eh extends sa{data(e={}){return super.data(e)}}class ul{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ko(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new eh(this._firestore,this._userDataWriter,a.key,a,new ko(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new fe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new eh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ko(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new eh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ko(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:aC(g.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}ul._jsonSchemaVersion="firestore/querySnapshot/1.0",ul._jsonSchema={type:Ut("string",ul._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};function lC(s){s=ci(s,zt);const e=ci(s.firestore,ua),i=Ap(e);return BI(i,s._key).then((a=>uT(e,s,a)))}function oC(s,e,i){s=ci(s,zt);const a=ci(s.firestore,ua),o=rC(s.converter,e),c=nT(a);return Ip(a,[WI(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,hi.none())])}function Qn(s,e,i,...a){s=ci(s,zt);const o=ci(s.firestore,ua),c=nT(o);let d;return d=typeof(e=fn(e))=="string"||e instanceof wp?eC(c,"updateDoc",s._key,e,i,a):ZI(c,"updateDoc",s._key,e),Ip(o,[d.toMutation(s._key,hi.exists(!0))])}function uC(s){return Ip(ci(s.firestore,ua),[new ap(s._key,hi.none())])}function Nv(s,...e){s=fn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Cv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Cv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof zt)d=ci(s.firestore,ua),g=Ch(s._key.path),c={next:y=>{e[a]&&e[a](uT(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=ci(s,Uh);d=ci(y.firestore,ua),g=y._query;const E=new lT(d);c={next:A=>{e[a]&&e[a](new ul(d,E,y,A))},error:e[a+1],complete:e[a+2]},sC(s._query)}const _=Ap(d);return PI(_,g,o,c)}function Ip(s,e){const i=Ap(s);return qI(i,e)}function uT(s,e,i){const a=i.docs.get(e._key),o=new lT(s);return new sa(s,o,e._key,a,new ko(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){Pw(El),cl(new ra("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new ua(new Hw(a.getProvider("auth-internal")),new Kw(d,a.getProvider("app-check-internal")),cx(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),dr(Rv,Iv,e),dr(Rv,Iv,"esm2020")})();const cT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const cC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const hC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Dv=s=>{const e=hC(s);return e.charAt(0).toUpperCase()+e.slice(1)};var fC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const mC=Qe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},_)=>Qe.createElement("svg",{ref:_,...fC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:cT("lucide",o),...!c&&!dC(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,E])=>Qe.createElement(y,E)),...Array.isArray(c)?c:[c]]));const Xe=(s,e)=>{const i=Qe.forwardRef(({className:a,...o},c)=>Qe.createElement(mC,{ref:c,iconNode:e,className:cT(`lucide-${cC(Dv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Dv(s),i};const pC=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],gC=Xe("arrow-up",pC);const yC=[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]],Hc=Xe("bird",yC);const _C=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],im=Xe("book-open",_C);const vC=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],sm=Xe("bug",vC);const EC=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],Ov=Xe("cat",EC);const TC=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],hT=Xe("chart-no-axes-column",TC);const bC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Um=Xe("circle-check-big",bC);const SC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],AC=Xe("copy",SC);const wC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],xC=Xe("crown",wC);const RC=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],IC=Xe("dog",RC);const CC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],NC=Xe("ellipsis",CC);const DC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rm=Xe("eye",DC);const OC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],MC=Xe("grid-3x3",OC);const kC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],VC=Xe("hammer",kC);const jC=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],_l=Xe("hexagon",jC);const LC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],UC=Xe("history",LC);const zC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],PC=Xe("house",zC);const BC=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],qC=Xe("leaf",BC);const HC=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],FC=Xe("loader",HC);const GC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Mv=Xe("log-out",GC);const KC=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],YC=Xe("mountain",KC);const QC=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],$o=Xe("paw-print",QC);const XC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],$C=Xe("play",XC);const WC=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],kv=Xe("rat",WC);const JC=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],ZC=Xe("skip-forward",JC);const eN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],No=Xe("sparkles",eN);const tN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Vv=Xe("trash-2",tN);const nN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],am=Xe("triangle-alert",nN);const iN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],sN=Xe("trophy",iN);const rN=[["path",{d:"M16 8q6 0 6-6-6 0-6 6",key:"qsyyc4"}],["path",{d:"M17.41 3.59a10 10 0 1 0 3 3",key:"41m9h7"}],["path",{d:"M2 2a26.6 26.6 0 0 1 10 20c.9-6.82 1.5-9.5 4-14",key:"qiv7li"}]],aN=Xe("vegan",rN);const lN=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],oN=Xe("waves",lN);const uN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cp=Xe("x",uN),cN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:31b2942ce74b65c66aa637"},fT=Jv(cN),lm=Uw(fT),hn=KI(fT),En=typeof __app_id<"u"?__app_id:"equilibrium-game",hN="9",Fc=()=>T.jsx("style",{children:`
    .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); border-radius: 4px; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(16, 185, 129, 0.3); border-radius: 4px; }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(16, 185, 129, 0.6); }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(10deg); }
    }
    .animate-float { animation: float infinite ease-in-out; }
    
    @keyframes spin-slow {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    .animate-spin-slow { animation: spin-slow 12s linear infinite; }

    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    
    .mask-gradient-right { mask-image: linear-gradient(to right, black 85%, transparent 100%); }
  `}),om=()=>T.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black"}),T.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),T.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-5",children:[...Array(15)].map((s,e)=>T.jsx("div",{className:"absolute animate-float text-emerald-500",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${20+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:T.jsx(_l,{size:48})},e))})]}),gr={WOOD:{id:"WOOD",color:"bg-amber-800",border:"border-amber-950",icon:NC,name:"Log",validOn:["EMPTY","WOOD"],scoreType:"TREE"},LEAF:{id:"LEAF",color:"bg-emerald-500",border:"border-emerald-700",icon:qC,name:"Foliage",validOn:["EMPTY","WOOD"],scoreType:"TREE"},STONE:{id:"STONE",color:"bg-slate-400",border:"border-slate-600",icon:YC,name:"Stone",validOn:["EMPTY","STONE"],scoreType:"MOUNTAIN"},WATER:{id:"WATER",color:"bg-cyan-500",border:"border-cyan-700",icon:oN,name:"Water",validOn:["EMPTY"],scoreType:"RIVER"},SAND:{id:"SAND",color:"bg-yellow-400",border:"border-yellow-600",icon:aN,name:"Sand",validOn:["EMPTY"],scoreType:"FIELD"},BRICK:{id:"BRICK",color:"bg-red-700",border:"border-red-900",icon:PC,name:"Brick",validOn:["EMPTY","BRICK"],scoreType:"BUILDING"}},cr=(s,e)=>[{q:s+1,r:e},{q:s+1,r:e-1},{q:s,r:e-1},{q:s-1,r:e},{q:s-1,r:e+1},{q:s,r:e+1}],On=(s,e)=>!s||s.stack.length!==e.length?!1:s.stack.every((i,a)=>i===e[a]),sr=(s,e,i,a)=>cr(e,i).some(c=>{const d=s[`${c.q},${c.r}`];return d&&a(d)}),ds={EAGLE:{id:"EAGLE",name:"Eagle",desc:"Highest Peak (3 Stone)",points:[4,4],slots:2,icon:Hc,iconColor:"text-amber-300",visual:{type:"stack",tokens:["STONE","STONE","STONE"]},check:s=>On(s,["STONE","STONE","STONE"])},BEAR:{id:"BEAR",name:"Bear",desc:"Tall Tree next to Mountain (2+ Stone)",points:[4,5],slots:2,icon:$o,iconColor:"text-orange-700",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["STONE","STONE"]]},check:(s,e)=>On(s,["WOOD","WOOD","LEAF"])?sr(e,s.q,s.r,i=>i.stack.length>=2&&i.stack[0]==="STONE"):!1},DEER:{id:"DEER",name:"Deer",desc:"Tall Tree next to Field",points:[3,3,4],slots:3,icon:$o,iconColor:"text-orange-400",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["SAND"]]},check:(s,e)=>On(s,["WOOD","WOOD","LEAF"])?sr(e,s.q,s.r,i=>i.stack[0]==="SAND"):!1},FROG:{id:"FROG",name:"Frog",desc:"Water surrounded by 2 other Water",points:[2,3,3,4],slots:4,icon:sm,iconColor:"text-green-400",visual:{type:"adj",main:["WATER"],others:[["WATER"],["WATER"]]},check:(s,e)=>{if(s.stack[0]!=="WATER")return!1;let i=0;return cr(s.q,s.r).forEach(a=>{e[`${a.q},${a.r}`]?.stack[0]==="WATER"&&i++}),i>=2}},SQUIRREL:{id:"SQUIRREL",name:"Squirrel",desc:"Small Tree (1 Log + Leaf)",points:[2,2,3],slots:3,icon:kv,iconColor:"text-orange-300",visual:{type:"stack",tokens:["WOOD","LEAF"]},check:s=>On(s,["WOOD","LEAF"])},LIZARD:{id:"LIZARD",name:"Lizard",desc:"Small Rock next to Bush (Leaf)",points:[2,2,2],slots:3,icon:Ov,iconColor:"text-emerald-300",visual:{type:"adj",main:["STONE"],others:[["LEAF"]]},check:(s,e)=>On(s,["STONE"])?sr(e,s.q,s.r,i=>i.stack.length===1&&i.stack[0]==="LEAF"):!1},BEAVER:{id:"BEAVER",name:"Beaver",desc:"Log next to Water",points:[2,2,3],slots:3,icon:kv,iconColor:"text-amber-600",visual:{type:"adj",main:["WOOD"],others:[["WATER"]]},check:(s,e)=>On(s,["WOOD"])&&sr(e,s.q,s.r,i=>i.stack[0]==="WATER")},FOX:{id:"FOX",name:"Fox",desc:"Medium Rock next to Medium Wood",points:[3,4],slots:2,icon:IC,iconColor:"text-orange-500",visual:{type:"adj",main:["STONE","STONE"],others:[["WOOD","WOOD"]]},check:(s,e)=>On(s,["STONE","STONE"])&&sr(e,s.q,s.r,i=>On(i,["WOOD","WOOD"]))},BEE:{id:"BEE",name:"Bee",desc:"Bush (Leaf) next to 2 other Bushes",points:[3,3,3],slots:3,icon:sm,iconColor:"text-yellow-400",visual:{type:"adj",main:["LEAF"],others:[["LEAF"],["LEAF"]]},check:(s,e)=>{if(!On(s,["LEAF"]))return!1;let i=0;return cr(s.q,s.r).forEach(a=>{const o=e[`${a.q},${a.r}`];o&&On(o,["LEAF"])&&i++}),i>=2}},BAT:{id:"BAT",name:"Bat",desc:"Building (Brick) next to Water",points:[3,3,3],slots:3,icon:Hc,iconColor:"text-purple-400",visual:{type:"adj",main:["BRICK"],others:[["WATER"]]},check:(s,e)=>s.stack[0]==="BRICK"&&sr(e,s.q,s.r,i=>i.stack[0]==="WATER")},HAWK:{id:"HAWK",name:"Hawk",desc:"Dead Tree (3 Logs)",points:[3,4],slots:2,icon:Hc,iconColor:"text-amber-500",visual:{type:"stack",tokens:["WOOD","WOOD","WOOD"]},check:s=>On(s,["WOOD","WOOD","WOOD"])},SCORPION:{id:"SCORPION",name:"Scorpion",desc:"2 Stone next to Field",points:[3,3,3],slots:3,icon:sm,iconColor:"text-red-400",visual:{type:"adj",main:["STONE","STONE"],others:[["SAND"]]},check:(s,e)=>On(s,["STONE","STONE"])&&sr(e,s.q,s.r,i=>i.stack[0]==="SAND")},HERON:{id:"HERON",name:"Heron",desc:"Water next to Bush (Leaf)",points:[3,3,3],slots:3,icon:Hc,iconColor:"text-cyan-200",visual:{type:"adj",main:["WATER"],others:[["LEAF"]]},check:(s,e)=>s.stack[0]==="WATER"&&sr(e,s.q,s.r,i=>On(i,["LEAF"]))},CAT:{id:"CAT",name:"Cat",desc:"Building next to 2 Fields",points:[4,4],slots:2,icon:Ov,iconColor:"text-gray-300",visual:{type:"adj",main:["BRICK"],others:[["SAND"],["SAND"]]},check:(s,e)=>{if(s.stack[0]!=="BRICK")return!1;let i=0;return cr(s.q,s.r).forEach(a=>{const o=e[`${a.q},${a.r}`];o&&o.stack[0]==="SAND"&&i++}),i>=2}}},jv=(s,e)=>{if(!s||s.animal||s.stack.length>=3)return!1;const i=s.stack.length>0?s.stack[s.stack.length-1]:"EMPTY";return gr[e].validOn.includes(i)},fN=s=>{let e={trees:0,mountains:0,fields:0,rivers:0,buildings:0};const i=new Set,a=Object.values(s);a.forEach(d=>{if(d.stack[d.stack.length-1]==="LEAF"){const g=d.stack.length;g===2&&d.stack[0]==="WOOD"&&(e.trees+=3),g===3&&d.stack[0]==="WOOD"&&d.stack[1]==="WOOD"&&(e.trees+=7)}}),a.forEach(d=>{if(d.stack[0]==="STONE"){const g=d.stack.length;cr(d.q,d.r).some(E=>s[`${E.q},${E.r}`]?.stack[0]==="STONE")&&(g===1?e.mountains+=1:g===2?e.mountains+=3:g>=3&&(e.mountains+=7))}}),i.clear(),a.forEach(d=>{if(d.stack[0]==="SAND"&&!i.has(`${d.q},${d.r}`)){let g=0,_=[d];for(i.add(`${d.q},${d.r}`);_.length>0;){const y=_.pop();g++,cr(y.q,y.r).forEach(E=>{const A=s[`${E.q},${E.r}`],N=`${E.q},${E.r}`;A&&A.stack[0]==="SAND"&&!i.has(N)&&(i.add(N),_.push(A))})}g>=2&&(e.fields+=5)}}),i.clear();let o=0;return a.forEach(d=>{if(d.stack[0]==="WATER"&&!i.has(`${d.q},${d.r}`)){let g=0,_=new Set,y=[d];for(i.add(`${d.q},${d.r}`),_.add(`${d.q},${d.r}`);y.length>0;){const E=y.pop();g++,cr(E.q,E.r).forEach(A=>{const N=s[`${A.q},${A.r}`],q=`${A.q},${A.r}`;N&&N.stack[0]==="WATER"&&!_.has(q)&&(i.add(q),_.add(q),y.push(N))})}g>o&&(o=g)}}),o===2?e.rivers=2:o===3?e.rivers=5:o===4?e.rivers=8:o===5?e.rivers=11:o===6?e.rivers=15:o>6&&(e.rivers=15+(o-6)*4),a.forEach(d=>{if(d.stack[0]==="BRICK"){const g=cr(d.q,d.r),_=new Set;g.forEach(y=>{const E=s[`${y.q},${y.r}`];if(E&&E.stack.length>0){const A=E.stack[E.stack.length-1];A!=="BRICK"&&_.add(A)}}),_.size>=3&&(e.buildings+=5)}}),{total:Object.values(e).reduce((d,g)=>d+g,0),breakdown:e}},um=()=>{const s={};return[{r:-2,qStart:-1,qEnd:3},{r:-1,qStart:-1,qEnd:2},{r:0,qStart:-2,qEnd:2},{r:1,qStart:-2,qEnd:1},{r:2,qStart:-3,qEnd:1}].forEach(({r:i,qStart:a,qEnd:o})=>{for(let c=a;c<=o;c++)s[`${c},${i}`]={q:c,r:i,stack:[],animal:null}}),s},Lv=()=>{const s={WOOD:21,LEAF:19,STONE:23,WATER:23,SAND:19,BRICK:15};let e=[];Object.entries(s).forEach(([i,a])=>{for(let o=0;o<a;o++)e.push(i)});for(let i=e.length-1;i>0;i--){const a=Math.floor(Math.random()*(i+1));[e[i],e[a]]=[e[a],e[i]]}return e},Uv=()=>{const s=Object.keys(ds);let e=[];for(let i=0;i<3;i++)e=[...e,...s];for(let i=e.length-1;i>0;i--){const a=Math.floor(Math.random()*(i+1));[e[i],e[a]]=[e[a],e[i]]}return e},zv=(s,e)=>{let i=[...s],a=[...e];for(;i.length<5&&a.length>=3;)i.push({id:Math.random().toString(36).substr(2,9),tokens:[a.pop(),a.pop(),a.pop()].filter(Boolean)});return{market:i,bag:a}},Pv=(s,e)=>{let i=[...s],a=[...e];for(;i.length<4&&a.length>0;){const o=a.pop();i.push({id:Math.random().toString(36).substr(2,9),type:o})}return{market:i,deck:a}},cm=({tokens:s,scale:e=1,spacing:i=8})=>T.jsx("div",{className:"relative w-8 h-12 mx-auto",style:{transform:`scale(${e})`,height:`${s.length*i+24}px`},children:s.map((a,o)=>T.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 w-6 h-6 rounded-full border shadow-sm ${gr[a].color} ${gr[a].border} flex items-center justify-center`,style:{bottom:`${o*i}px`,zIndex:o},children:o===s.length-1&&(()=>{const c=gr[a].icon;return T.jsx(c,{size:12,className:"text-white/70"})})()},o))}),Th=({visual:s})=>s?s.type==="stack"?T.jsx(cm,{tokens:s.tokens}):s.type==="adj"?T.jsxs("div",{className:"flex items-end justify-center gap-2 py-2",children:[T.jsxs("div",{className:"relative z-10 border-2 border-white/50 rounded-xl p-1 bg-black/20",children:[T.jsx(cm,{tokens:Array.isArray(s.main)?s.main:[s.main],scale:.9}),T.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-white rounded-full flex items-center justify-center border border-slate-500 shadow",children:T.jsx("div",{className:"w-1.5 h-1.5 bg-slate-900 rounded-full"})})]}),T.jsx("div",{className:"flex flex-col gap-1",children:s.others.map((e,i)=>T.jsx("div",{className:"opacity-80 scale-75 origin-bottom",children:T.jsx(cm,{tokens:Array.isArray(e)?e:[e],scale:.8})},i))})]}):null:null,hm=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(_l,{size:12,className:"text-emerald-400"}),T.jsx("span",{className:"text-[10px] font-black tracking-widest text-emerald-400 uppercase",children:"EQUILIBRIUM"})]}),Bv=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(_l,{size:20,className:"text-emerald-400"}),T.jsx("span",{className:"text-[20px] font-black tracking-widest text-emerald-400 uppercase",children:"EQUILIBRIUM"})]}),dN=({q:s,r:e,stack:i,animal:a,onClick:o,ghostToken:c,isPlaceable:d,ghostAnimal:g,isValidTarget:_})=>{const E=44*(Math.sqrt(3)*s+Math.sqrt(3)/2*e),A=44*(3/2*e);return T.jsxs("div",{onClick:()=>o&&o(s,e),className:"absolute flex items-center justify-center transition-all duration-300",style:{left:`calc(50% + ${E}px)`,top:`calc(50% + ${A}px)`,width:`${44*1.8}px`,height:"88px",transform:"translate(-50%, -50%)",zIndex:10+e,cursor:d||g?"pointer":"default"},children:[T.jsx("div",{className:`w-full h-full absolute transition-all duration-300 ${_?"bg-emerald-500/60 hover:bg-emerald-400/70 hover:scale-110 shadow-[0_0_30px_rgba(16,185,129,0.6)] z-10":d||g?"bg-slate-700/80 hover:bg-slate-600 hover:scale-105 shadow-[0_0_15px_rgba(52,211,153,0.3)]":"bg-slate-800/90"}`,style:{clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)",zIndex:0}}),T.jsx("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 pointer-events-none z-10 overflow-visible",style:{width:"100%",height:"100%"},children:T.jsx("polygon",{points:"50 0, 100 25, 100 75, 50 100, 0 75, 0 25",fill:"none",stroke:_?"#10b981":"rgba(255,255,255,0.4)",strokeWidth:_?"4":"1.5",strokeDasharray:"4 2",className:_?"animate-pulse":""})}),T.jsxs("div",{className:"relative z-20 flex items-center justify-center w-full h-full pb-2 pointer-events-none",children:[i.map((N,q)=>{const ee=gr[N];return T.jsx("div",{className:`absolute w-10 h-10 rounded-full border-2 shadow-xl flex items-center justify-center ${ee.color} ${ee.border}`,style:{transform:`translateY(-${q*8}px) scale(${1-q*.02})`,zIndex:q},children:q===i.length-1&&T.jsx(ee.icon,{size:16,className:"text-white/80"})},q)}),d&&c&&T.jsx("div",{className:`absolute w-10 h-10 rounded-full border-2 border-dashed opacity-60 flex items-center justify-center animate-pulse ${gr[c].color} border-white`,style:{transform:`translateY(-${i.length*8}px)`,zIndex:10},children:T.jsx(gC,{size:16,className:"text-white"})}),_&&!a&&T.jsx("div",{className:"absolute -top-8 w-10 h-10 rounded-full border-4 border-emerald-400 bg-emerald-900 shadow-xl flex items-center justify-center z-50 animate-bounce",children:T.jsx(Um,{size:24,className:"text-emerald-400"})}),g&&!a&&T.jsx("div",{className:"absolute -top-8 w-8 h-8 rounded-full border-2 border-dashed border-white shadow-xl flex items-center justify-center z-50 animate-pulse opacity-70",children:(()=>{const N=ds[g];if(!N)return null;const q=N.icon;return T.jsx(q,{size:16,className:N.iconColor,fill:"currentColor",fillOpacity:.2})})()}),a&&T.jsx("div",{className:"absolute w-8 h-8 rounded-full bg-white border-2 border-emerald-500 shadow-[0_0_10px_rgba(0,0,0,0.5)] flex items-center justify-center z-50 animate-in zoom-in duration-300",style:{transform:`translateY(-${i.length*8+6}px)`},children:(()=>{const N=ds[a];if(!N)return T.jsx("div",{className:"text-black text-[8px]",children:"?"});const q=N.icon;return T.jsx(q,{size:18,className:N.iconColor,fill:"currentColor",fillOpacity:.2})})()})]})]})},mN=({type:s,message:e,subtext:i,icon:a})=>T.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:T.jsxs("div",{className:`flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-sm md:max-w-xl mx-4 text-center ${s==="success"?"bg-emerald-900/90 border-emerald-500 text-emerald-100":s==="failure"?"bg-red-900/90 border-red-500 text-red-100":s==="warning"?"bg-amber-900/90 border-amber-500 text-amber-100":"bg-blue-900/90 border-blue-500 text-blue-100"}`,children:[a&&T.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:T.jsx(a,{size:64,className:"animate-bounce"})}),T.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:e}),i&&T.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide",children:i})]})}),fm=({onClose:s})=>T.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-slate-900 border border-emerald-900/50 w-full max-w-3xl rounded-3xl shadow-2xl p-6 relative max-h-[90vh] overflow-y-auto custom-scrollbar",children:[T.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full hover:bg-slate-700 transition-colors",children:T.jsx(Cp,{size:24})}),T.jsx("h2",{className:"text-3xl font-black text-center mb-6 text-emerald-400",children:"Architect's Handbook"}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("section",{children:[T.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[T.jsx(_l,{className:"text-emerald-500"})," Landscape Scoring"]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-slate-300",children:[T.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[T.jsx("strong",{className:"text-emerald-400 block mb-1",children:"Trees (Wood + Foliage)"}),T.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[T.jsx("li",{children:"2 High (1 Log + 1 Leaf): 3 Pts"}),T.jsx("li",{children:"3 High (2 Log + 2 Leaf): 7 Pts"}),T.jsx("li",{className:"text-slate-500 italic",children:"Foliage on ground: 0 Pts (Bush)"})]})]}),T.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[T.jsx("strong",{className:"text-slate-400 block mb-1",children:"Mountains (Stone)"}),T.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[T.jsx("li",{children:"Score = Height of stack (1=1pt, 2=3pts, 3=7pts)."}),T.jsx("li",{children:"Only scores if adjacent to at least one other Mountain stack."})]})]}),T.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[T.jsx("strong",{className:"text-yellow-400 block mb-1",children:"Fields (Sand)"}),T.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[T.jsx("li",{children:"5 Pts for every distinct group of 2+ connected Sand."}),T.jsx("li",{children:"Cannot stack tokens on Sand."})]})]}),T.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[T.jsx("strong",{className:"text-cyan-400 block mb-1",children:"Rivers (Water)"}),T.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[T.jsx("li",{children:"Longest Chain scoring:"}),T.jsx("li",{children:"2=2pts, 3=5pts, 4=8pts, 5=11pts, 6+ = +4pts for each."})]})]}),T.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl md:col-span-2 border border-emerald-900/30",children:[T.jsx("strong",{className:"text-red-400 block mb-1",children:"Buildings (Brick)"}),T.jsx("ul",{className:"list-disc pl-4 text-xs space-y-1",children:T.jsx("li",{children:"5 Pts if surrounded by 3+ distinct terrain types (colors)."})})]})]})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[T.jsx($o,{className:"text-orange-500"})," Animal Scoring"]}),T.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Draft animals to your hand. When you create their pattern on the board, select the animal to place it!"}),T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.values(ds).map(e=>T.jsxs("div",{className:"bg-slate-800 p-3 rounded-xl border border-emerald-900/30 flex flex-col items-center gap-2 text-xs",children:[T.jsx("div",{className:"scale-75 mb-2",children:T.jsx(Th,{visual:e.visual})}),T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"font-bold text-white text-sm",children:e.name}),T.jsx("div",{className:"text-[10px] text-slate-400 leading-tight mb-2 h-8 overflow-hidden",children:e.desc}),T.jsxs("div",{className:"text-[10px] text-yellow-500 font-bold bg-black/20 px-2 py-1 rounded-full",children:[e.points.join(" / ")," Pts"]})]})]},e.id))})]})]})]})}),pN=({gameState:s,onClose:e})=>T.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-slate-900 border border-emerald-900/50 w-full max-w-lg rounded-3xl shadow-2xl p-6 relative",children:[T.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full hover:bg-slate-700 transition-colors",children:T.jsx(Cp,{size:24})}),T.jsxs("h2",{className:"text-2xl font-black text-center mb-6 text-emerald-400 flex items-center justify-center gap-2",children:[T.jsx(hT,{})," Live Scores"]}),T.jsx("div",{className:"space-y-4",children:s.players.map(i=>T.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[T.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2 mb-2",children:[T.jsx("span",{className:"font-bold text-lg text-white",children:i.name}),T.jsx("span",{className:"text-2xl font-black text-yellow-500",children:i.score+(i.landscapeScore||0)})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-slate-400",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Animals:"})," ",T.jsx("span",{className:"text-white font-bold",children:i.score})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Trees:"})," ",T.jsx("span",{className:"text-white font-bold",children:i.landscapeScoreBreakdown?.trees||0})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Mountains:"})," ",T.jsx("span",{className:"text-white font-bold",children:i.landscapeScoreBreakdown?.mountains||0})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Fields:"})," ",T.jsx("span",{className:"text-white font-bold",children:i.landscapeScoreBreakdown?.fields||0})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Rivers:"})," ",T.jsx("span",{className:"text-white font-bold",children:i.landscapeScoreBreakdown?.rivers||0})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Buildings:"})," ",T.jsx("span",{className:"text-white font-bold",children:i.landscapeScoreBreakdown?.buildings||0})]})]})]},i.id))})]})}),gN=({animal:s,onClose:e})=>T.jsx("div",{className:"fixed inset-0 z-[210] bg-black/80 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:e,children:T.jsxs("div",{className:"bg-slate-900 border-2 border-slate-700 p-6 rounded-2xl max-w-sm w-full text-center shadow-2xl relative",onClick:i=>i.stopPropagation(),children:[T.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 p-4 rounded-full border-4 border-slate-900",children:T.jsx(s.icon,{size:48,className:s.iconColor})}),T.jsx("h3",{className:"text-2xl font-black text-white mt-8 mb-2 uppercase",children:s.name}),T.jsxs("div",{className:"text-yellow-500 font-bold text-lg mb-4",children:["+",s.points[0]," Pts per placement"]}),T.jsx("div",{className:"flex justify-center mb-6 bg-black/20 p-4 rounded-xl",children:T.jsx(Th,{visual:s.visual})}),T.jsx("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 mb-4",children:T.jsx("p",{className:"text-slate-300 text-sm",children:s.desc})}),T.jsx("div",{className:"flex justify-center gap-1 mb-4",children:Array.from({length:s.slots}).map((i,a)=>T.jsx("div",{className:"w-4 h-4 rounded-full bg-slate-700 border border-slate-600"},a))}),T.jsx("button",{onClick:e,className:"bg-slate-700 hover:bg-slate-600 w-full py-3 rounded-xl font-bold",children:"Close"})]})});function yN(){const[s,e]=Qe.useState(null),[i,a]=Qe.useState("menu"),[o,c]=Qe.useState(""),[d,g]=Qe.useState(""),[_,y]=Qe.useState(""),[E,A]=Qe.useState(null),[N,q]=Qe.useState(""),[ee,se]=Qe.useState(!1),[re,ye]=Qe.useState(!1),[Re,be]=Qe.useState(!1),[Je,mt]=Qe.useState(!1),[je,I]=Qe.useState(!1),[w,C]=Qe.useState(!1),[k,D]=Qe.useState(!1),[j,x]=Qe.useState(null),[st,pt]=Qe.useState(null),[F,te]=Qe.useState(null),[de,He]=Qe.useState(null),[Ae,O]=Qe.useState(null),[G,ie]=Qe.useState(null),ae=Qe.useRef(null);Qe.useEffect(()=>{const Z=localStorage.getItem("equilibrium_roomId");Z&&y(Z)},[]),Qe.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await A2(lm,__initial_auth_token):await v2(lm))();const J=R2(lm,oe=>{if(e(oe),oe){const ce=localStorage.getItem("gameHub_playerName");ce&&c(ce),pt(oe.uid)}});return()=>J()},[]),Qe.useEffect(()=>{const Z=Nv(cn(hn,"game_hub_settings","config"),J=>{J.exists()&&J.data()[hN]?.maintenance?ye(!0):ye(!1)},J=>console.log("Config Read Error (Safe to ignore):",J));return()=>Z()},[]),Qe.useEffect(()=>{if(!_||!s)return;const Z=cn(hn,"artifacts",En,"public","data","rooms",_),J=Nv(Z,oe=>{if(oe.exists()){const ce=oe.data();if(!ce.players.some(Ce=>Ce.id===s.uid)){y(""),localStorage.removeItem("equilibrium_roomId"),a("menu"),q("You were removed from the world.");return}A(ce),ce.status==="playing"||ce.status==="finished"?a("game"):ce.status==="lobby"&&a("lobby")}else a("menu"),y(""),localStorage.removeItem("equilibrium_roomId"),q("Voyage ended.")},oe=>{console.error(oe),q("Connection lost.")});return()=>J()},[_,s]),Qe.useEffect(()=>{if(!E?.logs||E.logs.length===0)return;const Z=E.logs[E.logs.length-1];if(ae.current===null){ae.current=Z.id;return}Z.id<=ae.current||(ae.current=Z.id,Z.type==="success"?(x({type:"success",message:"HARMONY!",subtext:Z.text,icon:No}),setTimeout(()=>x(null),2500)):Z.type==="warning"?(x({type:"warning",message:"ATTENTION",subtext:Z.text,icon:am}),setTimeout(()=>x(null),2500)):Z.type==="failure"&&(x({type:"failure",message:"PENALTY",subtext:Z.text,icon:am}),setTimeout(()=>x(null),2500)))},[E?.logs]);const Ee=async()=>{if(!o)return q("Enter Name");localStorage.setItem("gameHub_playerName",o),se(!0);const Z=Math.random().toString(36).substr(2,6).toUpperCase(),J=Lv(),oe=Uv(),{market:ce,bag:Ce}=zv([],J),$=Pv([],oe),pe={roomId:Z,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:o,score:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:um(),holding:[],animals:[],ready:!0,hasDraftedTokens:!1,hasDraftedAnimal:!1}],market:ce,bag:Ce,animalMarket:$.market,animalDeck:$.deck,turnIndex:0,startPlayerIndex:0,isLastRound:!1,turnPhase:"PLAY",logs:[],winnerId:null};try{await oC(cn(hn,"artifacts",En,"public","data","rooms",Z),pe),y(Z),localStorage.setItem("equilibrium_roomId",Z),pt(s.uid)}catch(Ne){console.error(Ne),q("Failed to create world.")}se(!1)},Ie=async()=>{if(!d||!o)return q("Enter details");localStorage.setItem("gameHub_playerName",o),se(!0);try{const Z=d.toUpperCase().trim(),J=cn(hn,"artifacts",En,"public","data","rooms",Z),oe=await lC(J);if(oe.exists()&&oe.data().status==="lobby"){const ce=oe.data();if(!ce.players.some(Ce=>Ce.id===s.uid)){if(ce.players.length>=4){q("World is full."),se(!1);return}const Ce=[...ce.players,{id:s.uid,name:o,score:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:um(),holding:[],animals:[],ready:!1,hasDraftedTokens:!1,hasDraftedAnimal:!1}];await Qn(J,{players:Ce})}y(Z),localStorage.setItem("equilibrium_roomId",Z),pt(s.uid)}else q("Room not found or in progress")}catch(Z){q(Z.message)}se(!1)},Le=async()=>{const Z=E.players.length,J=Math.floor(Math.random()*Z);E.players[J].name,await Qn(cn(hn,"artifacts",En,"public","data","rooms",_),{status:"playing",turnIndex:J,startPlayerIndex:J,isLastRound:!1,logs:fs({text:"The ecosystem awakens.",type:"neutral",id:Date.now()})})},St=async()=>{if(!E)return;const Z=[...E.players],J=Z.find(oe=>oe.id===s.uid);J&&(J.ready=!J.ready,await Qn(cn(hn,"artifacts",En,"public","data","rooms",_),{players:Z}))},ut=async()=>{if(_){try{const Z=cn(hn,"artifacts",En,"public","data","rooms",_);if(E.hostId===s.uid)await uC(Z);else{const J=E.players.filter(oe=>oe.id!==s.uid);await Qn(Z,{players:J})}}catch{console.log("Room gone")}localStorage.removeItem("equilibrium_roomId"),y(""),a("menu"),D(!1),A(null)}},Hi=async Z=>{if(!(!E||E.hostId!==s.uid))try{const J=E.players.filter(oe=>oe.id!==Z);await Qn(cn(hn,"artifacts",En,"public","data","rooms",_),{players:J,logs:fs({text:"A player was removed from the world.",type:"warning",id:Date.now()})})}catch(J){console.error("Error kicking player:",J)}},Fi=async()=>{if(E.hostId!==s.uid)return;const Z=Lv(),J=Uv(),{market:oe,bag:ce}=zv([],Z),Ce=Pv([],J),$=E.players.map(pe=>({...pe,score:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:um(),holding:[],animals:[],ready:!1,hasDraftedTokens:!1,hasDraftedAnimal:!1}));await Qn(cn(hn,"artifacts",En,"public","data","rooms",_),{status:"lobby",players:$,market:oe,bag:ce,animalMarket:Ce.market,animalDeck:Ce.deck,logs:[],winnerId:null,turnIndex:0,turnPhase:"PLAY"}),D(!1)},As=async Z=>{const J=E.players.findIndex(pe=>pe.id===s.uid);if(E.turnIndex!==J)return;const oe=[...E.players],ce=oe[J];if(ce.hasDraftedTokens)return;let Ce=[...E.market],$=[...E.bag];if(ce.holding=Ce[Z].tokens,ce.hasDraftedTokens=!0,Ce.splice(Z,1),$.length>=3){const pe={id:Math.random().toString(36).substr(2,9),tokens:[$.pop(),$.pop(),$.pop()].filter(Boolean)};Ce.push(pe)}await Qn(cn(hn,"artifacts",En,"public","data","rooms",_),{players:oe,market:Ce,bag:$,logs:fs({text:`${ce.name} drafted tokens.`,type:"neutral",id:Date.now()})}),te(null)},ws=async Z=>{const J=E.players.findIndex(Ze=>Ze.id===s.uid);if(E.turnIndex!==J)return;const oe=[...E.players],ce=oe[J];if(ce.hasDraftedAnimal||ce.animals.filter(Ze=>Ze.slotsFilled<Ze.maxSlots).length>=4)return;let $=[...E.animalMarket],pe=[...E.animalDeck];const Ne=$[Z],_t=ds[Ne.type];if(ce.animals.push({...Ne,slotsFilled:0,maxSlots:_t.slots}),ce.hasDraftedAnimal=!0,$.splice(Z,1),pe.length>0){const Ze={id:Math.random().toString(36).substr(2,9),type:pe.pop()};$.push(Ze)}await Qn(cn(hn,"artifacts",En,"public","data","rooms",_),{players:oe,animalMarket:$,animalDeck:pe,logs:fs({text:`${ce.name} adopted a ${_t.name}.`,type:"neutral",id:Date.now()})}),te(null)},kn=async(Z,J)=>{try{const oe=E.players.findIndex(pe=>pe.id===s.uid);if(E.turnIndex!==oe)return;const ce=[...E.players],Ce=ce[oe],$={players:ce};if(Ae!==null&&Ce.holding[Ae]){const pe=`${Z},${J}`,Ne=Ce.board[pe],_t=Ce.holding[Ae];if(!jv(Ne,_t))return;Ne.stack.push(_t),Ce.holding.splice(Ae,1),O(null);const Ze=fN(Ce.board);Ce.landscapeScore=Ze.total,Ce.landscapeScoreBreakdown=Ze.breakdown,!Object.values(Ce.board).some(Ki=>Ki.stack.length===0)&&!E.isLastRound&&($.isLastRound=!0,$.logs||($.logs=[]),$.logs.push({text:`${Ce.name}'s world is full! Finishing the round...`,type:"warning",id:Date.now()})),await Qn(cn(hn,"artifacts",En,"public","data","rooms",_),$);return}if(G!==null&&Ce.animals[G]){const pe=Ce.animals[G],Ne=ds[pe.type];if(!Ne){console.error("Animal definition missing for type:",pe.type);return}const _t=Ce.board[`${Z},${J}`];if(!_t.animal&&pe.slotsFilled<pe.maxSlots&&Ne.check(_t,Ce.board)){_t.animal=pe.type;const Ze=Ne.points[pe.slotsFilled];pe.slotsFilled+=1,Ce.score+=Ze,ie(null),$.logs||($.logs=[]),$.logs.push({text:`${Ce.name} placed a ${Ne.name} (+${Ze})!`,type:"success",id:Date.now()}),await Qn(cn(hn,"artifacts",En,"public","data","rooms",_),$)}}}catch(oe){console.error("Placement error:",oe),q("Something went wrong with placement. Try refreshing.")}},xr=async()=>{const Z=E.players.findIndex(ce=>ce.id===s.uid);if(E.turnIndex!==Z)return;const J=[...E.players],oe=J[Z];Ae===null||!oe.holding[Ae]||(oe.holding.splice(Ae,1),oe.score=Math.max(0,oe.score-2),O(null),await Qn(cn(hn,"artifacts",En,"public","data","rooms",_),{players:J,logs:fs({text:`${oe.name} discarded a token (-2 pts).`,type:"failure",id:Date.now()})}))},Gi=async()=>{const Z=E.players.findIndex(pe=>pe.id===s.uid);if(E.turnIndex!==Z)return;const J=[...E.players],oe=J[Z];if(oe.holding.length>0||!oe.hasDraftedTokens)return;oe.hasDraftedTokens=!1,oe.hasDraftedAnimal=!1;const ce={players:J},Ce=(E.turnIndex+1)%E.players.length;let $=E.isLastRound;E.bag.length===0&&E.market.length===0?(ce.status="finished",ce.logs=fs({text:"The Market is empty! Game Over immediately.",type:"warning",id:Date.now()})):$&&Ce===E.startPlayerIndex?(ce.status="finished",ce.logs=fs({text:"Round complete. Game Over!",type:"neutral",id:Date.now()+1})):(E.bag.length===0&&!$&&(ce.isLastRound=!0,ce.logs=fs({text:"The Bag is empty! Finishing the round...",type:"warning",id:Date.now()})),ce.turnIndex=Ce,ce.logs=fs({text:`Turn passed to ${E.players[Ce].name}.`,type:"neutral",id:Date.now()})),await Qn(cn(hn,"artifacts",En,"public","data","rooms",_),ce)},Rr=()=>{const Z=E.roomId,J=()=>{be(!0),setTimeout(()=>be(!1),2e3),triggerFeedback&&triggerFeedback("neutral","COPIED!","",Um)};try{navigator.clipboard.writeText(Z),J()}catch{const ce=document.createElement("textarea");ce.value=Z,document.body.appendChild(ce),ce.select(),document.execCommand("copy"),document.body.removeChild(ce),J()}},di=()=>{const Z=E.players.findIndex(oe=>oe.id===s.uid);return E.turnIndex===Z&&st!==s.uid?(x({type:"warning",message:"WRONG WORLD",subtext:"Return to your world to make moves.",icon:rm}),setTimeout(()=>x(null),2e3),!1):!0};if(re)return T.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[T.jsx(Bv,{}),T.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[T.jsx(VC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),T.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),T.jsx("p",{className:"text-gray-400",children:"Meteor impact detected! We're busy repairing the ecosystem."})]}),T.jsx("div",{className:"h-8"}),T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:T.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:T.jsx("div",{className:"text-center pb-12 animate-pulse",children:T.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[T.jsx(No,{size:16})," Visit Gamehub...Try our other releases..."," ",T.jsx(No,{size:16})]})})})}),T.jsx(hm,{})]});if(!s)return T.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-emerald-500 animate-pulse",children:"Initializing Ecosystem..."});if(_&&!E&&!N)return T.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center text-white p-4",children:[T.jsx(Fc,{}),T.jsx(om,{}),T.jsxs("div",{className:"bg-slate-900/80 backdrop-blur p-8 rounded-2xl border border-slate-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[T.jsx(FC,{size:48,className:"text-emerald-500 animate-spin"}),T.jsxs("div",{className:"text-center",children:[T.jsx("h2",{className:"text-xl font-bold",children:"Resuming Session..."}),T.jsx("p",{className:"text-slate-400 text-sm",children:"Returning to the wild"})]})]})]});if(i==="menu")return T.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans select-none",children:[T.jsx(Fc,{}),T.jsx(om,{}),je&&T.jsx(fm,{onClose:()=>I(!1)}),T.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[T.jsx(_l,{size:64,className:"text-emerald-400 mx-auto mb-4 animate-spin-slow"}),T.jsx("h1",{className:"text-5xl md:text-7xl font-thin text-transparent bg-clip-text bg-gradient-to-b from-emerald-400 to-teal-600 tracking-tighter drop-shadow-md",children:"EQUILIBRIUM"}),T.jsx("p",{className:"text-emerald-200/40 tracking-[0.5em] uppercase mt-2 text-xs",children:"Build. Balance. Score."})]}),T.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-emerald-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 relative",children:[N&&T.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 mb-4 rounded text-center text-sm font-bold flex items-center justify-center gap-2",children:[T.jsx(am,{size:16})," ",N]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("input",{className:"w-full bg-black/50 border border-emerald-700 focus:border-emerald-500 p-4 rounded-xl text-white outline-none transition-all text-lg font-bold text-center",placeholder:"YOUR NAME",value:o,onChange:Z=>c(Z.target.value),maxLength:12}),T.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[T.jsxs("button",{onClick:Ee,disabled:ee,className:"bg-gradient-to-br from-emerald-600 to-teal-700 hover:from-emerald-500 hover:to-teal-600 p-4 rounded-xl font-bold flex flex-col items-center justify-center gap-1 transition-all active:scale-95 shadow-lg shadow-emerald-900/50",children:[T.jsx(No,{size:24}),T.jsx("span",{children:"Create"})]}),T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx("input",{className:"bg-black/50 border border-emerald-700 focus:border-emerald-500 p-2 rounded-xl text-white text-center uppercase font-mono font-bold tracking-widest outline-none h-12",placeholder:"CODE",value:d,onChange:Z=>g(Z.target.value),maxLength:6}),T.jsx("button",{onClick:Ie,disabled:ee,className:"bg-slate-800 hover:bg-slate-700 p-2 rounded-xl font-bold text-slate-300 transition-all active:scale-95 h-full",children:"Join"})]})]}),T.jsxs("button",{onClick:()=>I(!0),className:"w-full mt-4 text-emerald-400 hover:text-emerald-300 text-sm font-bold flex items-center justify-center gap-2 transition-colors py-2",children:[T.jsx(im,{size:16})," Architect's Guide"]})]})]}),T.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center z-10",children:["Inspired by Harmonies.",T.jsx("br",{}),"Developed by"," ",T.jsx("strong",{className:"text-emerald-600",children:"RAWFID K SHUVO"}),"."]})]});if(i==="lobby"&&E){const Z=E.hostId===s.uid;return T.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-6 relative",children:[T.jsx(Fc,{}),T.jsx(om,{}),T.jsx(Bv,{}),je&&T.jsx(fm,{onClose:()=>I(!1)}),T.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-2xl border border-emerald-500/30 shadow-2xl animate-in slide-in-from-bottom-8",children:[T.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-lg md:text-xl text-emerald-500 font-bold uppercase",children:"New World:"}),T.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[T.jsx("div",{className:"text-2xl md:text-3xl font-mono text-white font-black",children:_}),T.jsxs("div",{className:"relative",children:[T.jsx("button",{onClick:Rr,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:Re?T.jsx(Um,{size:16,className:"text-green-500"}):T.jsx(AC,{size:16})}),Re&&T.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-cyan-500 text-black text-xs font-bold px-2 py-1 rounded shadow-lg animate-fade-in-up whitespace-nowrap",children:"Copied!"})]})]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>I(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:T.jsx(im,{size:20})}),T.jsx("button",{onClick:()=>D(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:T.jsx(Mv,{size:20})})]})]}),T.jsxs("div",{className:"space-y-3 mb-8",children:[T.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:["Architects (",E.players.length,"/4)"]}),E.players.map(J=>T.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-4 rounded-xl border border-slate-700",children:[T.jsxs("span",{className:"font-bold flex items-center gap-3 text-lg",children:[J.name,J.id===E.hostId&&T.jsx(xC,{size:16,className:"text-yellow-500"})]}),J.ready?T.jsx("span",{className:"text-emerald-400 text-xs font-bold uppercase bg-emerald-900/20 px-2 py-1 rounded",children:"Ready"}):T.jsx("span",{className:"text-slate-500 text-xs font-bold uppercase",children:"Waiting"}),E.hostId===s.uid&&J.id!==s.uid&&T.jsx("button",{onClick:()=>Hi(J.id),className:"p-2 bg-red-900/20 hover:bg-red-900/50 text-red-500 rounded-lg transition-colors border border-red-900/30",title:"Kick Player",children:T.jsx(Vv,{size:16})})]},J.id)),Array.from({length:4-E.players.length}).map((J,oe)=>T.jsx("div",{className:"border-2 border-dashed border-slate-700 rounded-xl p-4 flex items-center justify-center text-slate-600 font-bold uppercase text-sm",children:"Empty Slot"},oe))]}),Z?T.jsxs("button",{onClick:Le,className:"w-full bg-emerald-600 hover:bg-emerald-500 py-4 rounded-xl font-bold text-xl shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2",children:[T.jsx($C,{size:24,fill:"currentColor"})," Start Game"]}):T.jsx("button",{onClick:St,className:`w-full py-4 rounded-xl font-bold text-xl transition-all active:scale-95 ${E.players.find(J=>J.id===s.uid)?.ready?"bg-slate-700 text-emerald-400":"bg-emerald-600 text-white"}`,children:E.players.find(J=>J.id===s.uid)?.ready?"READY":"MARK READY"})]}),k&&T.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[T.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase",children:"Leave World?"}),T.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:E.hostId===s.uid?"As Host, leaving ends the game for everyone.":"You will leave this session."}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>D(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Stay"}),T.jsx("button",{onClick:ut,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]})]})}),T.jsx(hm,{})]})}if(i==="game"&&E){const Z=E.players.findIndex($=>$.id===s.uid),J=E.players[Z],oe=E.turnIndex===Z,ce=E.players.find($=>$.id===st)||J,Ce=oe&&J.hasDraftedTokens&&J.holding.length===0;return T.jsxs("div",{className:"fixed inset-0 bg-slate-950 text-white flex flex-col overflow-hidden font-sans select-none",children:[T.jsx(Fc,{}),j&&T.jsx(mN,{type:j.type,message:j.message,subtext:j.subtext,icon:j.icon}),je&&T.jsx(fm,{onClose:()=>I(!1)}),w&&T.jsx(pN,{gameState:E,onClose:()=>C(!1)}),de&&T.jsx(gN,{animal:de,onClose:()=>He(null)}),T.jsxs("div",{className:"h-14 md:h-16 bg-slate-900 border-b border-emerald-900/30 flex items-center justify-between px-2 z-50 shrink-0 shadow-lg",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"w-10 h-10 bg-emerald-900/50 rounded-lg flex items-center justify-center border border-emerald-700",children:T.jsx(_l,{className:"text-emerald-400",size:20})}),T.jsxs("div",{children:[T.jsx("div",{className:"font-bold text-sm tracking-wider text-emerald-100",children:"EQUILIBRIUM"}),T.jsx("div",{className:"text-[10px] text-emerald-400 font-mono uppercase",children:E.status==="finished"?"GAME OVER":`Turn: ${E.players[E.turnIndex].name}`})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("button",{onClick:()=>C(!0),className:"p-2 hover:bg-slate-800 rounded text-yellow-500 hover:text-white",children:T.jsx(hT,{size:18})}),T.jsx("button",{onClick:()=>I(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:T.jsx(im,{size:18})}),T.jsx("button",{onClick:()=>mt(!Je),className:`p-2 rounded transition-colors ${Je?"bg-slate-800 text-white":"hover:bg-slate-800 text-slate-400"}`,children:T.jsx(UC,{size:18})}),T.jsx("button",{onClick:()=>D(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:T.jsx(Mv,{size:18})})]})]}),Je&&T.jsxs("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-slate-900/95 border border-slate-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl custom-scrollbar",children:[T.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 sticky top-0 bg-slate-900/95 py-2",children:"World History"}),T.jsx("div",{className:"space-y-2",children:E.logs.slice().reverse().map($=>T.jsx("div",{className:`text-xs p-2 rounded border-l-2 ${$.type==="success"?"border-emerald-500 bg-emerald-900/10":$.type==="warning"?"border-amber-500 bg-amber-900/10":$.type==="failure"?"border-red-500 bg-red-900/10":"border-slate-500 bg-slate-800/30"}`,children:$.text},$.id))})]}),k&&T.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[T.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase",children:"Leave World?"}),T.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:E.hostId===s.uid?"As Host, leaving ends the game for everyone.":"You will leave this session."}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>D(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Stay"}),T.jsx("button",{onClick:ut,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]}),E.hostId===s.uid&&T.jsx("button",{onClick:Fi,className:"w-full bg-slate-700 hover:bg-slate-600 py-2 rounded font-bold text-emerald-400 mt-2 text-sm",children:"Return All to Lobby"})]})}),T.jsxs("div",{className:"flex-1 relative bg-slate-950 overflow-hidden flex flex-col items-center justify-center",children:[T.jsx("div",{className:"absolute top-2 md:top-4 left-0 right-0 z-10 grid grid-cols-4 gap-1 px-2 w-full max-w-2xl mx-auto pointer-events-auto",children:E.players.map($=>T.jsxs("button",{onClick:()=>pt($.id),className:`
                                flex flex-col items-center justify-center h-12 md:h-14 rounded-xl border-2 transition-all w-full
                                ${st===$.id?"bg-slate-800 border-emerald-500 shadow-lg scale-105 z-10":"bg-slate-900/80 border-slate-700 hover:bg-slate-800/80 text-slate-400"}
                            `,children:[T.jsx("span",{className:`text-[9px] md:text-[10px] font-bold uppercase truncate max-w-full px-1 ${$.id===E.players[E.turnIndex].id?"text-emerald-400":""}`,children:$.name}),T.jsx("span",{className:"text-[10px] md:text-xs font-black text-yellow-500",children:$.score+$.landscapeScore})]},$.id))}),ce.id!==s.uid?T.jsxs("div",{className:"absolute top-20 bg-red-800/80 px-4 py-1 rounded-full text-xs font-bold text-slate-300 flex items-center gap-2 z-10 backdrop-blur animate-pulse",children:[T.jsx(rm,{size:12})," ",ce.name,"'s World"]}):T.jsxs("div",{className:"absolute top-20 bg-green-800/80 px-4 py-1 rounded-full text-xs font-bold text-slate-300 flex items-center gap-2 z-10 backdrop-blur animate-pulse",children:[T.jsx(rm,{size:12})," Your World"]}),T.jsx("div",{className:"relative w-[340px] h-[300px] transition-transform -mt-20 md:-mt-24 transform scale-100 md:scale-125",children:Object.values(ce.board).map($=>{let pe=!1;if(G!==null&&J.animals[G]){const Ne=ds[J.animals[G].type];Ne&&!$.animal&&J.animals[G].slotsFilled<J.animals[G].maxSlots&&(pe=Ne.check($,ce.board))}return T.jsx(dN,{...$,isPlaceable:oe&&ce.id===s.uid&&(Ae!==null&&J.holding[Ae]&&jv($,J.holding[Ae])||pe),ghostToken:Ae!==null?J.holding[Ae]:null,ghostAnimal:G!==null?J.animals[G].type:null,isValidTarget:pe,onClick:ce.id===s.uid?kn:void 0},`${$.q},${$.r}`)})}),F&&T.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>te(null),children:T.jsxs("div",{className:"bg-slate-900 border border-slate-600 p-6 rounded-3xl w-full max-w-lg shadow-2xl",onClick:$=>$.stopPropagation(),children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsxs("h3",{className:"text-xl font-bold text-white uppercase tracking-widest flex items-center gap-2",children:[F==="TOKENS"?T.jsx(No,{className:"text-cyan-400"}):T.jsx($o,{className:"text-orange-400"}),"Select ",F==="TOKENS"?"Tokens":"Animal"]}),T.jsx("button",{onClick:()=>te(null),className:"p-2 bg-slate-800 rounded-full text-slate-400",children:T.jsx(Cp,{size:20})})]}),F==="TOKENS"?T.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-[60vh] overflow-y-auto custom-scrollbar",children:E.market.map(($,pe)=>T.jsx("button",{onClick:()=>As(pe),disabled:!oe||J.hasDraftedTokens,className:"bg-slate-800 border-2 border-slate-700 hover:border-cyan-500 p-4 rounded-xl flex items-center justify-center gap-2 hover:bg-slate-700 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:grayscale-0",children:$.tokens.map((Ne,_t)=>{const Ze=gr[Ne];return T.jsx("div",{className:`w-8 h-8 rounded-full border shadow-sm flex items-center justify-center ${Ze.color} ${Ze.border}`,children:T.jsx(Ze.icon,{size:14,className:"text-white/70"})},_t)})},$.id))}):T.jsxs("div",{className:"grid grid-cols-1 gap-3 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[E.animalMarket.map(($,pe)=>{const Ne=ds[$.type],_t=oe&&!J.hasDraftedAnimal&&J.animals.filter(Ze=>Ze.slotsFilled<Ze.maxSlots).length<4;return T.jsxs("button",{onClick:()=>ws(pe),disabled:!_t,className:`bg-slate-800 border-2 border-slate-700 p-4 rounded-xl flex items-center gap-4 text-left transition-all ${_t?"hover:border-orange-500 hover:bg-slate-700 active:scale-95":"opacity-50 cursor-not-allowed"}`,children:[T.jsx("div",{className:"bg-black/30 p-3 rounded-full shrink-0",children:T.jsx(Ne.icon,{className:Ne.iconColor,size:24})}),T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("div",{className:"font-bold text-white text-lg",children:Ne.name}),T.jsxs("span",{className:"text-yellow-500 text-sm font-bold",children:["+",Ne.points.join("/")]})]}),T.jsx("div",{className:"text-slate-400 text-xs",children:Ne.desc}),T.jsx("div",{className:"mt-2 flex justify-center scale-90 origin-left",children:T.jsx(Th,{visual:Ne.visual})})]})]},$.id)}),E.animalMarket.length===0&&T.jsx("div",{className:"text-slate-500 text-center py-8",children:"No animals wandering by..."})]})]})}),E.status==="finished"&&T.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 flex items-center justify-center backdrop-blur-sm",children:T.jsxs("div",{className:"bg-slate-900 p-8 rounded-2xl border-2 border-yellow-500 text-center shadow-2xl animate-in zoom-in max-w-lg w-full m-4",children:[T.jsx(sN,{size:64,className:"text-yellow-400 mx-auto mb-4 animate-bounce"}),T.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-4",children:"Game Complete"}),T.jsx("div",{className:"space-y-3 mb-6 max-h-[50vh] overflow-y-auto custom-scrollbar text-sm",children:E.players.sort(($,pe)=>pe.score+pe.landscapeScore-($.score+$.landscapeScore)).map(($,pe)=>T.jsxs("div",{className:"bg-slate-800 p-3 rounded-xl border border-slate-700 flex flex-col gap-2",children:[T.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("span",{className:"font-mono text-emerald-500 font-bold",children:["#",pe+1]}),T.jsx("span",{className:"font-bold text-white text-lg",children:$.name})]}),T.jsx("span",{className:"text-2xl font-black text-yellow-500",children:$.score+$.landscapeScore})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-slate-400",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Animals:"})," ",T.jsx("span",{className:"text-white font-bold",children:$.score})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Trees:"})," ",T.jsx("span",{className:"text-white font-bold",children:$.landscapeScoreBreakdown?.trees||0})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Mountains:"})," ",T.jsx("span",{className:"text-white font-bold",children:$.landscapeScoreBreakdown?.mountains||0})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Fields:"})," ",T.jsx("span",{className:"text-white font-bold",children:$.landscapeScoreBreakdown?.fields||0})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Rivers:"})," ",T.jsx("span",{className:"text-white font-bold",children:$.landscapeScoreBreakdown?.rivers||0})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Buildings:"})," ",T.jsx("span",{className:"text-white font-bold",children:$.landscapeScoreBreakdown?.buildings||0})]})]})]},$.id))}),E.hostId===s.uid&&T.jsx("button",{onClick:Fi,className:"bg-slate-700 hover:bg-slate-600 px-6 py-3 rounded-xl font-bold w-full",children:"Return to Lobby"})]})})]}),T.jsx("div",{className:"h-40 bg-transparent absolute bottom-0 left-0 right-0 z-40 p-4 flex justify-between items-end pointer-events-none",children:T.jsxs("div",{className:"flex gap-4 pointer-events-auto items-end w-full",children:[T.jsxs("div",{className:"flex flex-col gap-4 mb-1",children:[oe&&J.holding.length>0&&T.jsxs("div",{className:"bg-emerald-900/90 border border-cyan-500/30 px-3 py-2 rounded-xl shadow-2xl flex flex-col items-center gap-2 backdrop-blur-md",children:[T.jsx("span",{className:"text-[8px] font-bold text-cyan-400 uppercase tracking-widest",children:"Placing"}),T.jsxs("div",{className:"flex items-center gap-2",children:[J.holding.map(($,pe)=>{const Ne=gr[$];return T.jsx("button",{onClick:()=>{di()&&(O(pe),ie(null))},className:`w-8 h-8 rounded-full border-2 shadow-lg flex items-center justify-center transition-all active:scale-90 ${Ne.color} ${Ne.border} ${Ae===pe?"ring-4 ring-white scale-110 z-10":"opacity-80 hover:opacity-100 hover:scale-105"}`,children:T.jsx(Ne.icon,{size:14,className:"text-white/80"})},pe)}),Ae!==null&&T.jsx("button",{onClick:xr,className:"w-8 h-8 rounded-full border-2 border-red-500 bg-red-900/50 flex items-center justify-center hover:bg-red-800 transition-colors",title:"Discard Token (-2 pts)",children:T.jsx(Vv,{size:12,className:"text-red-300"})})]})]}),Ce&&T.jsxs("button",{onClick:Gi,className:"bg-red-600 hover:bg-red-500 text-white font-bold py-2 px-4 rounded-xl shadow-lg animate-bounce flex items-center justify-center gap-2 text-sm whitespace-nowrap",children:["End Turn ",T.jsx(ZC,{size:14})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx("button",{onClick:()=>{di()&&te("TOKENS")},className:`w-14 h-14 rounded-full border-2 shadow-xl flex items-center justify-center transition-all active:scale-90 ${oe&&!J.hasDraftedTokens?"bg-cyan-600 border-cyan-400 text-white animate-bounce-subtle":"bg-slate-800 border-slate-600 text-slate-500"}`,children:T.jsx(MC,{size:24})}),T.jsx("button",{onClick:()=>{di()&&te("ANIMALS")},className:`w-14 h-14 rounded-full border-2 shadow-xl flex items-center justify-center transition-all active:scale-90 ${oe&&!J.hasDraftedAnimal&&J.animals.filter($=>$.slotsFilled<$.maxSlots).length<4?"bg-orange-600 border-orange-400 text-white":"bg-slate-800 border-slate-600 text-slate-500"}`,children:T.jsx($o,{size:24})})]})]}),T.jsx("div",{className:"flex gap-2 items-end ml-2 overflow-x-auto pb-1 max-w-[calc(100vw-160px)] no-scrollbar mask-gradient-right h-52",children:ce.animals.map(($,pe)=>{const Ne=ds[$.type],_t=pe===G&&ce.id===s.uid,Ze=$.slotsFilled>=$.maxSlots;return T.jsxs("button",{onClick:()=>{if(ce.id!==s.uid){di();return}O(null),ie(_t?null:pe)},className:`relative w-28 h-44 bg-slate-900/90 border-2 rounded-xl flex flex-col shadow-xl shrink-0 backdrop-blur-md transition-all hover:-translate-y-2 text-left overflow-hidden ${_t?"border-yellow-400 ring-2 ring-yellow-500/50 scale-105 z-10":"border-slate-600"} ${Ze?"grayscale opacity-75":""}`,children:[T.jsxs("div",{className:"flex justify-between items-center p-2 border-b border-white/10 bg-black/20 h-10 shrink-0",children:[T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(Ne.icon,{size:14,className:Ne.iconColor}),T.jsx("span",{className:"text-xs font-bold text-white truncate max-w-[60px]",children:Ne.name})]}),T.jsxs("span",{className:"text-xs font-black text-yellow-500",children:["+",Ne.points[Math.min($.slotsFilled,Ne.points.length-1)]]})]}),T.jsxs("div",{className:"p-2 flex-1 flex flex-col items-center w-full min-h-0 justify-between",children:[T.jsx("div",{className:"scale-75 origin-center shrink-0",children:T.jsx(Th,{visual:Ne.visual})}),T.jsx("div",{className:"text-[9px] text-slate-300 text-center leading-tight line-clamp-2 px-1 w-full break-words min-h-[24px] flex items-center justify-center",children:Ne.desc}),T.jsx("div",{className:"w-full shrink-0 pt-1",children:T.jsx("div",{className:"flex gap-1 justify-center",children:Array.from({length:$.maxSlots}).map((xl,Ki)=>T.jsx("div",{className:`h-1.5 w-full rounded-full border ${Ki<$.slotsFilled?"bg-green-500 border-green-400":"bg-slate-700 border-slate-600"}`},Ki))})})]})]},$.id)})})]})}),T.jsx(hm,{})]})}return null}Jb.createRoot(document.getElementById("root")).render(T.jsx(Qe.StrictMode,{children:T.jsx(yN,{})}));
