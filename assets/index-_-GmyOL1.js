(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function t2(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var qd={exports:{}},Cl={};var t_;function n2(){if(t_)return Cl;t_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Cl.Fragment=e,Cl.jsx=n,Cl.jsxs=n,Cl}var n_;function i2(){return n_||(n_=1,qd.exports=n2()),qd.exports}var E=i2(),Hd={exports:{}},Ne={};var i_;function s2(){if(i_)return Ne;i_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function H(D){return D===null||typeof D!="object"?null:(D=O&&D[O]||D["@@iterator"],typeof D=="function"?D:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,se={};function ye(D,G,ne){this.props=D,this.context=G,this.refs=se,this.updater=ne||J}ye.prototype.isReactComponent={},ye.prototype.setState=function(D,G){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,G,"setState")},ye.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Ie(){}Ie.prototype=ye.prototype;function Ae(D,G,ne){this.props=D,this.context=G,this.refs=se,this.updater=ne||J}var Je=Ae.prototype=new Ie;Je.constructor=Ae,ie(Je,ye.prototype),Je.isPureReactComponent=!0;var gt=Array.isArray;function Ue(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(D,G,ne){var ae=ne.ref;return{$$typeof:s,type:D,key:G,ref:ae!==void 0?ae:null,props:ne}}function M(D,G){return C(D.type,G,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function L(D){var G={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ne){return G[ne]})}var x=/\/+/g;function at(D,G){return typeof D=="object"&&D!==null&&D.key!=null?L(""+D.key):G.toString(36)}function yt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Ue,Ue):(D.status="pending",D.then(function(G){D.status==="pending"&&(D.status="fulfilled",D.value=G)},function(G){D.status==="pending"&&(D.status="rejected",D.reason=G)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,G,ne,ae,Te){var Oe=typeof D;(Oe==="undefined"||Oe==="boolean")&&(D=null);var ze=!1;if(D===null)ze=!0;else switch(Oe){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(D.$$typeof){case s:case e:ze=!0;break;case T:return ze=D._init,F(ze(D._payload),G,ne,ae,Te)}}if(ze)return Te=Te(D),ze=ae===""?"."+at(D,0):ae,gt(Te)?(ne="",ze!=null&&(ne=ze.replace(x,"$&/")+"/"),F(Te,G,ne,"",function(gi){return gi})):Te!=null&&(I(Te)&&(Te=M(Te,ne+(Te.key==null||D&&D.key===Te.key?"":(""+Te.key).replace(x,"$&/")+"/")+ze)),G.push(Te)),1;ze=0;var bt=ae===""?".":ae+":";if(gt(D))for(var ft=0;ft<D.length;ft++)ae=D[ft],Oe=bt+at(ae,ft),ze+=F(ae,G,ne,Oe,Te);else if(ft=H(D),typeof ft=="function")for(D=ft.call(D),ft=0;!(ae=D.next()).done;)ae=ae.value,Oe=bt+at(ae,ft++),ze+=F(ae,G,ne,Oe,Te);else if(Oe==="object"){if(typeof D.then=="function")return F(yt(D),G,ne,ae,Te);throw G=String(D),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ze}function te(D,G,ne){if(D==null)return D;var ae=[],Te=0;return F(D,ae,"","",function(Oe){return G.call(ne,Oe,Te++)}),ae}function me(D){if(D._status===-1){var G=D._result;G=G(),G.then(function(ne){(D._status===0||D._status===-1)&&(D._status=1,D._result=ne)},function(ne){(D._status===0||D._status===-1)&&(D._status=2,D._result=ne)}),D._status===-1&&(D._status=0,D._result=G)}if(D._status===1)return D._result.default;throw D._result}var Ge=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},xe={map:te,forEach:function(D,G,ne){te(D,function(){G.apply(this,arguments)},ne)},count:function(D){var G=0;return te(D,function(){G++}),G},toArray:function(D){return te(D,function(G){return G})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ne.Activity=S,Ne.Children=xe,Ne.Component=ye,Ne.Fragment=n,Ne.Profiler=l,Ne.PureComponent=Ae,Ne.StrictMode=r,Ne.Suspense=_,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},Ne.cache=function(D){return function(){return D.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(D,G,ne){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ae=ie({},D.props),Te=D.key;if(G!=null)for(Oe in G.key!==void 0&&(Te=""+G.key),G)!w.call(G,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&G.ref===void 0||(ae[Oe]=G[Oe]);var Oe=arguments.length-2;if(Oe===1)ae.children=ne;else if(1<Oe){for(var ze=Array(Oe),bt=0;bt<Oe;bt++)ze[bt]=arguments[bt+2];ae.children=ze}return C(D.type,Te,ae)},Ne.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Ne.createElement=function(D,G,ne){var ae,Te={},Oe=null;if(G!=null)for(ae in G.key!==void 0&&(Oe=""+G.key),G)w.call(G,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Te[ae]=G[ae]);var ze=arguments.length-2;if(ze===1)Te.children=ne;else if(1<ze){for(var bt=Array(ze),ft=0;ft<ze;ft++)bt[ft]=arguments[ft+2];Te.children=bt}if(D&&D.defaultProps)for(ae in ze=D.defaultProps,ze)Te[ae]===void 0&&(Te[ae]=ze[ae]);return C(D,Oe,Te)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(D){return{$$typeof:g,render:D}},Ne.isValidElement=I,Ne.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:me}},Ne.memo=function(D,G){return{$$typeof:y,type:D,compare:G===void 0?null:G}},Ne.startTransition=function(D){var G=N.T,ne={};N.T=ne;try{var ae=D(),Te=N.S;Te!==null&&Te(ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ue,Ge)}catch(Oe){Ge(Oe)}finally{G!==null&&ne.types!==null&&(G.types=ne.types),N.T=G}},Ne.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ne.use=function(D){return N.H.use(D)},Ne.useActionState=function(D,G,ne){return N.H.useActionState(D,G,ne)},Ne.useCallback=function(D,G){return N.H.useCallback(D,G)},Ne.useContext=function(D){return N.H.useContext(D)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(D,G){return N.H.useDeferredValue(D,G)},Ne.useEffect=function(D,G){return N.H.useEffect(D,G)},Ne.useEffectEvent=function(D){return N.H.useEffectEvent(D)},Ne.useId=function(){return N.H.useId()},Ne.useImperativeHandle=function(D,G,ne){return N.H.useImperativeHandle(D,G,ne)},Ne.useInsertionEffect=function(D,G){return N.H.useInsertionEffect(D,G)},Ne.useLayoutEffect=function(D,G){return N.H.useLayoutEffect(D,G)},Ne.useMemo=function(D,G){return N.H.useMemo(D,G)},Ne.useOptimistic=function(D,G){return N.H.useOptimistic(D,G)},Ne.useReducer=function(D,G,ne){return N.H.useReducer(D,G,ne)},Ne.useRef=function(D){return N.H.useRef(D)},Ne.useState=function(D){return N.H.useState(D)},Ne.useSyncExternalStore=function(D,G,ne){return N.H.useSyncExternalStore(D,G,ne)},Ne.useTransition=function(){return N.H.useTransition()},Ne.version="19.2.4",Ne}var s_;function Fm(){return s_||(s_=1,Hd.exports=s2()),Hd.exports}var Qe=Fm();const r2=t2(Qe);var Fd={exports:{}},Il={},Gd={exports:{}},Kd={};var r_;function a2(){return r_||(r_=1,(function(s){function e(F,te){var me=F.length;F.push(te);e:for(;0<me;){var Ge=me-1>>>1,xe=F[Ge];if(0<l(xe,te))F[Ge]=te,F[me]=xe,me=Ge;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var te=F[0],me=F.pop();if(me!==te){F[0]=me;e:for(var Ge=0,xe=F.length,D=xe>>>1;Ge<D;){var G=2*(Ge+1)-1,ne=F[G],ae=G+1,Te=F[ae];if(0>l(ne,me))ae<xe&&0>l(Te,ne)?(F[Ge]=Te,F[ae]=me,Ge=ae):(F[Ge]=ne,F[G]=me,Ge=G);else if(ae<xe&&0>l(Te,me))F[Ge]=Te,F[ae]=me,Ge=ae;else break e}}return te}function l(F,te){var me=F.sortIndex-te.sortIndex;return me!==0?me:F.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],T=1,S=null,O=3,H=!1,J=!1,ie=!1,se=!1,ye=typeof setTimeout=="function"?setTimeout:null,Ie=typeof clearTimeout=="function"?clearTimeout:null,Ae=typeof setImmediate<"u"?setImmediate:null;function Je(F){for(var te=n(y);te!==null;){if(te.callback===null)r(y);else if(te.startTime<=F)r(y),te.sortIndex=te.expirationTime,e(_,te);else break;te=n(y)}}function gt(F){if(ie=!1,Je(F),!J)if(n(_)!==null)J=!0,Ue||(Ue=!0,L());else{var te=n(y);te!==null&&yt(gt,te.startTime-F)}}var Ue=!1,N=-1,w=5,C=-1;function M(){return se?!0:!(s.unstable_now()-C<w)}function I(){if(se=!1,Ue){var F=s.unstable_now();C=F;var te=!0;try{e:{J=!1,ie&&(ie=!1,Ie(N),N=-1),H=!0;var me=O;try{t:{for(Je(F),S=n(_);S!==null&&!(S.expirationTime>F&&M());){var Ge=S.callback;if(typeof Ge=="function"){S.callback=null,O=S.priorityLevel;var xe=Ge(S.expirationTime<=F);if(F=s.unstable_now(),typeof xe=="function"){S.callback=xe,Je(F),te=!0;break t}S===n(_)&&r(_),Je(F)}else r(_);S=n(_)}if(S!==null)te=!0;else{var D=n(y);D!==null&&yt(gt,D.startTime-F),te=!1}}break e}finally{S=null,O=me,H=!1}te=void 0}}finally{te?L():Ue=!1}}}var L;if(typeof Ae=="function")L=function(){Ae(I)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,at=x.port2;x.port1.onmessage=I,L=function(){at.postMessage(null)}}else L=function(){ye(I,0)};function yt(F,te){N=ye(function(){F(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(F){switch(O){case 1:case 2:case 3:var te=3;break;default:te=O}var me=O;O=te;try{return F()}finally{O=me}},s.unstable_requestPaint=function(){se=!0},s.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var me=O;O=F;try{return te()}finally{O=me}},s.unstable_scheduleCallback=function(F,te,me){var Ge=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ge+me:Ge):me=Ge,F){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=me+xe,F={id:T++,callback:te,priorityLevel:F,startTime:me,expirationTime:xe,sortIndex:-1},me>Ge?(F.sortIndex=me,e(y,F),n(_)===null&&F===n(y)&&(ie?(Ie(N),N=-1):ie=!0,yt(gt,me-Ge))):(F.sortIndex=xe,e(_,F),J||H||(J=!0,Ue||(Ue=!0,L()))),F},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(F){var te=O;return function(){var me=O;O=te;try{return F.apply(this,arguments)}finally{O=me}}}})(Kd)),Kd}var a_;function o2(){return a_||(a_=1,Gd.exports=a2()),Gd.exports}var Yd={exports:{}},sn={};var o_;function l2(){if(o_)return sn;o_=1;var s=Fm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,T)},sn.flushSync=function(_){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=T,r.d.f()}},sn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},sn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},sn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:H}):T==="script"&&r.d.X(_,{crossOrigin:S,integrity:O,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},sn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},sn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin);r.d.L(_,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},sn.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},sn.requestFormReset=function(_){r.d.r(_)},sn.unstable_batchedUpdates=function(_,y){return _(y)},sn.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.4",sn}var l_;function u2(){if(l_)return Yd.exports;l_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Yd.exports=l2(),Yd.exports}var u_;function c2(){if(u_)return Il;u_=1;var s=o2(),e=Fm(),n=u2();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,b=h.child;b;){if(b===a){p=!0,a=h,o=f;break}if(b===o){p=!0,o=h,a=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===a){p=!0,a=f,o=h;break}if(b===o){p=!0,o=f,a=h;break}b=b.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),Ie=Symbol.for("react.consumer"),Ae=Symbol.for("react.context"),Je=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case ye:return"Profiler";case se:return"StrictMode";case gt:return"Suspense";case Ue:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case Ae:return t.displayName||"Context";case Ie:return(t._context.displayName||"Context")+".Consumer";case Je:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:at(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return at(t(i))}catch{}}return null}var yt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ge=[],xe=-1;function D(t){return{current:t}}function G(t){0>xe||(t.current=Ge[xe],Ge[xe]=null,xe--)}function ne(t,i){xe++,Ge[xe]=t.current,t.current=i}var ae=D(null),Te=D(null),Oe=D(null),ze=D(null);function bt(t,i){switch(ne(Oe,i),ne(Te,t),ne(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?S0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=S0(i),t=w0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(ae),ne(ae,t)}function ft(){G(ae),G(Te),G(Oe)}function gi(t){t.memoizedState!==null&&ne(ze,t);var i=ae.current,a=w0(i,t.type);i!==a&&(ne(Te,t),ne(ae,a))}function xs(t){Te.current===t&&(G(ae),G(Te)),ze.current===t&&(G(ze),wl._currentValue=me)}var Rs,Ns;function jn(t){if(Rs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Rs=i&&i[1]||"",Ns=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rs+t+Ns}var Nr=!1;function Qi(t,i){if(!t||Nr)return"";Nr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var P=q}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(q){P=q}t.call(Q.prototype)}}else{try{throw Error()}catch(q){P=q}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],b=f[1];if(p&&b){var R=p.split(`
`),z=b.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var K=`
`+R[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=h);break}}}finally{Nr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?jn(a):""}function yi(t,i){switch(t.tag){case 26:case 27:case 5:return jn(t.type);case 16:return jn("Lazy");case 13:return t.child!==i&&i!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return Qi(t.type,!1);case 11:return Qi(t.type.render,!1);case 1:return Qi(t.type,!0);case 31:return jn("Activity");default:return""}}function oe(t){try{var i="",a=null;do i+=yi(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var X=Object.prototype.hasOwnProperty,re=s.unstable_scheduleCallback,ue=s.unstable_cancelCallback,De=s.unstable_shouldYield,Z=s.unstable_requestPaint,he=s.unstable_now,Re=s.unstable_getCurrentPriorityLevel,tt=s.unstable_ImmediatePriority,nt=s.unstable_UserBlockingPriority,_i=s.unstable_NormalPriority,Cs=s.unstable_LowPriority,cu=s.unstable_IdlePriority,hu=s.log,fu=s.unstable_setDisableYieldValue,Jn=null,Qt=null;function Un(t){if(typeof hu=="function"&&fu(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Jn,t)}catch{}}var wt=Math.clz32?Math.clz32:mu,du=Math.log,pa=Math.LN2;function mu(t){return t>>>=0,t===0?32:31-(du(t)/pa|0)|0}var vi=256,Cr=262144,It=4194304;function Ei(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ti(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=Ei(o):(p&=b,p!==0?h=Ei(p):a||(a=b&~t,a!==0&&(h=Ei(a))))):(b=o&~f,b!==0?h=Ei(b):p!==0?h=Ei(p):a||(a=o&~t,a!==0&&(h=Ei(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function ei(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Gh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pu(){var t=It;return It<<=1,(It&62914560)===0&&(It=4194304),t}function bi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ir(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Kh(t,i,a,o,h,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(a=p&~a;0<a;){var K=31-wt(a),Q=1<<K;b[K]=0,R[K]=-1;var P=z[K];if(P!==null)for(z[K]=null,K=0;K<P.length;K++){var q=P[K];q!==null&&(q.lane&=-536870913)}a&=~Q}o!==0&&Or(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~i))}function Or(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-wt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Io(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-wt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Oo(t,i){var a=i&-i;return a=(a&42)!==0?1:Dr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:Q0(t.type))}function ti(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var ni=Math.random().toString(36).slice(2),Ot="__reactFiber$"+ni,Ft="__reactProps$"+ni,Ai="__reactContainer$"+ni,ga="__reactEvents$"+ni,Yh="__reactListeners$"+ni,yu="__reactHandles$"+ni,_u="__reactResources$"+ni,Si="__reactMarker$"+ni;function ya(t){delete t[Ot],delete t[Ft],delete t[ga],delete t[Yh],delete t[yu]}function wi(t){var i=t[Ot];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ai]||a[Ot]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=D0(t);t!==null;){if(a=t[Ot])return a;t=D0(t)}return i}t=a,a=t.parentNode}return null}function zn(t){if(t=t[Ot]||t[Ai]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function xn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function xi(t){var i=t[_u];return i||(i=t[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Dt(t){t[Si]=!0}var Do=new Set,ko={};function Ri(t,i){Ni(t,i),Ni(t+"Capture",i)}function Ni(t,i){for(ko[t]=i,t=0;t<i.length;t++)Do.add(i[t])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},Lo={};function vu(t){return X.call(Lo,t)?!0:X.call(Vo,t)?!1:Mo.test(t)?Lo[t]=!0:(Vo[t]=!0,!1)}function _a(t,i,a){if(vu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Rn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function kt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Gt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Is(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jo(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function it(t){if(!t._valueTracker){var i=Is(t)?"checked":"value";t._valueTracker=jo(t,i,""+t[i])}}function kr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=Is(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Mr=/[\n"\\]/g;function dn(t){return t.replace(Mr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function va(t,i,a,o,h,f,p,b){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),i!=null?p==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Gt(i)):t.value!==""+Gt(i)&&(t.value=""+Gt(i)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),i!=null?Uo(t,p,Gt(i)):a!=null?Uo(t,p,Gt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Gt(b):t.removeAttribute("name")}function Eu(t,i,a,o,h,f,p,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){it(t);return}a=a!=null?""+Gt(a):"",i=i!=null?""+Gt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),it(t)}function Uo(t,i,a){i==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Os(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Gt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Tu(t,i,a){if(i!=null&&(i=""+Gt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Gt(a):""}function Ds(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(yt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Gt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),it(t)}function mn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||bu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Po(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&zo(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&zo(t,f,i[f])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return ks.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ii(){}var Bo=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,Ii=null;function Vr(t){var i=zn(t);if(i&&(t=i.stateNode)){var a=t[Ft]||null;e:switch(t=i.stateNode,i.type){case"input":if(va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Ft]||null;if(!h)throw Error(r(90));va(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&kr(o)}break e;case"textarea":Tu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Os(t,!!a.multiple,i,!1)}}}var ba=!1;function Vs(t,i,a){if(ba)return t(i,a);ba=!0;try{var o=t(i);return o}finally{if(ba=!1,(Ms!==null||Ii!==null)&&(gc(),Ms&&(i=Ms,t=Ii,Ii=Ms=null,Vr(i),t)))for(i=0;i<t.length;i++)Vr(t[i])}}function si(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Ft]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(Bn)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Lr=!1}var Oi=null,qo=null,jr=null;function Ho(){if(jr)return jr;var t,i=qo,a=i.length,o,h="value"in Oi?Oi.value:Oi.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var p=a-t;for(o=1;o<=p&&i[a-o]===h[f-o];o++);return jr=h.slice(t,1<o?1-o:void 0)}function Ur(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ri(){return!1}function Wt(t){function i(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$i:ri,this.isPropagationStopped=ri,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),i}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Wt(Xi),Ls=S({},Xi,{view:0,detail:0}),Fo=Wt(Ls),js,Aa,ki,Sa=S({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(js=t.screenX-ki.screenX,Aa=t.screenY-ki.screenY):Aa=js=0,ki=t),js)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Go=Wt(Sa),zr=S({},Sa,{dataTransfer:0}),Su=Wt(zr),wu=S({},Ls,{relatedTarget:0}),Pr=Wt(wu),Ko=S({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),xu=Wt(Ko),wa=S({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ru=Wt(wa),Nu=S({},Xi,{data:0}),Mi=Wt(Nu),Cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ou[t])?!!i[t]:!1}function Us(){return Du}var cn=S({},Ls,{key:function(t){if(t.key){var i=Cu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(t){return t.type==="keypress"?Ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ku=Wt(cn),Mu=S({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Wt(Mu),u=S({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),m=Wt(u),v=S({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Wt(v),j=S({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Wt(j),ee=S({},Xi,{newState:0,oldState:0}),ke=Wt(ee),xt=[9,13,27,32],Xe=Bn&&"CompositionEvent"in window,_t=null;Bn&&"documentMode"in document&&(_t=document.documentMode);var qn=Bn&&"TextEvent"in window&&!_t,Vi=Bn&&(!Xe||_t&&8<_t&&11>=_t),ai=" ",oi=!1;function Br(t,i){switch(t){case"keyup":return xt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function wT(t,i){switch(t){case"compositionend":return xa(i);case"keypress":return i.which!==32?null:(oi=!0,ai);case"textInput":return t=i.data,t===ai&&oi?null:t;default:return null}}function xT(t,i){if(Ra)return t==="compositionend"||!Xe&&Br(t,i)?(t=Ho(),jr=qo=Oi=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vi&&i.locale!=="ko"?null:i.data;default:return null}}var RT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!RT[t.type]:i==="textarea"}function Lp(t,i,a,o){Ms?Ii?Ii.push(o):Ii=[o]:Ms=o,i=Ac(i,"onChange"),0<i.length&&(a=new Di("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Yo=null,Qo=null;function NT(t){_0(t,0)}function Vu(t){var i=xn(t);if(kr(i))return t}function jp(t,i){if(t==="change")return i}var Up=!1;if(Bn){var Qh;if(Bn){var Wh="oninput"in document;if(!Wh){var zp=document.createElement("div");zp.setAttribute("oninput","return;"),Wh=typeof zp.oninput=="function"}Qh=Wh}else Qh=!1;Up=Qh&&(!document.documentMode||9<document.documentMode)}function Pp(){Yo&&(Yo.detachEvent("onpropertychange",Bp),Qo=Yo=null)}function Bp(t){if(t.propertyName==="value"&&Vu(Qo)){var i=[];Lp(i,Qo,t,Pn(t)),Vs(NT,i)}}function CT(t,i,a){t==="focusin"?(Pp(),Yo=i,Qo=a,Yo.attachEvent("onpropertychange",Bp)):t==="focusout"&&Pp()}function IT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(Qo)}function OT(t,i){if(t==="click")return Vu(i)}function DT(t,i){if(t==="input"||t==="change")return Vu(i)}function kT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Nn=typeof Object.is=="function"?Object.is:kT;function Wo(t,i){if(Nn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!X.call(i,h)||!Nn(t[h],i[h]))return!1}return!0}function qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hp(t,i){var a=qp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qp(a)}}function Fp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Fp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Gp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ci(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ci(t.document)}return i}function $h(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var MT=Bn&&"documentMode"in document&&11>=document.documentMode,Na=null,Xh=null,$o=null,Zh=!1;function Kp(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zh||Na==null||Na!==Ci(o)||(o=Na,"selectionStart"in o&&$h(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),$o&&Wo($o,o)||($o=o,o=Ac(Xh,"onSelect"),0<o.length&&(i=new Di("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Na)))}function qr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ca={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},Jh={},Yp={};Bn&&(Yp=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Hr(t){if(Jh[t])return Jh[t];if(!Ca[t])return t;var i=Ca[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Yp)return Jh[t]=i[a];return t}var Qp=Hr("animationend"),Wp=Hr("animationiteration"),$p=Hr("animationstart"),VT=Hr("transitionrun"),LT=Hr("transitionstart"),jT=Hr("transitioncancel"),Xp=Hr("transitionend"),Zp=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function li(t,i){Zp.set(t,i),Ri(i,[t])}var Lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],Ia=0,tf=0;function ju(){for(var t=Ia,i=tf=Ia=0;i<t;){var a=Hn[i];Hn[i++]=null;var o=Hn[i];Hn[i++]=null;var h=Hn[i];Hn[i++]=null;var f=Hn[i];if(Hn[i++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Jp(a,h,f)}}function Uu(t,i,a,o){Hn[Ia++]=t,Hn[Ia++]=i,Hn[Ia++]=a,Hn[Ia++]=o,tf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function nf(t,i,a,o){return Uu(t,i,a,o),zu(t)}function Fr(t,i){return Uu(t,null,null,i),zu(t)}function Jp(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-wt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function zu(t){if(50<_l)throw _l=0,fd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Oa={};function UT(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,i,a,o){return new UT(t,i,a,o)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,i){var a=t.alternate;return a===null?(a=Cn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function eg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Pu(t,i,a,o,h,f){var p=0;if(o=t,typeof t=="function")sf(t)&&(p=1);else if(typeof t=="string")p=Hb(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Cn(31,a,i,h),t.elementType=C,t.lanes=f,t;case ie:return Gr(a.children,h,f,i);case se:p=8,h|=24;break;case ye:return t=Cn(12,a,i,h|2),t.elementType=ye,t.lanes=f,t;case gt:return t=Cn(13,a,i,h),t.elementType=gt,t.lanes=f,t;case Ue:return t=Cn(19,a,i,h),t.elementType=Ue,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ae:p=10;break e;case Ie:p=9;break e;case Je:p=11;break e;case N:p=14;break e;case w:p=16,o=null;break e}p=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=Cn(p,a,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function Gr(t,i,a,o){return t=Cn(7,t,o,i),t.lanes=a,t}function rf(t,i,a){return t=Cn(6,t,null,i),t.lanes=a,t}function tg(t){var i=Cn(18,null,null,0);return i.stateNode=t,i}function af(t,i,a){return i=Cn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ng=new WeakMap;function Fn(t,i){if(typeof t=="object"&&t!==null){var a=ng.get(t);return a!==void 0?a:(i={value:t,source:i,stack:oe(i)},ng.set(t,i),i)}return{value:t,source:i,stack:oe(i)}}var Da=[],ka=0,Bu=null,Xo=0,Gn=[],Kn=0,zs=null,Li=1,ji="";function es(t,i){Da[ka++]=Xo,Da[ka++]=Bu,Bu=t,Xo=i}function ig(t,i,a){Gn[Kn++]=Li,Gn[Kn++]=ji,Gn[Kn++]=zs,zs=t;var o=Li;t=ji;var h=32-wt(o)-1;o&=~(1<<h),a+=1;var f=32-wt(i)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Li=1<<32-wt(i)+h|a<<h|o,ji=f+t}else Li=1<<f|a<<h|o,ji=t}function of(t){t.return!==null&&(es(t,1),ig(t,1,0))}function lf(t){for(;t===Bu;)Bu=Da[--ka],Da[ka]=null,Xo=Da[--ka],Da[ka]=null;for(;t===zs;)zs=Gn[--Kn],Gn[Kn]=null,ji=Gn[--Kn],Gn[Kn]=null,Li=Gn[--Kn],Gn[Kn]=null}function sg(t,i){Gn[Kn++]=Li,Gn[Kn++]=ji,Gn[Kn++]=zs,Li=i.id,ji=i.overflow,zs=t}var $t=null,dt=null,Ke=!1,Ps=null,Yn=!1,uf=Error(r(519));function Bs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(Fn(i,t)),uf}function rg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Ot]=t,i[Ft]=o,a){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(a=0;a<El.length;a++)je(El[a],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),Eu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),Ds(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||b0(i.textContent,a)?(o.popover!=null&&(je("beforetoggle",i),je("toggle",i)),o.onScroll!=null&&je("scroll",i),o.onScrollEnd!=null&&je("scrollend",i),o.onClick!=null&&(i.onclick=ii),i=!0):i=!1,i||Bs(t,!0)}function ag(t){for($t=t.return;$t;)switch($t.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:$t=$t.return}}function Ma(t){if(t!==$t)return!1;if(!Ke)return ag(t),Ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Rd(t.type,t.memoizedProps)),a=!a),a&&dt&&Bs(t),ag(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=O0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=O0(t)}else i===27?(i=dt,tr(t.type)?(t=Dd,Dd=null,dt=t):dt=i):dt=$t?Wn(t.stateNode.nextSibling):null;return!0}function Kr(){dt=$t=null,Ke=!1}function cf(){var t=Ps;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),Ps=null),t}function Zo(t){Ps===null?Ps=[t]:Ps.push(t)}var hf=D(null),Yr=null,ts=null;function qs(t,i,a){ne(hf,i._currentValue),i._currentValue=a}function ns(t){t._currentValue=hf.current,G(hf)}function ff(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function df(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var R=0;R<i.length;R++)if(b.context===i[R]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),ff(f.return,a,t),o||(p=null);break e}f=b.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),ff(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Va(t,i,a,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var b=h.type;Nn(h.pendingProps.value,p.value)||(t!==null?t.push(b):t=[b])}}else if(h===ze.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}h=h.return}t!==null&&df(i,t,a,o),i.flags|=262144}function qu(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qr(t){Yr=t,ts=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return og(Yr,t)}function Hu(t,i){return Yr===null&&Qr(t),og(t,i)}function og(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ts===null){if(t===null)throw Error(r(308));ts=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ts=ts.next=i;return a}var zT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},PT=s.unstable_scheduleCallback,BT=s.unstable_NormalPriority,Mt={$$typeof:Ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new zT,data:new Map,refCount:0}}function Jo(t){t.refCount--,t.refCount===0&&PT(BT,function(){t.controller.abort()})}var el=null,pf=0,La=0,ja=null;function qT(t,i){if(el===null){var a=el=[];pf=0,La=_d(),ja={status:"pending",value:void 0,then:function(o){a.push(o)}}}return pf++,i.then(lg,lg),i}function lg(){if(--pf===0&&el!==null){ja!==null&&(ja.status="fulfilled");var t=el;el=null,La=0,ja=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function HT(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ug=F.S;F.S=function(t,i){Ky=he(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&qT(t,i),ug!==null&&ug(t,i)};var Wr=D(null);function gf(){var t=Wr.current;return t!==null?t:ht.pooledCache}function Fu(t,i){i===null?ne(Wr,Wr.current):ne(Wr,i.pool)}function cg(){var t=gf();return t===null?null:{parent:Mt._currentValue,pool:t}}var Ua=Error(r(460)),yf=Error(r(474)),Gu=Error(r(542)),Ku={then:function(){}};function hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ii,ii),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,mg(t),t;default:if(typeof i.status=="string")i.then(ii,ii);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,mg(t),t}throw Xr=i,Ua}}function $r(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xr=a,Ua):a}}var Xr=null;function dg(){if(Xr===null)throw Error(r(459));var t=Xr;return Xr=null,t}function mg(t){if(t===Ua||t===Gu)throw Error(r(483))}var za=null,tl=0;function Yu(t){var i=tl;return tl+=1,za===null&&(za=[]),fg(za,t,i)}function nl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Qu(t,i){throw i.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function pg(t){function i(V,k){if(t){var U=V.deletions;U===null?(V.deletions=[k],V.flags|=16):U.push(k)}}function a(V,k){if(!t)return null;for(;k!==null;)i(V,k),k=k.sibling;return null}function o(V){for(var k=new Map;V!==null;)V.key!==null?k.set(V.key,V):k.set(V.index,V),V=V.sibling;return k}function h(V,k){return V=Ji(V,k),V.index=0,V.sibling=null,V}function f(V,k,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<k?(V.flags|=67108866,k):U):(V.flags|=67108866,k)):(V.flags|=1048576,k)}function p(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function b(V,k,U,Y){return k===null||k.tag!==6?(k=rf(U,V.mode,Y),k.return=V,k):(k=h(k,U),k.return=V,k)}function R(V,k,U,Y){var pe=U.type;return pe===ie?K(V,k,U.props.children,Y,U.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&$r(pe)===k.type)?(k=h(k,U.props),nl(k,U),k.return=V,k):(k=Pu(U.type,U.key,U.props,null,V.mode,Y),nl(k,U),k.return=V,k)}function z(V,k,U,Y){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=af(U,V.mode,Y),k.return=V,k):(k=h(k,U.children||[]),k.return=V,k)}function K(V,k,U,Y,pe){return k===null||k.tag!==7?(k=Gr(U,V.mode,Y,pe),k.return=V,k):(k=h(k,U),k.return=V,k)}function Q(V,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=rf(""+k,V.mode,U),k.return=V,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case H:return U=Pu(k.type,k.key,k.props,null,V.mode,U),nl(U,k),U.return=V,U;case J:return k=af(k,V.mode,U),k.return=V,k;case w:return k=$r(k),Q(V,k,U)}if(yt(k)||L(k))return k=Gr(k,V.mode,U,null),k.return=V,k;if(typeof k.then=="function")return Q(V,Yu(k),U);if(k.$$typeof===Ae)return Q(V,Hu(V,k),U);Qu(V,k)}return null}function P(V,k,U,Y){var pe=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return pe!==null?null:b(V,k,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case H:return U.key===pe?R(V,k,U,Y):null;case J:return U.key===pe?z(V,k,U,Y):null;case w:return U=$r(U),P(V,k,U,Y)}if(yt(U)||L(U))return pe!==null?null:K(V,k,U,Y,null);if(typeof U.then=="function")return P(V,k,Yu(U),Y);if(U.$$typeof===Ae)return P(V,k,Hu(V,U),Y);Qu(V,U)}return null}function q(V,k,U,Y,pe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(U)||null,b(k,V,""+Y,pe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return V=V.get(Y.key===null?U:Y.key)||null,R(k,V,Y,pe);case J:return V=V.get(Y.key===null?U:Y.key)||null,z(k,V,Y,pe);case w:return Y=$r(Y),q(V,k,U,Y,pe)}if(yt(Y)||L(Y))return V=V.get(U)||null,K(k,V,Y,pe,null);if(typeof Y.then=="function")return q(V,k,U,Yu(Y),pe);if(Y.$$typeof===Ae)return q(V,k,U,Hu(k,Y),pe);Qu(k,Y)}return null}function ce(V,k,U,Y){for(var pe=null,We=null,fe=k,Ve=k=0,Be=null;fe!==null&&Ve<U.length;Ve++){fe.index>Ve?(Be=fe,fe=null):Be=fe.sibling;var $e=P(V,fe,U[Ve],Y);if($e===null){fe===null&&(fe=Be);break}t&&fe&&$e.alternate===null&&i(V,fe),k=f($e,k,Ve),We===null?pe=$e:We.sibling=$e,We=$e,fe=Be}if(Ve===U.length)return a(V,fe),Ke&&es(V,Ve),pe;if(fe===null){for(;Ve<U.length;Ve++)fe=Q(V,U[Ve],Y),fe!==null&&(k=f(fe,k,Ve),We===null?pe=fe:We.sibling=fe,We=fe);return Ke&&es(V,Ve),pe}for(fe=o(fe);Ve<U.length;Ve++)Be=q(fe,V,Ve,U[Ve],Y),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?Ve:Be.key),k=f(Be,k,Ve),We===null?pe=Be:We.sibling=Be,We=Be);return t&&fe.forEach(function(ar){return i(V,ar)}),Ke&&es(V,Ve),pe}function _e(V,k,U,Y){if(U==null)throw Error(r(151));for(var pe=null,We=null,fe=k,Ve=k=0,Be=null,$e=U.next();fe!==null&&!$e.done;Ve++,$e=U.next()){fe.index>Ve?(Be=fe,fe=null):Be=fe.sibling;var ar=P(V,fe,$e.value,Y);if(ar===null){fe===null&&(fe=Be);break}t&&fe&&ar.alternate===null&&i(V,fe),k=f(ar,k,Ve),We===null?pe=ar:We.sibling=ar,We=ar,fe=Be}if($e.done)return a(V,fe),Ke&&es(V,Ve),pe;if(fe===null){for(;!$e.done;Ve++,$e=U.next())$e=Q(V,$e.value,Y),$e!==null&&(k=f($e,k,Ve),We===null?pe=$e:We.sibling=$e,We=$e);return Ke&&es(V,Ve),pe}for(fe=o(fe);!$e.done;Ve++,$e=U.next())$e=q(fe,V,Ve,$e.value,Y),$e!==null&&(t&&$e.alternate!==null&&fe.delete($e.key===null?Ve:$e.key),k=f($e,k,Ve),We===null?pe=$e:We.sibling=$e,We=$e);return t&&fe.forEach(function(e2){return i(V,e2)}),Ke&&es(V,Ve),pe}function ct(V,k,U,Y){if(typeof U=="object"&&U!==null&&U.type===ie&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case H:e:{for(var pe=U.key;k!==null;){if(k.key===pe){if(pe=U.type,pe===ie){if(k.tag===7){a(V,k.sibling),Y=h(k,U.props.children),Y.return=V,V=Y;break e}}else if(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&$r(pe)===k.type){a(V,k.sibling),Y=h(k,U.props),nl(Y,U),Y.return=V,V=Y;break e}a(V,k);break}else i(V,k);k=k.sibling}U.type===ie?(Y=Gr(U.props.children,V.mode,Y,U.key),Y.return=V,V=Y):(Y=Pu(U.type,U.key,U.props,null,V.mode,Y),nl(Y,U),Y.return=V,V=Y)}return p(V);case J:e:{for(pe=U.key;k!==null;){if(k.key===pe)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){a(V,k.sibling),Y=h(k,U.children||[]),Y.return=V,V=Y;break e}else{a(V,k);break}else i(V,k);k=k.sibling}Y=af(U,V.mode,Y),Y.return=V,V=Y}return p(V);case w:return U=$r(U),ct(V,k,U,Y)}if(yt(U))return ce(V,k,U,Y);if(L(U)){if(pe=L(U),typeof pe!="function")throw Error(r(150));return U=pe.call(U),_e(V,k,U,Y)}if(typeof U.then=="function")return ct(V,k,Yu(U),Y);if(U.$$typeof===Ae)return ct(V,k,Hu(V,U),Y);Qu(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(a(V,k.sibling),Y=h(k,U),Y.return=V,V=Y):(a(V,k),Y=rf(U,V.mode,Y),Y.return=V,V=Y),p(V)):a(V,k)}return function(V,k,U,Y){try{tl=0;var pe=ct(V,k,U,Y);return za=null,pe}catch(fe){if(fe===Ua||fe===Gu)throw fe;var We=Cn(29,fe,null,V.mode);return We.lanes=Y,We.return=V,We}}}var Zr=pg(!0),gg=pg(!1),Hs=!1;function _f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ze&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=zu(t),Jp(t,null,a),i}return Uu(t,o,i,a),zu(t)}function il(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Io(t,a)}}function Ef(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Tf=!1;function sl(){if(Tf){var t=ja;if(t!==null)throw t}}function rl(t,i,a,o){Tf=!1;var h=t.updateQueue;Hs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var R=b,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var K=t.alternate;K!==null&&(K=K.updateQueue,b=K.lastBaseUpdate,b!==p&&(b===null?K.firstBaseUpdate=z:b.next=z,K.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;p=0,K=z=R=null,b=f;do{var P=b.lane&-536870913,q=P!==b.lane;if(q?(Pe&P)===P:(o&P)===P){P!==0&&P===La&&(Tf=!0),K!==null&&(K=K.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ce=t,_e=b;P=i;var ct=a;switch(_e.tag){case 1:if(ce=_e.payload,typeof ce=="function"){Q=ce.call(ct,Q,P);break e}Q=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=_e.payload,P=typeof ce=="function"?ce.call(ct,Q,P):ce,P==null)break e;Q=S({},Q,P);break e;case 2:Hs=!0}}P=b.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[P]:q.push(P))}else q={lane:P,tag:b.tag,payload:b.payload,callback:b.callback,next:null},K===null?(z=K=q,R=Q):K=K.next=q,p|=P;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;q=b,b=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);K===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),$s|=p,t.lanes=p,t.memoizedState=Q}}function yg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function _g(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)yg(a[t],i)}var Pa=D(null),Wu=D(0);function vg(t,i){t=hs,ne(Wu,t),ne(Pa,i),hs=t|i.baseLanes}function bf(){ne(Wu,hs),ne(Pa,Pa.current)}function Af(){hs=Wu.current,G(Pa),G(Wu)}var In=D(null),Qn=null;function Ks(t){var i=t.alternate;ne(Rt,Rt.current&1),ne(In,t),Qn===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(Qn=t)}function Sf(t){ne(Rt,Rt.current),ne(In,t),Qn===null&&(Qn=t)}function Eg(t){t.tag===22?(ne(Rt,Rt.current),ne(In,t),Qn===null&&(Qn=t)):Ys()}function Ys(){ne(Rt,Rt.current),ne(In,In.current)}function On(t){G(In),Qn===t&&(Qn=null),G(Rt)}var Rt=D(0);function $u(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Id(a)||Od(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var is=0,Me=null,lt=null,Vt=null,Xu=!1,Ba=!1,Jr=!1,Zu=0,al=0,qa=null,FT=0;function At(){throw Error(r(321))}function wf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Nn(t[a],i[a]))return!1;return!0}function xf(t,i,a,o,h,f){return is=f,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?iy:Bf,Jr=!1,f=a(o,h),Jr=!1,Ba&&(f=bg(i,a,o,h)),Tg(t),f}function Tg(t){F.H=ul;var i=lt!==null&&lt.next!==null;if(is=0,Vt=lt=Me=null,Xu=!1,al=0,qa=null,i)throw Error(r(300));t===null||Lt||(t=t.dependencies,t!==null&&qu(t)&&(Lt=!0))}function bg(t,i,a,o){Me=t;var h=0;do{if(Ba&&(qa=null),al=0,Ba=!1,25<=h)throw Error(r(301));if(h+=1,Vt=lt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=sy,f=i(a,o)}while(Ba);return f}function GT(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?ol(i):i,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Me.flags|=1024),i}function Rf(){var t=Zu!==0;return Zu=0,t}function Nf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Cf(t){if(Xu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Xu=!1}is=0,Vt=lt=Me=null,Ba=!1,al=Zu=0,qa=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Me.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Nt(){if(lt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var i=Vt===null?Me.memoizedState:Vt.next;if(i!==null)Vt=i,lt=t;else{if(t===null)throw Me.alternate===null?Error(r(467)):Error(r(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Vt===null?Me.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var i=al;return al+=1,qa===null&&(qa=[]),t=fg(qa,t,i),i=Me,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?iy:Bf),t}function ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===Ae)return Xt(t)}throw Error(r(438,String(t)))}function If(t){var i=null,a=Me.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ju(),Me.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=M;return i.index++,a}function ss(t,i){return typeof i=="function"?i(t):i}function tc(t){var i=Nt();return Of(i,lt,t)}function Of(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var b=p=null,R=null,z=i,K=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Pe&Q)===Q:(is&Q)===Q){var P=z.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===La&&(K=!0);else if((is&P)===P){z=z.next,P===La&&(K=!0);continue}else Q={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(b=R=Q,p=f):R=R.next=Q,Me.lanes|=P,$s|=P;Q=z.action,Jr&&a(f,Q),f=z.hasEagerState?z.eagerState:a(f,Q)}else P={lane:Q,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(b=R=P,p=f):R=R.next=P,Me.lanes|=Q,$s|=Q;z=z.next}while(z!==null&&z!==i);if(R===null?p=f:R.next=b,!Nn(f,t.memoizedState)&&(Lt=!0,K&&(a=ja,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Df(t){var i=Nt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Nn(f,i.memoizedState)||(Lt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Ag(t,i,a){var o=Me,h=Nt(),f=Ke;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var p=!Nn((lt||h).memoizedState,a);if(p&&(h.memoizedState=a,Lt=!0),h=h.queue,Vf(xg.bind(null,o,h,t),[t]),h.getSnapshot!==i||p||Vt!==null&&Vt.memoizedState.tag&1){if(o.flags|=2048,Ha(9,{destroy:void 0},wg.bind(null,o,h,a,i),null),ht===null)throw Error(r(349));f||(is&127)!==0||Sg(o,i,a)}return a}function Sg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Me.updateQueue,i===null?(i=Ju(),Me.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function wg(t,i,a,o){i.value=a,i.getSnapshot=o,Rg(i)&&Ng(t)}function xg(t,i,a){return a(function(){Rg(i)&&Ng(t)})}function Rg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Nn(t,a)}catch{return!0}}function Ng(t){var i=Fr(t,2);i!==null&&vn(i,t,2)}function kf(t){var i=hn();if(typeof t=="function"){var a=t;if(t=a(),Jr){Un(!0);try{a()}finally{Un(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},i}function Cg(t,i,a,o){return t.baseState=a,Of(t,lt,typeof o=="function"?o:ss)}function KT(t,i,a,o,h){if(sc(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Ig(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Ig(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=F.T,p={};F.T=p;try{var b=a(h,o),R=F.S;R!==null&&R(p,b),Og(t,i,b)}catch(z){Mf(t,i,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=a(h,o),Og(t,i,f)}catch(z){Mf(t,i,z)}}function Og(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Dg(t,i,o)},function(o){return Mf(t,i,o)}):Dg(t,i,a)}function Dg(t,i,a){i.status="fulfilled",i.value=a,kg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ig(t,a)))}function Mf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,kg(i),i=i.next;while(i!==o)}t.action=null}function kg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Mg(t,i){return i}function Vg(t,i){if(Ke){var a=ht.formState;if(a!==null){e:{var o=Me;if(Ke){if(dt){t:{for(var h=dt,f=Yn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){dt=Wn(h.nextSibling),o=h.data==="F!";break e}}Bs(o)}o=!1}o&&(i=a[0])}}return a=hn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:i},a.queue=o,a=ey.bind(null,Me,o),o.dispatch=a,o=kf(!1),f=Pf.bind(null,Me,!1,o.queue),o=hn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=KT.bind(null,Me,h,f,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function Lg(t){var i=Nt();return jg(i,lt,t)}function jg(t,i,a){if(i=Of(t,i,Mg)[0],t=tc(ss)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=ol(i)}catch(p){throw p===Ua?Gu:p}else o=i;i=Nt();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Me.flags|=2048,Ha(9,{destroy:void 0},YT.bind(null,h,a),null)),[o,f,t]}function YT(t,i){t.action=i}function Ug(t){var i=Nt(),a=lt;if(a!==null)return jg(i,a,t);Nt(),i=i.memoizedState,a=Nt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ha(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Me.updateQueue,i===null&&(i=Ju(),Me.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function zg(){return Nt().memoizedState}function nc(t,i,a,o){var h=hn();Me.flags|=t,h.memoizedState=Ha(1|i,{destroy:void 0},a,o===void 0?null:o)}function ic(t,i,a,o){var h=Nt();o=o===void 0?null:o;var f=h.memoizedState.inst;lt!==null&&o!==null&&wf(o,lt.memoizedState.deps)?h.memoizedState=Ha(i,f,a,o):(Me.flags|=t,h.memoizedState=Ha(1|i,f,a,o))}function Pg(t,i){nc(8390656,8,t,i)}function Vf(t,i){ic(2048,8,t,i)}function QT(t){Me.flags|=4;var i=Me.updateQueue;if(i===null)i=Ju(),Me.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Bg(t){var i=Nt().memoizedState;return QT({ref:i,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function qg(t,i){return ic(4,2,t,i)}function Hg(t,i){return ic(4,4,t,i)}function Fg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Gg(t,i,a){a=a!=null?a.concat([t]):null,ic(4,4,Fg.bind(null,i,t),a)}function Lf(){}function Kg(t,i){var a=Nt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&wf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Yg(t,i){var a=Nt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&wf(i,o[1]))return o[0];if(o=t(),Jr){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[o,i],o}function jf(t,i,a){return a===void 0||(is&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Qy(),Me.lanes|=t,$s|=t,a)}function Qg(t,i,a,o){return Nn(a,i)?a:Pa.current!==null?(t=jf(t,a,o),Nn(t,i)||(Lt=!0),t):(is&42)===0||(is&1073741824)!==0&&(Pe&261930)===0?(Lt=!0,t.memoizedState=a):(t=Qy(),Me.lanes|=t,$s|=t,i)}function Wg(t,i,a,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var p=F.T,b={};F.T=b,Pf(t,!1,i,a);try{var R=h(),z=F.S;if(z!==null&&z(b,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=HT(R,o);ll(t,i,K,Mn(t))}else ll(t,i,o,Mn(t))}catch(Q){ll(t,i,{then:function(){},status:"rejected",reason:Q},Mn())}finally{te.p=f,p!==null&&b.types!==null&&(p.types=b.types),F.T=p}}function WT(){}function Uf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var h=$g(t).queue;Wg(t,h,i,me,a===null?WT:function(){return Xg(t),a(o)})}function $g(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Xg(t){var i=$g(t);i.next===null&&(i=t.alternate.memoizedState),ll(t,i.next.queue,{},Mn())}function zf(){return Xt(wl)}function Zg(){return Nt().memoizedState}function Jg(){return Nt().memoizedState}function $T(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Mn();t=Fs(a);var o=Gs(i,t,a);o!==null&&(vn(o,i,a),il(o,i,a)),i={cache:mf()},t.payload=i;return}i=i.return}}function XT(t,i,a){var o=Mn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},sc(t)?ty(i,a):(a=nf(t,i,a,o),a!==null&&(vn(a,t,o),ny(a,i,o)))}function ey(t,i,a){var o=Mn();ll(t,i,a,o)}function ll(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(sc(t))ty(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var p=i.lastRenderedState,b=f(p,a);if(h.hasEagerState=!0,h.eagerState=b,Nn(b,p))return Uu(t,i,h,0),ht===null&&ju(),!1}catch{}if(a=nf(t,i,h,o),a!==null)return vn(a,t,o),ny(a,i,o),!0}return!1}function Pf(t,i,a,o){if(o={lane:2,revertLane:_d(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},sc(t)){if(i)throw Error(r(479))}else i=nf(t,a,o,2),i!==null&&vn(i,t,2)}function sc(t){var i=t.alternate;return t===Me||i!==null&&i===Me}function ty(t,i){Ba=Xu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ny(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Io(t,a)}}var ul={readContext:Xt,use:ec,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};ul.useEffectEvent=At;var iy={readContext:Xt,use:ec,useCallback:function(t,i){return hn().memoizedState=[t,i===void 0?null:i],t},useContext:Xt,useEffect:Pg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,nc(4194308,4,Fg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return nc(4194308,4,t,i)},useInsertionEffect:function(t,i){nc(4,2,t,i)},useMemo:function(t,i){var a=hn();i=i===void 0?null:i;var o=t();if(Jr){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=hn();if(a!==void 0){var h=a(i);if(Jr){Un(!0);try{a(i)}finally{Un(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=XT.bind(null,Me,t),[o.memoizedState,t]},useRef:function(t){var i=hn();return t={current:t},i.memoizedState=t},useState:function(t){t=kf(t);var i=t.queue,a=ey.bind(null,Me,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(t,i){var a=hn();return jf(a,t,i)},useTransition:function(){var t=kf(!1);return t=Wg.bind(null,Me,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Me,h=hn();if(Ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ht===null)throw Error(r(349));(Pe&127)!==0||Sg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Pg(xg.bind(null,o,f,t),[t]),o.flags|=2048,Ha(9,{destroy:void 0},wg.bind(null,o,f,a,i),null),a},useId:function(){var t=hn(),i=ht.identifierPrefix;if(Ke){var a=ji,o=Li;a=(o&~(1<<32-wt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Zu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=FT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:zf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t){var i=hn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Pf.bind(null,Me,!0,a),a.dispatch=i,[t,i]},useMemoCache:If,useCacheRefresh:function(){return hn().memoizedState=$T.bind(null,Me)},useEffectEvent:function(t){var i=hn(),a={impl:t};return i.memoizedState=a,function(){if((Ze&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Bf={readContext:Xt,use:ec,useCallback:Kg,useContext:Xt,useEffect:Vf,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Yg,useReducer:tc,useRef:zg,useState:function(){return tc(ss)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=Nt();return Qg(a,lt.memoizedState,t,i)},useTransition:function(){var t=tc(ss)[0],i=Nt().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:zf,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,i){var a=Nt();return Cg(a,lt,t,i)},useMemoCache:If,useCacheRefresh:Jg};Bf.useEffectEvent=Bg;var sy={readContext:Xt,use:ec,useCallback:Kg,useContext:Xt,useEffect:Vf,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Yg,useReducer:Df,useRef:zg,useState:function(){return Df(ss)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=Nt();return lt===null?jf(a,t,i):Qg(a,lt.memoizedState,t,i)},useTransition:function(){var t=Df(ss)[0],i=Nt().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:zf,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,i){var a=Nt();return lt!==null?Cg(a,lt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:If,useCacheRefresh:Jg};sy.useEffectEvent=Bg;function qf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Hf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Mn(),h=Fs(o);h.payload=i,a!=null&&(h.callback=a),i=Gs(t,h,o),i!==null&&(vn(i,t,o),il(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Mn(),h=Fs(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Gs(t,h,o),i!==null&&(vn(i,t,o),il(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Mn(),o=Fs(a);o.tag=2,i!=null&&(o.callback=i),i=Gs(t,o,a),i!==null&&(vn(i,t,a),il(i,t,a))}};function ry(t,i,a,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):i.prototype&&i.prototype.isPureReactComponent?!Wo(a,o)||!Wo(h,f):!0}function ay(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Hf.enqueueReplaceState(i,i.state,null)}function ea(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function oy(t){Lu(t)}function ly(t){console.error(t)}function uy(t){Lu(t)}function rc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function cy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ff(t,i,a){return a=Fs(a),a.tag=3,a.payload={element:null},a.callback=function(){rc(t,i)},a}function hy(t){return t=Fs(t),t.tag=3,t}function fy(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){cy(i,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){cy(i,a,o),typeof h!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function ZT(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Va(i,a,h,!0),a=In.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?yc():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Ku?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),pd(t,o,h)),!1;case 22:return a.flags|=65536,o===Ku?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),pd(t,o,h)),!1}throw Error(r(435,a.tag))}return pd(t,o,h),yc(),!1}if(Ke)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==uf&&(t=Error(r(422),{cause:o}),Zo(Fn(t,a)))):(o!==uf&&(i=Error(r(423),{cause:o}),Zo(Fn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Fn(o,a),h=Ff(t.stateNode,o,h),Ef(t,h),St!==4&&(St=2)),!1;var f=Error(r(520),{cause:o});if(f=Fn(f,a),yl===null?yl=[f]:yl.push(f),St!==4&&(St=2),i===null)return!0;o=Fn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ff(a.stateNode,o,t),Ef(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Xs===null||!Xs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=hy(h),fy(h,t,a,o),Ef(a,h),!1}a=a.return}while(a!==null);return!1}var Gf=Error(r(461)),Lt=!1;function Zt(t,i,a,o){i.child=t===null?gg(i,null,a,o):Zr(i,t.child,a,o)}function dy(t,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var p={};for(var b in o)b!=="ref"&&(p[b]=o[b])}else p=o;return Qr(i),o=xf(t,i,a,p,f,h),b=Rf(),t!==null&&!Lt?(Nf(t,i,h),rs(t,i,h)):(Ke&&b&&of(i),i.flags|=1,Zt(t,i,o,h),i.child)}function my(t,i,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!sf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,py(t,i,f,o,h)):(t=Pu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Jf(t,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(p,o)&&t.ref===i.ref)return rs(t,i,h)}return i.flags|=1,t=Ji(f,o),t.ref=i.ref,t.return=i,i.child=t}function py(t,i,a,o,h){if(t!==null){var f=t.memoizedProps;if(Wo(f,o)&&t.ref===i.ref)if(Lt=!1,i.pendingProps=o=f,Jf(t,h))(t.flags&131072)!==0&&(Lt=!0);else return i.lanes=t.lanes,rs(t,i,h)}return Kf(t,i,a,o,h)}function gy(t,i,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return yy(t,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fu(i,f!==null?f.cachePool:null),f!==null?vg(i,f):bf(),Eg(i);else return o=i.lanes=536870912,yy(t,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Fu(i,f.cachePool),vg(i,f),Ys(),i.memoizedState=null):(t!==null&&Fu(i,null),bf(),Ys());return Zt(t,i,h,a),i.child}function cl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function yy(t,i,a,o,h){var f=gf();return f=f===null?null:{parent:Mt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Fu(i,null),bf(),Eg(i),t!==null&&Va(t,i,o,!0),i.childLanes=h,null}function ac(t,i){return i=lc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function _y(t,i,a){return Zr(i,t.child,null,a),t=ac(i,i.pendingProps),t.flags|=2,On(i),i.memoizedState=null,t}function JT(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ke){if(o.mode==="hidden")return t=ac(i,o),i.lanes=536870912,cl(null,t);if(Sf(i),(t=dt)?(t=I0(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Li,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=tg(t),a.return=i,i.child=a,$t=i,dt=null)):t=null,t===null)throw Bs(i);return i.lanes=536870912,null}return ac(i,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(Sf(i),h)if(i.flags&256)i.flags&=-257,i=_y(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Lt||Va(t,i,a,!1),h=(a&t.childLanes)!==0,Lt||h){if(o=ht,o!==null&&(p=Oo(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Fr(t,p),vn(o,t,p),Gf;yc(),i=_y(t,i,a)}else t=f.treeContext,dt=Wn(p.nextSibling),$t=i,Ke=!0,Ps=null,Yn=!1,t!==null&&sg(i,t),i=ac(i,o),i.flags|=4096;return i}return t=Ji(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function oc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Kf(t,i,a,o,h){return Qr(i),a=xf(t,i,a,o,void 0,h),o=Rf(),t!==null&&!Lt?(Nf(t,i,h),rs(t,i,h)):(Ke&&o&&of(i),i.flags|=1,Zt(t,i,a,h),i.child)}function vy(t,i,a,o,h,f){return Qr(i),i.updateQueue=null,a=bg(i,o,a,h),Tg(t),o=Rf(),t!==null&&!Lt?(Nf(t,i,f),rs(t,i,f)):(Ke&&o&&of(i),i.flags|=1,Zt(t,i,a,f),i.child)}function Ey(t,i,a,o,h){if(Qr(i),i.stateNode===null){var f=Oa,p=a.contextType;typeof p=="object"&&p!==null&&(f=Xt(p)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},_f(i),p=a.contextType,f.context=typeof p=="object"&&p!==null?Xt(p):Oa,f.state=i.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(qf(i,a,p,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Hf.enqueueReplaceState(f,f.state,null),rl(i,o,f,h),sl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var b=i.memoizedProps,R=ea(a,b);f.props=R;var z=f.context,K=a.contextType;p=Oa,typeof K=="object"&&K!==null&&(p=Xt(K));var Q=a.getDerivedStateFromProps;K=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||z!==p)&&ay(i,f,o,p),Hs=!1;var P=i.memoizedState;f.state=P,rl(i,o,f,h),sl(),z=i.memoizedState,b||P!==z||Hs?(typeof Q=="function"&&(qf(i,a,Q,o),z=i.memoizedState),(R=Hs||ry(i,a,R,o,P,z,p))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),f.props=o,f.state=z,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,vf(t,i),p=i.memoizedProps,K=ea(a,p),f.props=K,Q=i.pendingProps,P=f.context,z=a.contextType,R=Oa,typeof z=="object"&&z!==null&&(R=Xt(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Q||P!==R)&&ay(i,f,o,R),Hs=!1,P=i.memoizedState,f.state=P,rl(i,o,f,h),sl();var q=i.memoizedState;p!==Q||P!==q||Hs||t!==null&&t.dependencies!==null&&qu(t.dependencies)?(typeof b=="function"&&(qf(i,a,b,o),q=i.memoizedState),(K=Hs||ry(i,a,K,o,P,q,R)||t!==null&&t.dependencies!==null&&qu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),f.props=o,f.state=q,f.context=R,o=K):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,oc(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=Zr(i,t.child,null,h),i.child=Zr(i,null,a,h)):Zt(t,i,a,h),i.memoizedState=f.state,t=i.child):t=rs(t,i,h),t}function Ty(t,i,a,o){return Kr(),i.flags|=256,Zt(t,i,a,o),i.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(t){return{baseLanes:t,cachePool:cg()}}function Wf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=kn),t}function by(t,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),p&&(h=!0,i.flags&=-129),p=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ke){if(h?Ks(i):Ys(),(t=dt)?(t=I0(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Li,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=tg(t),a.return=i,i.child=a,$t=i,dt=null)):t=null,t===null)throw Bs(i);return Od(t)?i.lanes=32:i.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(Ys(),h=i.mode,b=lc({mode:"hidden",children:b},h),o=Gr(o,h,a,null),b.return=i,o.return=i,b.sibling=o,i.child=b,o=i.child,o.memoizedState=Qf(a),o.childLanes=Wf(t,p,a),i.memoizedState=Yf,cl(null,o)):(Ks(i),$f(i,b))}var R=t.memoizedState;if(R!==null&&(b=R.dehydrated,b!==null)){if(f)i.flags&256?(Ks(i),i.flags&=-257,i=Xf(t,i,a)):i.memoizedState!==null?(Ys(),i.child=t.child,i.flags|=128,i=null):(Ys(),b=o.fallback,h=i.mode,o=lc({mode:"visible",children:o.children},h),b=Gr(b,h,a,null),b.flags|=2,o.return=i,b.return=i,o.sibling=b,i.child=o,Zr(i,t.child,null,a),o=i.child,o.memoizedState=Qf(a),o.childLanes=Wf(t,p,a),i.memoizedState=Yf,i=cl(null,o));else if(Ks(i),Od(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(r(419)),o.stack="",o.digest=p,Zo({value:o,source:null,stack:null}),i=Xf(t,i,a)}else if(Lt||Va(t,i,a,!1),p=(a&t.childLanes)!==0,Lt||p){if(p=ht,p!==null&&(o=Oo(p,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Fr(t,o),vn(p,t,o),Gf;Id(b)||yc(),i=Xf(t,i,a)}else Id(b)?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,dt=Wn(b.nextSibling),$t=i,Ke=!0,Ps=null,Yn=!1,t!==null&&sg(i,t),i=$f(i,o.children),i.flags|=4096);return i}return h?(Ys(),b=o.fallback,h=i.mode,R=t.child,z=R.sibling,o=Ji(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?b=Ji(z,b):(b=Gr(b,h,a,null),b.flags|=2),b.return=i,o.return=i,o.sibling=b,i.child=o,cl(null,o),o=i.child,b=t.child.memoizedState,b===null?b=Qf(a):(h=b.cachePool,h!==null?(R=Mt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=cg(),b={baseLanes:b.baseLanes|a,cachePool:h}),o.memoizedState=b,o.childLanes=Wf(t,p,a),i.memoizedState=Yf,cl(t.child,o)):(Ks(i),a=t.child,t=a.sibling,a=Ji(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(p=i.deletions,p===null?(i.deletions=[t],i.flags|=16):p.push(t)),i.child=a,i.memoizedState=null,a)}function $f(t,i){return i=lc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function lc(t,i){return t=Cn(22,t,null,i),t.lanes=0,t}function Xf(t,i,a){return Zr(i,t.child,null,a),t=$f(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ay(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),ff(t.return,i,a)}function Zf(t,i,a,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function Sy(t,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Rt.current,b=(p&2)!==0;if(b?(p=p&1|2,i.flags|=128):p&=1,ne(Rt,p),Zt(t,i,o,a),o=Ke?Xo:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ay(t,a,i);else if(t.tag===19)Ay(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&$u(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Zf(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&$u(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Zf(i,!0,a,null,f,o);break;case"together":Zf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function rs(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),$s|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Va(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Ji(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ji(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Jf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&qu(t)))}function eb(t,i,a){switch(i.tag){case 3:bt(i,i.stateNode.containerInfo),qs(i,Mt,t.memoizedState.cache),Kr();break;case 27:case 5:gi(i);break;case 4:bt(i,i.stateNode.containerInfo);break;case 10:qs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Sf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ks(i),i.flags|=128,null):(a&i.child.childLanes)!==0?by(t,i,a):(Ks(i),t=rs(t,i,a),t!==null?t.sibling:null);Ks(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Va(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Sy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(Rt,Rt.current),o)break;return null;case 22:return i.lanes=0,gy(t,i,a,i.pendingProps);case 24:qs(i,Mt,t.memoizedState.cache)}return rs(t,i,a)}function wy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Lt=!0;else{if(!Jf(t,a)&&(i.flags&128)===0)return Lt=!1,eb(t,i,a);Lt=(t.flags&131072)!==0}else Lt=!1,Ke&&(i.flags&1048576)!==0&&ig(i,Xo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=$r(i.elementType),i.type=t,typeof t=="function")sf(t)?(o=ea(t,o),i.tag=1,i=Ey(null,i,t,o,a)):(i.tag=0,i=Kf(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Je){i.tag=11,i=dy(null,i,t,o,a);break e}else if(h===N){i.tag=14,i=my(null,i,t,o,a);break e}}throw i=at(t)||t,Error(r(306,i,""))}}return i;case 0:return Kf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ea(o,i.pendingProps),Ey(t,i,o,h,a);case 3:e:{if(bt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,vf(t,i),rl(i,o,null,a);var p=i.memoizedState;if(o=p.cache,qs(i,Mt,o),o!==f.cache&&df(i,[Mt],a,!0),sl(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Ty(t,i,o,a);break e}else if(o!==h){h=Fn(Error(r(424)),i),Zo(h),i=Ty(t,i,o,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,dt=Wn(t.firstChild),$t=i,Ke=!0,Ps=null,Yn=!0,a=gg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Kr(),o===h){i=rs(t,i,a);break e}Zt(t,i,o,a)}i=i.child}return i;case 26:return oc(t,i),t===null?(a=L0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ke||(a=i.type,t=i.pendingProps,o=Sc(Oe.current).createElement(a),o[Ot]=i,o[Ft]=t,Jt(o,a,t),Dt(o),i.stateNode=o):i.memoizedState=L0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return gi(i),t===null&&Ke&&(o=i.stateNode=k0(i.type,i.pendingProps,Oe.current),$t=i,Yn=!0,h=dt,tr(i.type)?(Dd=h,dt=Wn(o.firstChild)):dt=h),Zt(t,i,i.pendingProps.children,a),oc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ke&&((h=o=dt)&&(o=Ib(o,i.type,i.pendingProps,Yn),o!==null?(i.stateNode=o,$t=i,dt=Wn(o.firstChild),Yn=!1,h=!0):h=!1),h||Bs(i)),gi(i),h=i.type,f=i.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,Rd(h,f)?o=null:p!==null&&Rd(h,p)&&(i.flags|=32),i.memoizedState!==null&&(h=xf(t,i,GT,null,null,a),wl._currentValue=h),oc(t,i),Zt(t,i,o,a),i.child;case 6:return t===null&&Ke&&((t=a=dt)&&(a=Ob(a,i.pendingProps,Yn),a!==null?(i.stateNode=a,$t=i,dt=null,t=!0):t=!1),t||Bs(i)),null;case 13:return by(t,i,a);case 4:return bt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Zr(i,null,o,a):Zt(t,i,o,a),i.child;case 11:return dy(t,i,i.type,i.pendingProps,a);case 7:return Zt(t,i,i.pendingProps,a),i.child;case 8:return Zt(t,i,i.pendingProps.children,a),i.child;case 12:return Zt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,qs(i,i.type,o.value),Zt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Qr(i),h=Xt(h),o=o(h),i.flags|=1,Zt(t,i,o,a),i.child;case 14:return my(t,i,i.type,i.pendingProps,a);case 15:return py(t,i,i.type,i.pendingProps,a);case 19:return Sy(t,i,a);case 31:return JT(t,i,a);case 22:return gy(t,i,a,i.pendingProps);case 24:return Qr(i),o=Xt(Mt),t===null?(h=gf(),h===null&&(h=ht,f=mf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},_f(i),qs(i,Mt,h)):((t.lanes&a)!==0&&(vf(t,i),rl(i,null,null,a),sl()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),qs(i,Mt,o)):(o=f.cache,qs(i,Mt,o),o!==h.cache&&df(i,[Mt],a,!0))),Zt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function as(t){t.flags|=4}function ed(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Zy())t.flags|=8192;else throw Xr=Ku,yf}else t.flags&=-16777217}function xy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!B0(i))if(Zy())t.flags|=8192;else throw Xr=Ku,yf}function uc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?pu():536870912,t.lanes|=i,Ya|=i)}function hl(t,i){if(!Ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function mt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function tb(t,i,a){var o=i.pendingProps;switch(lf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(i),null;case 1:return mt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ns(Mt),ft(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(i)?as(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cf())),mt(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(as(i),f!==null?(mt(i),xy(i,f)):(mt(i),ed(i,h,null,o,a))):f?f!==t.memoizedState?(as(i),mt(i),xy(i,f)):(mt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&as(i),mt(i),ed(i,h,t,o,a)),null;case 27:if(xs(i),a=Oe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&as(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return mt(i),null}t=ae.current,Ma(i)?rg(i):(t=k0(h,o,a),i.stateNode=t,as(i))}return mt(i),null;case 5:if(xs(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&as(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return mt(i),null}if(f=ae.current,Ma(i))rg(i);else{var p=Sc(Oe.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ot]=i,f[Ft]=o;e:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break e;for(;p.sibling===null;){if(p.return===null||p.return===i)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=f;e:switch(Jt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&as(i)}}return mt(i),ed(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&as(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=Oe.current,Ma(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=$t,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ot]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||b0(t.nodeValue,a)),t||Bs(i,!0)}else t=Sc(t).createTextNode(o),t[Ot]=i,i.stateNode=t}return mt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Ma(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ot]=i}else Kr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),t=!1}else a=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(On(i),i):(On(i),null);if((i.flags&128)!==0)throw Error(r(558))}return mt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ot]=i}else Kr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),h=!1}else h=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(On(i),i):(On(i),null)}return On(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),uc(i,i.updateQueue),mt(i),null);case 4:return ft(),t===null&&bd(i.stateNode.containerInfo),mt(i),null;case 10:return ns(i.type),mt(i),null;case 19:if(G(Rt),o=i.memoizedState,o===null)return mt(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)hl(o,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=$u(t),f!==null){for(i.flags|=128,hl(o,!1),t=f.updateQueue,i.updateQueue=t,uc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)eg(a,t),a=a.sibling;return ne(Rt,Rt.current&1|2),Ke&&es(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&he()>mc&&(i.flags|=128,h=!0,hl(o,!1),i.lanes=4194304)}else{if(!h)if(t=$u(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,uc(i,t),hl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ke)return mt(i),null}else 2*he()-o.renderingStartTime>mc&&a!==536870912&&(i.flags|=128,h=!0,hl(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=he(),t.sibling=null,a=Rt.current,ne(Rt,h?a&1|2:a&1),Ke&&es(i,o.treeForkCount),t):(mt(i),null);case 22:case 23:return On(i),Af(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(mt(i),i.subtreeFlags&6&&(i.flags|=8192)):mt(i),a=i.updateQueue,a!==null&&uc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&G(Wr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ns(Mt),mt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function nb(t,i){switch(lf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ns(Mt),ft(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return xs(i),null;case 31:if(i.memoizedState!==null){if(On(i),i.alternate===null)throw Error(r(340));Kr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(On(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Kr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return G(Rt),null;case 4:return ft(),null;case 10:return ns(i.type),null;case 22:case 23:return On(i),Af(),t!==null&&G(Wr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ns(Mt),null;case 25:return null;default:return null}}function Ry(t,i){switch(lf(i),i.tag){case 3:ns(Mt),ft();break;case 26:case 27:case 5:xs(i);break;case 4:ft();break;case 31:i.memoizedState!==null&&On(i);break;case 13:On(i);break;case 19:G(Rt);break;case 10:ns(i.type);break;case 22:case 23:On(i),Af(),t!==null&&G(Wr);break;case 24:ns(Mt)}}function fl(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(b){rt(i,i.return,b)}}function Qs(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,h=i;var R=a,z=b;try{z()}catch(K){rt(h,R,K)}}}o=o.next}while(o!==f)}}catch(K){rt(i,i.return,K)}}function Ny(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{_g(i,a)}catch(o){rt(t,t.return,o)}}}function Cy(t,i,a){a.props=ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){rt(t,i,o)}}function dl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){rt(t,i,h)}}function Ui(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){rt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){rt(t,i,h)}else a.current=null}function Iy(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){rt(t,t.return,h)}}function td(t,i,a){try{var o=t.stateNode;Sb(o,t.type,a,i),o[Ft]=i}catch(h){rt(t,t.return,h)}}function Oy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tr(t.type)||t.tag===4}function nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Oy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function id(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ii));else if(o!==4&&(o===27&&tr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(id(t,i,a),t=t.sibling;t!==null;)id(t,i,a),t=t.sibling}function cc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&tr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(cc(t,i,a),t=t.sibling;t!==null;)cc(t,i,a),t=t.sibling}function Dy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Jt(i,o,a),i[Ot]=t,i[Ft]=a}catch(f){rt(t,t.return,f)}}var os=!1,jt=!1,sd=!1,ky=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function ib(t,i){if(t=t.containerInfo,wd=Oc,t=Gp(t),$h(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,b=-1,R=-1,z=0,K=0,Q=t,P=null;t:for(;;){for(var q;Q!==a||h!==0&&Q.nodeType!==3||(b=p+h),Q!==f||o!==0&&Q.nodeType!==3||(R=p+o),Q.nodeType===3&&(p+=Q.nodeValue.length),(q=Q.firstChild)!==null;)P=Q,Q=q;for(;;){if(Q===t)break t;if(P===a&&++z===h&&(b=p),P===f&&++K===o&&(R=p),(q=Q.nextSibling)!==null)break;Q=P,P=Q.parentNode}Q=q}a=b===-1||R===-1?null:{start:b,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(xd={focusedElem:t,selectionRange:a},Oc=!1,Kt=i;Kt!==null;)if(i=Kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Kt=t;else for(;Kt!==null;){switch(i=Kt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ce=ea(a.type,h);t=o.getSnapshotBeforeUpdate(ce,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){rt(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Cd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Kt=t;break}Kt=i.return}}function My(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:us(t,a),o&4&&fl(5,a);break;case 1:if(us(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(p){rt(a,a.return,p)}else{var h=ea(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(p){rt(a,a.return,p)}}o&64&&Ny(a),o&512&&dl(a,a.return);break;case 3:if(us(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{_g(t,i)}catch(p){rt(a,a.return,p)}}break;case 27:i===null&&o&4&&Dy(a);case 26:case 5:us(t,a),i===null&&o&4&&Iy(a),o&512&&dl(a,a.return);break;case 12:us(t,a);break;case 31:us(t,a),o&4&&jy(t,a);break;case 13:us(t,a),o&4&&Uy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=fb.bind(null,a),Db(t,a))));break;case 22:if(o=a.memoizedState!==null||os,!o){i=i!==null&&i.memoizedState!==null||jt,h=os;var f=jt;os=o,(jt=i)&&!f?cs(t,a,(a.subtreeFlags&8772)!==0):us(t,a),os=h,jt=f}break;case 30:break;default:us(t,a)}}function Vy(t){var i=t.alternate;i!==null&&(t.alternate=null,Vy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ya(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,pn=!1;function ls(t,i,a){for(a=a.child;a!==null;)Ly(t,i,a),a=a.sibling}function Ly(t,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Jn,a)}catch{}switch(a.tag){case 26:jt||Ui(a,i),ls(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||Ui(a,i);var o=vt,h=pn;tr(a.type)&&(vt=a.stateNode,pn=!1),ls(t,i,a),bl(a.stateNode),vt=o,pn=h;break;case 5:jt||Ui(a,i);case 6:if(o=vt,h=pn,vt=null,ls(t,i,a),vt=o,pn=h,vt!==null)if(pn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(a.stateNode)}catch(f){rt(a,i,f)}else try{vt.removeChild(a.stateNode)}catch(f){rt(a,i,f)}break;case 18:vt!==null&&(pn?(t=vt,N0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),to(t)):N0(vt,a.stateNode));break;case 4:o=vt,h=pn,vt=a.stateNode.containerInfo,pn=!0,ls(t,i,a),vt=o,pn=h;break;case 0:case 11:case 14:case 15:Qs(2,a,i),jt||Qs(4,a,i),ls(t,i,a);break;case 1:jt||(Ui(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Cy(a,i,o)),ls(t,i,a);break;case 21:ls(t,i,a);break;case 22:jt=(o=jt)||a.memoizedState!==null,ls(t,i,a),jt=o;break;default:ls(t,i,a)}}function jy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(a){rt(i,i.return,a)}}}function Uy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(a){rt(i,i.return,a)}}function sb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ky),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ky),i;default:throw Error(r(435,t.tag))}}function hc(t,i){var a=sb(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=db.bind(null,t,o);o.then(h,h)}})}function gn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,p=i,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(tr(b.type)){vt=b.stateNode,pn=!1;break e}break;case 5:vt=b.stateNode,pn=!1;break e;case 3:case 4:vt=b.stateNode.containerInfo,pn=!0;break e}b=b.return}if(vt===null)throw Error(r(160));Ly(f,p,h),vt=null,pn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)zy(i,t),i=i.sibling}var ui=null;function zy(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(i,t),yn(t),o&4&&(Qs(3,t,t.return),fl(3,t),Qs(5,t,t.return));break;case 1:gn(i,t),yn(t),o&512&&(jt||a===null||Ui(a,a.return)),o&64&&os&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ui;if(gn(i,t),yn(t),o&512&&(jt||a===null||Ui(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Si]||f[Ot]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Jt(f,o,a),f[Ot]=t,Dt(f),o=f;break e;case"link":var p=z0("link","href",h).get(o+(a.href||""));if(p){for(var b=0;b<p.length;b++)if(f=p[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(b,1);break t}}f=h.createElement(o),Jt(f,o,a),h.head.appendChild(f);break;case"meta":if(p=z0("meta","content",h).get(o+(a.content||""))){for(b=0;b<p.length;b++)if(f=p[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(b,1);break t}}f=h.createElement(o),Jt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ot]=t,Dt(f),o=f}t.stateNode=o}else P0(h,t.type,t.stateNode);else t.stateNode=U0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?P0(h,t.type,t.stateNode):U0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&td(t,t.memoizedProps,a.memoizedProps)}break;case 27:gn(i,t),yn(t),o&512&&(jt||a===null||Ui(a,a.return)),a!==null&&o&4&&td(t,t.memoizedProps,a.memoizedProps);break;case 5:if(gn(i,t),yn(t),o&512&&(jt||a===null||Ui(a,a.return)),t.flags&32){h=t.stateNode;try{mn(h,"")}catch(ce){rt(t,t.return,ce)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,td(t,h,a!==null?a.memoizedProps:h)),o&1024&&(sd=!0);break;case 6:if(gn(i,t),yn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ce){rt(t,t.return,ce)}}break;case 3:if(Rc=null,h=ui,ui=wc(i.containerInfo),gn(i,t),ui=h,yn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{to(i.containerInfo)}catch(ce){rt(t,t.return,ce)}sd&&(sd=!1,Py(t));break;case 4:o=ui,ui=wc(t.stateNode.containerInfo),gn(i,t),yn(t),ui=o;break;case 12:gn(i,t),yn(t);break;case 31:gn(i,t),yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 13:gn(i,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dc=he()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=os,K=jt;if(os=z||h,jt=K||R,gn(i,t),jt=K,os=z,yn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||os||jt||ta(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=R.stateNode;var Q=R.memoizedProps.style,P=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;b.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ce){rt(R,R.return,ce)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ce){rt(R,R.return,ce)}}}else if(i.tag===18){if(a===null){R=i;try{var q=R.stateNode;h?C0(q,!0):C0(R.stateNode,!1)}catch(ce){rt(R,R.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,hc(t,a))));break;case 19:gn(i,t),yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 30:break;case 21:break;default:gn(i,t),yn(t)}}function yn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(Oy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=nd(t);cc(t,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(mn(p,""),a.flags&=-33);var b=nd(t);cc(t,b,p);break;case 3:case 4:var R=a.stateNode.containerInfo,z=nd(t);id(t,z,R);break;default:throw Error(r(161))}}catch(K){rt(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Py(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Py(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function us(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)My(t,i.alternate,i),i=i.sibling}function ta(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Qs(4,i,i.return),ta(i);break;case 1:Ui(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Cy(i,i.return,a),ta(i);break;case 27:bl(i.stateNode);case 26:case 5:Ui(i,i.return),ta(i);break;case 22:i.memoizedState===null&&ta(i);break;case 30:ta(i);break;default:ta(i)}t=t.sibling}}function cs(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,p=f.flags;switch(f.tag){case 0:case 11:case 15:cs(h,f,a),fl(4,f);break;case 1:if(cs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){rt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)yg(R[h],b)}catch(z){rt(o,o.return,z)}}a&&p&64&&Ny(f),dl(f,f.return);break;case 27:Dy(f);case 26:case 5:cs(h,f,a),a&&o===null&&p&4&&Iy(f),dl(f,f.return);break;case 12:cs(h,f,a);break;case 31:cs(h,f,a),a&&p&4&&jy(h,f);break;case 13:cs(h,f,a),a&&p&4&&Uy(h,f);break;case 22:f.memoizedState===null&&cs(h,f,a),dl(f,f.return);break;case 30:break;default:cs(h,f,a)}i=i.sibling}}function rd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Jo(a))}function ad(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t))}function ci(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)By(t,i,a,o),i=i.sibling}function By(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ci(t,i,a,o),h&2048&&fl(9,i);break;case 1:ci(t,i,a,o);break;case 3:ci(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t)));break;case 12:if(h&2048){ci(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,p=f.id,b=f.onPostCommit;typeof b=="function"&&b(p,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){rt(i,i.return,R)}}else ci(t,i,a,o);break;case 31:ci(t,i,a,o);break;case 13:ci(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,p=i.alternate,i.memoizedState!==null?f._visibility&2?ci(t,i,a,o):ml(t,i):f._visibility&2?ci(t,i,a,o):(f._visibility|=2,Fa(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&rd(p,i);break;case 24:ci(t,i,a,o),h&2048&&ad(i.alternate,i);break;default:ci(t,i,a,o)}}function Fa(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,p=i,b=a,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Fa(f,p,b,R,h),fl(8,p);break;case 23:break;case 22:var K=p.stateNode;p.memoizedState!==null?K._visibility&2?Fa(f,p,b,R,h):ml(f,p):(K._visibility|=2,Fa(f,p,b,R,h)),h&&z&2048&&rd(p.alternate,p);break;case 24:Fa(f,p,b,R,h),h&&z&2048&&ad(p.alternate,p);break;default:Fa(f,p,b,R,h)}i=i.sibling}}function ml(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:ml(a,o),h&2048&&rd(o.alternate,o);break;case 24:ml(a,o),h&2048&&ad(o.alternate,o);break;default:ml(a,o)}i=i.sibling}}var pl=8192;function Ga(t,i,a){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)qy(t,i,a),t=t.sibling}function qy(t,i,a){switch(t.tag){case 26:Ga(t,i,a),t.flags&pl&&t.memoizedState!==null&&Fb(a,ui,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,i,a);break;case 3:case 4:var o=ui;ui=wc(t.stateNode.containerInfo),Ga(t,i,a),ui=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=pl,pl=16777216,Ga(t,i,a),pl=o):Ga(t,i,a));break;default:Ga(t,i,a)}}function Hy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function gl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Kt=o,Gy(o,t)}Hy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fy(t),t=t.sibling}function Fy(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&Qs(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,fc(t)):gl(t);break;default:gl(t)}}function fc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Kt=o,Gy(o,t)}Hy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Qs(8,i,i.return),fc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,fc(i));break;default:fc(i)}t=t.sibling}}function Gy(t,i){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:Qs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Jo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Kt=o;else e:for(a=t;Kt!==null;){o=Kt;var h=o.sibling,f=o.return;if(Vy(o),o===a){Kt=null;break e}if(h!==null){h.return=f,Kt=h;break e}Kt=f}}}var rb={getCacheForType:function(t){var i=Xt(Mt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Xt(Mt).controller.signal}},ab=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ht=null,Le=null,Pe=0,st=0,Dn=null,Ws=!1,Ka=!1,od=!1,hs=0,St=0,$s=0,na=0,ld=0,kn=0,Ya=0,yl=null,_n=null,ud=!1,dc=0,Ky=0,mc=1/0,pc=null,Xs=null,Bt=0,Zs=null,Qa=null,fs=0,cd=0,hd=null,Yy=null,_l=0,fd=null;function Mn(){return(Ze&2)!==0&&Pe!==0?Pe&-Pe:F.T!==null?_d():gu()}function Qy(){if(kn===0)if((Pe&536870912)===0||Ke){var t=Cr;Cr<<=1,(Cr&3932160)===0&&(Cr=262144),kn=t}else kn=536870912;return t=In.current,t!==null&&(t.flags|=32),kn}function vn(t,i,a){(t===ht&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),Js(t,Pe,kn,!1)),Ir(t,a),((Ze&2)===0||t!==ht)&&(t===ht&&((Ze&2)===0&&(na|=a),St===4&&Js(t,Pe,kn,!1)),zi(t))}function Wy(t,i,a){if((Ze&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ei(t,i),h=o?ub(t,i):md(t,i,!0),f=o;do{if(h===0){Ka&&!o&&Js(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!ob(a)){h=md(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){i=p;e:{var b=t;h=yl;var R=b.current.memoizedState.isDehydrated;if(R&&(Wa(b,p).flags|=256),p=md(b,p,!1),p!==2){if(od&&!R){b.errorRecoveryDisabledLanes|=f,na|=f,h=4;break e}f=_n,_n=h,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Wa(t,0),Js(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Js(o,i,kn,!Ws);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=dc+300-he(),10<h)){if(Js(o,i,kn,!Ws),Ti(o,0,!0)!==0)break e;fs=i,o.timeoutHandle=x0($y.bind(null,o,a,_n,pc,ud,i,kn,na,Ya,Ws,f,"Throttled",-0,0),h);break e}$y(o,a,_n,pc,ud,i,kn,na,Ya,Ws,f,null,-0,0)}}break}while(!0);zi(t)}function $y(t,i,a,o,h,f,p,b,R,z,K,Q,P,q){if(t.timeoutHandle=-1,Q=i.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},qy(i,f,Q);var ce=(f&62914560)===f?dc-he():(f&4194048)===f?Ky-he():0;if(ce=Gb(Q,ce),ce!==null){fs=f,t.cancelPendingCommit=ce(s0.bind(null,t,i,f,a,o,h,p,b,R,K,Q,null,P,q)),Js(t,f,p,!z);return}}s0(t,i,f,a,o,h,p,b,R)}function ob(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Nn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Js(t,i,a,o){i&=~ld,i&=~na,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-wt(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&Or(t,a,i)}function gc(){return(Ze&6)===0?(vl(0),!1):!0}function dd(){if(Le!==null){if(st===0)var t=Le.return;else t=Le,ts=Yr=null,Cf(t),za=null,tl=0,t=Le;for(;t!==null;)Ry(t.alternate,t),t=t.return;Le=null}}function Wa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Rb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fs=0,dd(),ht=t,Le=a=Ji(t.current,null),Pe=i,st=0,Dn=null,Ws=!1,Ka=ei(t,i),od=!1,Ya=kn=ld=na=$s=St=0,_n=yl=null,ud=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-wt(o),f=1<<h;i|=t[h],o&=~f}return hs=i,ju(),a}function Xy(t,i){Me=null,F.H=ul,i===Ua||i===Gu?(i=dg(),st=3):i===yf?(i=dg(),st=4):st=i===Gf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Dn=i,Le===null&&(St=1,rc(t,Fn(i,t.current)))}function Zy(){var t=In.current;return t===null?!0:(Pe&4194048)===Pe?Qn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===Qn:!1}function Jy(){var t=F.H;return F.H=ul,t===null?ul:t}function e0(){var t=F.A;return F.A=rb,t}function yc(){St=4,Ws||(Pe&4194048)!==Pe&&In.current!==null||(Ka=!0),($s&134217727)===0&&(na&134217727)===0||ht===null||Js(ht,Pe,kn,!1)}function md(t,i,a){var o=Ze;Ze|=2;var h=Jy(),f=e0();(ht!==t||Pe!==i)&&(pc=null,Wa(t,i)),i=!1;var p=St;e:do try{if(st!==0&&Le!==null){var b=Le,R=Dn;switch(st){case 8:dd(),p=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var z=st;if(st=0,Dn=null,$a(t,b,R,z),a&&Ka){p=0;break e}break;default:z=st,st=0,Dn=null,$a(t,b,R,z)}}lb(),p=St;break}catch(K){Xy(t,K)}while(!0);return i&&t.shellSuspendCounter++,ts=Yr=null,Ze=o,F.H=h,F.A=f,Le===null&&(ht=null,Pe=0,ju()),p}function lb(){for(;Le!==null;)t0(Le)}function ub(t,i){var a=Ze;Ze|=2;var o=Jy(),h=e0();ht!==t||Pe!==i?(pc=null,mc=he()+500,Wa(t,i)):Ka=ei(t,i);e:do try{if(st!==0&&Le!==null){i=Le;var f=Dn;t:switch(st){case 1:st=0,Dn=null,$a(t,i,f,1);break;case 2:case 9:if(hg(f)){st=0,Dn=null,n0(i);break}i=function(){st!==2&&st!==9||ht!==t||(st=7),zi(t)},f.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:hg(f)?(st=0,Dn=null,n0(i)):(st=0,Dn=null,$a(t,i,f,7));break;case 5:var p=null;switch(Le.tag){case 26:p=Le.memoizedState;case 5:case 27:var b=Le;if(p?B0(p):b.stateNode.complete){st=0,Dn=null;var R=b.sibling;if(R!==null)Le=R;else{var z=b.return;z!==null?(Le=z,_c(z)):Le=null}break t}}st=0,Dn=null,$a(t,i,f,5);break;case 6:st=0,Dn=null,$a(t,i,f,6);break;case 8:dd(),St=6;break e;default:throw Error(r(462))}}cb();break}catch(K){Xy(t,K)}while(!0);return ts=Yr=null,F.H=o,F.A=h,Ze=a,Le!==null?0:(ht=null,Pe=0,ju(),St)}function cb(){for(;Le!==null&&!De();)t0(Le)}function t0(t){var i=wy(t.alternate,t,hs);t.memoizedProps=t.pendingProps,i===null?_c(t):Le=i}function n0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=vy(a,i,i.pendingProps,i.type,void 0,Pe);break;case 11:i=vy(a,i,i.pendingProps,i.type.render,i.ref,Pe);break;case 5:Cf(i);default:Ry(a,i),i=Le=eg(i,hs),i=wy(a,i,hs)}t.memoizedProps=t.pendingProps,i===null?_c(t):Le=i}function $a(t,i,a,o){ts=Yr=null,Cf(i),za=null,tl=0;var h=i.return;try{if(ZT(t,h,i,a,Pe)){St=1,rc(t,Fn(a,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;St=1,rc(t,Fn(a,t.current)),Le=null;return}i.flags&32768?(Ke||o===1?t=!0:Ka||(Pe&536870912)!==0?t=!1:(Ws=t=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),i0(i,t)):_c(i)}function _c(t){var i=t;do{if((i.flags&32768)!==0){i0(i,Ws);return}t=i.return;var a=tb(i.alternate,i,hs);if(a!==null){Le=a;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=t}while(i!==null);St===0&&(St=5)}function i0(t,i){do{var a=nb(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);St=6,Le=null}function s0(t,i,a,o,h,f,p,b,R){t.cancelPendingCommit=null;do vc();while(Bt!==0);if((Ze&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=tf,Kh(t,a,f,p,b,R),t===ht&&(Le=ht=null,Pe=0),Qa=i,Zs=t,fs=a,cd=f,hd=h,Yy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mb(_i,function(){return u0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=te.p,te.p=2,p=Ze,Ze|=4;try{ib(t,i,a)}finally{Ze=p,te.p=h,F.T=o}}Bt=1,r0(),a0(),o0()}}function r0(){if(Bt===1){Bt=0;var t=Zs,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=Ze;Ze|=4;try{zy(i,t);var f=xd,p=Gp(t.containerInfo),b=f.focusedElem,R=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&Fp(b.ownerDocument.documentElement,b)){if(R!==null&&$h(b)){var z=R.start,K=R.end;if(K===void 0&&(K=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min(K,b.value.length);else{var Q=b.ownerDocument||document,P=Q&&Q.defaultView||window;if(P.getSelection){var q=P.getSelection(),ce=b.textContent.length,_e=Math.min(R.start,ce),ct=R.end===void 0?_e:Math.min(R.end,ce);!q.extend&&_e>ct&&(p=ct,ct=_e,_e=p);var V=Hp(b,_e),k=Hp(b,ct);if(V&&k&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==k.node||q.focusOffset!==k.offset)){var U=Q.createRange();U.setStart(V.node,V.offset),q.removeAllRanges(),_e>ct?(q.addRange(U),q.extend(k.node,k.offset)):(U.setEnd(k.node,k.offset),q.addRange(U))}}}}for(Q=[],q=b;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Q.length;b++){var Y=Q[b];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Oc=!!wd,xd=wd=null}finally{Ze=h,te.p=o,F.T=a}}t.current=i,Bt=2}}function a0(){if(Bt===2){Bt=0;var t=Zs,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=Ze;Ze|=4;try{My(t,i.alternate,i)}finally{Ze=h,te.p=o,F.T=a}}Bt=3}}function o0(){if(Bt===4||Bt===3){Bt=0,Z();var t=Zs,i=Qa,a=fs,o=Yy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Bt=5:(Bt=0,Qa=Zs=null,l0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Xs=null),Wi(a),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Jn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=te.p,te.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var b=o[p];f(b.value,{componentStack:b.stack})}}finally{F.T=i,te.p=h}}(fs&3)!==0&&vc(),zi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===fd?_l++:(_l=0,fd=t):_l=0,vl(0)}}function l0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Jo(i)))}function vc(){return r0(),a0(),o0(),u0()}function u0(){if(Bt!==5)return!1;var t=Zs,i=cd;cd=0;var a=Wi(fs),o=F.T,h=te.p;try{te.p=32>a?32:a,F.T=null,a=hd,hd=null;var f=Zs,p=fs;if(Bt=0,Qa=Zs=null,fs=0,(Ze&6)!==0)throw Error(r(331));var b=Ze;if(Ze|=4,Fy(f.current),By(f,f.current,p,a),Ze=b,vl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Jn,f)}catch{}return!0}finally{te.p=h,F.T=o,l0(t,i)}}function c0(t,i,a){i=Fn(a,i),i=Ff(t.stateNode,i,2),t=Gs(t,i,2),t!==null&&(Ir(t,2),zi(t))}function rt(t,i,a){if(t.tag===3)c0(t,t,a);else for(;i!==null;){if(i.tag===3){c0(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xs===null||!Xs.has(o))){t=Fn(a,t),a=hy(2),o=Gs(i,a,2),o!==null&&(fy(a,o,i,t),Ir(o,2),zi(o));break}}i=i.return}}function pd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new ab;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(od=!0,h.add(a),t=hb.bind(null,t,i,a),i.then(t,t))}function hb(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Pe&a)===a&&(St===4||St===3&&(Pe&62914560)===Pe&&300>he()-dc?(Ze&2)===0&&Wa(t,0):ld|=a,Ya===Pe&&(Ya=0)),zi(t)}function h0(t,i){i===0&&(i=pu()),t=Fr(t,i),t!==null&&(Ir(t,i),zi(t))}function fb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),h0(t,a)}function db(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),h0(t,a)}function mb(t,i){return re(t,i)}var Ec=null,Xa=null,gd=!1,Tc=!1,yd=!1,er=0;function zi(t){t!==Xa&&t.next===null&&(Xa===null?Ec=Xa=t:Xa=Xa.next=t),Tc=!0,gd||(gd=!0,gb())}function vl(t,i){if(!yd&&Tc){yd=!0;do for(var a=!1,o=Ec;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-wt(42|t)+1)-1,f&=h&~(p&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,p0(o,f))}else f=Pe,f=Ti(o,o===ht?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ei(o,f)||(a=!0,p0(o,f));o=o.next}while(a);yd=!1}}function pb(){f0()}function f0(){Tc=gd=!1;var t=0;er!==0&&xb()&&(t=er);for(var i=he(),a=null,o=Ec;o!==null;){var h=o.next,f=d0(o,i);f===0?(o.next=null,a===null?Ec=h:a.next=h,h===null&&(Xa=a)):(a=o,(t!==0||(f&3)!==0)&&(Tc=!0)),o=h}Bt!==0&&Bt!==5||vl(t),er!==0&&(er=0)}function d0(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-wt(f),b=1<<p,R=h[p];R===-1?((b&a)===0||(b&o)!==0)&&(h[p]=Gh(b,i)):R<=i&&(t.expiredLanes|=b),f&=~b}if(i=ht,a=Pe,a=Ti(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(st===2||st===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ue(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ei(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&ue(o),Wi(a)){case 2:case 8:a=nt;break;case 32:a=_i;break;case 268435456:a=cu;break;default:a=_i}return o=m0.bind(null,t),a=re(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&ue(o),t.callbackPriority=2,t.callbackNode=null,2}function m0(t,i){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(vc()&&t.callbackNode!==a)return null;var o=Pe;return o=Ti(t,t===ht?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Wy(t,o,i),d0(t,he()),t.callbackNode!=null&&t.callbackNode===a?m0.bind(null,t):null)}function p0(t,i){if(vc())return null;Wy(t,i,!0)}function gb(){Nb(function(){(Ze&6)!==0?re(tt,pb):f0()})}function _d(){if(er===0){var t=La;t===0&&(t=vi,vi<<=1,(vi&261888)===0&&(vi=256)),er=t}return er}function g0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function y0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function yb(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=g0((h[Ft]||null).action),p=o.submitter;p&&(i=(i=p[Ft]||null)?g0(i.formAction):p.getAttribute("formAction"),i!==null&&(f=i,p=null));var b=new Di("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(er!==0){var R=p?y0(h,p):new FormData(h);Uf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(b.preventDefault(),R=p?y0(h,p):new FormData(h),Uf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var vd=0;vd<ef.length;vd++){var Ed=ef[vd],_b=Ed.toLowerCase(),vb=Ed[0].toUpperCase()+Ed.slice(1);li(_b,"on"+vb)}li(Qp,"onAnimationEnd"),li(Wp,"onAnimationIteration"),li($p,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(VT,"onTransitionRun"),li(LT,"onTransitionStart"),li(jT,"onTransitionCancel"),li(Xp,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function _0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var p=o.length-1;0<=p;p--){var b=o[p],R=b.instance,z=b.currentTarget;if(b=b.listener,R!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch(K){Lu(K)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(b=o[p],R=b.instance,z=b.currentTarget,b=b.listener,R!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch(K){Lu(K)}h.currentTarget=null,f=R}}}}function je(t,i){var a=i[ga];a===void 0&&(a=i[ga]=new Set);var o=t+"__bubble";a.has(o)||(v0(i,t,2,!1),a.add(o))}function Td(t,i,a){var o=0;i&&(o|=4),v0(a,t,o,i)}var bc="_reactListening"+Math.random().toString(36).slice(2);function bd(t){if(!t[bc]){t[bc]=!0,Do.forEach(function(a){a!=="selectionchange"&&(Eb.has(a)||Td(a,!1,t),Td(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[bc]||(i[bc]=!0,Td("selectionchange",!1,i))}}function v0(t,i,a,o){switch(Q0(i)){case 2:var h=Qb;break;case 8:h=Wb;break;default:h=jd}a=h.bind(null,i,a,t),h=void 0,!Lr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Ad(t,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var b=o.stateNode.containerInfo;if(b===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;b!==null;){if(p=wi(b),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue e}b=b.parentNode}}o=o.return}Vs(function(){var z=f,K=Pn(a),Q=[];e:{var P=Zp.get(t);if(P!==void 0){var q=Di,ce=t;switch(t){case"keypress":if(Ur(a)===0)break e;case"keydown":case"keyup":q=ku;break;case"focusin":ce="focus",q=Pr;break;case"focusout":ce="blur",q=Pr;break;case"beforeblur":case"afterblur":q=Pr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Qp:case Wp:case $p:q=xu;break;case Xp:q=A;break;case"scroll":case"scrollend":q=Fo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Zi;break;case"toggle":case"beforetoggle":q=ke}var _e=(i&4)!==0,ct=!_e&&(t==="scroll"||t==="scrollend"),V=_e?P!==null?P+"Capture":null:P;_e=[];for(var k=z,U;k!==null;){var Y=k;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||V===null||(Y=si(k,V),Y!=null&&_e.push(Tl(k,Y,U))),ct)break;k=k.return}0<_e.length&&(P=new q(P,ce,null,a,K),Q.push({event:P,listeners:_e}))}}if((i&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&a!==Bo&&(ce=a.relatedTarget||a.fromElement)&&(wi(ce)||ce[Ai]))break e;if((q||P)&&(P=K.window===K?K:(P=K.ownerDocument)?P.defaultView||P.parentWindow:window,q?(ce=a.relatedTarget||a.toElement,q=z,ce=ce?wi(ce):null,ce!==null&&(ct=c(ce),_e=ce.tag,ce!==ct||_e!==5&&_e!==27&&_e!==6)&&(ce=null)):(q=null,ce=z),q!==ce)){if(_e=Go,Y="onMouseLeave",V="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Zi,Y="onPointerLeave",V="onPointerEnter",k="pointer"),ct=q==null?P:xn(q),U=ce==null?P:xn(ce),P=new _e(Y,k+"leave",q,a,K),P.target=ct,P.relatedTarget=U,Y=null,wi(K)===z&&(_e=new _e(V,k+"enter",ce,a,K),_e.target=U,_e.relatedTarget=ct,Y=_e),ct=Y,q&&ce)t:{for(_e=Tb,V=q,k=ce,U=0,Y=V;Y;Y=_e(Y))U++;Y=0;for(var pe=k;pe;pe=_e(pe))Y++;for(;0<U-Y;)V=_e(V),U--;for(;0<Y-U;)k=_e(k),Y--;for(;U--;){if(V===k||k!==null&&V===k.alternate){_e=V;break t}V=_e(V),k=_e(k)}_e=null}else _e=null;q!==null&&E0(Q,P,q,_e,!1),ce!==null&&ct!==null&&E0(Q,ct,ce,_e,!0)}}e:{if(P=z?xn(z):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var We=jp;else if(Vp(P))if(Up)We=DT;else{We=IT;var fe=CT}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&Ea(z.elementType)&&(We=jp):We=OT;if(We&&(We=We(t,z))){Lp(Q,We,a,K);break e}fe&&fe(t,P,z),t==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&Uo(P,"number",P.value)}switch(fe=z?xn(z):window,t){case"focusin":(Vp(fe)||fe.contentEditable==="true")&&(Na=fe,Xh=z,$o=null);break;case"focusout":$o=Xh=Na=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Kp(Q,a,K);break;case"selectionchange":if(MT)break;case"keydown":case"keyup":Kp(Q,a,K)}var Ve;if(Xe)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ra?Br(t,a)&&(Be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(Vi&&a.locale!=="ko"&&(Ra||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ra&&(Ve=Ho()):(Oi=K,qo="value"in Oi?Oi.value:Oi.textContent,Ra=!0)),fe=Ac(z,Be),0<fe.length&&(Be=new Mi(Be,t,null,a,K),Q.push({event:Be,listeners:fe}),Ve?Be.data=Ve:(Ve=xa(a),Ve!==null&&(Be.data=Ve)))),(Ve=qn?wT(t,a):xT(t,a))&&(Be=Ac(z,"onBeforeInput"),0<Be.length&&(fe=new Mi("onBeforeInput","beforeinput",null,a,K),Q.push({event:fe,listeners:Be}),fe.data=Ve)),yb(Q,t,z,a,K)}_0(Q,i)})}function Tl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ac(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=si(t,a),h!=null&&o.unshift(Tl(t,h,f)),h=si(t,i),h!=null&&o.push(Tl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Tb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function E0(t,i,a,o,h){for(var f=i._reactName,p=[];a!==null&&a!==o;){var b=a,R=b.alternate,z=b.stateNode;if(b=b.tag,R!==null&&R===o)break;b!==5&&b!==26&&b!==27||z===null||(R=z,h?(z=si(a,f),z!=null&&p.unshift(Tl(a,z,R))):h||(z=si(a,f),z!=null&&p.push(Tl(a,z,R)))),a=a.return}p.length!==0&&t.push({event:i,listeners:p})}var bb=/\r\n?/g,Ab=/\u0000|\uFFFD/g;function T0(t){return(typeof t=="string"?t:""+t).replace(bb,`
`).replace(Ab,"")}function b0(t,i){return i=T0(i),T0(t)===i}function ut(t,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||mn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&mn(t,""+o);break;case"className":Rn(t,"class",o);break;case"tabIndex":Rn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(t,a,o);break;case"style":Po(t,o,f);break;case"data":if(i!=="object"){Rn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ta(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&ut(t,i,"name",h.name,h,null),ut(t,i,"formEncType",h.formEncType,h,null),ut(t,i,"formMethod",h.formMethod,h,null),ut(t,i,"formTarget",h.formTarget,h,null)):(ut(t,i,"encType",h.encType,h,null),ut(t,i,"method",h.method,h,null),ut(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ta(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ii);break;case"onScroll":o!=null&&je("scroll",t);break;case"onScrollEnd":o!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ta(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":je("beforetoggle",t),je("toggle",t),_a(t,"popover",o);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":_a(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Au.get(a)||a,_a(t,a,o))}}function Sd(t,i,a,o,h,f){switch(a){case"style":Po(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?mn(t,o):(typeof o=="number"||typeof o=="bigint")&&mn(t,""+o);break;case"onScroll":o!=null&&je("scroll",t);break;case"onScrollEnd":o!=null&&je("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[Ft]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):_a(t,a,o)}}}function Jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ut(t,i,f,p,a,null)}}h&&ut(t,i,"srcSet",a.srcSet,a,null),o&&ut(t,i,"src",a.src,a,null);return;case"input":je("invalid",t);var b=f=p=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":h=K;break;case"type":p=K;break;case"checked":R=K;break;case"defaultChecked":z=K;break;case"value":f=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:ut(t,i,o,K,a,null)}}Eu(t,f,b,R,z,p,h,!1);return;case"select":je("invalid",t),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":p=b;break;case"multiple":o=b;default:ut(t,i,h,b,a,null)}i=f,a=p,t.multiple=!!o,i!=null?Os(t,!!o,i,!1):a!=null&&Os(t,!!o,a,!0);return;case"textarea":je("invalid",t),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(b=a[p],b!=null))switch(p){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:ut(t,i,p,b,a,null)}Ds(t,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ut(t,i,R,o,a,null));return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(o=0;o<El.length;o++)je(El[o],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ut(t,i,z,o,a,null)}return;default:if(Ea(i)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&Sd(t,i,K,o,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(o=a[b],o!=null&&ut(t,i,b,o,a,null))}function Sb(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,b=null,R=null,z=null,K=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(q)||ut(t,i,q,null,o,Q)}}for(var P in o){var q=o[P];if(Q=a[P],o.hasOwnProperty(P)&&(q!=null||Q!=null))switch(P){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":K=q;break;case"value":p=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:q!==Q&&ut(t,i,P,q,o,Q)}}va(t,p,b,R,z,K,f,h);return;case"select":q=p=b=P=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||ut(t,i,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":P=f;break;case"defaultValue":b=f;break;case"multiple":p=f;default:f!==R&&ut(t,i,h,f,o,R)}i=b,a=p,o=q,P!=null?Os(t,!!a,P,!1):!!o!=!!a&&(i!=null?Os(t,!!a,i,!0):Os(t,!!a,a?[]:"",!1));return;case"textarea":q=P=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ut(t,i,b,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":P=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ut(t,i,p,h,o,f)}Tu(t,P,q);return;case"option":for(var ce in a)P=a[ce],a.hasOwnProperty(ce)&&P!=null&&!o.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:ut(t,i,ce,null,o,P));for(R in o)P=o[R],q=a[R],o.hasOwnProperty(R)&&P!==q&&(P!=null||q!=null)&&(R==="selected"?t.selected=P&&typeof P!="function"&&typeof P!="symbol":ut(t,i,R,P,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)P=a[_e],a.hasOwnProperty(_e)&&P!=null&&!o.hasOwnProperty(_e)&&ut(t,i,_e,null,o,P);for(z in o)if(P=o[z],q=a[z],o.hasOwnProperty(z)&&P!==q&&(P!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,i));break;default:ut(t,i,z,P,o,q)}return;default:if(Ea(i)){for(var ct in a)P=a[ct],a.hasOwnProperty(ct)&&P!==void 0&&!o.hasOwnProperty(ct)&&Sd(t,i,ct,void 0,o,P);for(K in o)P=o[K],q=a[K],!o.hasOwnProperty(K)||P===q||P===void 0&&q===void 0||Sd(t,i,K,P,o,q);return}}for(var V in a)P=a[V],a.hasOwnProperty(V)&&P!=null&&!o.hasOwnProperty(V)&&ut(t,i,V,null,o,P);for(Q in o)P=o[Q],q=a[Q],!o.hasOwnProperty(Q)||P===q||P==null&&q==null||ut(t,i,Q,P,o,q)}function A0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,b=h.duration;if(f&&b&&A0(p)){for(p=0,b=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>b)break;var K=R.transferSize,Q=R.initiatorType;K&&A0(Q)&&(R=R.responseEnd,p+=K*(R<b?1:(b-z)/(R-z)))}if(--o,i+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var wd=null,xd=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function S0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Rd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nd=null;function xb(){var t=window.event;return t&&t.type==="popstate"?t===Nd?!1:(Nd=t,!0):(Nd=null,!1)}var x0=typeof setTimeout=="function"?setTimeout:void 0,Rb=typeof clearTimeout=="function"?clearTimeout:void 0,R0=typeof Promise=="function"?Promise:void 0,Nb=typeof queueMicrotask=="function"?queueMicrotask:typeof R0<"u"?function(t){return R0.resolve(null).then(t).catch(Cb)}:x0;function Cb(t){setTimeout(function(){throw t})}function tr(t){return t==="head"}function N0(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),to(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")bl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,bl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,b=f.nodeName;f[Si]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&bl(t.ownerDocument.body);a=h}while(a);to(i)}function C0(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Cd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cd(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ib(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Si])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function Ob(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function I0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Wn(t.nextSibling),t===null))return null;return t}function Id(t){return t.data==="$?"||t.data==="$~"}function Od(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Db(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Wn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Dd=null;function O0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Wn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function D0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function k0(t,i,a){switch(i=Sc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function bl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ya(t)}var $n=new Map,M0=new Set;function wc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=te.d;te.d={f:kb,r:Mb,D:Vb,C:Lb,L:jb,m:Ub,X:Pb,S:zb,M:Bb};function kb(){var t=ds.f(),i=gc();return t||i}function Mb(t){var i=zn(t);i!==null&&i.tag===5&&i.type==="form"?Xg(i):ds.r(t)}var Za=typeof document>"u"?null:document;function V0(t,i,a){var o=Za;if(o&&typeof i=="string"&&i){var h=dn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),M0.has(h)||(M0.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Jt(i,"link",t),Dt(i),o.head.appendChild(i)))}}function Vb(t){ds.D(t),V0("dns-prefetch",t,null)}function Lb(t,i){ds.C(t,i),V0("preconnect",t,i)}function jb(t,i,a){ds.L(t,i,a);var o=Za;if(o&&t&&i){var h='link[rel="preload"][as="'+dn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+dn(a.imageSizes)+'"]')):h+='[href="'+dn(t)+'"]';var f=h;switch(i){case"style":f=Ja(t);break;case"script":f=eo(t)}$n.has(f)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),$n.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Al(f))||i==="script"&&o.querySelector(Sl(f))||(i=o.createElement("link"),Jt(i,"link",t),Dt(i),o.head.appendChild(i)))}}function Ub(t,i){ds.m(t,i);var a=Za;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+dn(o)+'"][href="'+dn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=eo(t)}if(!$n.has(f)&&(t=S({rel:"modulepreload",href:t},i),$n.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(f)))return}o=a.createElement("link"),Jt(o,"link",t),Dt(o),a.head.appendChild(o)}}}function zb(t,i,a){ds.S(t,i,a);var o=Za;if(o&&t){var h=xi(o).hoistableStyles,f=Ja(t);i=i||"default";var p=h.get(f);if(!p){var b={loading:0,preload:null};if(p=o.querySelector(Al(f)))b.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=$n.get(f))&&kd(t,a);var R=p=o.createElement("link");Dt(R),Jt(R,"link",t),R._p=new Promise(function(z,K){R.onload=z,R.onerror=K}),R.addEventListener("load",function(){b.loading|=1}),R.addEventListener("error",function(){b.loading|=2}),b.loading|=4,xc(p,i,o)}p={type:"stylesheet",instance:p,count:1,state:b},h.set(f,p)}}}function Pb(t,i){ds.X(t,i);var a=Za;if(a&&t){var o=xi(a).hoistableScripts,h=eo(t),f=o.get(h);f||(f=a.querySelector(Sl(h)),f||(t=S({src:t,async:!0},i),(i=$n.get(h))&&Md(t,i),f=a.createElement("script"),Dt(f),Jt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Bb(t,i){ds.M(t,i);var a=Za;if(a&&t){var o=xi(a).hoistableScripts,h=eo(t),f=o.get(h);f||(f=a.querySelector(Sl(h)),f||(t=S({src:t,async:!0,type:"module"},i),(i=$n.get(h))&&Md(t,i),f=a.createElement("script"),Dt(f),Jt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function L0(t,i,a,o){var h=(h=Oe.current)?wc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=xi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var f=xi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(Al(t)))&&!f._p&&(p.instance=f,p.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),f||qb(h,t,a,p.state))),i&&o===null)throw Error(r(528,""));return p}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=xi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ja(t){return'href="'+dn(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function j0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function qb(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Jt(i,"link",a),Dt(i),t.head.appendChild(i))}function eo(t){return'[src="'+dn(t)+'"]'}function Sl(t){return"script[async]"+t}function U0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+dn(a.href)+'"]');if(o)return i.instance=o,Dt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Dt(o),Jt(o,"style",h),xc(o,a.precedence,t),i.instance=o;case"stylesheet":h=Ja(a.href);var f=t.querySelector(Al(h));if(f)return i.state.loading|=4,i.instance=f,Dt(f),f;o=j0(a),(h=$n.get(h))&&kd(o,h),f=(t.ownerDocument||t).createElement("link"),Dt(f);var p=f;return p._p=new Promise(function(b,R){p.onload=b,p.onerror=R}),Jt(f,"link",o),i.state.loading|=4,xc(f,a.precedence,t),i.instance=f;case"script":return f=eo(a.src),(h=t.querySelector(Sl(f)))?(i.instance=h,Dt(h),h):(o=a,(h=$n.get(f))&&(o=S({},a),Md(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),Jt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,xc(o,a.precedence,t));return i.instance}function xc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var b=o[p];if(b.dataset.precedence===i)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Md(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Rc=null;function z0(t,i,a){if(Rc===null){var o=new Map,h=Rc=new Map;h.set(a,o)}else h=Rc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Si]||f[Ot]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(i)||"";p=t+p;var b=o.get(p);b?b.push(f):o.set(p,[f])}}return o}function P0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Hb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function B0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Fb(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ja(o.href),f=i.querySelector(Al(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Nc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,Dt(f);return}f=i.ownerDocument||i,o=j0(o),(h=$n.get(h))&&kd(o,h),f=f.createElement("link"),Dt(f);var p=f;p._p=new Promise(function(b,R){p.onload=b,p.onerror=R}),Jt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Nc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Vd=0;function Gb(t,i){return t.stylesheets&&t.count===0&&Ic(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Vd===0&&(Vd=62500*wb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Vd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cc=null;function Ic(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cc=new Map,i.forEach(Kb,t),Cc=null,Nc.call(t))}function Kb(t,i){if(!(i.state.loading&4)){var a=Cc.get(t);if(a)var o=a.get(null);else{a=new Map,Cc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=i.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=Nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var wl={$$typeof:Ae,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Yb(t,i,a,o,h,f,p,b,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function q0(t,i,a,o,h,f,p,b,R,z,K,Q){return t=new Yb(t,i,a,p,R,z,K,Q,b),i=1,f===!0&&(i|=24),f=Cn(3,null,null,i),t.current=f,f.stateNode=t,i=mf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},_f(f),t}function H0(t){return t?(t=Oa,t):Oa}function F0(t,i,a,o,h,f){h=H0(h),o.context===null?o.context=h:o.pendingContext=h,o=Fs(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Gs(t,o,i),a!==null&&(vn(a,t,i),il(a,t,i))}function G0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ld(t,i){G0(t,i),(t=t.alternate)&&G0(t,i)}function K0(t){if(t.tag===13||t.tag===31){var i=Fr(t,67108864);i!==null&&vn(i,t,67108864),Ld(t,67108864)}}function Y0(t){if(t.tag===13||t.tag===31){var i=Mn();i=Dr(i);var a=Fr(t,i);a!==null&&vn(a,t,i),Ld(t,i)}}var Oc=!0;function Qb(t,i,a,o){var h=F.T;F.T=null;var f=te.p;try{te.p=2,jd(t,i,a,o)}finally{te.p=f,F.T=h}}function Wb(t,i,a,o){var h=F.T;F.T=null;var f=te.p;try{te.p=8,jd(t,i,a,o)}finally{te.p=f,F.T=h}}function jd(t,i,a,o){if(Oc){var h=Ud(o);if(h===null)Ad(t,i,o,Dc,a),W0(t,o);else if(Xb(h,t,i,a,o))o.stopPropagation();else if(W0(t,o),i&4&&-1<$b.indexOf(t)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Ei(f.pendingLanes);if(p!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var R=1<<31-wt(p);b.entanglements[1]|=R,p&=~R}zi(f),(Ze&6)===0&&(mc=he()+500,vl(0))}}break;case 31:case 13:b=Fr(f,2),b!==null&&vn(b,f,2),gc(),Ld(f,2)}if(f=Ud(o),f===null&&Ad(t,i,o,Dc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ad(t,i,o,null,a)}}function Ud(t){return t=Pn(t),zd(t)}var Dc=null;function zd(t){if(Dc=null,t=wi(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Dc=t,null}function Q0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case tt:return 2;case nt:return 8;case _i:case Cs:return 32;case cu:return 268435456;default:return 32}default:return 32}}var Pd=!1,nr=null,ir=null,sr=null,xl=new Map,Rl=new Map,rr=[],$b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W0(t,i){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":xl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(i.pointerId)}}function Nl(t,i,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=zn(i),i!==null&&K0(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Xb(t,i,a,o,h){switch(i){case"focusin":return nr=Nl(nr,t,i,a,o,h),!0;case"dragenter":return ir=Nl(ir,t,i,a,o,h),!0;case"mouseover":return sr=Nl(sr,t,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return xl.set(f,Nl(xl.get(f)||null,t,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Rl.set(f,Nl(Rl.get(f)||null,t,i,a,o,h)),!0}return!1}function $0(t){var i=wi(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,ti(t.priority,function(){Y0(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,ti(t.priority,function(){Y0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ud(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Bo=o,a.target.dispatchEvent(o),Bo=null}else return i=zn(a),i!==null&&K0(i),t.blockedOn=a,!1;i.shift()}return!0}function X0(t,i,a){kc(t)&&a.delete(i)}function Zb(){Pd=!1,nr!==null&&kc(nr)&&(nr=null),ir!==null&&kc(ir)&&(ir=null),sr!==null&&kc(sr)&&(sr=null),xl.forEach(X0),Rl.forEach(X0)}function Mc(t,i){t.blockedOn===i&&(t.blockedOn=null,Pd||(Pd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Zb)))}var Vc=null;function Z0(t){Vc!==t&&(Vc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(zd(o||a)===null)continue;break}var f=zn(a);f!==null&&(t.splice(i,3),i-=3,Uf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function to(t){function i(R){return Mc(R,t)}nr!==null&&Mc(nr,t),ir!==null&&Mc(ir,t),sr!==null&&Mc(sr,t),xl.forEach(i),Rl.forEach(i);for(var a=0;a<rr.length;a++){var o=rr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<rr.length&&(a=rr[0],a.blockedOn===null);)$0(a),a.blockedOn===null&&rr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[Ft]||null;if(typeof f=="function")p||Z0(a);else if(p){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ft]||null)b=p.formAction;else if(zd(h)!==null)continue}else b=p.action;typeof b=="function"?a[o+1]=b:(a.splice(o,3),o-=3),Z0(a)}}}function J0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Bd(t){this._internalRoot=t}Lc.prototype.render=Bd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Mn();F0(a,o,t,i,null,null)},Lc.prototype.unmount=Bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;F0(t.current,2,null,t,null,null),gc(),i[Ai]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var i=gu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<rr.length&&i!==0&&i<rr[a].priority;a++);rr.splice(a,0,t),a===0&&$0(t)}};var e_=e.version;if(e_!=="19.2.4")throw Error(r(527,e_,"19.2.4"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var Jb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Jn=jc.inject(Jb),Qt=jc}catch{}}return Il.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",h=oy,f=ly,p=uy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=q0(t,1,!1,null,null,a,o,null,h,f,p,J0),t[Ai]=i.current,bd(t),new Bd(i)},Il.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=oy,p=ly,b=uy,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),i=q0(t,1,!0,i,a??null,o,h,R,f,p,b,J0),i.context=H0(null),a=i.current,o=Mn(),o=Dr(o),h=Fs(o),h.callback=null,Gs(a,h,o),a=o,i.current.lanes=a,Ir(i,a),zi(i),t[Ai]=i.current,bd(t),new Lc(i)},Il.version="19.2.4",Il}var c_;function h2(){if(c_)return Fd.exports;c_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Fd.exports=c2(),Fd.exports}var f2=h2();const d2=()=>{};var h_={};const Wv=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},m2=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],g=s[n++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[n++],d=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},$v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,T=c>>2,S=(c&3)<<4|g>>4;let O=(g&15)<<2|y>>6,H=y&63;_||(H=64,d||(O=64)),r.push(n[T],n[S],n[O],n[H])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Wv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):m2(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||S==null)throw new p2;const O=c<<2|g>>4;if(r.push(O),y!==64){const H=g<<4&240|y>>2;if(r.push(H),S!==64){const J=y<<6&192|S;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class p2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g2=function(s){const e=Wv(s);return $v.encodeByteArray(e,!0)},sh=function(s){return g2(s).replace(/\./g,"")},Xv=function(s){try{return $v.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function y2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _2=()=>y2().__FIREBASE_DEFAULTS__,v2=()=>{if(typeof process>"u"||typeof h_>"u")return;const s=h_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},E2=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Xv(s[1]);return e&&JSON.parse(e)},wh=()=>{try{return d2()||_2()||v2()||E2()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Zv=s=>wh()?.emulatorHosts?.[s],T2=s=>{const e=Zv(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jv=()=>wh()?.config,e1=s=>wh()?.[`_${s}`];class b2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ao(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function t1(s){return(await fetch(s,{credentials:"include"})).ok}function A2(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(n)),sh(JSON.stringify(d)),""].join(".")}const Ll={};function S2(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ll))Ll[e]?s.emulator.push(e):s.prod.push(e);return s}function w2(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let f_=!1;function n1(s,e){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||Ll[s]===e||Ll[s]||f_)return;Ll[s]=e;function n(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=S2().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,H){O.setAttribute("width","24"),O.setAttribute("id",H),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{f_=!0,d()},O}function T(O,H){O.setAttribute("id",H),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=w2(r),H=n("text"),J=document.getElementById(H)||document.createElement("span"),ie=n("learnmore"),se=document.getElementById(ie)||document.createElement("a"),ye=n("preprendIcon"),Ie=document.getElementById(ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const Ae=O.element;g(Ae),T(se,ie);const Je=y();_(Ie,ye),Ae.append(Ie,J,se,Je),document.body.appendChild(Ae)}c?(J.innerText="Preview backend disconnected.",Ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function R2(){const s=wh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function I2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O2(){const s=un();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function D2(){return!R2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k2(){try{return typeof indexedDB=="object"}catch{return!1}}function M2(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const V2="FirebaseError";class ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V2,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?L2(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ws(l,g,r)}}function L2(s,e){return s.replace(j2,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const j2=/\{\$([^}]+)}/g;function U2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function vr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(d_(c)&&d_(d)){if(!vr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function d_(s){return s!==null&&typeof s=="object"}function Zl(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function z2(s,e){const n=new P2(s,e);return n.subscribe.bind(n)}class P2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");B2(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Qd),l.error===void 0&&(l.error=Qd),l.complete===void 0&&(l.complete=Qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B2(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Qd(){}function fn(s){return s&&s._delegate?s._delegate:s}class la{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class q2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new b2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F2(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:H2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function H2(s){return s===ia?void 0:s}function F2(s){return s.instantiationMode==="EAGER"}class G2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new q2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qe||(qe={}));const K2={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Y2=qe.INFO,Q2={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},W2=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=Q2[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gm{constructor(e){this.name=e,this._logLevel=Y2,this._logHandler=W2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const $2=(s,e)=>e.some(n=>s instanceof n);let m_,p_;function X2(){return m_||(m_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z2(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i1=new WeakMap,_m=new WeakMap,s1=new WeakMap,Wd=new WeakMap,Km=new WeakMap;function J2(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(dr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&i1.set(n,s)}).catch(()=>{}),Km.set(e,s),e}function eA(s){if(_m.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});_m.set(s,e)}let vm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return _m.get(s);if(e==="objectStoreNames")return s.objectStoreNames||s1.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function tA(s){vm=s(vm)}function nA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call($d(this),e,...n);return s1.set(r,e.sort?e.sort():[e]),dr(r)}:Z2().includes(s)?function(...e){return s.apply($d(this),e),dr(i1.get(this))}:function(...e){return dr(s.apply($d(this),e))}}function iA(s){return typeof s=="function"?nA(s):(s instanceof IDBTransaction&&eA(s),$2(s,X2())?new Proxy(s,vm):s)}function dr(s){if(s instanceof IDBRequest)return J2(s);if(Wd.has(s))return Wd.get(s);const e=iA(s);return e!==s&&(Wd.set(s,e),Km.set(e,s)),e}const $d=s=>Km.get(s);function sA(s,e,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=dr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(dr(d.result),_.oldVersion,_.newVersion,dr(d.transaction),_)}),n&&d.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const rA=["get","getKey","getAll","getAllKeys","count"],aA=["put","add","delete","clear"],Xd=new Map;function g_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Xd.get(e))return Xd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=aA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||rA.includes(n)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&_.done]))[0]};return Xd.set(e,c),c}tA(s=>({...s,get:(e,n,r)=>g_(e,n)||s.get(e,n,r),has:(e,n)=>!!g_(e,n)||s.has(e,n)}));class oA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lA(s){return s.getComponent()?.type==="VERSION"}const Em="@firebase/app",y_="0.14.7";const vs=new Gm("@firebase/app"),uA="@firebase/app-compat",cA="@firebase/analytics-compat",hA="@firebase/analytics",fA="@firebase/app-check-compat",dA="@firebase/app-check",mA="@firebase/auth",pA="@firebase/auth-compat",gA="@firebase/database",yA="@firebase/data-connect",_A="@firebase/database-compat",vA="@firebase/functions",EA="@firebase/functions-compat",TA="@firebase/installations",bA="@firebase/installations-compat",AA="@firebase/messaging",SA="@firebase/messaging-compat",wA="@firebase/performance",xA="@firebase/performance-compat",RA="@firebase/remote-config",NA="@firebase/remote-config-compat",CA="@firebase/storage",IA="@firebase/storage-compat",OA="@firebase/firestore",DA="@firebase/ai",kA="@firebase/firestore-compat",MA="firebase",VA="12.8.0";const Tm="[DEFAULT]",LA={[Em]:"fire-core",[uA]:"fire-core-compat",[hA]:"fire-analytics",[cA]:"fire-analytics-compat",[dA]:"fire-app-check",[fA]:"fire-app-check-compat",[mA]:"fire-auth",[pA]:"fire-auth-compat",[gA]:"fire-rtdb",[yA]:"fire-data-connect",[_A]:"fire-rtdb-compat",[vA]:"fire-fn",[EA]:"fire-fn-compat",[TA]:"fire-iid",[bA]:"fire-iid-compat",[AA]:"fire-fcm",[SA]:"fire-fcm-compat",[wA]:"fire-perf",[xA]:"fire-perf-compat",[RA]:"fire-rc",[NA]:"fire-rc-compat",[CA]:"fire-gcs",[IA]:"fire-gcs-compat",[OA]:"fire-fst",[kA]:"fire-fst-compat",[DA]:"fire-vertex","fire-js":"fire-js",[MA]:"fire-js-all"};const rh=new Map,jA=new Map,bm=new Map;function __(s,e){try{s.container.addComponent(e)}catch(n){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function mo(s){const e=s.name;if(bm.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,s);for(const n of rh.values())__(n,s);for(const n of jA.values())__(n,s);return!0}function Ym(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Xn(s){return s==null?!1:s.settings!==void 0}const UA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new Xl("app","Firebase",UA);class zA{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const So=VA;function r1(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Tm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw mr.create("bad-app-name",{appName:String(l)});if(n||(n=Jv()),!n)throw mr.create("no-options");const c=rh.get(l);if(c){if(vr(n,c.options)&&vr(r,c.config))return c;throw mr.create("duplicate-app",{appName:l})}const d=new G2(l);for(const _ of bm.values())d.addComponent(_);const g=new zA(n,r,d);return rh.set(l,g),g}function a1(s=Tm){const e=rh.get(s);if(!e&&s===Tm&&Jv())return r1();if(!e)throw mr.create("no-app",{appName:s});return e}function pr(s,e,n){let r=LA[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(d.join(" "));return}mo(new la(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const PA="firebase-heartbeat-database",BA=1,ql="firebase-heartbeat-store";let Zd=null;function o1(){return Zd||(Zd=sA(PA,BA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(s=>{throw mr.create("idb-open",{originalErrorMessage:s.message})})),Zd}async function qA(s){try{const n=(await o1()).transaction(ql),r=await n.objectStore(ql).get(l1(s));return await n.done,r}catch(e){if(e instanceof ws)vs.warn(e.message);else{const n=mr.create("idb-get",{originalErrorMessage:e?.message});vs.warn(n.message)}}}async function v_(s,e){try{const r=(await o1()).transaction(ql,"readwrite");await r.objectStore(ql).put(e,l1(s)),await r.done}catch(n){if(n instanceof ws)vs.warn(n.message);else{const r=mr.create("idb-set",{originalErrorMessage:n?.message});vs.warn(r.message)}}}function l1(s){return`${s.name}!${s.options.appId}`}const HA=1024,FA=30;class GA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=E_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>FA){const l=QA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=E_(),{heartbeatsToSend:n,unsentEntries:r}=KA(this._heartbeatsCache.heartbeats),l=sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return vs.warn(e),""}}}function E_(){return new Date().toISOString().substring(0,10)}function KA(s,e=HA){const n=[];let r=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),T_(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),T_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class YA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k2()?M2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return v_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return v_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function T_(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function QA(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function WA(s){mo(new la("platform-logger",e=>new oA(e),"PRIVATE")),mo(new la("heartbeat",e=>new GA(e),"PRIVATE")),pr(Em,y_,s),pr(Em,y_,"esm2020"),pr("fire-js","")}WA("");var $A="firebase",XA="12.8.0";pr($A,XA,"app");function u1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZA=u1,c1=new Xl("auth","Firebase",u1());const ah=new Gm("@firebase/auth");function JA(s,...e){ah.logLevel<=qe.WARN&&ah.warn(`Auth (${So}): ${s}`,...e)}function Yc(s,...e){ah.logLevel<=qe.ERROR&&ah.error(`Auth (${So}): ${s}`,...e)}function Es(s,...e){throw Qm(s,...e)}function Bi(s,...e){return Qm(s,...e)}function h1(s,e,n){const r={...ZA(),[e]:n};return new Xl("auth","Firebase",r).create(e,{appName:s.name})}function _s(s){return h1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qm(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return c1.create(s,...e)}function be(s,e,...n){if(!s)throw Qm(e,...n)}function gs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Yc(e),new Error(e)}function Ts(s,e){s||gs(e)}function Am(){return typeof self<"u"&&self.location?.href||""}function eS(){return b_()==="http:"||b_()==="https:"}function b_(){return typeof self<"u"&&self.location?.protocol||null}function tS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eS()||C2()||"connection"in navigator)?navigator.onLine:!0}function nS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ts(n>e,"Short delay should be less than long delay!"),this.isMobile=x2()||I2()}get(){return tS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wm(s,e){Ts(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class f1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const iS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const sS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rS=new Jl(3e4,6e4);function eu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function wo(s,e,n,r,l={}){return d1(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=Zl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return N2()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Ao(s.emulatorConfig.host)&&(y.credentials="include"),f1.fetch()(await m1(s,s.config.apiHost,n,g),y)})}async function d1(s,e,n){s._canInitEmulator=!1;const r={...iS,...e};try{const l=new aS(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Uc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Uc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Uc(s,"user-disabled",d);const T=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw h1(s,T,y);Es(s,T)}}catch(l){if(l instanceof ws)throw l;Es(s,"network-request-failed",{message:String(l)})}}async function $m(s,e,n,r,l={}){const c=await wo(s,e,n,r,l);return"mfaPendingCredential"in c&&Es(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function m1(s,e,n,r){const l=`${e}${n}?${r}`,c=s,d=c.config.emulator?Wm(s.config,l):`${s.config.apiScheme}://${l}`;return sS.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class aS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),rS.get())})}}function Uc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Bi(s,e,r);return l.customData._tokenResponse=n,l}async function oS(s,e){return wo(s,"POST","/v1/accounts:delete",e)}async function oh(s,e){return wo(s,"POST","/v1/accounts:lookup",e)}function jl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lS(s,e=!1){const n=fn(s),r=await n.getIdToken(e),l=Xm(r);be(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:jl(Jd(l.auth_time)),issuedAtTime:jl(Jd(l.iat)),expirationTime:jl(Jd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Jd(s){return Number(s)*1e3}function Xm(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Xv(n);return l?JSON.parse(l):(Yc("Failed to decode base64 JWT payload"),null)}catch(l){return Yc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function A_(s){const e=Xm(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Hl(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ws&&uS(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function uS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class cS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lh(s){const e=s.auth,n=await s.getIdToken(),r=await Hl(s,oh(e,{idToken:n}));be(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?p1(l.providerUserInfo):[],d=fS(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function hS(s){const e=fn(s);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fS(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function p1(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function dS(s,e){const n=await d1(s,{},async()=>{const r=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await m1(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&Ao(s.emulatorConfig.host)&&(_.credentials="include"),f1.fetch()(d,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mS(s,e){return wo(s,"POST","/v2/accounts:revokeToken",eu(s,e))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=A_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await dS(e,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,d=new oo;return r&&(be(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(be(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(be(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return gs("not implemented")}}function or(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new cS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Hl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lS(this,e)}reload(){return hS(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await Hl(this,oS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,_=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:H,providerData:J,stsTokenManager:ie}=n;be(S&&ie,e,"internal-error");const se=oo.fromJSON(this.name,ie);be(typeof S=="string",e,"internal-error"),or(r,e.name),or(l,e.name),be(typeof O=="boolean",e,"internal-error"),be(typeof H=="boolean",e,"internal-error"),or(c,e.name),or(d,e.name),or(g,e.name),or(_,e.name),or(y,e.name),or(T,e.name);const ye=new fi({uid:S,auth:e,email:l,emailVerified:O,displayName:r,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:se,createdAt:y,lastLoginAt:T});return J&&Array.isArray(J)&&(ye.providerData=J.map(Ie=>({...Ie}))),_&&(ye._redirectEventId=_),ye}static async _fromIdTokenResponse(e,n,r=!1){const l=new oo;l.updateFromServerResponse(n);const c=new fi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await lh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];be(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?p1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new oo;g.updateFromIdToken(r);const _=new fi({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const S_=new Map;function ys(s){Ts(s instanceof Function,"Expected a class definition");let e=S_.get(s);return e?(Ts(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,S_.set(s,e),e)}class g1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}g1.type="NONE";const w_=g1;function Qc(s,e,n){return`firebase:${s}:${e}:${n}`}class lo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Qc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await oh(this.auth,{idToken:e}).catch(()=>{});return n?fi._fromGetAccountInfoResponse(this.auth,n,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lo(ys(w_),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ys(w_);const d=Qc(r,e.config.apiKey,e.name);let g=null;for(const y of n)try{const T=await y._get(d);if(T){let S;if(typeof T=="string"){const O=await oh(e,{idToken:T}).catch(()=>{});if(!O)break;S=await fi._fromGetAccountInfoResponse(e,O,T)}else S=fi._fromJSON(e,T);y!==c&&(g=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new lo(c,e,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new lo(c,e,r))}}function x_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b1(e))return"Blackberry";if(A1(e))return"Webos";if(_1(e))return"Safari";if((e.includes("chrome/")||v1(e))&&!e.includes("edge/"))return"Chrome";if(T1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function y1(s=un()){return/firefox\//i.test(s)}function _1(s=un()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v1(s=un()){return/crios\//i.test(s)}function E1(s=un()){return/iemobile/i.test(s)}function T1(s=un()){return/android/i.test(s)}function b1(s=un()){return/blackberry/i.test(s)}function A1(s=un()){return/webos/i.test(s)}function Zm(s=un()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function pS(s=un()){return Zm(s)&&!!window.navigator?.standalone}function gS(){return O2()&&document.documentMode===10}function S1(s=un()){return Zm(s)||T1(s)||A1(s)||b1(s)||/windows phone/i.test(s)||E1(s)}function w1(s,e=[]){let n;switch(s){case"Browser":n=x_(un());break;case"Worker":n=`${x_(un())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${r}`}class yS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function _S(s,e={}){return wo(s,"GET","/v2/passwordPolicy",eu(s,e))}const vS=6;class ES{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vS,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class TS{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R_(this),this.idTokenSubscription=new R_(this),this.beforeStateQueue=new yS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oh(this,{idToken:e}),r=await fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(_s(this));const n=e?fn(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _S(this),n=new ES(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mS(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,r,l);return()=>{d=!0,_()}}else{const _=e.addObserver(n);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&JA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function tu(s){return fn(s)}class R_{constructor(e){this.auth=e,this.observer=null,this.addObserver=z2(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bS(s){Jm=s}function AS(s){return Jm.loadJS(s)}function SS(){return Jm.gapiScript}function wS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function xS(s,e){const n=Ym(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(vr(c,e??{}))return l;Es(l,"already-initialized")}return n.initialize({options:e})}function RS(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ys);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function NS(s,e,n){const r=tu(s);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=x1(e),{host:d,port:g}=CS(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(vr(y,r.config.emulator)&&vr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Ao(d)?(t1(`${c}//${d}${_}`),n1("Auth",!0)):IS()}function x1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function CS(s){const e=x1(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:N_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:N_(d)}}}function N_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function IS(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class R1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function uo(s,e){return $m(s,"POST","/v1/accounts:signInWithIdp",eu(s,e))}const OS="http://localhost";class ua extends R1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const d=new ua(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:OS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zl(n)}return e}}class N1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nu extends N1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lr extends nu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";class ur extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";class cr extends nu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";class hr extends nu{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return hr.credential(n,r)}catch{return null}}}hr.TWITTER_SIGN_IN_METHOD="twitter.com";hr.PROVIDER_ID="twitter.com";async function DS(s,e){return $m(s,"POST","/v1/accounts:signUp",eu(s,e))}class bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const c=await fi._fromIdTokenResponse(e,r,l),d=C_(r);return new bs({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=C_(r);return new bs({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function C_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function kS(s){if(Xn(s.app))return Promise.reject(_s(s));const e=tu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new bs({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await DS(e,{returnSecureToken:!0}),r=await bs._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class uh extends ws{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new uh(e,n,r,l)}}function C1(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(s,c,e,r):c})}async function MS(s,e,n=!1){const r=await Hl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return bs._forOperation(s,"link",r)}async function VS(s,e,n=!1){const{auth:r}=s;if(Xn(r.app))return Promise.reject(_s(r));const l="reauthenticate";try{const c=await Hl(s,C1(r,l,e,s),n);be(c.idToken,r,"internal-error");const d=Xm(c.idToken);be(d,r,"internal-error");const{sub:g}=d;return be(s.uid===g,r,"user-mismatch"),bs._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Es(r,"user-mismatch"),c}}async function LS(s,e,n=!1){if(Xn(s.app))return Promise.reject(_s(s));const r="signIn",l=await C1(s,r,e),c=await bs._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(c.user),c}async function jS(s,e){return $m(s,"POST","/v1/accounts:signInWithCustomToken",eu(s,e))}async function US(s,e){if(Xn(s.app))return Promise.reject(_s(s));const n=tu(s),r=await jS(n,{token:e,returnSecureToken:!0}),l=await bs._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(l.user),l}function zS(s,e,n,r){return fn(s).onIdTokenChanged(e,n,r)}function PS(s,e,n){return fn(s).beforeAuthStateChanged(e,n)}function BS(s,e,n,r){return fn(s).onAuthStateChanged(e,n,r)}const ch="__sak";class I1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const qS=1e3,HS=10;class O1 extends I1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);gS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,HS):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}O1.type="LOCAL";const FS=O1;class D1 extends I1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}D1.type="SESSION";const k1=D1;function GS(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async y=>y(n.origin,c)),_=await GS(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];function ep(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class KS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=ep("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const O=S;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qi(){return window}function YS(s){qi().location.href=s}function M1(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function QS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WS(){return navigator?.serviceWorker?.controller||null}function $S(){return M1()?self:null}const V1="firebaseLocalStorageDb",XS=1,hh="firebaseLocalStorage",L1="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rh(s,e){return s.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function ZS(){const s=indexedDB.deleteDatabase(V1);return new iu(s).toPromise()}function wm(){const s=indexedDB.open(V1,XS);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(hh,{keyPath:L1})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await ZS(),e(await wm()))})})}async function I_(s,e,n){const r=Rh(s,!0).put({[L1]:e,value:n});return new iu(r).toPromise()}async function JS(s,e){const n=Rh(s,!1).get(e),r=await new iu(n).toPromise();return r===void 0?null:r.value}function O_(s,e){const n=Rh(s,!0).delete(e);return new iu(n).toPromise()}const ew=800,tw=3;class j1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance($S()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QS(),!this.activeServiceWorker)return;this.sender=new KS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await I_(e,ch,"1"),await O_(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>I_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>JS(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>O_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Rh(l,!1).getAll();return new iu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ew)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j1.type="LOCAL";const nw=j1;new Jl(3e4,6e4);function iw(s,e){return e?ys(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class tp extends R1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sw(s){return LS(s.auth,new tp(s),s.bypassAuthState)}function rw(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),VS(n,new tp(s),s.bypassAuthState)}async function aw(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),MS(n,new tp(s),s.bypassAuthState)}class U1{constructor(e,n,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sw;case"linkViaPopup":case"linkViaRedirect":return aw;case"reauthViaPopup":case"reauthViaRedirect":return rw;default:Es(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ow=new Jl(2e3,1e4);class ao extends U1{constructor(e,n,r,l,c){super(e,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ow.get())};e()}}ao.currentPopupAction=null;const lw="pendingRedirect",Wc=new Map;class uw extends U1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const r=await cw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cw(s,e){const n=dw(e),r=fw(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function hw(s,e){Wc.set(s._key(),e)}function fw(s){return ys(s._redirectPersistence)}function dw(s){return Qc(lw,s.config.apiKey,s.name)}async function mw(s,e,n=!1){if(Xn(s.app))return Promise.reject(_s(s));const r=tu(s),l=iw(r,e),d=await new uw(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const pw=600*1e3;class gw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yw(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!z1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Bi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pw&&this.cachedEventUids.clear(),this.cachedEventUids.has(D_(e))}saveEventToCache(e){this.cachedEventUids.add(D_(e)),this.lastProcessedEventTime=Date.now()}}function D_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function z1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function yw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z1(s);default:return!1}}async function _w(s,e={}){return wo(s,"GET","/v1/projects",e)}const vw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ew=/^https?/;async function Tw(s){if(s.config.emulator)return;const{authorizedDomains:e}=await _w(s);for(const n of e)try{if(bw(n))return}catch{}Es(s,"unauthorized-domain")}function bw(s){const e=Am(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!Ew.test(n))return!1;if(vw.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const Aw=new Jl(3e4,6e4);function k_(){const s=qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function Sw(s){return new Promise((e,n)=>{function r(){k_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k_(),n(Bi(s,"network-request-failed"))},timeout:Aw.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)r();else{const l=wS("iframefcb");return qi()[l]=()=>{gapi.load?r():n(Bi(s,"network-request-failed"))},AS(`${SS()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw $c=null,e})}let $c=null;function ww(s){return $c=$c||Sw(s),$c}const xw=new Jl(5e3,15e3),Rw="__/auth/iframe",Nw="emulator/auth/iframe",Cw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Iw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ow(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Wm(e,Nw):`https://${s.config.authDomain}/${Rw}`,r={apiKey:e.apiKey,appName:s.name,v:So},l=Iw.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Zl(r).slice(1)}`}async function Dw(s){const e=await ww(s),n=qi().gapi;return be(n,s,"internal-error"),e.open({where:document.body,url:Ow(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cw,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Bi(s,"network-request-failed"),g=qi().setTimeout(()=>{c(d)},xw.get());function _(){qi().clearTimeout(g),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const kw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mw=500,Vw=600,Lw="_blank",jw="http://localhost";class M_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uw(s,e,n,r=Mw,l=Vw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...kw,width:r.toString(),height:l.toString(),top:c,left:d},y=un().toLowerCase();n&&(g=v1(y)?Lw:n),y1(y)&&(e=e||jw,_.scrollbars="yes");const T=Object.entries(_).reduce((O,[H,J])=>`${O}${H}=${J},`,"");if(pS(y)&&g!=="_self")return zw(e||"",g),new M_(null);const S=window.open(e||"",g,T);be(S,s,"popup-blocked");try{S.focus()}catch{}return new M_(S)}function zw(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Pw="__/auth/handler",Bw="emulator/auth/handler",qw=encodeURIComponent("fac");async function V_(s,e,n,r,l,c){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:So,eventId:l};if(e instanceof N1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",U2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(e instanceof nu){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await s._getAppCheckToken(),y=_?`#${qw}=${encodeURIComponent(_)}`:"";return`${Hw(s)}?${Zl(g).slice(1)}${y}`}function Hw({config:s}){return s.emulator?Wm(s,Bw):`https://${s.authDomain}/${Pw}`}const em="webStorageSupport";class Fw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k1,this._completeRedirectFn=mw,this._overrideRedirectResult=hw}async _openPopup(e,n,r,l){Ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await V_(e,n,r,Am(),l);return Uw(e,c,ep())}async _openRedirect(e,n,r,l){await this._originValidation(e);const c=await V_(e,n,r,Am(),l);return YS(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Ts(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Dw(e),r=new gw(e);return n.register("authEvent",l=>(be(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(em,{type:em},l=>{const c=l?.[0]?.[em];c!==void 0&&n(!!c),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Tw(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return S1()||_1()||Zm()}}const Gw=Fw;var L_="@firebase/auth",j_="1.12.0";class Kw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Yw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qw(s){mo(new la("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w1(s)},y=new TS(r,l,c,_);return RS(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mo(new la("auth-internal",e=>{const n=tu(e.getProvider("auth").getImmediate());return(r=>new Kw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(L_,j_,Yw(s)),pr(L_,j_,"esm2020")}const Ww=300,$w=e1("authIdTokenMaxAge")||Ww;let U_=null;const Xw=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$w)return;const l=n?.token;U_!==l&&(U_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Zw(s=a1()){const e=Ym(s,"auth");if(e.isInitialized())return e.getImmediate();const n=xS(s,{popupRedirectResolver:Gw,persistence:[nw,FS,k1]}),r=e1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=Xw(c.toString());PS(n,d,()=>d(n.currentUser)),zS(n,g=>d(g))}}const l=Zv("auth");return l&&NS(n,`http://${l}`),n}function Jw(){return document.getElementsByTagName("head")?.[0]??document}bS({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Bi("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",Jw().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Qw("Browser");var z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gr,P1;(function(){var s;function e(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(M,I,L){for(var x=Array(arguments.length-2),at=2;at<arguments.length;at++)x[at-2]=arguments[at];return w.prototype[I].apply(M,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,C){C||(C=0);const M=Array(16);if(typeof w=="string")for(var I=0;I<16;++I)M[I]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(I=0;I<16;++I)M[I]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],I=N.g[2];let L=N.g[3],x;x=w+(L^C&(I^L))+M[0]+3614090360&4294967295,w=C+(x<<7&4294967295|x>>>25),x=L+(I^w&(C^I))+M[1]+3905402710&4294967295,L=w+(x<<12&4294967295|x>>>20),x=I+(C^L&(w^C))+M[2]+606105819&4294967295,I=L+(x<<17&4294967295|x>>>15),x=C+(w^I&(L^w))+M[3]+3250441966&4294967295,C=I+(x<<22&4294967295|x>>>10),x=w+(L^C&(I^L))+M[4]+4118548399&4294967295,w=C+(x<<7&4294967295|x>>>25),x=L+(I^w&(C^I))+M[5]+1200080426&4294967295,L=w+(x<<12&4294967295|x>>>20),x=I+(C^L&(w^C))+M[6]+2821735955&4294967295,I=L+(x<<17&4294967295|x>>>15),x=C+(w^I&(L^w))+M[7]+4249261313&4294967295,C=I+(x<<22&4294967295|x>>>10),x=w+(L^C&(I^L))+M[8]+1770035416&4294967295,w=C+(x<<7&4294967295|x>>>25),x=L+(I^w&(C^I))+M[9]+2336552879&4294967295,L=w+(x<<12&4294967295|x>>>20),x=I+(C^L&(w^C))+M[10]+4294925233&4294967295,I=L+(x<<17&4294967295|x>>>15),x=C+(w^I&(L^w))+M[11]+2304563134&4294967295,C=I+(x<<22&4294967295|x>>>10),x=w+(L^C&(I^L))+M[12]+1804603682&4294967295,w=C+(x<<7&4294967295|x>>>25),x=L+(I^w&(C^I))+M[13]+4254626195&4294967295,L=w+(x<<12&4294967295|x>>>20),x=I+(C^L&(w^C))+M[14]+2792965006&4294967295,I=L+(x<<17&4294967295|x>>>15),x=C+(w^I&(L^w))+M[15]+1236535329&4294967295,C=I+(x<<22&4294967295|x>>>10),x=w+(I^L&(C^I))+M[1]+4129170786&4294967295,w=C+(x<<5&4294967295|x>>>27),x=L+(C^I&(w^C))+M[6]+3225465664&4294967295,L=w+(x<<9&4294967295|x>>>23),x=I+(w^C&(L^w))+M[11]+643717713&4294967295,I=L+(x<<14&4294967295|x>>>18),x=C+(L^w&(I^L))+M[0]+3921069994&4294967295,C=I+(x<<20&4294967295|x>>>12),x=w+(I^L&(C^I))+M[5]+3593408605&4294967295,w=C+(x<<5&4294967295|x>>>27),x=L+(C^I&(w^C))+M[10]+38016083&4294967295,L=w+(x<<9&4294967295|x>>>23),x=I+(w^C&(L^w))+M[15]+3634488961&4294967295,I=L+(x<<14&4294967295|x>>>18),x=C+(L^w&(I^L))+M[4]+3889429448&4294967295,C=I+(x<<20&4294967295|x>>>12),x=w+(I^L&(C^I))+M[9]+568446438&4294967295,w=C+(x<<5&4294967295|x>>>27),x=L+(C^I&(w^C))+M[14]+3275163606&4294967295,L=w+(x<<9&4294967295|x>>>23),x=I+(w^C&(L^w))+M[3]+4107603335&4294967295,I=L+(x<<14&4294967295|x>>>18),x=C+(L^w&(I^L))+M[8]+1163531501&4294967295,C=I+(x<<20&4294967295|x>>>12),x=w+(I^L&(C^I))+M[13]+2850285829&4294967295,w=C+(x<<5&4294967295|x>>>27),x=L+(C^I&(w^C))+M[2]+4243563512&4294967295,L=w+(x<<9&4294967295|x>>>23),x=I+(w^C&(L^w))+M[7]+1735328473&4294967295,I=L+(x<<14&4294967295|x>>>18),x=C+(L^w&(I^L))+M[12]+2368359562&4294967295,C=I+(x<<20&4294967295|x>>>12),x=w+(C^I^L)+M[5]+4294588738&4294967295,w=C+(x<<4&4294967295|x>>>28),x=L+(w^C^I)+M[8]+2272392833&4294967295,L=w+(x<<11&4294967295|x>>>21),x=I+(L^w^C)+M[11]+1839030562&4294967295,I=L+(x<<16&4294967295|x>>>16),x=C+(I^L^w)+M[14]+4259657740&4294967295,C=I+(x<<23&4294967295|x>>>9),x=w+(C^I^L)+M[1]+2763975236&4294967295,w=C+(x<<4&4294967295|x>>>28),x=L+(w^C^I)+M[4]+1272893353&4294967295,L=w+(x<<11&4294967295|x>>>21),x=I+(L^w^C)+M[7]+4139469664&4294967295,I=L+(x<<16&4294967295|x>>>16),x=C+(I^L^w)+M[10]+3200236656&4294967295,C=I+(x<<23&4294967295|x>>>9),x=w+(C^I^L)+M[13]+681279174&4294967295,w=C+(x<<4&4294967295|x>>>28),x=L+(w^C^I)+M[0]+3936430074&4294967295,L=w+(x<<11&4294967295|x>>>21),x=I+(L^w^C)+M[3]+3572445317&4294967295,I=L+(x<<16&4294967295|x>>>16),x=C+(I^L^w)+M[6]+76029189&4294967295,C=I+(x<<23&4294967295|x>>>9),x=w+(C^I^L)+M[9]+3654602809&4294967295,w=C+(x<<4&4294967295|x>>>28),x=L+(w^C^I)+M[12]+3873151461&4294967295,L=w+(x<<11&4294967295|x>>>21),x=I+(L^w^C)+M[15]+530742520&4294967295,I=L+(x<<16&4294967295|x>>>16),x=C+(I^L^w)+M[2]+3299628645&4294967295,C=I+(x<<23&4294967295|x>>>9),x=w+(I^(C|~L))+M[0]+4096336452&4294967295,w=C+(x<<6&4294967295|x>>>26),x=L+(C^(w|~I))+M[7]+1126891415&4294967295,L=w+(x<<10&4294967295|x>>>22),x=I+(w^(L|~C))+M[14]+2878612391&4294967295,I=L+(x<<15&4294967295|x>>>17),x=C+(L^(I|~w))+M[5]+4237533241&4294967295,C=I+(x<<21&4294967295|x>>>11),x=w+(I^(C|~L))+M[12]+1700485571&4294967295,w=C+(x<<6&4294967295|x>>>26),x=L+(C^(w|~I))+M[3]+2399980690&4294967295,L=w+(x<<10&4294967295|x>>>22),x=I+(w^(L|~C))+M[10]+4293915773&4294967295,I=L+(x<<15&4294967295|x>>>17),x=C+(L^(I|~w))+M[1]+2240044497&4294967295,C=I+(x<<21&4294967295|x>>>11),x=w+(I^(C|~L))+M[8]+1873313359&4294967295,w=C+(x<<6&4294967295|x>>>26),x=L+(C^(w|~I))+M[15]+4264355552&4294967295,L=w+(x<<10&4294967295|x>>>22),x=I+(w^(L|~C))+M[6]+2734768916&4294967295,I=L+(x<<15&4294967295|x>>>17),x=C+(L^(I|~w))+M[13]+1309151649&4294967295,C=I+(x<<21&4294967295|x>>>11),x=w+(I^(C|~L))+M[4]+4149444226&4294967295,w=C+(x<<6&4294967295|x>>>26),x=L+(C^(w|~I))+M[11]+3174756917&4294967295,L=w+(x<<10&4294967295|x>>>22),x=I+(w^(L|~C))+M[2]+718787259&4294967295,I=L+(x<<15&4294967295|x>>>17),x=C+(L^(I|~w))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(I+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,M=this.C;let I=this.h,L=0;for(;L<w;){if(I==0)for(;L<=C;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<w;)if(M[I++]=N.charCodeAt(L++),I==this.blockSize){l(this,M),I=0;break}}else for(;L<w;)if(M[I++]=N[L++],I==this.blockSize){l(this,M),I=0;break}}this.h=I,this.o+=w},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)N[w++]=this.g[C]>>>M&255;return N};function c(N,w){var C=g;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let M=!0;for(let I=N.length-1;I>=0;I--){const L=N[I]|0;M&&L==w||(C[I]=L,M=!1)}this.g=C}var g={};function _(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return se(y(-N));const w=[];let C=1;for(let M=0;N>=C;M++)w[M]=N/C|0,C*=4294967296;return new d(w,0)}function T(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return se(T(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let M=S;for(let L=0;L<N.length;L+=8){var I=Math.min(8,N.length-L);const x=parseInt(N.substring(L,L+I),w);I<8?(I=y(Math.pow(w,I)),M=M.j(I).add(y(x))):(M=M.j(C),M=M.add(y(x)))}return M}var S=_(0),O=_(1),H=_(16777216);s=d.prototype,s.m=function(){if(ie(this))return-se(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);N+=(M>=0?M:4294967296+M)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(ie(this))return"-"+se(this).toString(N);const w=y(Math.pow(N,6));var C=this;let M="";for(;;){const I=Je(C,w).g;C=ye(C,I.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=I,J(C))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function ie(N){return N.h==-1}s.l=function(N){return N=ye(this,N),ie(N)?-1:J(N)?0:1};function se(N){const w=N.g.length,C=[];for(let M=0;M<w;M++)C[M]=~N.g[M];return new d(C,~N.h).add(O)}s.abs=function(){return ie(this)?se(this):this},s.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let M=0;for(let I=0;I<=w;I++){let L=M+(this.i(I)&65535)+(N.i(I)&65535),x=(L>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);M=x>>>16,L&=65535,x&=65535,C[I]=x<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ye(N,w){return N.add(se(w))}s.j=function(N){if(J(this)||J(N))return S;if(ie(this))return ie(N)?se(this).j(se(N)):se(se(this).j(N));if(ie(N))return se(this.j(se(N)));if(this.l(H)<0&&N.l(H)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var M=0;M<2*w;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<N.g.length;I++){const L=this.i(M)>>>16,x=this.i(M)&65535,at=N.i(I)>>>16,yt=N.i(I)&65535;C[2*M+2*I]+=x*yt,Ie(C,2*M+2*I),C[2*M+2*I+1]+=L*yt,Ie(C,2*M+2*I+1),C[2*M+2*I+1]+=x*at,Ie(C,2*M+2*I+1),C[2*M+2*I+2]+=L*at,Ie(C,2*M+2*I+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function Ie(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function Ae(N,w){this.g=N,this.h=w}function Je(N,w){if(J(w))throw Error("division by zero");if(J(N))return new Ae(S,S);if(ie(N))return w=Je(se(N),w),new Ae(se(w.g),se(w.h));if(ie(w))return w=Je(N,se(w)),new Ae(se(w.g),w.h);if(N.g.length>30){if(ie(N)||ie(w))throw Error("slowDivide_ only works with positive integers.");for(var C=O,M=w;M.l(N)<=0;)C=gt(C),M=gt(M);var I=Ue(C,1),L=Ue(M,1);for(M=Ue(M,2),C=Ue(C,2);!J(M);){var x=L.add(M);x.l(N)<=0&&(I=I.add(C),L=x),M=Ue(M,1),C=Ue(C,1)}return w=ye(N,I.j(w)),new Ae(I,w)}for(I=S;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(C),x=L.j(w);ie(x)||x.l(N)>0;)C-=M,L=y(C),x=L.j(w);J(L)&&(L=O),I=I.add(L),N=ye(N,x)}return new Ae(I,N)}s.B=function(N){return Je(this,N).h},s.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)&N.i(M);return new d(C,this.h&N.h)},s.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)|N.i(M);return new d(C,this.h|N.h)},s.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)^N.i(M);return new d(C,this.h^N.h)};function gt(N){const w=N.g.length+1,C=[];for(let M=0;M<w;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(C,N.h)}function Ue(N,w){const C=w>>5;w%=32;const M=N.g.length-C,I=[];for(let L=0;L<M;L++)I[L]=w>0?N.i(L+C)>>>w|N.i(L+C+1)<<32-w:N.i(L+C);return new d(I,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,P1=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,gr=d}).apply(typeof z_<"u"?z_:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var B1,Dl,q1,Xc,xm,H1,F1,G1;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var j=u[A];if(!(j in v))break e;v=v[j]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,j,B){for(var ee=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ee[ke-2]=arguments[ke];return m.prototype[j].apply(A,ee)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function J(u,m){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const B=j.length||0;u.length=v+B;for(let ee=0;ee<B;ee++)u[v+ee]=j[ee]}else u.push(j)}}class ie{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function se(u){d.setTimeout(()=>{throw u},0)}function ye(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ie{constructor(){this.h=this.g=null}add(m,v){const A=Ae.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ae=new ie(()=>new Je,u=>u.reset());class Je{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,Ue=!1,N=new Ie,w=()=>{const u=Promise.resolve(void 0);gt=()=>{u.then(C)}};function C(){for(var u;u=ye();){try{u.h.call(u.g)}catch(v){se(v)}var m=Ae;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ue=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function at(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(at,I),at.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),F=0;function te(u,m,v,A,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=j,this.key=++F,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ge(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function xe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)u[v]=A[v];for(let B=0;B<G.length;B++)v=G[B],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,A,j){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ee=Oe(u,m,A,j);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new te(m,this.src,B,!!A,j),m.fa=v,u.push(m)),m};function Te(u,m){const v=m.type;if(v in u.g){var A=u.g[v],j=Array.prototype.indexOf.call(A,m,void 0),B;(B=j>=0)&&Array.prototype.splice.call(A,j,1),B&&(me(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Oe(u,m,v,A){for(let j=0;j<u.length;++j){const B=u[j];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return j}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),bt={};function ft(u,m,v,A,j){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ft(u,m[B],v,A,j);return null}return v=oe(v),u&&u[yt]?u.J(m,v,g(A)?!!A.capture:!1,j):gi(u,m,v,!1,A,j)}function gi(u,m,v,A,j,B){if(!m)throw Error("Invalid event type");const ee=g(j)?!!j.capture:!!j;let ke=Qi(u);if(ke||(u[ze]=ke=new ae(u)),v=ke.add(m,v,A,ee,B),v.proxy)return v;if(A=xs(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)L||(j=ee),j===void 0&&(j=!1),u.addEventListener(m.toString(),A,j);else if(u.attachEvent)u.attachEvent(jn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function xs(){function u(v){return m.call(u.src,u.listener,v)}const m=Nr;return u}function Rs(u,m,v,A,j){if(Array.isArray(m))for(var B=0;B<m.length;B++)Rs(u,m[B],v,A,j);else A=g(A)?!!A.capture:!!A,v=oe(v),u&&u[yt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Oe(m,v,A,j),v>-1&&(me(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Qi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Oe(m,v,A,j)),(v=u>-1?m[u]:null)&&Ns(v))}function Ns(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[yt])Te(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(jn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Qi(m))?(Te(v,u),v.h==0&&(v.src=null,m[ze]=null)):me(u)}}}function jn(u){return u in bt?bt[u]:bt[u]="on"+u}function Nr(u,m){if(u.da)u=!0;else{m=new at(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Ns(u),u=v.call(A,m)}return u}function Qi(u){return u=u[ze],u instanceof ae?u:null}var yi="__closure_events_fn_"+(Math.random()*1e9>>>0);function oe(u){return typeof u=="function"?u:(u[yi]||(u[yi]=function(m){return u.handleEvent(m)}),u[yi])}function X(){M.call(this),this.i=new ae(this),this.M=this,this.G=null}S(X,M),X.prototype[yt]=!0,X.prototype.removeEventListener=function(u,m,v,A){Rs(this,u,m,v,A)};function re(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var j=m;m=new I(A,u),ne(m,j)}j=!0;let B,ee;if(v)for(ee=v.length-1;ee>=0;ee--)B=m.g=v[ee],j=ue(B,A,!0,m)&&j;if(B=m.g=u,j=ue(B,A,!0,m)&&j,j=ue(B,A,!1,m)&&j,v)for(ee=0;ee<v.length;ee++)B=m.g=v[ee],j=ue(B,A,!1,m)&&j}X.prototype.N=function(){if(X.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)me(v[A]);delete u.g[m],u.h--}}this.G=null},X.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},X.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function ue(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let B=0;B<m.length;++B){const ee=m[B];if(ee&&!ee.da&&ee.capture==v){const ke=ee.listener,xt=ee.ha||ee.src;ee.fa&&Te(u.i,ee),j=ke.call(xt,A)!==!1&&j}}return j&&!A.defaultPrevented}function De(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Z(u){u.g=De(()=>{u.g=null,u.i&&(u.i=!1,Z(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class he extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Z(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Re(u){M.call(this),this.h=u,this.g={}}S(Re,M);var tt=[];function nt(u){Ge(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ns(m)},u),u.g={}}Re.prototype.N=function(){Re.Z.N.call(this),nt(this)},Re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _i=d.JSON.stringify,Cs=d.JSON.parse,cu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function hu(){}function fu(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){I.call(this,"d")}S(Qt,I);function Un(){I.call(this,"c")}S(Un,I);var wt={},du=null;function pa(){return du=du||new X}wt.Ia="serverreachability";function mu(u){I.call(this,wt.Ia,u)}S(mu,I);function vi(u){const m=pa();re(m,new mu(m))}wt.STAT_EVENT="statevent";function Cr(u,m){I.call(this,wt.STAT_EVENT,u),this.stat=m}S(Cr,I);function It(u){const m=pa();re(m,new Cr(m,u))}wt.Ja="timingevent";function Ei(u,m){I.call(this,wt.Ja,u),this.size=m}S(Ei,I);function Ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function Gh(u,m,v,A,j,B){u.info(function(){if(u.g)if(B){var ee="",ke=B.split("&");for(let Xe=0;Xe<ke.length;Xe++){var xt=ke[Xe].split("=");if(xt.length>1){const _t=xt[0];xt=xt[1];const qn=_t.split("_");ee=qn.length>=2&&qn[1]=="type"?ee+(_t+"="+xt+"&"):ee+(_t+"=redacted&")}}}else ee=null;else ee=B;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+m+`
`+v+`
`+ee})}function pu(u,m,v,A,j,B,ee){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+m+`
`+v+`
`+B+" "+ee})}function bi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Kh(u,v)+(A?" "+A:"")})}function Ir(u,m){u.info(function(){return"TIMEOUT: "+m})}ei.prototype.info=function(){};function Kh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ee=1;ee<A.length;ee++)A[ee]=""}}}}return _i(B)}catch{return m}}var Or={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function Dr(){}S(Dr,hu),Dr.prototype.g=function(){return new XMLHttpRequest},Oo=new Dr;function Wi(u){return encodeURIComponent(String(u))}function gu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ti(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new Re(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Ot={},Ft={};function Ai(u,m,v){u.M=1,u.A=kr(kt(m)),u.u=v,u.R=!0,ga(u,null)}function ga(u,m){u.F=Date.now(),Si(u),u.B=kt(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Ea(v.i,"t",A),u.C=0,v=u.j.L,u.h=new ni,u.g=Ou(u.j,v?m:null,!u.u),u.P>0&&(u.O=new he(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(tt[0]=j.toString()),j=tt);for(let B=0;B<j.length;B++){const ee=ft(v,j[B],A||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),vi(),Gh(u.i,u.v,u.B,u.l,u.S,u.u)}ti.prototype.ba=function(u){u=u.target;const m=this.O;m&&ri(u)==3?m.j():this.Y(u)},ti.prototype.Y=function(u){try{if(u==this.g)e:{const ke=ri(this.g),xt=this.g.ya(),Xe=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||ke!=4||xt==7||(xt==8||Xe<=0?vi(3):vi(2)),wi(this);var m=this.g.ca();this.X=m;var v=Yh(this);if(this.o=m==200,pu(this.i,this.v,this.B,this.l,this.S,ke,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var B=A;break t}}B=null}if(u=B)bi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,u);else{this.o=!1,this.m=3,It(12),xn(this),zn(this);break e}}if(this.R){u=!0;let _t;for(;!this.K&&this.C<v.length;)if(_t=_u(this,v),_t==Ft){ke==4&&(this.m=4,It(14),u=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Ot){this.m=4,It(15),bi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else bi(this.i,this.l,_t,null),xi(this,_t);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||v.length!=0||this.h.h||(this.m=1,It(16),u=!1),this.o=this.o&&u,!u)bi(this.i,this.l,v,"[Invalid Chunked Response]"),xn(this),zn(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ko(ee),ee.P=!0,It(11))}}else bi(this.i,this.l,v,null),xi(this,v);ke==4&&xn(this),this.o&&!this.K&&(ke==4?Ru(this.j,this):(this.o=!1,Si(this)))}else Xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),xn(this),zn(this)}}}catch{}};function Yh(u){if(!yu(u))return u.g.la();const m=Wt(u.g);if(m==="")return"";let v="";const A=m.length,j=ri(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return xn(u),zn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<A;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(j&&B==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function yu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function _u(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Ft:(v=Number(m.substring(v,A)),isNaN(v)?Ot:(A+=1,A+v>m.length?Ft:(m=m.slice(A,A+v),u.C=A+v,m)))}ti.prototype.cancel=function(){this.K=!0,xn(this)};function Si(u){u.T=Date.now()+u.H,ya(u,u.H)}function ya(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ti(y(u.aa,u),m)}function wi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ti.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ir(this.i,this.B),this.M!=2&&(vi(),It(17)),xn(this),this.m=2,zn(this)):ya(this,this.T-u)};function zn(u){u.j.I==0||u.K||Ru(u.j,u)}function xn(u){wi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,nt(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function xi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ni(v.h,u))){if(!u.L&&Ni(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)wa(v),js(v);else break e;Pr(v),It(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ti(y(v.Va,v),6e3));Ri(v.h)<=1&&v.ta&&(v.ta=void 0)}else Mi(v,11)}else if((u.L||v.g==u)&&wa(v),!x(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let Xe=j[m];const _t=Xe[0];if(!(_t<=v.K))if(v.K=_t,Xe=Xe[1],v.I==2)if(Xe[0]=="c"){v.M=Xe[1],v.ba=Xe[2];const qn=Xe[3];qn!=null&&(v.ka=qn,v.j.info("VER="+v.ka));const Vi=Xe[4];Vi!=null&&(v.za=Vi,v.j.info("SVER="+v.za));const ai=Xe[5];ai!=null&&typeof ai=="number"&&ai>0&&(A=1.5*ai,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const oi=u.g;if(oi){const Br=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var B=A.h;B.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Mo(B,B.h),B.h=null))}if(A.G){const xa=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(A.wa=xa,it(A.J,A.G,xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ee=u;if(A.na=Iu(A,A.L?A.ba:null,A.W),ee.L){Vo(A.h,ee);var ke=ee,xt=A.O;xt&&(ke.H=xt),ke.D&&(wi(ke),Si(ke)),A.g=ee}else wu(A);v.i.length>0&&ki(v)}else Xe[0]!="stop"&&Xe[0]!="close"||Mi(v,7);else v.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Mi(v,7):Fo(v):Xe[0]!="noop"&&v.l&&v.l.qa(Xe),v.A=0)}}vi(4)}catch{}}var Dt=class{constructor(u,m){this.g=u,this.map=m}};function Do(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function Ni(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Mo(u,m){u.g?u.g.add(m):u.h=m}function Vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Do.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Lo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let j,B=null;A>=0?(j=u[v].substring(0,A),B=u[v].substring(A+1)):j=u[v],m(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Rn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Rn?(this.l=u.l,Gt(this,u.j),this.o=u.o,this.g=u.g,Is(this,u.u),this.h=u.h,jo(this,Au(u.i)),this.m=u.m):u&&(m=String(u).match(vu))?(this.l=!1,Gt(this,m[1]||"",!0),this.o=Ci(m[2]||""),this.g=Ci(m[3]||"",!0),Is(this,m[4]),this.h=Ci(m[5]||"",!0),jo(this,m[6]||"",!0),this.m=Ci(m[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}Rn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Mr(m,va,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Mr(m,va,!0),"@"),u.push(Wi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Mr(v,v.charAt(0)=="/"?Uo:Eu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Mr(v,Tu)),u.join("")},Rn.prototype.resolve=function(u){const m=kt(this);let v=!!u.j;v?Gt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)Is(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=m.h.lastIndexOf("/");j!=-1&&(A=m.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const B=[];for(let ee=0;ee<j.length;){const ke=j[ee++];ke=="."?A&&ee==j.length&&B.push(""):ke==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&ee==j.length&&B.push("")):(B.push(ke),A=!0)}A=B.join("/")}else A=j}return v?m.h=A:v=u.i.toString()!=="",v?jo(m,Au(u.i)):v=!!u.m,v&&(m.m=u.m),m};function kt(u){return new Rn(u)}function Gt(u,m,v){u.j=v?Ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Is(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function jo(u,m,v){m instanceof Ds?(u.i=m,Ta(u.i,u.l)):(v||(m=Mr(m,Os)),u.i=new Ds(m,u.l))}function it(u,m,v){u.i.set(m,v)}function kr(u){return it(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,dn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var va=/[#\/\?@]/g,Eu=/[#\?:]/g,Uo=/[#\?]/g,Os=/[#\?@]/g,Tu=/#/g;function Ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&_a(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ds.prototype,s.add=function(u,m){mn(this),this.i=null,u=ks(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function bu(u,m){mn(u),m=ks(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function zo(u,m){return mn(u),m=ks(u,m),u.g.has(m)}s.forEach=function(u,m){mn(this),this.g.forEach(function(v,A){v.forEach(function(j){u.call(m,j,A,this)},this)},this)};function Po(u,m){mn(u);let v=[];if(typeof m=="string")zo(u,m)&&(v=v.concat(u.g.get(ks(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return mn(this),this.i=null,u=ks(this,u),zo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Po(this,u),u.length>0?String(u[0]):m):m};function Ea(u,m,v){bu(u,m),v.length>0&&(u.i=null,u.g.set(ks(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const j=Wi(v);v=Po(this,v);for(let B=0;B<v.length;B++){let ee=j;v[B]!==""&&(ee+="="+Wi(v[B])),u.push(ee)}}return this.i=u.join("&")};function Au(u){const m=new Ds;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ks(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ta(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(bu(this,A),Ea(this,j,v))},u)),u.j=m}function ii(u,m){const v=new ei;if(d.Image){const A=new Image;A.onload=T(Pn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Pn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Pn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Pn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Bo(u,m){const v=new ei,A=new AbortController,j=setTimeout(()=>{A.abort(),Pn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(B=>{clearTimeout(j),B.ok?Pn(v,"TestPingServer: ok",!0,m):Pn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Pn(v,"TestPingServer: error",!1,m)})}function Pn(u,m,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function Ms(){this.g=new cu}function Ii(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ii,hu),Ii.prototype.g=function(){return new Vr(this.i,this.h)};function Vr(u,m){X.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Vr,X),s=Vr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,si(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Vs(this):si(this),this.readyState==3&&ba(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Vs(this))},s.Na=function(u){this.g&&(this.response=u,Vs(this))},s.ga=function(){this.g&&Vs(this)};function Vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,si(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Bn(u){let m="";return Ge(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Lr(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Bn(v),typeof u=="string"?v!=null&&Wi(v):it(u,m,v))}function ot(u){X.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ot,X);var Oi=/^https?$/i,qo=["POST","PUT"];s=ot.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){jr(this,B);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(qo,m,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of v)this.g.setRequestHeader(B,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){jr(this,B)}};function jr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ho(u),$i(u)}function Ho(u){u.A||(u.A=!0,re(u,"complete"),re(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,re(this,"complete"),re(this,"abort"),$i(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),ot.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ur(this):this.Xa())},s.Xa=function(){Ur(this)};function Ur(u){if(u.h&&typeof c<"u"){if(u.v&&ri(u)==4)setTimeout(u.Ca.bind(u),0);else if(re(u,"readystatechange"),ri(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let ee=String(u.D).match(vu)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),A=!Oi.test(ee?ee.toLowerCase():"")}v=A}if(v)re(u,"complete"),re(u,"success");else{u.o=6;try{var j=ri(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Ho(u)}}finally{$i(u)}}}}function $i(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||re(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ri(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Cs(m)}};function Wt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const m={};u=(u.g&&ri(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(x(u[A]))continue;var v=gu(u[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[j]||[];m[j]=B,B.push(v)}xe(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ls(u){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Do(u&&u.concurrentRequestLimit),this.Ba=new Ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ls.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){It(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Iu(this,null,this.W),ki(this)};function Fo(u){if(Aa(u),u.I==3){var m=u.V++,v=kt(u.J);if(it(v,"SID",u.M),it(v,"RID",m),it(v,"TYPE","terminate"),zr(u,v),m=new ti(u,u.j,m),m.M=2,m.A=kr(kt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ou(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Si(m)}Cu(u)}function js(u){u.g&&(Ko(u),u.g.cancel(),u.g=null)}function Aa(u){js(u),u.v&&(d.clearTimeout(u.v),u.v=null),wa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ki(u){if(!ko(u.h)&&!u.m){u.m=!0;var m=u.Ea;gt||w(),Ue||(gt(),Ue=!0),N.add(m,u),u.D=0}}function Sa(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ti(y(u.Ea,u,m),Nu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new ti(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),ne(B,this.U)):B=this.U),this.u!==null||this.R||(j.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Su(this,j,m),v=kt(this.J),it(v,"RID",u),it(v,"CVER",22),this.G&&it(v,"X-HTTP-Session-Id",this.G),zr(this,v),B&&(this.R?m="headers="+Wi(Bn(B))+"&"+m:this.u&&Lr(v,this.u,B)),Mo(this.h,j),this.Ra&&it(v,"TYPE","init"),this.S?(it(v,"$req",m),it(v,"SID","null"),j.U=!0,Ai(j,v,null)):Ai(j,v,m),this.I=2}}else this.I==3&&(u?Go(this,u):this.i.length==0||ko(this.h)||Go(this))};function Go(u,m){var v;m?v=m.l:v=u.V++;const A=kt(u.J);it(A,"SID",u.M),it(A,"RID",v),it(A,"AID",u.K),zr(u,A),u.u&&u.o&&Lr(A,u.u,u.o),v=new ti(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Su(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Mo(u.h,v),Ai(v,A,m)}function zr(u,m){u.H&&Ge(u.H,function(v,A){it(m,A,v)}),u.l&&Ge({},function(v,A){it(m,A,v)})}function Su(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var j=u.i;let ke=-1;for(;;){const xt=["count="+v];ke==-1?v>0?(ke=j[0].g,xt.push("ofs="+ke)):ke=0:xt.push("ofs="+ke);let Xe=!0;for(let _t=0;_t<v;_t++){var B=j[_t].g;const qn=j[_t].map;if(B-=ke,B<0)ke=Math.max(0,j[_t].g-100),Xe=!1;else try{B="req"+B+"_"||"";try{var ee=qn instanceof Map?qn:Object.entries(qn);for(const[Vi,ai]of ee){let oi=ai;g(ai)&&(oi=_i(ai)),xt.push(B+Vi+"="+encodeURIComponent(oi))}}catch(Vi){throw xt.push(B+"type="+encodeURIComponent("_badmap")),Vi}}catch{A&&A(qn)}}if(Xe){ee=xt.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function wu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;gt||w(),Ue||(gt(),Ue=!0),N.add(m,u),u.A=0}}function Pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ti(y(u.Da,u),Nu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ti(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),js(this),xu(this))};function Ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function xu(u){u.g=new ti(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=kt(u.na);it(m,"RID","rpc"),it(m,"SID",u.M),it(m,"AID",u.K),it(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&it(m,"TO",u.ia),it(m,"TYPE","xmlhttp"),zr(u,m),u.u&&u.o&&Lr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=kr(kt(m)),v.u=null,v.R=!0,ga(v,u)}s.Va=function(){this.C!=null&&(this.C=null,js(this),Pr(this),It(19))};function wa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ru(u,m){var v=null;if(u.g==m){wa(u),Ko(u),u.g=null;var A=2}else if(Ni(u.h,m))v=m.G,Vo(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;A=pa(),re(A,new Ei(A,v)),ki(u)}else wu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(A==1&&Sa(u,m)||A==2&&Pr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function Nu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const j=!A;A=new Rn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Gt(A,"https"),kr(A),j?ii(A.toString(),v):Bo(A.toString(),v)}else It(2);u.I=0,u.l&&u.l.pa(m),Cu(u),Aa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Cu(u){if(u.I=0,u.ja=[],u.l){const m=Lo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Iu(u,m,v){var A=v instanceof Rn?kt(v):new Rn(v);if(A.g!="")m&&(A.g=m+"."+A.g),Is(A,A.u);else{var j=d.location;A=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const B=new Rn(null);A&&Gt(B,A),m&&(B.g=m),j&&Is(B,j),v&&(B.h=v),A=B}return v=u.G,m=u.wa,v&&m&&it(A,v,m),it(A,"VER",u.ka),zr(u,A),A}function Ou(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ot(new Ii({ab:v})):new ot(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Us(){}Us.prototype.g=function(u,m){return new cn(u,m)};function cn(u,m){X.call(this),this.g=new Ls(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zi(this)}S(cn,X),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Fo(this.g)},cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_i(u),u=v);m.i.push(new Dt(m.Ya++,u)),m.I==3&&ki(m)},cn.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,cn.Z.N.call(this)};function ku(u){Qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(ku,Qt);function Mu(){Un.call(this),this.status=1}S(Mu,Un);function Zi(u){this.g=u}S(Zi,Du),Zi.prototype.ra=function(){re(this.g,"a")},Zi.prototype.qa=function(u){re(this.g,new ku(u))},Zi.prototype.pa=function(u){re(this.g,new Mu)},Zi.prototype.oa=function(){re(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,G1=function(){return new Us},F1=function(){return pa()},H1=wt,xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Or.NO_ERROR=0,Or.TIMEOUT=8,Or.HTTP_ERROR=6,Xc=Or,Io.COMPLETE="complete",q1=Io,fu.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",X.prototype.listen=X.prototype.J,Dl=fu,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,B1=ot}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let xo="12.8.0";function ex(s){xo=s}const ca=new Gm("@firebase/firestore");function no(){return ca.logLevel}function le(s,...e){if(ca.logLevel<=qe.DEBUG){const n=e.map(np);ca.debug(`Firestore (${xo}): ${s}`,...n)}}function As(s,...e){if(ca.logLevel<=qe.ERROR){const n=e.map(np);ca.error(`Firestore (${xo}): ${s}`,...n)}}function po(s,...e){if(ca.logLevel<=qe.WARN){const n=e.map(np);ca.warn(`Firestore (${xo}): ${s}`,...n)}}function np(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Ee(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,K1(s,r,n)}function K1(s,e,n){let r=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw As(r),new Error(r)}function et(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||K1(e,l,r)}function Ce(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Y1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class nx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ix{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,n(_)):Promise.resolve();let c=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new yr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new yr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string",31837,{l:r}),new Y1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class sx{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class rx{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new sx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class P_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ax{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const r=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new P_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new P_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ox(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class ip{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=ox(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=e.charAt(l[c]%62))}return r}}function He(s,e){return s<e?-1:s>e?1:0}function Rm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return tm(l)===tm(c)?He(l,c):tm(l)?1:-1}return He(s.length,e.length)}const lx=55296,ux=57343;function tm(s){const e=s.charCodeAt(0);return e>=lx&&e<=ux}function go(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const B_="__name__";class Pi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const c=Pi.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return He(e.length,n.length)}static compareSegments(e,n){const r=Pi.isNumericId(e),l=Pi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Pi.extractNumericId(e).compare(Pi.extractNumericId(n)):Rm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class Et extends Pi{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new Et(n)}static emptyPath(){return new Et([])}}const cx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Pi{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return cx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B_}static keyField(){return new tn([B_])}static fromServerFormat(e){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new de($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new de($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new de($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new de($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Et.fromString(e))}static fromName(e){return new ge(Et.fromString(e).popFirst(5))}static empty(){return new ge(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Et(e.slice()))}}function hx(s,e,n){if(!n)throw new de($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function fx(s,e,n,r){if(e===!0&&r===!0)throw new de($.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function q_(s){if(!ge.isDocumentKey(s))throw new de($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Q1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function sp(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function di(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sp(s);throw new de($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function zt(s,e){const n={typeString:s};return e&&(n.value=e),n}function su(s,e){if(!Q1(s))throw new de($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new de($.INVALID_ARGUMENT,n);return!0}const H_=-62135596800,F_=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*F_);return new pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<H_)throw new de($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-H_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:zt("string",pt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new pt(0,0))}static max(){return new we(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fl=-1;function dx(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=we.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new Er(l,ge.empty(),e)}function mx(s){return new Er(s.readTime,s.key,Fl)}class Er{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Er(we.min(),ge.empty(),Fl)}static max(){return new Er(we.max(),ge.empty(),Fl)}}function px(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(s.documentKey,e.documentKey),n!==0?n:He(s.largestBatchId,e.largestBatchId))}const gx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ro(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==gx)throw s;le("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,r)=>{n(e)}))}static reject(e){return new W(((n,r)=>{r(e)}))}static waitFor(e){return new W(((n,r)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&n()}),(_=>r(_)))})),d=!0,c===l&&n()}))}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next((l=>l?W.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(e,n){return new W(((r,l)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;n(e[y]).next((T=>{d[y]=T,++g,g===c&&r(d)}),(T=>l(T)))}}))}static doWhile(e,n){return new W(((r,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):r()};c()}))}}function _x(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(s){return s.name==="IndexedDbTransactionError"}class Nh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nh.ce=-1;const rp=-1;function Ch(s){return s==null}function fh(s){return s===0&&1/s==-1/0}function vx(s){return typeof s=="number"&&Number.isInteger(s)&&!fh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const W1="";function Ex(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=G_(e)),e=Tx(s.get(n),e);return G_(e)}function Tx(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case W1:n+="";break;default:n+=c}}return n}function G_(s){return s+W1+""}function K_(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function xr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function $1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Tt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,r,l,c){this.key=e,this.value=n,this.color=r??en.RED,this.left=l??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,c){return new en(e??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return en.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,l,c){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Y_(this.data.getIterator())}getIteratorFrom(e){return new Y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class Y_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Ht(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class X1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new X1("Invalid base64 string: "+c):c}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const bx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(s){if(et(!!s,39018),typeof s=="string"){let e=0;const n=bx.exec(s);if(et(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(s.seconds),nanos:Ct(s.nanos)}}function Ct(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function br(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}const Z1="server_timestamp",J1="__type__",eE="__previous_value__",tE="__local_write_time__";function ap(s){return(s?.mapValue?.fields||{})[J1]?.stringValue===Z1}function Ih(s){const e=s.mapValue.fields[eE];return ap(e)?Ih(e):e}function Gl(s){const e=Tr(s.mapValue.fields[tE].timestampValue);return new pt(e.seconds,e.nanos)}class Ax{constructor(e,n,r,l,c,d,g,_,y,T,S){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=S}}const dh="(default)";class Kl{constructor(e,n){this.projectId=e,this.database=n||dh}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}function Sx(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new de($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(s.options.projectId,e)}const nE="__type__",wx="__max__",Bc={mapValue:{}},iE="__vector__",mh="value";function Ar(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ap(s)?4:Rx(s)?9007199254740991:xx(s)?10:11:Ee(28295,{value:s})}function Ki(s,e){if(s===e)return!0;const n=Ar(s);if(n!==Ar(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Gl(s).isEqual(Gl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Tr(l.timestampValue),g=Tr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return br(l.bytesValue).isEqual(br(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ct(l.geoPointValue.latitude)===Ct(c.geoPointValue.latitude)&&Ct(l.geoPointValue.longitude)===Ct(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ct(l.integerValue)===Ct(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ct(l.doubleValue),g=Ct(c.doubleValue);return d===g?fh(d)===fh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return go(s.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(K_(d)!==K_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ki(d[_],g[_])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function Yl(s,e){return(s.values||[]).find((n=>Ki(n,e)))!==void 0}function yo(s,e){if(s===e)return 0;const n=Ar(s),r=Ar(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Ct(c.integerValue||c.doubleValue),_=Ct(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return Q_(s.timestampValue,e.timestampValue);case 4:return Q_(Gl(s),Gl(e));case 5:return Rm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=br(c),_=br(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const T=He(g[y],_[y]);if(T!==0)return T}return He(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=He(Ct(c.latitude),Ct(d.latitude));return g!==0?g:He(Ct(c.longitude),Ct(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return W_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[mh]?.arrayValue,T=_[mh]?.arrayValue,S=He(y?.values?.length||0,T?.values?.length||0);return S!==0?S:W_(y,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Bc.mapValue&&d===Bc.mapValue)return 0;if(c===Bc.mapValue)return 1;if(d===Bc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let S=0;S<_.length&&S<T.length;++S){const O=Rm(_[S],T[S]);if(O!==0)return O;const H=yo(g[_[S]],y[T[S]]);if(H!==0)return H}return He(_.length,T.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function Q_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const n=Tr(s),r=Tr(e),l=He(n.seconds,r.seconds);return l!==0?l:He(n.nanos,r.nanos)}function W_(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=yo(n[l],r[l]);if(c)return c}return He(n.length,r.length)}function _o(s){return Nm(s)}function Nm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Tr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return br(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ge.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=Nm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Nm(n.fields[d])}`;return l+"}"})(s.mapValue):Ee(61005,{value:s})}function Zc(s){switch(Ar(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(s);return e?16+Zc(e):16;case 5:return 2*s.stringValue.length;case 6:return br(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return xr(r.fields,((c,d)=>{l+=c.length+Zc(d)})),l})(s.mapValue);default:throw Ee(13486,{value:s})}}function Cm(s){return!!s&&"integerValue"in s}function op(s){return!!s&&"arrayValue"in s}function $_(s){return!!s&&"nullValue"in s}function X_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Jc(s){return!!s&&"mapValue"in s}function xx(s){return(s?.mapValue?.fields||{})[nE]?.stringValue===iE}function Ul(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return xr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ul(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ul(s.arrayValue.values[n]);return e}return{...s}}function Rx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===wx}class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(n)}setAll(e){let n=tn.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const _=this.getFieldsMap(n);this.applyChanges(_,r,l),r={},l=[],n=g.popLast()}d?r[g.lastSegment()]=Ul(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];Jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){xr(n,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new wn(Ul(this.value))}}function sE(s){const e=[];return xr(s.fields,((n,r)=>{const l=new tn([n]);if(Jc(r)){const c=sE(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Ln(e)}class ln{constructor(e,n,r,l,c,d,g){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new ln(e,0,we.min(),we.min(),we.min(),wn.empty(),0)}static newFoundDocument(e,n,r,l){return new ln(e,1,n,we.min(),r,l,0)}static newNoDocument(e,n){return new ln(e,2,n,we.min(),we.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,we.min(),we.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ph{constructor(e,n){this.position=e,this.inclusive=n}}function Z_(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=ge.comparator(ge.fromName(d.referenceValue),n.key):r=yo(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function J_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ki(s.position[n],e.position[n]))return!1;return!0}class gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Nx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class rE{}class qt extends rE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ix(e,n,r):n==="array-contains"?new kx(e,r):n==="in"?new Mx(e,r):n==="not-in"?new Vx(e,r):n==="array-contains-any"?new Lx(e,r):new qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ox(e,r):new Dx(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&Ar(this.value)===Ar(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends rE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Yi(e,n)}matches(e){return aE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aE(s){return s.op==="and"}function oE(s){return Cx(s)&&aE(s)}function Cx(s){for(const e of s.filters)if(e instanceof Yi)return!1;return!0}function Im(s){if(s instanceof qt)return s.field.canonicalString()+s.op.toString()+_o(s.value);if(oE(s))return s.filters.map((e=>Im(e))).join(",");{const e=s.filters.map((n=>Im(n))).join(",");return`${s.op}(${e})`}}function lE(s,e){return s instanceof qt?(function(r,l){return l instanceof qt&&r.op===l.op&&r.field.isEqual(l.field)&&Ki(r.value,l.value)})(s,e):s instanceof Yi?(function(r,l){return l instanceof Yi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&lE(d,l.filters[g])),!0):!1})(s,e):void Ee(19439)}function uE(s){return s instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`})(s):s instanceof Yi?(function(n){return n.op.toString()+" {"+n.getFilters().map(uE).join(" ,")+"}"})(s):"Filter"}class Ix extends qt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ox extends qt{constructor(e,n){super(e,"in",n),this.keys=cE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Dx extends qt{constructor(e,n){super(e,"not-in",n),this.keys=cE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function cE(s,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class kx extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return op(n)&&Yl(n.arrayValue,this.value)}}class Mx extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yl(this.value.arrayValue,n)}}class Vx extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yl(this.value.arrayValue,n)}}class Lx extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!op(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Yl(this.value.arrayValue,r)))}}class jx{constructor(e,n=null,r=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function ev(s,e=null,n=[],r=[],l=null,c=null,d=null){return new jx(s,e,n,r,l,c,d)}function lp(s){const e=Ce(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Im(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>_o(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>_o(r))).join(",")),e.Te=n}return e.Te}function up(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!Nx(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!lE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!J_(s.startAt,e.startAt)&&J_(s.endAt,e.endAt)}function Om(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Oh{constructor(e,n=null,r=[],l=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Ux(s,e,n,r,l,c,d,g){return new Oh(s,e,n,r,l,c,d,g)}function Dh(s){return new Oh(s)}function tv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function zx(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Px(s){return s.collectionGroup!==null}function zl(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ht(tn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new gh(c,r))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new gh(tn.keyField(),r))}return e.Ie}function Hi(s){const e=Ce(s);return e.Ee||(e.Ee=Bx(e,zl(s))),e.Ee}function Bx(s,e){if(s.limitType==="F")return ev(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new gh(l.field,c)}));const n=s.endAt?new ph(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ph(s.startAt.position,s.startAt.inclusive):null;return ev(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Dm(s,e,n){return new Oh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function kh(s,e){return up(Hi(s),Hi(e))&&s.limitType===e.limitType}function hE(s){return`${lp(Hi(s))}|lt:${s.limitType}`}function io(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>uE(l))).join(", ")}]`),Ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>_o(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>_o(l))).join(",")),`Target(${r})`})(Hi(s))}; limitType=${s.limitType})`}function Mh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ge.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of zl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,_){const y=Z_(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,zl(r),l)||r.endAt&&!(function(d,g,_){const y=Z_(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,zl(r),l))})(s,e)}function qx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function fE(s){return(e,n)=>{let r=!1;for(const l of zl(s)){const c=Hx(l,e,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Hx(s,e,n){const r=s.field.isKeyField()?ge.comparator(e.key,n.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?yo(_,y):Ee(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:s.dir})}}class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){xr(this.inner,((n,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return $1(this.inner)}size(){return this.innerSize}}const Fx=new Tt(ge.comparator);function Ss(){return Fx}const dE=new Tt(ge.comparator);function kl(...s){let e=dE;for(const n of s)e=e.insert(n.key,n);return e}function mE(s){let e=dE;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ra(){return Pl()}function pE(){return Pl()}function Pl(){return new da((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Gx=new Tt(ge.comparator),Kx=new Ht(ge.comparator);function Fe(...s){let e=Kx;for(const n of s)e=e.add(n);return e}const Yx=new Ht(He);function Qx(){return Yx}function cp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function gE(s){return{integerValue:""+s}}function Wx(s,e){return vx(e)?gE(e):cp(s,e)}class Vh{constructor(){this._=void 0}}function $x(s,e,n){return s instanceof yh?(function(l,c){const d={fields:{[J1]:{stringValue:Z1},[tE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&ap(c)&&(c=Ih(c)),c&&(d.fields[eE]=c),{mapValue:d}})(n,e):s instanceof vo?_E(s,e):s instanceof Ql?vE(s,e):(function(l,c){const d=yE(l,c),g=nv(d)+nv(l.Ae);return Cm(d)&&Cm(l.Ae)?gE(g):cp(l.serializer,g)})(s,e)}function Xx(s,e,n){return s instanceof vo?_E(s,e):s instanceof Ql?vE(s,e):n}function yE(s,e){return s instanceof _h?(function(r){return Cm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class yh extends Vh{}class vo extends Vh{constructor(e){super(),this.elements=e}}function _E(s,e){const n=EE(e);for(const r of s.elements)n.some((l=>Ki(l,r)))||n.push(r);return{arrayValue:{values:n}}}class Ql extends Vh{constructor(e){super(),this.elements=e}}function vE(s,e){let n=EE(e);for(const r of s.elements)n=n.filter((l=>!Ki(l,r)));return{arrayValue:{values:n}}}class _h extends Vh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function nv(s){return Ct(s.integerValue||s.doubleValue)}function EE(s){return op(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Zx{constructor(e,n){this.field=e,this.transform=n}}function Jx(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof vo&&l instanceof vo||r instanceof Ql&&l instanceof Ql?go(r.elements,l.elements,Ki):r instanceof _h&&l instanceof _h?Ki(r.Ae,l.Ae):r instanceof yh&&l instanceof yh})(s.transform,e.transform)}class eR{constructor(e,n){this.version=e,this.transformResults=n}}class mi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Lh{}function TE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new hp(s.key,mi.none()):new ru(s.key,s.data,mi.none());{const n=s.data,r=wn.empty();let l=new Ht(tn.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Rr(s.key,r,new Ln(l.toArray()),mi.none())}}function tR(s,e,n){s instanceof ru?(function(l,c,d){const g=l.value.clone(),_=sv(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):s instanceof Rr?(function(l,c,d){if(!eh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=sv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(bE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Bl(s,e,n,r){return s instanceof ru?(function(c,d,g,_){if(!eh(c.precondition,d))return g;const y=c.value.clone(),T=rv(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof Rr?(function(c,d,g,_){if(!eh(c.precondition,d))return g;const y=rv(c.fieldTransforms,_,d),T=d.data;return T.setAll(bE(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(c,d,g){return eh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,n)}function nR(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=yE(r.transform,l||null);c!=null&&(n===null&&(n=wn.empty()),n.set(r.field,c))}return n||null}function iv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&go(r,l,((c,d)=>Jx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ru extends Lh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Rr extends Lh{constructor(e,n,r,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function bE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function sv(s,e,n){const r=new Map;et(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);r.set(c.field,Xx(d,g,n[l]))}return r}function rv(s,e,n){const r=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);r.set(l.field,$x(c,d,e))}return r}class hp extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iR extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sR{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&tR(c,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const _=TE(d,g);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((n,r)=>iv(n,r)))&&go(this.baseMutations,e.baseMutations,((n,r)=>iv(n,r)))}}class fp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return Gx})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new fp(e,n,r,l)}}class rR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class aR{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ut,Ye;function oR(s){switch(s){case $.OK:return Ee(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function AE(s){if(s===void 0)return As("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ut.OK:return $.OK;case Ut.CANCELLED:return $.CANCELLED;case Ut.UNKNOWN:return $.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return $.INTERNAL;case Ut.UNAVAILABLE:return $.UNAVAILABLE;case Ut.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ut.NOT_FOUND:return $.NOT_FOUND;case Ut.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ut.ABORTED:return $.ABORTED;case Ut.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ut.DATA_LOSS:return $.DATA_LOSS;default:return Ee(39323,{code:s})}}(Ye=Ut||(Ut={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function lR(){return new TextEncoder}const uR=new gr([4294967295,4294967295],0);function av(s){const e=lR().encode(s),n=new P1;return n.update(e),new Uint8Array(n.digest())}function ov(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new gr([n,r],0),new gr([l,c],0)]}class dp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(gr.fromNumber(r)));return l.compare(uR)===1&&(l=new gr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=av(e),[r,l]=ov(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new dp(c,l,n);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const n=av(e),[r,l]=ov(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jh{constructor(e,n,r,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jh(we.min(),l,new Tt(He),Ss(),Fe())}}class au{constructor(e,n,r,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new au(r,n,Fe(),Fe(),Fe())}}class th{constructor(e,n,r,l){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=l}}class SE{constructor(e,n){this.targetId=e,this.Ce=n}}class wE{constructor(e,n,r=nn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class lv{constructor(){this.ve=0,this.Fe=uv(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),r=Fe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Ee(38017,{changeType:c})}})),new au(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=uv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class cR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.He=qc(),this.Je=qc(),this.Ze=new Tt(He)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Om(c))if(r===0){const d=new ge(c.path);this.et(n,d,ln.newNoDocument(d,we.min()))}else et(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(n);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=br(r).toUint8Array()}catch(_){if(_ instanceof X1)return po("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new dp(d,l,c)}catch(_){return po(_ instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Om(g.target)){const _=new ge(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,ln.newNoDocument(_,e))}c.Be&&(n.set(d,c.ke()),c.Ke())}}));let r=Fe();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new jh(e,n,this.Ze,this.je,r);return this.je=Ss(),this.He=qc(),this.Je=qc(),this.Ze=new Tt(He),l}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new lv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ht(He),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ht(He),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qc(){return new Tt(ge.comparator)}function uv(){return new Tt(ge.comparator)}const hR={asc:"ASCENDING",desc:"DESCENDING"},fR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dR={and:"AND",or:"OR"};class mR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(s,e){return s.useProto3Json||Ch(e)?e:{value:e}}function vh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function pR(s,e){return vh(s,e.toTimestamp())}function Fi(s){return et(!!s,49232),we.fromTimestamp((function(n){const r=Tr(n);return new pt(r.seconds,r.nanos)})(s))}function mp(s,e){return Mm(s,e).canonicalString()}function Mm(s,e){const n=(function(l){return new Et(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function RE(s){const e=Et.fromString(s);return et(DE(e),10190,{key:e.toString()}),e}function Vm(s,e){return mp(s.databaseId,e.path)}function nm(s,e){const n=RE(e);if(n.get(1)!==s.databaseId.projectId)throw new de($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new de($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ge(CE(n))}function NE(s,e){return mp(s.databaseId,e)}function gR(s){const e=RE(s);return e.length===4?Et.emptyPath():CE(e)}function Lm(s){return new Et(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function CE(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function cv(s,e,n){return{name:Vm(s,e),fields:n.value.mapValue.fields}}function yR(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(et(T===void 0||typeof T=="string",58123),nn.fromBase64String(T||"")):(et(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),nn.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const T=y.code===void 0?$.UNKNOWN:AE(y.code);return new de(T,y.message||"")})(d);n=new wE(r,l,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=nm(s,r.document.name),c=Fi(r.document.updateTime),d=r.document.createTime?Fi(r.document.createTime):we.min(),g=new wn({mapValue:{fields:r.document.fields}}),_=ln.newFoundDocument(l,c,d,g),y=r.targetIds||[],T=r.removedTargetIds||[];n=new th(y,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=nm(s,r.document),c=r.readTime?Fi(r.readTime):we.min(),d=ln.newNoDocument(l,c),g=r.removedTargetIds||[];n=new th([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=nm(s,r.document),c=r.removedTargetIds||[];n=new th([],c,l,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new aR(l,c),g=r.targetId;n=new SE(g,d)}}return n}function _R(s,e){let n;if(e instanceof ru)n={update:cv(s,e.key,e.value)};else if(e instanceof hp)n={delete:Vm(s,e.key)};else if(e instanceof Rr)n={update:cv(s,e.key,e.data),updateMask:RR(e.fieldMask)};else{if(!(e instanceof iR))return Ee(16599,{dt:e.type});n={verify:Vm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof yh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof vo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof _h)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ee(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:pR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(s,e.precondition)),n}function vR(s,e){return s&&s.length>0?(et(e!==void 0,14353),s.map((n=>(function(l,c){let d=l.updateTime?Fi(l.updateTime):Fi(c);return d.isEqual(we.min())&&(d=Fi(c)),new eR(d,l.transformResults||[])})(n,e)))):[]}function ER(s,e){return{documents:[NE(s,e.path)]}}function TR(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NE(s,l);const c=(function(y){if(y.length!==0)return OE(Yi.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(O){return{field:so(O.field),direction:SR(O.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=km(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function bR(s){let e=gR(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){et(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(S){const O=IE(S);return O instanceof Yi&&oE(O)?O.getFilters():[O]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((O=>(function(J){return new gh(ro(J.field),(function(se){switch(se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(O)))})(n.orderBy));let g=null;n.limit&&(g=(function(S){let O;return O=typeof S=="object"?S.value:S,Ch(O)?null:O})(n.limit));let _=null;n.startAt&&(_=(function(S){const O=!!S.before,H=S.values||[];return new ph(H,O)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const O=!S.before,H=S.values||[];return new ph(H,O)})(n.endAt)),Ux(e,l,d,c,g,"F",_,y)}function AR(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=ro(n.unaryFilter.field);return qt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ro(n.unaryFilter.field);return qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ro(n.unaryFilter.field);return qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(n){return qt.create(ro(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Yi.create(n.compositeFilter.filters.map((r=>IE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(s):Ee(30097,{filter:s})}function SR(s){return hR[s]}function wR(s){return fR[s]}function xR(s){return dR[s]}function so(s){return{fieldPath:s.canonicalString()}}function ro(s){return tn.fromServerFormat(s.fieldPath)}function OE(s){return s instanceof qt?(function(n){if(n.op==="=="){if(X_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if($_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(X_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if($_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:wR(n.op),value:n.value}}})(s):s instanceof Yi?(function(n){const r=n.getFilters().map((l=>OE(l)));return r.length===1?r[0]:{compositeFilter:{op:xR(n.op),filters:r}}})(s):Ee(54877,{filter:s})}function RR(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function DE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function kE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class fr{constructor(e,n,r,l,c=we.min(),d=we.min(),g=nn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class NR{constructor(e){this.yt=e}}function CR(s){const e=bR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Dm(e,e.limit,"L"):e}class IR{constructor(){this.Sn=new OR}addToCollectionParentIndex(e,n){return this.Sn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Er.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class OR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Ht(Et.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Ht(Et.comparator)).toArray()}}const hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ME=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(ME,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class Eo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Eo(0)}static ar(){return new Eo(-1)}}const fv="LruGarbageCollector",DR=1048576;function dv([s,e],[n,r]){const l=He(s,n);return l===0?He(e,r):l}class kR{constructor(e){this.Pr=e,this.buffer=new Ht(dv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(fv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?le(fv,"Ignoring IndexedDB error during garbage collection: ",n):await Ro(n)}await this.Ar(3e5)}))}}class VR{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Nh.ce);const r=new kR(n);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(hv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hv):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,l,c,d,g,_,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,g=Date.now(),this.removeTargets(e,r,n)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),no()<=qe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function LR(s,e){return new VR(s,e)}class jR{constructor(){this.changes=new da((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class UR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class zR{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Bl(r.mutation,l,Ln.empty(),pt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Fe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Fe()){const l=ra();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((c=>{let d=kl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=ra();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Fe())))}populateOverlays(e,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,r,l){let c=Ss();const d=Pl(),g=(function(){return Pl()})();return n.forEach(((_,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof Rr)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Bl(T.mutation,y,T.mutation.getFieldMask(),pt.now())):d.set(y.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),n.forEach(((y,T)=>g.set(y,new UR(T,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,n){const r=Pl();let l=new Tt(((d,g)=>d-g)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=n.get(_);if(y===null)return;let T=r.get(_)||Ln.empty();T=g.applyToLocalView(y,T),r.set(_,T);const S=(l.get(g.batchId)||Fe()).add(_);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,T=_.value,S=pE();T.forEach((O=>{if(!c.has(O)){const H=TE(n.get(O),r.get(O));H!==null&&S.set(O,H),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return W.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return zx(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Px(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-c.size):W.resolve(ra());let g=Fl,_=c;return d.next((y=>W.forEach(y,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next((O=>{_=_.insert(T,O)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Fe()))).next((T=>({batchId:g,changes:mE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let l=kl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const c=n.collectionGroup;let d=kl();return this.indexManager.getCollectionParents(e,c).next((g=>W.forEach(g,(_=>{const y=(function(S,O){return new Oh(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((T=>{T.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,ln.newInvalidDocument(T)))}));let g=kl();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&Bl(T.mutation,y,Ln.empty(),pt.now()),Mh(n,y)&&(g=g.insert(_,y))})),g}))}}class PR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return W.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Fi(l.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:CR(l.bundledQuery),readTime:Fi(l.readTime)}})(n)),W.resolve()}}class BR{constructor(){this.overlays=new Tt(ge.comparator),this.Lr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ra();return W.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,c)=>{this.bt(e,n,c)})),W.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const l=ra(),c=n.length+1,d=new ge(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return W.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let c=new Tt(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=c.get(y.largestBatchId);T===null&&(T=ra(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=ra(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=l)););return W.resolve(g)}bt(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new rR(n,r));let c=this.Lr.get(n);c===void 0&&(c=Fe(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}class qR{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}class pp{constructor(){this.kr=new Ht(Yt.Kr),this.qr=new Ht(Yt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Yt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Yt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ge(new Et([])),r=new Yt(n,e),l=new Yt(n,e+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new Et([])),r=new Yt(n,e),l=new Yt(n,e+1);let c=Fe();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Yt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||He(e.Hr,n.Hr)}static Ur(e,n){return He(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}class HR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ht(Yt.Kr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new sR(c,n,r,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Yt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,n){return W.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.Xr(r),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?rp:this.Yn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yt(n,0),l=new Yt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ht(He);return n.forEach((l=>{const c=new Yt(l,0),d=new Yt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{r=r.add(g.Hr)}))})),W.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let c=r;ge.isDocumentKey(c)||(c=c.child(""));const d=new Yt(new ge(c),0);let g=new Ht(He);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Hr)),!0)}),d),W.resolve(this.Yr(g))}Yr(e){const n=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){et(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return W.forEach(n.mutations,(l=>{const c=new Yt(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Yt(n,0),l=this.Jr.firstAfterOrEqual(r);return W.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class FR{constructor(e){this.ti=e,this.docs=(function(){return new Tt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=Ss();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():ln.newInvalidDocument(l))})),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let c=Ss();const d=n.path,g=new ge(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||px(mx(T),r)<=0||(l.has(T.key)||Mh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,n,r,l){Ee(9500)}ni(e,n){return W.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new GR(this)}getSize(e){return W.resolve(this.size)}}class GR extends jR{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),W.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class KR{constructor(e){this.persistence=e,this.ri=new da((n=>lp(n)),up),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new pp,this.targetCount=0,this.oi=Eo._r()}forEachTarget(e,n){return this.ri.forEach(((r,l)=>n(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),W.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.lr(n),W.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.si.containsKey(n))}}class VE{constructor(e,n){this._i={},this.overlays={},this.ai=new Nh(0),this.ui=!1,this.ui=!0,this.ci=new qR,this.referenceDelegate=e(this),this.li=new KR(this),this.indexManager=new IR,this.remoteDocumentCache=(function(l){return new FR(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new NR(n),this.Pi=new PR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new HR(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const l=new YR(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,n){return W.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class YR extends yx{constructor(e){super(),this.currentSequenceNumber=e}}class gp{constructor(e){this.persistence=e,this.Ri=new pp,this.Ai=null}static Vi(e){return new gp(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(r=>{const l=ge.fromPath(r);return this.mi(e,l).next((c=>{c||n.removeEntry(l,we.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Eh{constructor(e,n){this.persistence=e,this.fi=new da((r=>Ex(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=LR(this,n)}static Vi(e,n){return new Eh(e,n)}Ti(){}Ii(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return W.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((c=>c?W.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,n).next((g=>{g||(r++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}wr(e,n,r){return W.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return W.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class yp{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=l}static Es(e,n){let r=Fe(),l=Fe();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new yp(e,n.fromCache,r,l)}}class QR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class WR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return D2()?8:_x(un())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const c={result:null};return this.gs(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,n,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new QR;return this.ys(e,n,d).next((g=>{if(c.result=g,this.As)return this.ws(e,n,d,g.size)}))})).next((()=>c.result))}ws(e,n,r,l){return r.documentReadCount<this.Vs?(no()<=qe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(no()<=qe.DEBUG&&le("QueryEngine","Query:",io(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(no()<=qe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(n))):W.resolve())}gs(e,n){if(tv(n))return W.resolve(null);let r=Hi(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Dm(n,null,"F"),r=Hi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Fe(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.bs(n,g);return this.Ss(n,y,d,_.readTime)?this.gs(e,Dm(n,null,"F")):this.Ds(e,y,n,_)}))))})))))}ps(e,n,r,l){return tv(n)||l.isEqual(we.min())?W.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(n,c);return this.Ss(n,d,r,l)?W.resolve(null):(no()<=qe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),io(n)),this.Ds(e,d,n,dx(l,Fl)).next((g=>g)))}))}bs(e,n){let r=new Ht(fE(e));return n.forEach(((l,c)=>{Mh(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,n,r){return no()<=qe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",io(n)),this.fs.getDocumentsMatchingQuery(e,n,Er.min(),r)}Ds(e,n,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const _p="LocalStore",$R=3e8;class XR{constructor(e,n,r,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new Tt(He),this.Fs=new da((c=>lp(c)),up),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function ZR(s,e,n,r){return new XR(s,e,n,r)}async function LE(s,e){const n=Ce(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=Fe();for(const y of l){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return n.localDocuments.getDocuments(r,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function JR(s,e){const n=Ce(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,T){const S=y.batch,O=S.keys();let H=W.resolve();return O.forEach((J=>{H=H.next((()=>T.getEntry(_,J))).next((ie=>{const se=y.docVersions.get(J);et(se!==null,48541),ie.version.compareTo(se)<0&&(S.applyToRemoteDocument(ie,y),ie.isValidDocument()&&(ie.setReadTime(y.commitVersion),T.addEntry(ie)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=Fe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function jE(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function eN(s,e){const n=Ce(s),r=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const g=[];e.targetChanges.forEach(((T,S)=>{const O=l.get(S);if(!O)return;g.push(n.li.removeMatchingKeys(c,T.removedDocuments,S).next((()=>n.li.addMatchingKeys(c,T.addedDocuments,S))));let H=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?H=H.withResumeToken(nn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,r)),l=l.insert(S,H),(function(ie,se,ye){return ie.resumeToken.approximateByteSize()===0||se.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=$R?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(O,H,T)&&g.push(n.li.updateTargetData(c,H))}));let _=Ss(),y=Fe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(tN(c,d,e.documentUpdates).next((T=>{_=T.Bs,y=T.Ls}))),!r.isEqual(we.min())){const T=n.li.getLastRemoteSnapshotVersion(c).next((S=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(T)}return W.waitFor(g).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(n.vs=l,c)))}function tN(s,e,n){let r=Fe(),l=Fe();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Ss();return n.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(we.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):le(_p,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function nN(s,e){const n=Ce(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=rp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function iN(s,e){const n=Ce(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,e).next((c=>c?(l=c,W.resolve(l)):n.li.allocateTargetId(r).next((d=>(l=new fr(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function jm(s,e,n){const r=Ce(s),l=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!No(d))throw d;le(_p,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function mv(s,e,n){const r=Ce(s);let l=we.min(),c=Fe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const S=Ce(_),O=S.Fs.get(T);return O!==void 0?W.resolve(S.vs.get(O)):S.li.getTargetData(y,T)})(r,d,Hi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,n?l:we.min(),n?c:Fe()))).next((g=>(sN(r,qx(e),g),{documents:g,ks:c})))))}function sN(s,e,n){let r=s.Ms.get(e)||we.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class pv{constructor(){this.activeTargetIds=Qx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rN{constructor(){this.vo=new pv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new pv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aN{Mo(e){}shutdown(){}}const gv="ConnectivityMonitor";class yv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(gv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(gv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hc=null;function Um(){return Hc===null?Hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hc++,"0x"+Hc.toString(16)}const im="RestConnection",oN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class lN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===dh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,n,r,l,c){const d=Um(),g=this.Qo(e,n.toUriEncodedString());le(im,`Sending RPC '${e}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(g),T=Ao(y);return this.zo(e,g,_,r,T).then((S=>(le(im,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw po(im,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",r),S}))}jo(e,n,r,l,c,d){return this.Wo(e,n,r,l,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}Qo(e,n){const r=oN[e];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class uN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const rn="WebChannelConnection",Ol=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class co extends lN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!co.c_){const e=F1();Ol(e,H1.STAT_EVENT,(n=>{n.stat===xm.PROXY?le(rn,"STAT_EVENT: detected buffering proxy"):n.stat===xm.NOPROXY&&le(rn,"STAT_EVENT: detected no buffering proxy")})),co.c_=!0}}zo(e,n,r,l,c){const d=Um();return new Promise(((g,_)=>{const y=new B1;y.setWithCredentials(!0),y.listenOnce(q1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Xc.NO_ERROR:const S=y.getResponseJson();le(rn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Xc.TIMEOUT:le(rn,`RPC '${e}' ${d} timed out`),_(new de($.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const O=y.getStatus();if(le(rn,`RPC '${e}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const J=H?.error;if(J&&J.status&&J.message){const ie=(function(ye){const Ie=ye.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Ie)>=0?Ie:$.UNKNOWN})(J.status);_(new de(ie,J.message))}else _(new de($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new de($.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(rn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);le(rn,`RPC '${e}' ${d} sending request:`,l),y.send(n,"POST",T,r,15)}))}T_(e,n,r){const l=Um(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const y=c.join("");le(rn,`Creating RPC '${e}' stream ${l}: ${y}`,g);const T=d.createWebChannel(y,g);this.I_(T);let S=!1,O=!1;const H=new uN({Ho:J=>{O?le(rn,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(S||(le(rn,`Opening RPC '${e}' stream ${l} transport.`),T.open(),S=!0),le(rn,`RPC '${e}' stream ${l} sending:`,J),T.send(J))},Jo:()=>T.close()});return Ol(T,Dl.EventType.OPEN,(()=>{O||(le(rn,`RPC '${e}' stream ${l} transport opened.`),H.i_())})),Ol(T,Dl.EventType.CLOSE,(()=>{O||(O=!0,le(rn,`RPC '${e}' stream ${l} transport closed`),H.o_(),this.E_(T))})),Ol(T,Dl.EventType.ERROR,(J=>{O||(O=!0,po(rn,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),H.o_(new de($.UNAVAILABLE,"The operation could not be completed")))})),Ol(T,Dl.EventType.MESSAGE,(J=>{if(!O){const ie=J.data[0];et(!!ie,16349);const se=ie,ye=se?.error||se[0]?.error;if(ye){le(rn,`RPC '${e}' stream ${l} received error:`,ye);const Ie=ye.status;let Ae=(function(Ue){const N=Ut[Ue];if(N!==void 0)return AE(N)})(Ie),Je=ye.message;Ae===void 0&&(Ae=$.INTERNAL,Je="Unknown error status: "+Ie+" with message "+ye.message),O=!0,H.o_(new de(Ae,Je)),T.close()}else le(rn,`RPC '${e}' stream ${l} received:`,ie),H.__(ie)}})),co.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return G1()}}function cN(s){return new co(s)}function sm(){return typeof document<"u"?document:null}function Uh(s){return new mR(s,!0)}co.c_=!1;class UE{constructor(e,n,r=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&le("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const _v="PersistentStream";class zE{constructor(e,n,r,l,c,d,g,_){this.Ci=e,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(As(n.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new de($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(_v,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(_v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hN extends zE{constructor(e,n,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yR(this.serializer,e),r=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?Fi(d.readTime):we.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Lm(this.serializer),n.addTarget=(function(c,d){let g;const _=d.target;if(g=Om(_)?{documents:ER(c,_)}:{query:TR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=xE(c,d.resumeToken);const y=km(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(we.min())>0){g.readTime=vh(c,d.snapshotVersion.toTimestamp());const y=km(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const r=AR(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Lm(this.serializer),n.removeTarget=e,this.K_(n)}}class fN extends zE{constructor(e,n,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vR(e.writeResults,e.commitTime),r=Fi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Lm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>_R(this.serializer,r)))};this.K_(n)}}class dN{}class mN extends dN{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new de($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Mm(n,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de($.UNKNOWN,c.toString())}))}jo(e,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,Mm(n,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function pN(s,e,n,r){return new mN(s,e,n,r)}class gN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(As(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ha="RemoteStore";class yN{constructor(e,n,r,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ma(this)&&(le(ha,"Restarting streams for network reachability change."),await(async function(_){const y=Ce(_);y.Ea.add(4),await ou(y),y.Va.set("Unknown"),y.Ea.delete(4),await zh(y)})(this))}))})),this.Va=new gN(r,l)}}async function zh(s){if(ma(s))for(const e of s.Ra)await e(!0)}async function ou(s){for(const e of s.Ra)await e(!1)}function PE(s,e){const n=Ce(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),bp(n)?Tp(n):Co(n).O_()&&Ep(n,e))}function vp(s,e){const n=Ce(s),r=Co(n);n.Ia.delete(e),r.O_()&&BE(n,e),n.Ia.size===0&&(r.O_()?r.L_():ma(n)&&n.Va.set("Unknown"))}function Ep(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(s).Z_(e)}function BE(s,e){s.da.$e(e),Co(s).X_(e)}function Tp(s){s.da=new cR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Co(s).start(),s.Va.ua()}function bp(s){return ma(s)&&!Co(s).x_()&&s.Ia.size>0}function ma(s){return Ce(s).Ea.size===0}function qE(s){s.da=void 0}async function _N(s){s.Va.set("Online")}async function vN(s){s.Ia.forEach(((e,n)=>{Ep(s,e)}))}async function EN(s,e){qE(s),bp(s)?(s.Va.ha(e),Tp(s)):s.Va.set("Unknown")}async function TN(s,e,n){if(s.Va.set("Online"),e instanceof wE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,e)}catch(r){le(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Th(s,r)}else if(e instanceof th?s.da.Xe(e):e instanceof SE?s.da.st(e):s.da.tt(e),!n.isEqual(we.min()))try{const r=await jE(s.localStore);n.compareTo(r)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(nn.EMPTY_BYTE_STRING,T.snapshotVersion)),BE(c,_);const S=new fr(T.target,_,y,T.sequenceNumber);Ep(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(r){le(ha,"Failed to raise snapshot:",r),await Th(s,r)}}async function Th(s,e,n){if(!No(e))throw e;s.Ea.add(1),await ou(s),s.Va.set("Offline"),n||(n=()=>jE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(ha,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await zh(s)}))}function HE(s,e){return e().catch((n=>Th(s,n,e)))}async function Ph(s){const e=Ce(s),n=Sr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rp;for(;bN(e);)try{const l=await nN(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,AN(e,l)}catch(l){await Th(e,l)}FE(e)&&GE(e)}function bN(s){return ma(s)&&s.Ta.length<10}function AN(s,e){s.Ta.push(e);const n=Sr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function FE(s){return ma(s)&&!Sr(s).x_()&&s.Ta.length>0}function GE(s){Sr(s).start()}async function SN(s){Sr(s).ra()}async function wN(s){const e=Sr(s);for(const n of s.Ta)e.ea(n.mutations)}async function xN(s,e,n){const r=s.Ta.shift(),l=fp.from(r,e,n);await HE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ph(s)}async function RN(s,e){e&&Sr(s).Y_&&await(async function(r,l){if((function(d){return oR(d)&&d!==$.ABORTED})(l.code)){const c=r.Ta.shift();Sr(r).B_(),await HE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ph(r)}})(s,e),FE(s)&&GE(s)}async function vv(s,e){const n=Ce(s);n.asyncQueue.verifyOperationInProgress(),le(ha,"RemoteStore received new credentials");const r=ma(n);n.Ea.add(3),await ou(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zh(n)}async function NN(s,e){const n=Ce(s);e?(n.Ea.delete(2),await zh(n)):e||(n.Ea.add(2),await ou(n),n.Va.set("Unknown"))}function Co(s){return s.ma||(s.ma=(function(n,r,l){const c=Ce(n);return c.sa(),new hN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:_N.bind(null,s),Yo:vN.bind(null,s),t_:EN.bind(null,s),J_:TN.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),bp(s)?Tp(s):s.Va.set("Unknown")):(await s.ma.stop(),qE(s))}))),s.ma}function Sr(s){return s.fa||(s.fa=(function(n,r,l){const c=Ce(n);return c.sa(),new fN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:SN.bind(null,s),t_:RN.bind(null,s),ta:wN.bind(null,s),na:xN.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Ph(s)):(await s.fa.stop(),s.Ta.length>0&&(le(ha,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Ap{constructor(e,n,r,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,c){const d=Date.now()+r,g=new Ap(e,n,d,l,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sp(s,e){if(As("AsyncQueue",`${e}: ${s}`),No(s))return new de($.UNAVAILABLE,`${e}: ${s}`);throw s}class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=kl(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Ev{constructor(){this.ga=new Tt(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class To{constructor(e,n,r,l,c,d,g,_,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,c){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new To(e,n,ho.emptySet(n),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class CN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class IN{constructor(){this.queries=Tv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Ce(n),c=l.queries;l.queries=Tv(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(r)}))})(this,new de($.ABORTED,"Firestore shutting down"))}}function Tv(){return new da((s=>hE(s)),kh)}async function KE(s,e){const n=Ce(s);let r=3;const l=e.query;let c=n.queries.get(l);c?!c.Sa()&&e.Da()&&(r=2):(c=new CN,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Sp(d,`Initialization of query '${io(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&wp(n)}async function YE(s,e){const n=Ce(s),r=e.query;let l=3;const c=n.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ON(s,e){const n=Ce(s);let r=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(r=!0);d.wa=l}}r&&wp(n)}function DN(s,e,n){const r=Ce(s),l=r.queries.get(e);if(l)for(const c of l.ba)c.onError(n);r.queries.delete(e)}function wp(s){s.Ca.forEach((e=>{e.next()}))}var zm,bv;(bv=zm||(zm={})).Ma="default",bv.Cache="cache";class QE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new To(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zm.Cache}}class WE{constructor(e){this.key=e}}class $E{constructor(e){this.key=e}}class kN{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.eu=fE(e),this.tu=new ho(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new Ev,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,S)=>{const O=l.get(T),H=Mh(this.query,S)?S:null,J=!!O&&this.mutatedKeys.has(O.key),ie=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let se=!1;O&&H?O.data.isEqual(H.data)?J!==ie&&(r.track({type:3,doc:H}),se=!0):this.su(O,H)||(r.track({type:2,doc:H}),se=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(g=!0)):!O&&H?(r.track({type:0,doc:H}),se=!0):O&&!H&&(r.track({type:1,doc:O}),se=!0,(_||y)&&(g=!0)),se&&(H?(d=d.add(H),c=ie?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(H,J){const ie=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:se})}};return ie(H)-ie(J)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const g=n&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new To(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ev,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new $E(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new WE(r))})),n}cu(e){this.Za=e.ks,this.Ya=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return To.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const xp="SyncEngine";class MN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class VN{constructor(e){this.key=e,this.hu=!1}}class LN{constructor(e,n,r,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new da((g=>hE(g)),kh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Tt(ge.comparator),this.Au=new Map,this.Vu=new pp,this.du={},this.mu=new Map,this.fu=Eo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jN(s,e,n=!0){const r=nT(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await XE(r,e,n,!0),l}async function UN(s,e){const n=nT(s);await XE(n,e,!0,!1)}async function XE(s,e,n,r){const l=await iN(s.localStore,Hi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let g;return r&&(g=await zN(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&PE(s.remoteStore,l),g}async function zN(s,e,n,r,l){s.pu=(S,O,H)=>(async function(ie,se,ye,Ie){let Ae=se.view.ru(ye);Ae.Ss&&(Ae=await mv(ie.localStore,se.query,!1).then((({documents:N})=>se.view.ru(N,Ae))));const Je=Ie&&Ie.targetChanges.get(se.targetId),gt=Ie&&Ie.targetMismatches.get(se.targetId)!=null,Ue=se.view.applyChanges(Ae,ie.isPrimaryClient,Je,gt);return Sv(ie,se.targetId,Ue.au),Ue.snapshot})(s,S,O,H);const c=await mv(s.localStore,e,!0),d=new kN(e,c.ks),g=d.ru(c.documents),_=au.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);Sv(s,n,y.au);const T=new MN(e,n,d);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function PN(s,e,n){const r=Ce(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!kh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await jm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&vp(r.remoteStore,l.targetId),Pm(r,l.targetId)})).catch(Ro)):(Pm(r,l.targetId),await jm(r.localStore,l.targetId,!0))}async function BN(s,e){const n=Ce(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vp(n.remoteStore,r.targetId))}async function qN(s,e,n){const r=WN(s);try{const l=await(function(d,g){const _=Ce(d),y=pt.now(),T=g.reduce(((H,J)=>H.add(J.key)),Fe());let S,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let J=Ss(),ie=Fe();return _.xs.getEntries(H,T).next((se=>{J=se,J.forEach(((ye,Ie)=>{Ie.isValidDocument()||(ie=ie.add(ye))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,J))).next((se=>{S=se;const ye=[];for(const Ie of g){const Ae=nR(Ie,S.get(Ie.key).overlayedDocument);Ae!=null&&ye.push(new Rr(Ie.key,Ae,sE(Ae.value.mapValue),mi.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,ye,g)})).next((se=>{O=se;const ye=se.applyToLocalDocumentSet(S,ie);return _.documentOverlayCache.saveOverlays(H,se.batchId,ye)}))})).then((()=>({batchId:O.batchId,changes:mE(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.du[d.currentUser.toKey()];y||(y=new Tt(He)),y=y.insert(g,_),d.du[d.currentUser.toKey()]=y})(r,l.batchId,n),await lu(r,l.changes),await Ph(r.remoteStore)}catch(l){const c=Sp(l,"Failed to persist write");n.reject(c)}}async function ZE(s,e){const n=Ce(s);try{const r=await eN(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(et(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?et(d.hu,14607):l.removedDocuments.size>0&&(et(d.hu,42227),d.hu=!1))})),await lu(n,r,e)}catch(r){await Ro(r)}}function Av(s,e,n){const r=Ce(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Ce(d);_.onlineState=g;let y=!1;_.queries.forEach(((T,S)=>{for(const O of S.ba)O.va(g)&&(y=!0)})),y&&wp(_)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HN(s,e,n){const r=Ce(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new Tt(ge.comparator);d=d.insert(c,ln.newNoDocument(c,we.min()));const g=Fe().add(c),_=new jh(we.min(),new Map,new Tt(He),d,g);await ZE(r,_),r.Ru=r.Ru.remove(c),r.Au.delete(e),Rp(r)}else await jm(r.localStore,e,!1).then((()=>Pm(r,e,n))).catch(Ro)}async function FN(s,e){const n=Ce(s),r=e.batch.batchId;try{const l=await JR(n.localStore,e);eT(n,r,null),JE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lu(n,l)}catch(l){await Ro(l)}}async function GN(s,e,n){const r=Ce(s);try{const l=await(function(d,g){const _=Ce(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(et(S!==null,37113),T=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);eT(r,e,n),JE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lu(r,l)}catch(l){await Ro(l)}}function JE(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function eT(s,e,n){const r=Ce(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function Pm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||tT(s,r)}))}function tT(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(vp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Rp(s))}function Sv(s,e,n){for(const r of n)r instanceof WE?(s.Vu.addReference(r.key,e),KN(s,r)):r instanceof $E?(le(xp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||tT(s,r.key)):Ee(19791,{wu:r})}function KN(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(le(xp,"New document in limbo: "+n),s.Eu.add(r),Rp(s))}function Rp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ge(Et.fromString(e)),r=s.fu.next();s.Au.set(r,new VN(n)),s.Ru=s.Ru.insert(n,r),PE(s.remoteStore,new fr(Hi(Dh(n.path)),r,"TargetPurposeLimboResolution",Nh.ce))}}async function lu(s,e,n){const r=Ce(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){l.push(y);const T=yp.Es(_.targetId,y);c.push(T)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(_,y){const T=Ce(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(y,(O=>W.forEach(O.Ts,(H=>T.persistence.referenceDelegate.addReference(S,O.targetId,H))).next((()=>W.forEach(O.Is,(H=>T.persistence.referenceDelegate.removeReference(S,O.targetId,H)))))))))}catch(S){if(!No(S))throw S;le(_p,"Failed to update sequence numbers: "+S)}for(const S of y){const O=S.targetId;if(!S.fromCache){const H=T.vs.get(O),J=H.snapshotVersion,ie=H.withLastLimboFreeSnapshotVersion(J);T.vs=T.vs.insert(O,ie)}}})(r.localStore,c))}async function YN(s,e){const n=Ce(s);if(!n.currentUser.isEqual(e)){le(xp,"User change. New user:",e.toKey());const r=await LE(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new de($.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lu(n,r.Ns)}}function QN(s,e){const n=Ce(s),r=n.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let l=Fe();const c=n.Iu.get(e);if(!c)return l;for(const d of c){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function nT(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HN.bind(null,e),e.Pu.J_=ON.bind(null,e.eventManager),e.Pu.yu=DN.bind(null,e.eventManager),e}function WN(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GN.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ZR(this.persistence,new WR,e.initialUser,this.serializer)}Cu(e){return new VE(gp.Vi,this.serializer)}Du(e){return new rN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class $N extends bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){et(this.persistence.referenceDelegate instanceof Eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new MR(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new VE((r=>Eh.Vi(r,n)),this.serializer)}}class Bm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Av(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YN.bind(null,this.syncEngine),await NN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new IN})()}createDatastore(e){const n=Uh(e.databaseInfo.databaseId),r=cN(e.databaseInfo);return pN(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,c,d,g){return new yN(r,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>Av(this.syncEngine,n,0)),(function(){return yv.v()?new yv:new aN})())}createSyncEngine(e,n){return(function(l,c,d,g,_,y,T){const S=new LN(l,c,d,g,_,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ce(n);le(ha,"RemoteStore shutting down."),r.Ea.add(5),await ou(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bm.provider={build:()=>new Bm};class iT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const wr="FirestoreClient";class XN{constructor(e,n,r,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=on.UNAUTHENTICATED,this.clientId=ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{le(wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(le(wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function rm(s,e){s.asyncQueue.verifyOperationInProgress(),le(wr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await LE(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function wv(s,e){s.asyncQueue.verifyOperationInProgress();const n=await ZN(s);le(wr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>vv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>vv(e.remoteStore,l))),s._onlineComponents=e}async function ZN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(wr,"Using user provided OfflineComponentProvider");try{await rm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await rm(s,new bh)}}else le(wr,"Using default OfflineComponentProvider"),await rm(s,new $N(void 0));return s._offlineComponents}async function sT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(wr,"Using user provided OnlineComponentProvider"),await wv(s,s._uninitializedComponentsProvider._online)):(le(wr,"Using default OnlineComponentProvider"),await wv(s,new Bm))),s._onlineComponents}function JN(s){return sT(s).then((e=>e.syncEngine))}async function qm(s){const e=await sT(s),n=e.eventManager;return n.onListen=jN.bind(null,e.syncEngine),n.onUnlisten=PN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BN.bind(null,e.syncEngine),n}function eC(s,e,n,r){const l=new iT(r),c=new QE(e,l,n);return s.asyncQueue.enqueueAndForget((async()=>KE(await qm(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>YE(await qm(s),c)))}}function tC(s,e,n={}){const r=new yr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const T=new iT({next:O=>{T.Nu(),d.enqueueAndForget((()=>YE(c,S)));const H=O.docs.has(g);!H&&O.fromCache?y.reject(new de($.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&O.fromCache&&_&&_.source==="server"?y.reject(new de($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),S=new QE(Dh(g.path),T,{includeMetadataChanges:!0,Ka:!0});return KE(c,S)})(await qm(s),s.asyncQueue,e,n,r))),r.promise}function nC(s,e){const n=new yr;return s.asyncQueue.enqueueAndForget((async()=>qN(await JN(s),e,n))),n.promise}function rT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const iC="ComponentProvider",xv=new Map;function sC(s,e,n,r,l){return new Ax(s,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,rT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const aT="firestore.googleapis.com",Rv=!0;class Nv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aT,this.ssl=Rv}else this.host=e.host,this.ssl=e.ssl??Rv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ME;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DR)throw new de($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Np{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tx;switch(r.type){case"firstParty":return new rx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=xv.get(n);r&&(le(iC,"Removing Datastore"),xv.delete(n),r.terminate())})(this),Promise.resolve()}}function rC(s,e,n,r={}){s=di(s,Np);const l=Ao(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${n}`;l&&(t1(`https://${g}`),n1("Firestore",!0)),c.host!==aT&&c.host!==g&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:r};if(!vr(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=on.MOCK_USER;else{y=A2(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new de($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new on(S)}s._authCredentials=new nx(new Y1(y,T))}}class Bh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bh(this.firestore,e,this._query)}}class Pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(su(n,Pt._jsonSchema))return new Pt(e,r||null,new ge(Et.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:zt("string",Pt._jsonSchemaVersion),referencePath:zt("string")};class Wl extends Bh{constructor(e,n,r){super(e,n,Dh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new ge(e))}withConverter(e){return new Wl(this.firestore,e,this._path)}}function En(s,e,...n){if(s=fn(s),arguments.length===1&&(e=ip.newId()),hx("doc","path",e),s instanceof Np){const r=Et.fromString(e,...n);return q_(r),new Pt(s,null,new ge(r))}{if(!(s instanceof Pt||s instanceof Wl))throw new de($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Et.fromString(e,...n));return q_(r),new Pt(s.firestore,s instanceof Wl?s.converter:null,new ge(r))}}const Cv="AsyncQueue";class Iv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UE(this,"async_queue_retry"),this._c=()=>{const r=sm();r&&le(Cv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;le(Cv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,As("INTERNAL UNHANDLED ERROR: ",Ov(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Ap.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:Ov(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ov(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class fa extends Np{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new Iv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Iv(e),this._firestoreClient=void 0,await e}}}function aC(s,e){const n=typeof s=="object"?s:a1(),r=typeof s=="string"?s:dh,l=Ym(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=T2("firestore");c&&rC(l,...c)}return l}function Cp(s){if(s._terminated)throw new de($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||oC(s),s._firestoreClient}function oC(s){const e=s._freezeSettings(),n=sC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new XN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(nn.fromBase64String(e))}catch(n){throw new de($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:zt("string",Zn._jsonSchemaVersion),bytes:zt("string")};class Ip{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qh{constructor(e){this._methodName=e}}class Gi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gi._jsonSchemaVersion}}static fromJSON(e){if(su(e,Gi._jsonSchema))return new Gi(e.latitude,e.longitude)}}Gi._jsonSchemaVersion="firestore/geoPoint/1.0",Gi._jsonSchema={type:zt("string",Gi._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class pi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new pi(e.vectorValues);throw new de($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:zt("string",pi._jsonSchemaVersion),vectorValues:zt("object")};const lC=/^__.*__$/;class uC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Rr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ru(e,this.data,n,this.fieldTransforms)}}class oT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Rr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:s})}}class Hh{constructor(e,n,r,l,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Hh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ah(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(lT(this.dataSource)&&lC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class cC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uh(e)}createContext(e,n,r,l=!1){return new Hh({dataSource:e,methodName:n,targetDoc:r,path:tn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uT(s){const e=s._freezeSettings(),n=Uh(s._databaseId);return new cC(s._databaseId,!!e.ignoreUndefinedProperties,n)}function hC(s,e,n,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,n,l);Dp("Data must be an object, but it was:",d,r);const g=cT(r,d);let _,y;if(c.merge)_=new Ln(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const O=$l(e,S,n);if(!d.contains(O))throw new de($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);dT(T,O)||T.push(O)}_=new Ln(T),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new uC(new wn(g),_,y)}class Fh extends qh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fh}}function fC(s,e,n){return new Hh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Op extends qh{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=fC(this,e,!0),r=this.Ac.map((c=>uu(c,n))),l=new vo(r);return new Zx(e.path,l)}isEqual(e){return e instanceof Op&&vr(this.Ac,e.Ac)}}function dC(s,e,n,r){const l=s.createContext(1,e,n);Dp("Data must be an object, but it was:",l,r);const c=[],d=wn.empty();xr(r,((_,y)=>{const T=fT(e,_,n);y=fn(y);const S=l.childContextForFieldPath(T);if(y instanceof Fh)c.push(T);else{const O=uu(y,S);O!=null&&(c.push(T),d.set(T,O))}}));const g=new Ln(c);return new oT(d,g,l.fieldTransforms)}function mC(s,e,n,r,l,c){const d=s.createContext(1,e,n),g=[$l(e,r,n)],_=[l];if(c.length%2!=0)throw new de($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push($l(e,c[O])),_.push(c[O+1]);const y=[],T=wn.empty();for(let O=g.length-1;O>=0;--O)if(!dT(y,g[O])){const H=g[O];let J=_[O];J=fn(J);const ie=d.childContextForFieldPath(H);if(J instanceof Fh)y.push(H);else{const se=uu(J,ie);se!=null&&(y.push(H),T.set(H,se))}}const S=new Ln(y);return new oT(T,S,d.fieldTransforms)}function uu(s,e){if(hT(s=fn(s)))return Dp("Unsupported field value:",e,s),cT(s,e);if(s instanceof qh)return(function(r,l){if(!lT(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let _=uu(g,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Wx(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=pt.fromDate(r);return{timestampValue:vh(l.serializer,c)}}if(r instanceof pt){const c=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vh(l.serializer,c)}}if(r instanceof Gi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zn)return{bytesValue:xE(l.serializer,r._byteString)};if(r instanceof Pt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:mp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof pi)return(function(d,g){const _=d instanceof pi?d.toArray():d;return{mapValue:{fields:{[nE]:{stringValue:iE},[mh]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return cp(g.serializer,T)}))}}}}}})(r,l);if(kE(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${sp(r)}`)})(s,e)}function cT(s,e){const n={};return $1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xr(s,((r,l)=>{const c=uu(l,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function hT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof pt||s instanceof Gi||s instanceof Zn||s instanceof Pt||s instanceof qh||s instanceof pi||kE(s))}function Dp(s,e,n){if(!hT(n)||!Q1(n)){const r=sp(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function $l(s,e,n){if((e=fn(e))instanceof Ip)return e._internalPath;if(typeof e=="string")return fT(s,e);throw Ah("Field path arguments must be of type string or ",s,!1,void 0,n)}const pC=new RegExp("[~\\*/\\[\\]]");function fT(s,e,n){if(e.search(pC)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Ip(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Ah(s,e,n,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new de($.INVALID_ARGUMENT,g+s+_)}function dT(s,e){return s.some((n=>n.isEqual(e)))}class gC{convertValue(e,n="none"){switch(Ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xr(e,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[mh].arrayValue?.values?.map((r=>Ct(r.doubleValue)));return new pi(n)}convertGeoPoint(e){return new Gi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ih(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const n=Tr(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);et(DE(r),9688,{name:e});const l=new Kl(r.get(1),r.get(3)),c=new ge(r.popFirst(5));return l.isEqual(n)||As(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class mT extends gC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function ms(...s){return new Op("arrayUnion",s)}const Dv="@firebase/firestore",kv="4.10.0";function Mv(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class pT{constructor(e,n,r,l,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field($l("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yC extends pT{data(){return super.data()}}function _C(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function vC(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends pT{constructor(e,n,r,l,c,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($l("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:zt("string",oa._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class nh extends oa{data(e={}){return super.data(e)}}class fo{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Vl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new nh(this._firestore,this._userDataWriter,r.key,r,new Vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new nh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new nh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:EC(g.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ip.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function EC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:zt("string",fo._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};function TC(s){s=di(s,Pt);const e=di(s.firestore,fa),n=Cp(e);return tC(n,s._key).then((r=>gT(e,s,r)))}function bC(s,e,n){s=di(s,Pt);const r=di(s.firestore,fa),l=vC(s.converter,e),c=uT(r);return kp(r,[hC(c,"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,mi.none())])}function hi(s,e,n,...r){s=di(s,Pt);const l=di(s.firestore,fa),c=uT(l);let d;return d=typeof(e=fn(e))=="string"||e instanceof Ip?mC(c,"updateDoc",s._key,e,n,r):dC(c,"updateDoc",s._key,e),kp(l,[d.toMutation(s._key,mi.exists(!0))])}function AC(s){return kp(di(s.firestore,fa),[new hp(s._key,mi.none())])}function Vv(s,...e){s=fn(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Mv(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Mv(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Pt)d=di(s.firestore,fa),g=Dh(s._key.path),c={next:y=>{e[r]&&e[r](gT(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=di(s,Bh);d=di(y.firestore,fa),g=y._query;const T=new mT(d);c={next:S=>{e[r]&&e[r](new fo(d,T,y,S))},error:e[r+1],complete:e[r+2]},_C(s._query)}const _=Cp(d);return eC(_,g,l,c)}function kp(s,e){const n=Cp(s);return nC(n,e)}function gT(s,e,n){const r=n.docs.get(e._key),l=new mT(s);return new oa(s,l,e._key,r,new Vl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){ex(So),mo(new la("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new fa(new ix(r.getProvider("auth-internal")),new ax(d,r.getProvider("app-check-internal")),Sx(d,l),d);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),pr(Dv,kv,e),pr(Dv,kv,"esm2020")})();const yT=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const SC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const wC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const Lv=s=>{const e=wC(s);return e.charAt(0).toUpperCase()+e.slice(1)};var xC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const RC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const NC=Qe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},_)=>Qe.createElement("svg",{ref:_,...xC,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:yT("lucide",l),...!c&&!RC(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,T])=>Qe.createElement(y,T)),...Array.isArray(c)?c:[c]]));const Se=(s,e)=>{const n=Qe.forwardRef(({className:r,...l},c)=>Qe.createElement(NC,{ref:c,iconNode:e,className:yT(`lucide-${SC(Lv(s))}`,`lucide-${s}`,r),...l}));return n.displayName=Lv(s),n};const CC=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],IC=Se("anchor",CC);const OC=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],DC=Se("arrow-up",OC);const kC=[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]],Fc=Se("bird",kC);const MC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],am=Se("book-open",MC);const VC=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],om=Se("bug",VC);const LC=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],jC=Se("cat",LC);const UC=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],_T=Se("chart-no-axes-column",UC);const zC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Hm=Se("circle-check-big",zC);const PC=[["path",{d:"M16.17 7.83 2 22",key:"t58vo8"}],["path",{d:"M4.02 12a2.827 2.827 0 1 1 3.81-4.17A2.827 2.827 0 1 1 12 4.02a2.827 2.827 0 1 1 4.17 3.81A2.827 2.827 0 1 1 19.98 12a2.827 2.827 0 1 1-3.81 4.17A2.827 2.827 0 1 1 12 19.98a2.827 2.827 0 1 1-4.17-3.81A1 1 0 1 1 4 12",key:"17k36q"}],["path",{d:"m7.83 7.83 8.34 8.34",key:"1d7sxk"}]],BC=Se("clover",PC);const qC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],HC=Se("copy",qC);const FC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],vT=Se("crown",FC);const GC=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],KC=Se("earth",GC);const YC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],QC=Se("ellipsis",YC);const WC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ih=Se("eye",WC);const $C=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],lm=Se("feather",$C);const XC=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],ZC=Se("fish",XC);const JC=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],um=Se("flame",JC);const e4=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],jv=Se("flower",e4);const t4=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],Uv=Se("footprints",t4);const n4=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],i4=Se("ghost",n4);const s4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],zv=Se("grid-3x3",s4);const r4=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],ET=Se("hammer",r4);const a4=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],bo=Se("hexagon",a4);const o4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],l4=Se("history",o4);const u4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],c4=Se("house",u4);const h4=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],f4=Se("leaf",h4);const d4=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],m4=Se("loader",d4);const p4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Pv=Se("log-out",p4);const g4=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],y4=Se("moon",g4);const _4=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],TT=Se("mountain",_4);const v4=[["path",{d:"M12 4V2",key:"1k5q1u"}],["path",{d:"M5 10v4a7.004 7.004 0 0 0 5.277 6.787c.412.104.802.292 1.102.592L12 22l.621-.621c.3-.3.69-.488 1.102-.592A7.003 7.003 0 0 0 19 14v-4",key:"1tgyif"}],["path",{d:"M12 4C8 4 4.5 6 4 8c-.243.97-.919 1.952-2 3 1.31-.082 1.972-.29 3-1 .54.92.982 1.356 2 2 1.452-.647 1.954-1.098 2.5-2 .595.995 1.151 1.427 2.5 2 1.31-.621 1.862-1.058 2.5-2 .629.977 1.162 1.423 2.5 2 1.209-.548 1.68-.967 2-2 1.032.916 1.683 1.157 3 1-1.297-1.036-1.758-2.03-2-3-.5-2-4-4-8-4Z",key:"tnsqj"}]],E4=Se("nut",v4);const T4=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],aa=Se("paw-print",T4);const b4=[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]],A4=Se("rabbit",b4);const S4=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],cm=Se("rat",S4);const w4=[["path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44",key:"1cn552"}]],x4=Se("shell",w4);const R4=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],bT=Se("skip-forward",R4);const N4=[["path",{d:"M2 13a6 6 0 1 0 12 0 4 4 0 1 0-8 0 2 2 0 0 0 4 0",key:"hneq2s"}],["circle",{cx:"10",cy:"13",r:"8",key:"194lz3"}],["path",{d:"M2 21h12c4.4 0 8-3.6 8-8V7a2 2 0 1 0-4 0v6",key:"ixqyt7"}],["path",{d:"M18 3 19.1 5.2",key:"9tjm43"}],["path",{d:"M22 3 20.9 5.2",key:"j3odrs"}]],C4=Se("snail",N4);const I4=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],Bv=Se("snowflake",I4);const O4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],hm=Se("sparkles",O4);const D4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],k4=Se("target",D4);const M4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qv=Se("trash-2",M4);const V4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fm=Se("triangle-alert",V4);const L4=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],j4=Se("trophy",L4);const U4=[["path",{d:"M16 8q6 0 6-6-6 0-6 6",key:"qsyyc4"}],["path",{d:"M17.41 3.59a10 10 0 1 0 3 3",key:"41m9h7"}],["path",{d:"M2 2a26.6 26.6 0 0 1 10 20c.9-6.82 1.5-9.5 4-14",key:"qiv7li"}]],z4=Se("vegan",U4);const P4=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],AT=Se("waves",P4);const B4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mp=Se("x",B4),q4={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:31b2942ce74b65c66aa637"},ST=r1(q4),dm=Zw(ST),Tn=aC(ST),Vn=typeof __app_id<"u"?__app_id:"equilibrium-game",H4="9",Gc=()=>E.jsx("style",{children:`
    .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); border-radius: 4px; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(16, 185, 129, 0.3); border-radius: 4px; }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(16, 185, 129, 0.6); }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(10deg); }
    }
    .animate-float { animation: float infinite ease-in-out; }
    
    @keyframes spin-slow {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    .animate-spin-slow { animation: spin-slow 12s linear infinite; }

    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    
    .mask-gradient-right { mask-image: linear-gradient(to right, black 85%, transparent 100%); }
  `}),mm=()=>E.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black"}),E.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),E.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-5",children:[...Array(15)].map((s,e)=>E.jsx("div",{className:"absolute animate-float text-emerald-500",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${20+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:E.jsx(bo,{size:48})},e))})]}),_r={WOOD:{id:"WOOD",color:"bg-amber-800",border:"border-amber-950",icon:QC,name:"Log",validOn:["EMPTY","WOOD"],scoreType:"TREE"},LEAF:{id:"LEAF",color:"bg-emerald-500",border:"border-emerald-700",icon:f4,name:"Foliage",validOn:["EMPTY","WOOD"],scoreType:"TREE"},STONE:{id:"STONE",color:"bg-slate-400",border:"border-slate-600",icon:TT,name:"Stone",validOn:["EMPTY","STONE"],scoreType:"MOUNTAIN"},WATER:{id:"WATER",color:"bg-cyan-500",border:"border-cyan-700",icon:AT,name:"Water",validOn:["EMPTY"],scoreType:"RIVER"},SAND:{id:"SAND",color:"bg-yellow-400",border:"border-yellow-600",icon:z4,name:"Sand",validOn:["EMPTY"],scoreType:"FIELD"},BRICK:{id:"BRICK",color:"bg-red-700",border:"border-red-900",icon:c4,name:"Brick",validOn:["EMPTY","BRICK","STONE","WOOD"],scoreType:"BUILDING"}},an=(s,e)=>[{q:s+1,r:e},{q:s+1,r:e-1},{q:s,r:e-1},{q:s-1,r:e},{q:s-1,r:e+1},{q:s,r:e+1}],sa=s=>{if(!s||s.stack.length!==2)return!1;const e=s.stack[1],n=s.stack[0];return e==="BRICK"&&["BRICK","STONE","WOOD"].includes(n)},ve=(s,e)=>!s||s.stack.length!==e.length?!1:s.stack.every((n,r)=>n===e[r]),bn=(s,e,n,r)=>an(e,n).some(c=>{const d=s[`${c.q},${c.r}`];return d&&r(d)}),F4=[{q:1,r:0},{q:1,r:-1},{q:0,r:-1},{q:-1,r:0},{q:-1,r:1},{q:0,r:1}],An=(s,e,n,r)=>F4.some(l=>r.every((c,d)=>{const g=e+l.q*(d+1),_=n+l.r*(d+1),y=s[`${g},${_}`];return y&&c(y)})),ps={SQUIRREL:{id:"SQUIRREL",name:"Squirrel",desc:"Small Tree (1 Log + Leaf)",points:[2,2,3],slots:3,icon:E4,iconColor:"text-orange-500",visual:{type:"stack",tokens:["WOOD","LEAF"]},check:s=>ve(s,["WOOD","LEAF"])},LIZARD:{id:"LIZARD",name:"Lizard",desc:"Small Rock (Stone) next to Bush (Leaf)",points:[2,2,2],slots:3,icon:cm,iconColor:"text-emerald-400",visual:{type:"adj",main:["STONE"],others:[["LEAF"]]},check:(s,e)=>ve(s,["STONE"])&&bn(e,s.q,s.r,n=>ve(n,["LEAF"]))},SNAIL:{id:"SNAIL",name:"Snail",desc:"Small Rock (Stone) next to Water",points:[2,2,2],slots:3,icon:C4,iconColor:"text-lime-300",visual:{type:"adj",main:["STONE"],others:[["WATER"]]},check:(s,e)=>ve(s,["STONE"])&&bn(e,s.q,s.r,n=>n.stack[0]==="WATER")},HERON:{id:"HERON",name:"Heron",desc:"Water next to Bush (Leaf)",points:[2,2,2],slots:3,icon:Fc,iconColor:"text-cyan-300",visual:{type:"adj",main:["WATER"],others:[["LEAF"]]},check:(s,e)=>s.stack[0]==="WATER"&&bn(e,s.q,s.r,n=>ve(n,["LEAF"]))},DUCK:{id:"DUCK",name:"Duck",desc:"Water next to Wood (Log)",points:[2,2,2],slots:3,icon:Fc,iconColor:"text-green-600",visual:{type:"adj",main:["WATER"],others:[["WOOD"]]},check:(s,e)=>s.stack[0]==="WATER"&&bn(e,s.q,s.r,n=>ve(n,["WOOD"]))},HAWK:{id:"HAWK",name:"Hawk",desc:"Dead Tree (3 Logs)",points:[3,4],slots:2,icon:lm,iconColor:"text-red-700",visual:{type:"stack",tokens:["WOOD","WOOD","WOOD"]},check:s=>ve(s,["WOOD","WOOD","WOOD"])},EAGLE:{id:"EAGLE",name:"Eagle",desc:"Highest Peak (3 Stone)",points:[3,4],slots:2,icon:k4,iconColor:"text-sky-600",visual:{type:"stack",tokens:["STONE","STONE","STONE"]},check:s=>ve(s,["STONE","STONE","STONE"])},FROG:{id:"FROG",name:"Frog",desc:"Bush (Leaf) next to Water",points:[2,2,2,3],slots:4,icon:BC,iconColor:"text-lime-500",visual:{type:"adj",main:["LEAF"],others:[["WATER"]]},check:(s,e)=>ve(s,["LEAF"])&&bn(e,s.q,s.r,n=>n.stack[0]==="WATER")},BEAVER:{id:"BEAVER",name:"Beaver",desc:"Log next to Water AND Tree",points:[3,3,4],slots:3,icon:ET,iconColor:"text-amber-800",visual:{type:"adj",main:["WOOD"],others:[["WATER"],["WOOD","LEAF"]]},check:(s,e)=>{if(!ve(s,["WOOD"]))return!1;const n=an(s.q,s.r).map(c=>e[`${c.q},${c.r}`]),r=n.some(c=>c&&c.stack[0]==="WATER"),l=n.some(c=>c&&ve(c,["WOOD","LEAF"]));return r&&l}},TURTLE:{id:"TURTLE",name:"Turtle",desc:"Water next to Field AND Stone",points:[3,3],slots:2,icon:x4,iconColor:"text-teal-600",visual:{type:"adj",main:["WATER"],others:[["SAND"],["STONE"]]},check:(s,e)=>{if(s.stack[0]!=="WATER")return!1;const n=an(s.q,s.r).map(r=>e[`${r.q},${r.r}`]);return n.some(r=>r?.stack[0]==="SAND")&&n.some(r=>r?.stack[0]==="STONE")}},BOAR:{id:"BOAR",name:"Boar",desc:"Field next to Water AND Tree",points:[3,3,3],slots:3,icon:cm,iconColor:"text-stone-600",visual:{type:"adj",main:["SAND"],others:[["WATER"],["WOOD","LEAF"]]},check:(s,e)=>{if(s.stack[0]!=="SAND")return!1;const n=an(s.q,s.r).map(r=>e[`${r.q},${r.r}`]);return n.some(r=>r?.stack[0]==="WATER")&&n.some(r=>r&&ve(r,["WOOD","LEAF"]))}},ANTS:{id:"ANTS",name:"Ants",desc:"Field next to Bush(1 Leaf) AND Tree",points:[3,3,3],slots:3,icon:om,iconColor:"text-amber-600",visual:{type:"adj",main:["SAND"],others:[["LEAF"],["WOOD","LEAF"]]},check:(s,e)=>{if(s.stack[0]!=="SAND")return!1;const n=an(s.q,s.r).map(r=>e[`${r.q},${r.r}`]);return n.some(r=>r?.stack[0]==="LEAF")&&n.some(r=>r&&ve(r,["WOOD","LEAF"]))}},FOX:{id:"FOX",name:"Fox",desc:"Medium Rock (2 Stone) next to Medium Wood (2 Log)",points:[3,4],slots:2,icon:um,iconColor:"text-orange-600",visual:{type:"adj",main:["STONE","STONE"],others:[["WOOD","WOOD"]]},check:(s,e)=>ve(s,["STONE","STONE"])&&bn(e,s.q,s.r,n=>ve(n,["WOOD","WOOD"]))},DEER:{id:"DEER",name:"Deer",desc:"Tall Tree (2 Log+Leaf) next to Field",points:[3,3,4],slots:3,icon:Uv,iconColor:"text-amber-600",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["SAND"]]},check:(s,e)=>ve(s,["WOOD","WOOD","LEAF"])&&bn(e,s.q,s.r,n=>n.stack[0]==="SAND")},BEAR:{id:"BEAR",name:"Bear",desc:"Tall Tree (2 Log+Leaf) next to Mountain (2+ Stone)",points:[5,5],slots:2,icon:aa,iconColor:"text-amber-800",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["STONE","STONE"]]},check:(s,e)=>ve(s,["WOOD","WOOD","LEAF"])&&bn(e,s.q,s.r,n=>n.stack.length>=2&&n.stack[0]==="STONE")},PANDA:{id:"PANDA",name:"Panda",desc:"Tall Tree (2 Log+Leaf) next to Water",points:[5,5],slots:2,icon:aa,iconColor:"text-white-900",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["WATER"]]},check:(s,e)=>ve(s,["WOOD","WOOD","LEAF"])&&bn(e,s.q,s.r,n=>n.stack[0]==="WATER")},SCORPION:{id:"SCORPION",name:"Scorpion",desc:"Medium Rock (2 Stone) next to Field",points:[3,3,3],slots:3,icon:om,iconColor:"text-rose-600",visual:{type:"adj",main:["STONE","STONE"],others:[["SAND"]]},check:(s,e)=>ve(s,["STONE","STONE"])&&bn(e,s.q,s.r,n=>n.stack[0]==="SAND")},BEE:{id:"BEE",name:"Bee",desc:"Bush (Leaf) next to 2 other Bushes",points:[2,2,3],slots:3,icon:jv,iconColor:"text-yellow-400",visual:{type:"adj",main:["LEAF"],others:[["LEAF"],["LEAF"]]},check:(s,e)=>{if(!ve(s,["LEAF"]))return!1;let n=0;return an(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&ve(l,["LEAF"])&&n++}),n>=2}},WOLF:{id:"WOLF",name:"Wolf",desc:"Tree (1 Log+Leaf) next to 2 other Trees",points:[4,5],slots:2,icon:y4,iconColor:"text-slate-500",visual:{type:"adj",main:["WOOD","LEAF"],others:[["WOOD","LEAF"],["WOOD","LEAF"]]},check:(s,e)=>{if(!ve(s,["WOOD","LEAF"]))return!1;let n=0;return an(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&ve(l,["WOOD","LEAF"])&&n++}),n>=2}},SALMON:{id:"SALMON",name:"Salmon",desc:"Water next to 2 other Water tiles",points:[2,2,3],slots:3,icon:ZC,iconColor:"text-rose-400",visual:{type:"adj",main:["WATER"],others:[["WATER"],["WATER"]]},check:(s,e)=>{if(s.stack[0]!=="WATER")return!1;let n=0;return an(s.q,s.r).forEach(r=>{e[`${r.q},${r.r}`]?.stack[0]==="WATER"&&n++}),n>=2}},RABBIT:{id:"RABBIT",name:"Rabbit",desc:"Field next to 2 Bushes",points:[3,3,4,4],slots:4,icon:A4,iconColor:"text-stone-300",visual:{type:"adj",main:["SAND"],others:[["LEAF"],["LEAF"]]},check:(s,e)=>{if(s.stack[0]!=="SAND")return!1;let n=0;return an(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&ve(l,["LEAF"])&&n++}),n>=2}},PENGUIN:{id:"PENGUIN",name:"Penguin",desc:"Stone next to 2 Water tiles",points:[3,3,4,4],slots:4,icon:Fc,iconColor:"text-cyan-300",visual:{type:"adj",main:["STONE"],others:[["WATER"],["WATER"]]},check:(s,e)=>{if(s.stack[0]!=="STONE")return!1;let n=0;return an(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&ve(l,["WATER"])&&n++}),n>=2}},MOLE:{id:"MOLE",name:"Mole",desc:"Stone next to 2 Fields",points:[3,3,4,4],slots:4,icon:cm,iconColor:"text-amber-700",visual:{type:"adj",main:["STONE"],others:[["SAND"],["SAND"]]},check:(s,e)=>{if(s.stack[0]!=="STONE")return!1;let n=0;return an(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&ve(l,["SAND"])&&n++}),n>=2}},BAT:{id:"BAT",name:"Bat",desc:"Building next to Water",points:[3,3,3],slots:3,icon:i4,iconColor:"text-violet-400",visual:{type:"adj",main:["BRICK","BRICK"],others:[["WATER"]]},check:(s,e)=>sa(s)&&bn(e,s.q,s.r,n=>n.stack[0]==="WATER")},CAT:{id:"CAT",name:"Cat",desc:"Building next to 2 Fields",points:[4,4],slots:2,icon:jC,iconColor:"text-slate-300",visual:{type:"adj",main:["BRICK","BRICK"],others:[["SAND"],["SAND"]]},check:(s,e)=>{if(!sa(s))return!1;let n=0;return an(s.q,s.r).forEach(r=>{const l=e[`${r.q},${r.r}`];l&&l.stack[0]==="SAND"&&n++}),n>=2}},OWL:{id:"OWL",name:"Owl",desc:"Tall Tree (2 Log+Leaf) next to Building",points:[5,5],slots:2,icon:ih,iconColor:"text-indigo-400",visual:{type:"adj",main:["WOOD","WOOD","LEAF"],others:[["BRICK","BRICK"]]},check:(s,e)=>ve(s,["WOOD","WOOD","LEAF"])&&bn(e,s.q,s.r,n=>sa(n))},SPIDER:{id:"SPIDER",name:"Spider",desc:"Dead Tree (3 Log) next to Building",points:[5,5],slots:2,icon:Bv,iconColor:"text-red-900",visual:{type:"adj",main:["WOOD","WOOD","WOOD"],others:[["BRICK","BRICK"]]},check:(s,e)=>ve(s,["WOOD","WOOD","WOOD"])&&bn(e,s.q,s.r,n=>sa(n))},CATERPILLAR:{id:"CATERPILLAR",name:"Caterpillar",desc:"Line: Leaf -> Leaf -> Leaf",points:[2,2,3],slots:3,icon:om,iconColor:"text-lime-600",visual:{type:"line",sequence:[["LEAF"],["LEAF"],["LEAF"]]},check:(s,e)=>ve(s,["LEAF"])?An(e,s.q,s.r,[n=>ve(n,["LEAF"]),n=>ve(n,["LEAF"])]):!1},SNAKE:{id:"SNAKE",name:"Snake",desc:"Line: Bush -> Bush -> Stone",points:[3,4],slots:2,icon:AT,iconColor:"text-emerald-500",visual:{type:"line",sequence:[["LEAF"],["LEAF"],["STONE"]]},check:(s,e)=>ve(s,["LEAF"])?An(e,s.q,s.r,[n=>ve(n,["LEAF"]),n=>n.stack[0]==="STONE"]):!1},CAMEL:{id:"CAMEL",name:"Camel",desc:"Line: Sand -> Sand -> Stone",points:[3,4],slots:2,icon:aa,iconColor:"text-amber-400",visual:{type:"line",sequence:[["SAND"],["SAND"],["STONE"]]},check:(s,e)=>s.stack[0]!=="SAND"?!1:An(e,s.q,s.r,[n=>n.stack[0]==="SAND",n=>n.stack[0]==="STONE"])},RHINO:{id:"RHINO",name:"Rhino",desc:"Line: Stone -> Stone -> Field",points:[3,4],slots:2,icon:vT,iconColor:"text-stone-500",visual:{type:"line",sequence:[["STONE"],["STONE"],["SAND"]]},check:(s,e)=>s.stack[0]!=="STONE"?!1:An(e,s.q,s.r,[n=>n.stack[0]==="STONE",n=>n.stack[0]==="SAND"])},SWAN:{id:"SWAN",name:"Swan",desc:"Line: Water -> Water -> Leaf",points:[3,4],slots:2,icon:lm,iconColor:"text-pink-400",visual:{type:"line",sequence:[["WATER"],["WATER"],["LEAF"]]},check:(s,e)=>s.stack[0]!=="WATER"?!1:An(e,s.q,s.r,[n=>n.stack[0]==="WATER",n=>ve(n,["LEAF"])])},CRANE:{id:"CRANE",name:"Crane",desc:"Line: Water -> Log -> Water",points:[3,3],slots:2,icon:Fc,iconColor:"text-red-400",visual:{type:"line",sequence:[["WATER"],["WOOD"],["WATER"]]},check:(s,e)=>s.stack[0]!=="WATER"?!1:An(e,s.q,s.r,[n=>ve(n,["WOOD"]),n=>n.stack[0]==="WATER"])},OCTOPUS:{id:"OCTOPUS",name:"Octopus",desc:"Line: Water -> Stone -> Water",points:[3,3],slots:2,icon:Bv,iconColor:"text-indigo-600",visual:{type:"line",sequence:[["WATER"],["STONE"],["WATER"]]},check:(s,e)=>s.stack[0]!=="WATER"?!1:An(e,s.q,s.r,[n=>n.stack[0]==="STONE",n=>n.stack[0]==="WATER"])},MONKEY:{id:"MONKEY",name:"Monkey",desc:"Line: Small Tree -> Tall Tree",points:[4,5],slots:2,icon:aa,iconColor:"text-amber-500",visual:{type:"line",sequence:[["WOOD","LEAF"],["WOOD","WOOD","LEAF"]]},check:(s,e)=>ve(s,["WOOD","LEAF"])?An(e,s.q,s.r,[n=>ve(n,["WOOD","WOOD","LEAF"])]):!1},COUGAR:{id:"COUGAR",name:"Cougar",desc:"Line: Medium Rock -> High Peak",points:[4,5],slots:2,icon:um,iconColor:"text-red-600",visual:{type:"line",sequence:[["STONE","STONE"],["STONE","STONE","STONE"]]},check:(s,e)=>ve(s,["STONE","STONE"])?An(e,s.q,s.r,[n=>ve(n,["STONE","STONE","STONE"])]):!1},KINGFISHER:{id:"KINGFISHER",name:"Kingfisher",desc:"Line: Tree -> Water -> Tree",points:[4,4],slots:2,icon:lm,iconColor:"text-cyan-500",visual:{type:"line",sequence:[["WOOD","LEAF"],["WATER"],["WOOD","LEAF"]]},check:(s,e)=>ve(s,["WOOD","LEAF"])?An(e,s.q,s.r,[n=>n.stack[0]==="WATER",n=>ve(n,["WOOD","LEAF"])]):!1},ELEPHANT:{id:"ELEPHANT",name:"Elephant",desc:"Line: Field -> Tree -> Water",points:[4,5],slots:2,icon:IC,iconColor:"text-slate-600",visual:{type:"line",sequence:[["SAND"],["WOOD","LEAF"],["WATER"]]},check:(s,e)=>s.stack[0]!=="SAND"?!1:An(e,s.q,s.r,[n=>ve(n,["WOOD","LEAF"]),n=>n.stack[0]==="WATER"])},GIRAFFE:{id:"GIRAFFE",name:"Giraffe",desc:"Line: Tree -> Bush -> Building",points:[5,6],slots:2,icon:Uv,iconColor:"text-yellow-600",visual:{type:"line",sequence:[["WOOD","LEAF"],["LEAF"],["BRICK","BRICK"]]},check:(s,e)=>ve(s,["WOOD","LEAF"])?An(e,s.q,s.r,[n=>ve(n,["LEAF"]),n=>sa(n)]):!1},TIGER:{id:"TIGER",name:"Tiger",desc:"Line: Bush -> Tall Tree -> Bush",points:[4,4],slots:2,icon:um,iconColor:"text-orange-500",visual:{type:"line",sequence:[["LEAF"],["WOOD","WOOD","LEAF"],["LEAF"]]},check:(s,e)=>ve(s,["LEAF"])?An(e,s.q,s.r,[n=>ve(n,["WOOD","WOOD","LEAF"]),n=>ve(n,["LEAF"])]):!1},PEACOCK:{id:"PEACOCK",name:"Peacock",desc:"Line: Tree -> Building -> Tree",points:[5,6],slots:2,icon:jv,iconColor:"text-purple-500",visual:{type:"line",sequence:[["WOOD","LEAF"],["BRICK","BRICK"],["WOOD","LEAF"]]},check:(s,e)=>ve(s,["WOOD","LEAF"])?An(e,s.q,s.r,[n=>sa(n),n=>ve(n,["WOOD","LEAF"])]):!1},GOAT:{id:"GOAT",name:"Goat",desc:"High Peak (3 Stone) next to another Stone",points:[4,4],slots:2,icon:TT,iconColor:"text-gray-400",visual:{type:"adj",main:["STONE","STONE","STONE"],others:[["STONE"]]},check:(s,e)=>ve(s,["STONE","STONE","STONE"])&&bn(e,s.q,s.r,n=>n.stack[0]==="STONE")}},Hv=(s,e)=>{if(!s||s.animal||s.stack.length>=3||e==="BRICK"&&s.stack.length>=2||s.stack.length>=2&&s.stack[s.stack.length-1]==="BRICK")return!1;const n=s.stack.length>0?s.stack[s.stack.length-1]:"EMPTY";return _r[e].validOn.includes(n)},G4=s=>{let e={trees:0,mountains:0,fields:0,rivers:0,buildings:0};const n=new Set,r=Object.values(s);return r.forEach(c=>{const d=c.stack.length;if(d===0)return;const g=c.stack[d-1],_=c.stack[0];g!=="BRICK"&&g!=="WOOD"&&g==="LEAF"&&(d===1?e.trees+=1:_==="WOOD"&&(d===2?e.trees+=3:d===3&&(e.trees+=7)))}),r.forEach(c=>{const d=c.stack.length;c.stack[0]==="STONE"&&c.stack[d-1]==="STONE"&&an(c.q,c.r).some(y=>{const T=s[`${y.q},${y.r}`];return T&&T.stack.length>0&&T.stack[T.stack.length-1]==="STONE"})&&(d===1?e.mountains+=1:d===2?e.mountains+=3:d>=3&&(e.mountains+=7))}),n.clear(),r.forEach(c=>{if(c.stack[0]==="SAND"&&!n.has(`${c.q},${c.r}`)){let d=0,g=[c];for(n.add(`${c.q},${c.r}`);g.length>0;){const _=g.pop();d++,an(_.q,_.r).forEach(y=>{const T=s[`${y.q},${y.r}`],S=`${y.q},${y.r}`;T&&T.stack[0]==="SAND"&&!n.has(S)&&(n.add(S),g.push(T))})}d>=2&&(e.fields+=5)}}),n.clear(),r.forEach(c=>{if(c.stack[0]==="WATER"&&!n.has(`${c.q},${c.r}`)){let d=0,g=[c];for(n.add(`${c.q},${c.r}`);g.length>0;){const _=g.pop();d++,an(_.q,_.r).forEach(y=>{const T=s[`${y.q},${y.r}`],S=`${y.q},${y.r}`;T&&T.stack[0]==="WATER"&&!n.has(S)&&(n.add(S),g.push(T))})}d===2?e.rivers+=2:d===3?e.rivers+=5:d===4?e.rivers+=8:d===5?e.rivers+=11:d===6?e.rivers+=15:d>6&&(e.rivers+=15+(d-6)*4)}}),r.forEach(c=>{if(sa(c)){const d=an(c.q,c.r),g=new Set;d.forEach(_=>{const y=s[`${_.q},${_.r}`];if(y&&y.stack.length>0){const T=y.stack[y.stack.length-1];T!=="BRICK"&&g.add(T)}}),g.size>=3&&(e.buildings+=5)}}),{total:Object.values(e).reduce((c,d)=>c+d,0),breakdown:e}},pm=()=>{const s={};return[{r:-2,qStart:-1,qEnd:3},{r:-1,qStart:-1,qEnd:2},{r:0,qStart:-2,qEnd:2},{r:1,qStart:-2,qEnd:1},{r:2,qStart:-3,qEnd:1}].forEach(({r:n,qStart:r,qEnd:l})=>{for(let c=r;c<=l;c++)s[`${c},${n}`]={q:c,r:n,stack:[],animal:null}}),s},Fv=()=>{const s={WOOD:21,LEAF:19,STONE:23,WATER:23,SAND:19,BRICK:15};let e=[];Object.entries(s).forEach(([n,r])=>{for(let l=0;l<r;l++)e.push(n)});for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e},Gv=()=>{let s=Object.keys(ps);for(let e=s.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[s[e],s[n]]=[s[n],s[e]]}return s},Kv=(s,e)=>{let n=[...s],r=[...e];for(;n.length<5&&r.length>=3;)n.push({id:Math.random().toString(36).substr(2,9),tokens:[r.pop(),r.pop(),r.pop()].filter(Boolean)});return{market:n,bag:r}},Yv=(s,e)=>{let n=[...s],r=[...e];for(;n.length<5&&r.length>0;){const l=r.pop();n.push({id:Math.random().toString(36).substr(2,9),type:l})}return{market:n,deck:r}},Kc=({tokens:s,scale:e=1,spacing:n=8})=>E.jsx("div",{className:"relative w-8 h-12 mx-auto",style:{transform:`scale(${e})`,height:`${s.length*n+24}px`},children:s.map((r,l)=>E.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 w-6 h-6 rounded-full border shadow-sm ${_r[r].color} ${_r[r].border} flex items-center justify-center`,style:{bottom:`${l*n}px`,zIndex:l},children:l===s.length-1&&(()=>{const c=_r[r].icon;return E.jsx(c,{size:12,className:"text-white/70"})})()},l))}),Sh=({visual:s})=>s?s.type==="stack"?E.jsx(Kc,{tokens:s.tokens}):s.type==="adj"?E.jsxs("div",{className:"flex items-end justify-center gap-2 py-2",children:[E.jsxs("div",{className:"relative z-10 border-2 border-white/50 rounded-xl p-1 bg-black/20",children:[E.jsx(Kc,{tokens:Array.isArray(s.main)?s.main:[s.main],scale:.9}),E.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-white rounded-full flex items-center justify-center border border-slate-500 shadow",children:E.jsx("div",{className:"w-1.5 h-1.5 bg-slate-900 rounded-full"})})]}),E.jsx("div",{className:"flex flex-col gap-1",children:s.others.map((e,n)=>E.jsx("div",{className:"opacity-80 scale-75 origin-bottom",children:E.jsx(Kc,{tokens:Array.isArray(e)?e:[e],scale:.8})},n))})]}):s.type==="line"?E.jsx("div",{className:"flex items-center justify-center gap-1 py-2",children:s.sequence.map((e,n)=>E.jsxs(r2.Fragment,{children:[n>0&&E.jsx("div",{className:"text-slate-500 opacity-50",children:E.jsx(bT,{size:10})}),E.jsxs("div",{className:`relative ${n===0?"z-10 scale-100":"opacity-80 scale-90"}`,children:[n===0&&E.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-white rounded-full flex items-center justify-center border border-slate-500 shadow z-20",children:E.jsx("div",{className:"w-1 h-1 bg-slate-900 rounded-full"})}),E.jsx(Kc,{tokens:Array.isArray(e)?e:[e],scale:.7})]})]},n))}):null:null,gm=()=>E.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[E.jsx(bo,{size:12,className:"text-emerald-400"}),E.jsx("span",{className:"text-[10px] font-black tracking-widest text-emerald-400 uppercase",children:"EQUILIBRIUM"})]}),Qv=()=>E.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[E.jsx(bo,{size:20,className:"text-emerald-400"}),E.jsx("span",{className:"text-[20px] font-black tracking-widest text-emerald-400 uppercase",children:"EQUILIBRIUM"})]}),K4=({q:s,r:e,stack:n,animal:r,onClick:l,ghostToken:c,isPlaceable:d,ghostAnimal:g,isValidTarget:_})=>{const T=44*(Math.sqrt(3)*s+Math.sqrt(3)/2*e),S=44*(3/2*e);return E.jsxs("div",{onClick:()=>l&&l(s,e),className:"absolute flex items-center justify-center transition-all duration-300",style:{left:`calc(50% + ${T}px)`,top:`calc(50% + ${S}px)`,width:`${44*1.8}px`,height:"88px",transform:"translate(-50%, -50%)",zIndex:10+e,cursor:d||g?"pointer":"default"},children:[E.jsx("div",{className:`w-full h-full absolute transition-all duration-300 ${_?"bg-emerald-500/60 hover:bg-emerald-400/70 hover:scale-110 shadow-[0_0_30px_rgba(16,185,129,0.6)] z-10":d||g?"bg-slate-700/80 hover:bg-slate-600 hover:scale-105 shadow-[0_0_15px_rgba(52,211,153,0.3)]":"bg-slate-800/90"}`,style:{clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)",zIndex:0}}),E.jsx("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 pointer-events-none z-10 overflow-visible",style:{width:"100%",height:"100%"},children:E.jsx("polygon",{points:"50 0, 100 25, 100 75, 50 100, 0 75, 0 25",fill:"none",stroke:_?"#10b981":"rgba(255,255,255,0.4)",strokeWidth:_?"4":"1.5",strokeDasharray:"4 2",className:_?"animate-pulse":""})}),E.jsxs("div",{className:"relative z-20 flex items-center justify-center w-full h-full pb-2 pointer-events-none",children:[n.map((O,H)=>{const J=_r[O];return E.jsx("div",{className:`absolute w-10 h-10 rounded-full border-2 shadow-xl flex items-center justify-center ${J.color} ${J.border}`,style:{transform:`translateY(-${H*8}px) scale(${1-H*.02})`,zIndex:H},children:H===n.length-1&&E.jsx(J.icon,{size:16,className:"text-white/80"})},H)}),d&&c&&E.jsx("div",{className:`absolute w-10 h-10 rounded-full border-2 border-dashed opacity-60 flex items-center justify-center animate-pulse ${_r[c].color} border-white`,style:{transform:`translateY(-${n.length*8}px)`,zIndex:10},children:E.jsx(DC,{size:16,className:"text-white"})}),_&&!r&&E.jsx("div",{className:"absolute -top-8 w-10 h-10 rounded-full border-4 border-emerald-400 bg-emerald-900 shadow-xl flex items-center justify-center z-50 animate-bounce",children:E.jsx(Hm,{size:24,className:"text-emerald-400"})}),g&&!r&&E.jsx("div",{className:"absolute -top-8 w-8 h-8 rounded-full border-2 border-dashed border-white shadow-xl flex items-center justify-center z-50 animate-pulse opacity-70",children:(()=>{const O=ps[g];if(!O)return null;const H=O.icon;return E.jsx(H,{size:16,className:O.iconColor,fill:"currentColor",fillOpacity:.2})})()}),r&&E.jsx("div",{className:"absolute w-8 h-8 rounded-full bg-white border-2 border-emerald-500 shadow-[0_0_10px_rgba(0,0,0,0.5)] flex items-center justify-center z-50 animate-in zoom-in duration-300",style:{transform:`translateY(-${n.length*8+6}px)`},children:(()=>{const O=ps[r];if(!O)return E.jsx("div",{className:"text-black text-[8px]",children:"?"});const H=O.icon;return E.jsx(H,{size:18,className:O.iconColor,fill:"currentColor",fillOpacity:.2})})()})]})]})},Y4=({type:s,message:e,subtext:n,icon:r})=>E.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:E.jsxs("div",{className:`flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-sm md:max-w-xl mx-4 text-center ${s==="success"?"bg-emerald-900/90 border-emerald-500 text-emerald-100":s==="failure"?"bg-red-900/90 border-red-500 text-red-100":s==="warning"?"bg-amber-900/90 border-amber-500 text-amber-100":"bg-blue-900/90 border-blue-500 text-blue-100"}`,children:[r&&E.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:E.jsx(r,{size:64,className:"animate-bounce"})}),E.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:e}),n&&E.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide",children:n})]})}),ym=({onClose:s})=>E.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 border border-emerald-900/50 w-full max-w-3xl rounded-3xl shadow-2xl p-6 relative max-h-[90vh] overflow-y-auto custom-scrollbar",children:[E.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full hover:bg-slate-700 transition-colors",children:E.jsx(Mp,{size:24})}),E.jsx("h2",{className:"text-3xl font-black text-center mb-6 text-emerald-400",children:"Architect's Handbook"}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[E.jsx(bo,{className:"text-emerald-500"})," Landscape Scoring"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-slate-300",children:[E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[E.jsx("strong",{className:"text-emerald-400 block mb-1",children:"Trees (Wood + Foliage)"}),E.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[E.jsx("li",{children:"2 High (1 Log + 1 Leaf): 3 Pts"}),E.jsx("li",{children:"3 High (2 Log + 2 Leaf): 7 Pts"}),E.jsx("li",{children:"1 Leaf alone (Bush): 1 Pt"})]})]}),E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[E.jsx("strong",{className:"text-slate-400 block mb-1",children:"Mountains (Stone)"}),E.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[E.jsx("li",{children:"Score = Height of stack (1=1pt, 2=3pts, 3=7pts)."}),E.jsx("li",{children:"Only scores if adjacent to at least one other Mountain stack."})]})]}),E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[E.jsx("strong",{className:"text-yellow-400 block mb-1",children:"Fields (Sand)"}),E.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[E.jsx("li",{children:"5 Pts for every distinct group of 2+ connected Sand."}),E.jsx("li",{children:"Cannot stack tokens on Sand."})]})]}),E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-emerald-900/30",children:[E.jsx("strong",{className:"text-cyan-400 block mb-1",children:"Rivers (Water)"}),E.jsxs("ul",{className:"list-disc pl-4 text-xs space-y-1",children:[E.jsx("li",{children:"Chain scoring:"}),E.jsx("li",{children:"2=2pts, 3=5pts, 4=8pts, 5=11pts, 6+ = +4pts for each."})]})]}),E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl md:col-span-2 border border-emerald-900/30",children:[E.jsx("strong",{className:"text-red-400 block mb-1",children:"Buildings (Brick)"}),E.jsx("ul",{className:"list-disc pl-4 text-xs space-y-1",children:E.jsx("li",{children:"5 Pts if surrounded by 3+ distinct terrain types (colors)."})})]})]})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[E.jsx(aa,{className:"text-orange-500"})," Animal Scoring"]}),E.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Draft animals to your hand. When you create their pattern on the board, select the animal to place it!"}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.values(ps).map(e=>{const n=e.icon;return E.jsxs("div",{className:"bg-slate-800 p-3 rounded-xl border border-emerald-900/30 flex flex-col items-center gap-2 text-xs relative overflow-hidden",children:[E.jsx("div",{className:"bg-black/30 p-2 rounded-full mb-1",children:E.jsx(n,{size:20,className:e.iconColor})}),E.jsx("div",{className:"scale-75 mb-2",children:E.jsx(Sh,{visual:e.visual})}),E.jsxs("div",{className:"text-center z-10",children:[E.jsx("div",{className:"font-bold text-white text-sm",children:e.name}),E.jsx("div",{className:"text-[10px] text-slate-400 leading-tight mb-2 h-8 overflow-hidden line-clamp-2",children:e.desc}),E.jsxs("div",{className:"text-[10px] text-yellow-500 font-bold bg-black/20 px-2 py-1 rounded-full inline-block",children:[e.points.join(" / ")," Pts"]})]})]},e.id)})})]})]})]})}),Q4=({gameState:s,onClose:e})=>E.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 border border-emerald-900/50 w-full max-w-lg rounded-3xl shadow-2xl p-6 relative",children:[E.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full hover:bg-slate-700 transition-colors",children:E.jsx(Mp,{size:24})}),E.jsxs("h2",{className:"text-2xl font-black text-center mb-6 text-emerald-400 flex items-center justify-center gap-2",children:[E.jsx(_T,{})," Live Scores"]}),E.jsx("div",{className:"space-y-4",children:s.players.map(n=>E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[E.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2 mb-2",children:[E.jsx("span",{className:"font-bold text-lg text-white",children:n.name}),E.jsx("span",{className:"text-2xl font-black text-yellow-500",children:n.score+(n.landscapeScore||0)})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-slate-400",children:[E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Animals:"})," ",E.jsx("span",{className:"text-white font-bold",children:n.score})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Trees:"})," ",E.jsx("span",{className:"text-white font-bold",children:n.landscapeScoreBreakdown?.trees||0})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Mountains:"})," ",E.jsx("span",{className:"text-white font-bold",children:n.landscapeScoreBreakdown?.mountains||0})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Fields:"})," ",E.jsx("span",{className:"text-white font-bold",children:n.landscapeScoreBreakdown?.fields||0})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Rivers:"})," ",E.jsx("span",{className:"text-white font-bold",children:n.landscapeScoreBreakdown?.rivers||0})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Buildings:"})," ",E.jsx("span",{className:"text-white font-bold",children:n.landscapeScoreBreakdown?.buildings||0})]})]})]},n.id))})]})}),W4=({animal:s,onClose:e})=>E.jsx("div",{className:"fixed inset-0 z-[210] bg-black/80 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:e,children:E.jsxs("div",{className:"bg-slate-900 border-2 border-slate-700 p-6 rounded-2xl max-w-sm w-full text-center shadow-2xl relative",onClick:n=>n.stopPropagation(),children:[E.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 p-4 rounded-full border-4 border-slate-900",children:E.jsx(s.icon,{size:48,className:s.iconColor})}),E.jsx("h3",{className:"text-2xl font-black text-white mt-8 mb-2 uppercase",children:s.name}),E.jsxs("div",{className:"text-yellow-500 font-bold text-lg mb-4",children:["+",s.points[0]," Pts per placement"]}),E.jsx("div",{className:"flex justify-center mb-6 bg-black/20 p-4 rounded-xl",children:E.jsx(Sh,{visual:s.visual})}),E.jsx("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 mb-4",children:E.jsx("p",{className:"text-slate-300 text-sm",children:s.desc})}),E.jsx("div",{className:"flex justify-center gap-1 mb-4",children:Array.from({length:s.slots}).map((n,r)=>E.jsx("div",{className:"w-4 h-4 rounded-full bg-slate-700 border border-slate-600"},r))}),E.jsx("button",{onClick:e,className:"bg-slate-700 hover:bg-slate-600 w-full py-3 rounded-xl font-bold",children:"Close"})]})});function $4(){const[s,e]=Qe.useState(null),[n,r]=Qe.useState("menu"),[l,c]=Qe.useState(""),[d,g]=Qe.useState(""),[_,y]=Qe.useState(""),[T,S]=Qe.useState(null),[O,H]=Qe.useState(""),[J,ie]=Qe.useState(!1),[se,ye]=Qe.useState(!1),[Ie,Ae]=Qe.useState(!1),[Je,gt]=Qe.useState(!1),[Ue,N]=Qe.useState(!1),[w,C]=Qe.useState(!1),[M,I]=Qe.useState(!1),[L,x]=Qe.useState(null),[at,yt]=Qe.useState(null),[F,te]=Qe.useState(null),[me,Ge]=Qe.useState(null),[xe,D]=Qe.useState(null),[G,ne]=Qe.useState(null),ae=Qe.useRef(null);Qe.useEffect(()=>{const oe=localStorage.getItem("equilibrium_roomId");oe&&y(oe)},[]),Qe.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await US(dm,__initial_auth_token):await kS(dm))();const X=BS(dm,re=>{if(e(re),re){const ue=localStorage.getItem("gameHub_playerName");ue&&c(ue),yt(re.uid)}});return()=>X()},[]),Qe.useEffect(()=>{const oe=Vv(En(Tn,"game_hub_settings","config"),X=>{X.exists()&&X.data()[H4]?.maintenance?ye(!0):ye(!1)},X=>console.log("Config Read Error (Safe to ignore):",X));return()=>oe()},[]),Qe.useEffect(()=>{if(!_||!s)return;const oe=En(Tn,"artifacts",Vn,"public","data","rooms",_),X=Vv(oe,re=>{if(re.exists()){const ue=re.data();if(!ue.players.some(De=>De.id===s.uid)){y(""),localStorage.removeItem("equilibrium_roomId"),r("menu"),H("You were removed from the world.");return}S(ue),ue.status==="playing"||ue.status==="finished"?r("game"):ue.status==="lobby"&&r("lobby")}else r("menu"),y(""),localStorage.removeItem("equilibrium_roomId"),H("Voyage ended.")},re=>{console.error(re),H("Connection lost.")});return()=>X()},[_,s]),Qe.useEffect(()=>{if(!T?.logs||T.logs.length===0)return;const oe=T.logs[T.logs.length-1];if(ae.current===null){ae.current=oe.id;return}oe.id<=ae.current||(ae.current=oe.id,oe.type==="success"?(x({type:"success",message:"HARMONY!",subtext:oe.text,icon:hm}),setTimeout(()=>x(null),2500)):oe.type==="warning"?(x({type:"warning",message:"ATTENTION",subtext:oe.text,icon:fm}),setTimeout(()=>x(null),2500)):oe.type==="failure"&&(x({type:"failure",message:"PENALTY",subtext:oe.text,icon:fm}),setTimeout(()=>x(null),2500)))},[T?.logs]);const Te=async()=>{if(!l)return H("Enter Name");localStorage.setItem("gameHub_playerName",l),ie(!0);const oe="123456789ABCDEFGHIJKLMNPQRSTUVWXYZ";let X="";for(let tt=0;tt<6;tt++)X+=oe.charAt(Math.floor(Math.random()*oe.length));const re=Fv(),ue=Gv(),{market:De,bag:Z}=Kv([],re),he=Yv([],ue),Re={roomId:X,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:l,score:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:pm(),holding:[],animals:[],ready:!0,hasDraftedTokens:!1,hasDraftedAnimal:!1}],market:De,bag:Z,animalMarket:he.market,animalDeck:he.deck,turnIndex:0,startPlayerIndex:0,isLastRound:!1,turnPhase:"PLAY",logs:[],winnerId:null};try{await bC(En(Tn,"artifacts",Vn,"public","data","rooms",X),Re),y(X),localStorage.setItem("equilibrium_roomId",X),yt(s.uid)}catch(tt){console.error(tt),H("Failed to create world.")}ie(!1)},Oe=async()=>{if(!d||!l)return H("Enter details");localStorage.setItem("gameHub_playerName",l),ie(!0);try{const oe=d.toUpperCase().trim(),X=En(Tn,"artifacts",Vn,"public","data","rooms",oe),re=await TC(X);if(re.exists()&&re.data().status==="lobby"){const ue=re.data();if(!ue.players.some(De=>De.id===s.uid)){if(ue.players.length>=4){H("World is full."),ie(!1);return}const De=[...ue.players,{id:s.uid,name:l,score:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:pm(),holding:[],animals:[],hasDraftedTokens:!1,hasDraftedAnimal:!1}];await hi(X,{players:De})}y(oe),localStorage.setItem("equilibrium_roomId",oe),yt(s.uid)}else H("Room not found or in progress")}catch(oe){H(oe.message)}ie(!1)},ze=async()=>{const oe=T.players.length,X=Math.floor(Math.random()*oe);T.players[X].name,await hi(En(Tn,"artifacts",Vn,"public","data","rooms",_),{status:"playing",turnIndex:X,startPlayerIndex:X,isLastRound:!1,logs:ms({text:"The ecosystem awakens.",type:"neutral",id:Date.now()})})},bt=async()=>{if(_){try{const oe=En(Tn,"artifacts",Vn,"public","data","rooms",_);if(T.hostId===s.uid)await AC(oe);else{const X=T.players.filter(re=>re.id!==s.uid);await hi(oe,{players:X})}}catch{console.log("Room gone")}localStorage.removeItem("equilibrium_roomId"),y(""),r("menu"),I(!1),S(null)}},ft=async oe=>{if(!(!T||T.hostId!==s.uid))try{const X=T.players.filter(re=>re.id!==oe);await hi(En(Tn,"artifacts",Vn,"public","data","rooms",_),{players:X,logs:ms({text:"A player was removed from the world.",type:"warning",id:Date.now()})})}catch(X){console.error("Error kicking player:",X)}},gi=async()=>{if(T.hostId!==s.uid)return;const oe=Fv(),X=Gv(),{market:re,bag:ue}=Kv([],oe),De=Yv([],X),Z=T.players.map(he=>({...he,score:0,landscapeScore:0,landscapeScoreBreakdown:{trees:0,mountains:0,fields:0,rivers:0,buildings:0},board:pm(),holding:[],animals:[],ready:!1,hasDraftedTokens:!1,hasDraftedAnimal:!1}));await hi(En(Tn,"artifacts",Vn,"public","data","rooms",_),{status:"lobby",players:Z,market:re,bag:ue,animalMarket:De.market,animalDeck:De.deck,logs:[],winnerId:null,turnIndex:0,turnPhase:"PLAY"}),I(!1)},xs=async oe=>{const X=T.players.findIndex(he=>he.id===s.uid);if(T.turnIndex!==X)return;const re=[...T.players],ue=re[X];if(ue.hasDraftedTokens)return;let De=[...T.market],Z=[...T.bag];if(ue.holding=De[oe].tokens,ue.hasDraftedTokens=!0,De.splice(oe,1),Z.length>=3){const he={id:Math.random().toString(36).substr(2,9),tokens:[Z.pop(),Z.pop(),Z.pop()].filter(Boolean)};De.push(he)}await hi(En(Tn,"artifacts",Vn,"public","data","rooms",_),{players:re,market:De,bag:Z,logs:ms({text:`${ue.name} drafted tokens.`,type:"neutral",id:Date.now()})}),te(null)},Rs=async oe=>{const X=T.players.findIndex(nt=>nt.id===s.uid);if(T.turnIndex!==X)return;const re=[...T.players],ue=re[X];if(ue.hasDraftedAnimal||ue.animals.filter(nt=>nt.slotsFilled<nt.maxSlots).length>=4)return;let Z=[...T.animalMarket],he=[...T.animalDeck];const Re=Z[oe],tt=ps[Re.type];if(ue.animals.push({...Re,slotsFilled:0,maxSlots:tt.slots}),ue.hasDraftedAnimal=!0,Z.splice(oe,1),he.length>0){const nt={id:Math.random().toString(36).substr(2,9),type:he.pop()};Z.push(nt)}await hi(En(Tn,"artifacts",Vn,"public","data","rooms",_),{players:re,animalMarket:Z,animalDeck:he,logs:ms({text:`${ue.name} adopted a ${tt.name}.`,type:"neutral",id:Date.now()})}),te(null)},Ns=async(oe,X)=>{try{const re=T.players.findIndex(he=>he.id===s.uid);if(T.turnIndex!==re)return;const ue=[...T.players],De=ue[re],Z={players:ue};if(xe!==null&&De.holding[xe]){const he=`${oe},${X}`,Re=De.board[he],tt=De.holding[xe];if(!Hv(Re,tt))return;Re.stack.push(tt),De.holding.splice(xe,1),D(null);const nt=G4(De.board);De.landscapeScore=nt.total,De.landscapeScoreBreakdown=nt.breakdown,!Object.values(De.board).some(Cs=>Cs.stack.length===0)&&!T.isLastRound&&(Z.isLastRound=!0,Z.logs||(Z.logs=[]),Z.logs.push({text:`${De.name}'s world is full! Finishing the round...`,type:"warning",id:Date.now()})),await hi(En(Tn,"artifacts",Vn,"public","data","rooms",_),Z);return}if(G!==null&&De.animals[G]){const he=De.animals[G],Re=ps[he.type];if(!Re){console.error("Animal definition missing for type:",he.type);return}const tt=De.board[`${oe},${X}`];if(!tt.animal&&he.slotsFilled<he.maxSlots&&Re.check(tt,De.board)){tt.animal=he.type;const nt=Re.points[he.slotsFilled];he.slotsFilled+=1,De.score+=nt,ne(null),Z.logs||(Z.logs=[]),Z.logs.push({text:`${De.name} placed a ${Re.name} (+${nt})!`,type:"success",id:Date.now()}),await hi(En(Tn,"artifacts",Vn,"public","data","rooms",_),Z)}}}catch(re){console.error("Placement error:",re),H("Something went wrong with placement. Try refreshing.")}},jn=async()=>{const oe=T.players.findIndex(ue=>ue.id===s.uid);if(T.turnIndex!==oe)return;const X=[...T.players],re=X[oe];xe===null||!re.holding[xe]||(re.holding.splice(xe,1),re.score=Math.max(0,re.score-2),D(null),await hi(En(Tn,"artifacts",Vn,"public","data","rooms",_),{players:X,logs:ms({text:`${re.name} discarded a token (-2 pts).`,type:"failure",id:Date.now()})}))},Nr=async()=>{const oe=T.players.findIndex(he=>he.id===s.uid);if(T.turnIndex!==oe)return;const X=[...T.players],re=X[oe];if(re.holding.length>0||!re.hasDraftedTokens)return;re.hasDraftedTokens=!1,re.hasDraftedAnimal=!1;const ue={players:X},De=(T.turnIndex+1)%T.players.length;let Z=T.isLastRound;T.bag.length===0&&T.market.length===0?(ue.status="finished",ue.logs=ms({text:"The Market is empty! Game Over immediately.",type:"warning",id:Date.now()})):Z&&De===T.startPlayerIndex?(ue.status="finished",ue.logs=ms({text:"Round complete. Game Over!",type:"neutral",id:Date.now()+1})):(T.bag.length===0&&!Z&&(ue.isLastRound=!0,ue.logs=ms({text:"The Bag is empty! Finishing the round...",type:"warning",id:Date.now()})),ue.turnIndex=De,ue.logs=ms({text:`Turn passed to ${T.players[De].name}.`,type:"neutral",id:Date.now()})),await hi(En(Tn,"artifacts",Vn,"public","data","rooms",_),ue)},Qi=()=>{const oe=T.roomId,X=()=>{Ae(!0),setTimeout(()=>Ae(!1),2e3),triggerFeedback&&triggerFeedback("neutral","COPIED!","",Hm)};try{navigator.clipboard.writeText(oe),X()}catch{const ue=document.createElement("textarea");ue.value=oe,document.body.appendChild(ue),ue.select(),document.execCommand("copy"),document.body.removeChild(ue),X()}},yi=()=>{const oe=T.players.findIndex(re=>re.id===s.uid);return T.turnIndex===oe&&at!==s.uid?(x({type:"warning",message:"WRONG WORLD",subtext:"Return to your world to make moves.",icon:ih}),setTimeout(()=>x(null),2e3),!1):!0};if(se)return E.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[E.jsx(Qv,{}),E.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[E.jsx(ET,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),E.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),E.jsx("p",{className:"text-gray-400",children:"Meteor impact detected! We're busy repairing the ecosystem."})]}),E.jsx("div",{className:"h-8"}),E.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:E.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:E.jsx("div",{className:"text-center pb-12 animate-pulse",children:E.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[E.jsx(hm,{size:16})," Visit Gamehub...Try our other releases..."," ",E.jsx(hm,{size:16})]})})})}),E.jsx(gm,{})]});if(!s)return E.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-emerald-500 animate-pulse",children:"Initializing Ecosystem..."});if(_&&!T&&!O)return E.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center text-white p-4",children:[E.jsx(Gc,{}),E.jsx(mm,{}),E.jsxs("div",{className:"bg-slate-900/80 backdrop-blur p-8 rounded-2xl border border-slate-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[E.jsx(m4,{size:48,className:"text-emerald-500 animate-spin"}),E.jsxs("div",{className:"text-center",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Resuming Session..."}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Returning to the wild"})]})]})]});if(n==="menu")return E.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans select-none",children:[E.jsx(Gc,{}),E.jsx(mm,{}),Ue&&E.jsx(ym,{onClose:()=>N(!1)}),E.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[E.jsx(bo,{size:64,className:"text-emerald-400 mx-auto mb-4 animate-spin-slow"}),E.jsx("h1",{className:"text-5xl md:text-7xl font-thin text-transparent bg-clip-text bg-gradient-to-b from-emerald-400 to-teal-600 tracking-tighter drop-shadow-md",children:"EQUILIBRIUM"}),E.jsx("p",{className:"text-emerald-200/40 tracking-[0.5em] uppercase mt-2 text-xs",children:"Build. Balance. Score."})]}),E.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-emerald-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 relative",children:[O&&E.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 mb-4 rounded text-center text-sm font-bold flex items-center justify-center gap-2",children:[E.jsx(fm,{size:16})," ",O]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("input",{className:"w-full bg-black/50 border border-emerald-700 focus:border-emerald-500 p-4 rounded-xl text-white outline-none transition-all text-lg font-bold text-center",placeholder:"YOUR NAME",value:l,onChange:oe=>c(oe.target.value),maxLength:12}),E.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[E.jsxs("button",{onClick:Te,disabled:J,className:"bg-gradient-to-br from-emerald-600 to-teal-700 hover:from-emerald-500 hover:to-teal-600 p-4 rounded-xl font-bold flex flex-col items-center justify-center gap-1 transition-all active:scale-95 shadow-lg shadow-emerald-900/50",children:[E.jsx(KC,{size:24}),E.jsx("span",{children:"Create"})]}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("input",{className:"bg-black/50 border border-emerald-700 focus:border-emerald-500 p-2 rounded-xl text-white text-center uppercase font-mono font-bold tracking-widest outline-none h-12",placeholder:"CODE",value:d,onChange:oe=>g(oe.target.value),maxLength:6}),E.jsx("button",{onClick:Oe,disabled:J,className:"bg-slate-800 hover:bg-slate-700 p-2 rounded-xl font-bold text-slate-300 transition-all active:scale-95 h-full",children:"Penetrate"})]})]}),E.jsxs("button",{onClick:()=>N(!0),className:"w-full mt-4 text-emerald-400 hover:text-emerald-300 text-sm font-bold flex items-center justify-center gap-2 transition-colors py-2",children:[E.jsx(am,{size:16})," Architect's Guide"]})]})]}),E.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Harmonies. A tribute game.",E.jsx("br",{}),"Developed by ",E.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",E.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-500 underline hover:text-emerald-600",children:"GAMEHUB"})," ","for more games."]})]});if(n==="lobby"&&T){const oe=T.hostId===s.uid;return E.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-6 relative",children:[E.jsx(Gc,{}),E.jsx(mm,{}),E.jsx(Qv,{}),Ue&&E.jsx(ym,{onClose:()=>N(!1)}),E.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-2xl border border-emerald-500/30 shadow-2xl animate-in slide-in-from-bottom-8",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-lg md:text-xl text-emerald-500 font-bold uppercase",children:"New World:"}),E.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[E.jsx("div",{className:"text-2xl md:text-3xl font-mono text-white font-black",children:_}),E.jsxs("div",{className:"relative",children:[E.jsx("button",{onClick:Qi,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:Ie?E.jsx(Hm,{size:16,className:"text-green-500"}):E.jsx(HC,{size:16})}),Ie&&E.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-emerald-500 text-black text-xs font-bold px-2 py-1 rounded shadow-lg animate-fade-in-up whitespace-nowrap",children:"Copied!"})]})]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>N(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:E.jsx(am,{size:20})}),E.jsx("button",{onClick:()=>I(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:E.jsx(Pv,{size:20})})]})]}),E.jsxs("div",{className:"space-y-3 mb-8",children:[E.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:["Architects (",T.players.length,"/4)"]}),T.players.map(X=>E.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-4 rounded-xl border border-slate-700",children:[E.jsxs("span",{className:"font-bold flex items-center gap-3 text-lg",children:[X.name,X.id===T.hostId&&E.jsx(vT,{size:16,className:"text-yellow-500"})]}),T.hostId===s.uid&&X.id!==s.uid&&E.jsx("button",{onClick:()=>ft(X.id),className:"p-2 bg-red-900/20 hover:bg-red-900/50 text-red-500 rounded-lg transition-colors border border-red-900/30",title:"Kick Player",children:E.jsx(qv,{size:16})})]},X.id)),Array.from({length:4-T.players.length}).map((X,re)=>E.jsx("div",{className:"border-2 border-dashed border-slate-700 rounded-xl p-4 flex items-center justify-center text-slate-600 font-bold uppercase text-sm",children:"Empty Slot"},re))]}),oe&&E.jsxs("div",{className:"mt-8 flex flex-col items-center gap-2",children:[E.jsx("button",{onClick:ze,disabled:T.players.length<2,className:`
                  px-8 py-3 rounded-xl font-bold text-lg shadow-lg transition-all
                  ${T.players.length<2?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-emerald-500 text-slate-900 hover:bg-emerald-400 hover:scale-105 hover:shadow-emerald-500/20"}
                `,children:T.players.length<2?"Waiting for Architects...":"CREATE WORLD"}),T.players.length<2&&E.jsx("p",{className:"text-slate-600 text-xs uppercase tracking-widest font-bold",children:"Need 2+ players"})]}),!oe&&E.jsx("div",{className:"mt-8 text-center text-slate-500 text-sm font-bold uppercase tracking-widest animate-pulse",children:"Waiting for host to start..."})]}),M&&E.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[E.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase",children:"Leave World?"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:T.hostId===s.uid?"As Host, leaving ends the game for everyone.":"You will leave this session."}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>I(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Stay"}),E.jsx("button",{onClick:bt,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]})]})}),E.jsx(gm,{})]})}if(n==="game"&&T){const oe=T.players.findIndex(Z=>Z.id===s.uid),X=T.players[oe],re=T.turnIndex===oe,ue=T.players.find(Z=>Z.id===at)||X,De=re&&X.hasDraftedTokens&&X.holding.length===0;return E.jsxs("div",{className:"fixed inset-0 bg-slate-950 text-white flex flex-col overflow-hidden font-sans select-none",children:[E.jsx(Gc,{}),L&&E.jsx(Y4,{type:L.type,message:L.message,subtext:L.subtext,icon:L.icon}),Ue&&E.jsx(ym,{onClose:()=>N(!1)}),w&&E.jsx(Q4,{gameState:T,onClose:()=>C(!1)}),me&&E.jsx(W4,{animal:me,onClose:()=>Ge(null)}),E.jsxs("div",{className:"h-14 md:h-16 bg-slate-900 border-b border-emerald-900/30 flex items-center justify-between px-2 z-50 shrink-0 shadow-lg",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-10 h-10 bg-emerald-900/50 rounded-lg flex items-center justify-center border border-emerald-700",children:E.jsx(bo,{className:"text-emerald-400",size:20})}),E.jsxs("div",{children:[E.jsx("div",{className:"font-bold text-sm tracking-wider text-emerald-100",children:"EQUILIBRIUM"}),E.jsx("div",{className:"text-[10px] text-emerald-400 font-mono uppercase",children:T.status==="finished"?"GAME OVER":`Turn: ${T.players[T.turnIndex].name}`})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:()=>C(!0),className:"p-2 hover:bg-slate-800 rounded text-yellow-500 hover:text-white",children:E.jsx(_T,{size:18})}),E.jsx("button",{onClick:()=>N(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:E.jsx(am,{size:18})}),E.jsx("button",{onClick:()=>gt(!Je),className:`p-2 rounded-full ${Je?"bg-emerald-900 text-emerald-400":"text-gray-400 hover:bg-gray-800"}`,children:E.jsx(l4,{size:18})}),E.jsx("button",{onClick:()=>I(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:E.jsx(Pv,{size:18})})]})]}),Je&&E.jsxs("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-slate-900/95 border border-slate-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl custom-scrollbar",children:[E.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 sticky top-0 bg-slate-900/95 py-2",children:"World History"}),E.jsx("div",{className:"space-y-2",children:T.logs.slice().reverse().map(Z=>E.jsx("div",{className:`text-xs p-2 rounded border-l-2 ${Z.type==="success"?"border-emerald-500 bg-emerald-900/10":Z.type==="warning"?"border-amber-500 bg-amber-900/10":Z.type==="failure"?"border-red-500 bg-red-900/10":"border-slate-500 bg-slate-800/30"}`,children:Z.text},Z.id))})]}),M&&E.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[E.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase",children:"Leave World?"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:T.hostId===s.uid?"As Host, leaving ends the game for everyone.":"You will leave this session."}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>I(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Stay"}),E.jsx("button",{onClick:bt,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]}),T.hostId===s.uid&&E.jsx("button",{onClick:gi,className:"w-full bg-slate-700 hover:bg-slate-600 py-2 rounded font-bold text-emerald-400 mt-2 text-sm",children:"Return All to Lobby"})]})}),E.jsxs("div",{className:"flex-1 relative bg-slate-950 overflow-hidden flex flex-col items-center justify-center",children:[E.jsx("div",{className:"absolute top-2 md:top-4 left-0 right-0 z-10 grid grid-cols-4 gap-1 px-2 w-full max-w-2xl mx-auto pointer-events-auto",children:T.players.map((Z,he)=>{const Re=T.turnIndex===he;return E.jsxs("button",{onClick:()=>yt(Z.id),className:`
                  relative overflow-visible
                  flex flex-col items-center justify-center h-12 md:h-14 rounded-xl border-2 transition-all w-full
                  ${at===Z.id?"bg-slate-800 border-emerald-500 shadow-lg scale-105 z-10":"bg-slate-900/80 border-slate-700 hover:bg-slate-800/80 text-slate-400"}
                `,children:[Re&&E.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 z-50 pointer-events-none",children:E.jsxs("div",{className:"flex flex-col items-center animate-bounce-slight",children:[E.jsxs("div",{className:"bg-emerald-500 text-slate-900 text-[8px] md:text-[9px] font-black px-2 py-0.5 rounded-full shadow-[0_0_10px_rgba(16,185,129,0.5)] flex items-center gap-1 whitespace-nowrap",children:[E.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-slate-900 animate-pulse"}),"PLAYING"]}),E.jsx("div",{className:"w-0 h-0 border-l-[4px] border-l-transparent border-r-[4px] border-r-transparent border-t-[4px] border-t-emerald-500 -mt-[1px]"})]})}),E.jsx("span",{className:`text-[9px] md:text-[10px] font-bold uppercase truncate max-w-full px-1 ${Re?"text-emerald-400":""}`,children:Z.name}),E.jsx("span",{className:"text-[10px] md:text-xs font-black text-yellow-500",children:Z.score+(Z.landscapeScore||0)})]},Z.id)})}),ue.id!==s.uid?E.jsxs("div",{className:"absolute top-20 bg-red-800/80 px-4 py-1 rounded-full text-xs font-bold text-slate-300 flex items-center gap-2 z-10 backdrop-blur animate-pulse",children:[E.jsx(ih,{size:12})," ",ue.name,"'s World"]}):E.jsxs("div",{className:"absolute top-20 bg-green-800/80 px-4 py-1 rounded-full text-xs font-bold text-slate-300 flex items-center gap-2 z-10 backdrop-blur animate-pulse",children:[E.jsx(ih,{size:12})," Your World"]}),E.jsx("div",{className:"relative w-[340px] h-[300px] transition-transform -mt-20 md:-mt-24 transform scale-100 md:scale-125",children:Object.values(ue.board).map(Z=>{let he=!1;if(G!==null&&X.animals[G]){const Re=ps[X.animals[G].type];Re&&!Z.animal&&X.animals[G].slotsFilled<X.animals[G].maxSlots&&(he=Re.check(Z,ue.board))}return E.jsx(K4,{...Z,isPlaceable:re&&ue.id===s.uid&&(xe!==null&&X.holding[xe]&&Hv(Z,X.holding[xe])||he),ghostToken:xe!==null?X.holding[xe]:null,ghostAnimal:G!==null?X.animals[G].type:null,isValidTarget:he,onClick:ue.id===s.uid?Ns:void 0},`${Z.q},${Z.r}`)})}),F&&E.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-[60] h-44 bg-slate-900/95 border-t-2 border-emerald-500/50 backdrop-blur-xl flex flex-col animate-in slide-in-from-bottom-full duration-300 shadow-2xl",onClick:Z=>Z.stopPropagation(),children:[E.jsxs("div",{className:"flex justify-between items-center px-4 h-8 border-b border-white/10 bg-black/20 shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[F==="TOKENS"?E.jsx(zv,{className:"text-cyan-400",size:14}):E.jsx(aa,{className:"text-orange-400",size:14}),E.jsxs("h3",{className:"text-xs font-black text-white uppercase tracking-widest leading-none",children:["Draft ",F==="TOKENS"?"Tokens":"Animal"]})]}),E.jsxs("button",{onClick:()=>te(null),className:"flex items-center gap-1 px-2 py-0.5 bg-slate-800 hover:bg-slate-700 rounded-full text-slate-300 hover:text-white transition-colors border border-slate-600 font-bold text-[10px]",children:[E.jsx("span",{children:"Close"}),E.jsx(Mp,{size:12})]})]}),E.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden px-4 no-scrollbar flex items-center bg-gradient-to-b from-transparent to-black/30",children:E.jsxs("div",{className:"flex gap-4 items-center min-w-max h-full justify-center",children:[F==="TOKENS"&&T.market.map((Z,he)=>E.jsxs("button",{onClick:()=>xs(he),disabled:!re||X.hasDraftedTokens,className:"relative group h-32 w-14 shrink-0 rounded-full transition-all active:scale-95 disabled:opacity-60 disabled:cursor-not-allowed",children:[E.jsxs("div",{className:"absolute inset-0 bg-slate-800 rounded-full border-4 border-slate-700 shadow-xl group-hover:border-cyan-500 group-hover:bg-slate-750 transition-colors flex flex-col items-center justify-evenly py-1",children:[E.jsx("div",{className:"absolute inset-x-2 top-2 bottom-2 bg-black/30 rounded-full border border-white/5"}),E.jsx("div",{className:"relative z-10 flex flex-col gap-1.5 h-full justify-center",children:Z.tokens.map((Re,tt)=>{const nt=_r[Re];return E.jsx("div",{className:`w-8 h-8 rounded-full border-2 shadow-lg flex items-center justify-center ${nt.color} ${nt.border}`,children:E.jsx(nt.icon,{size:14,className:"text-white/90"})},tt)})})]}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-20",children:E.jsxs("div",{className:"bg-cyan-600 text-white text-[10px] font-bold px-2 py-3 rounded-xl shadow-lg border border-cyan-400 tracking-widest uppercase flex flex-col items-center leading-none gap-1",children:[E.jsx("span",{children:"G"}),E.jsx("span",{children:"E"}),E.jsx("span",{children:"T"})]})})]},Z.id)),F==="ANIMALS"&&T.animalMarket.map((Z,he)=>{const Re=ps[Z.type],tt=re&&!X.hasDraftedAnimal&&X.animals.filter(nt=>nt.slotsFilled<nt.maxSlots).length<4;return E.jsxs("button",{onClick:()=>Rs(he),disabled:!tt,className:`relative w-24 h-32 shrink-0 bg-slate-800 border-2 rounded-xl flex flex-col shadow-xl text-left overflow-hidden transition-all duration-300 group
                        ${tt?"border-slate-600 hover:border-orange-500 hover:-translate-y-1 hover:shadow-[0_5px_15px_rgba(249,115,22,0.2)]":"opacity-60 cursor-not-allowed border-slate-800"}`,children:[E.jsxs("div",{className:"flex justify-between items-center px-2 py-1 border-b border-white/5 bg-black/20 shrink-0 h-7",children:[E.jsx("span",{className:"text-[10px] font-bold text-white truncate max-w-[50px]",children:Re.name}),E.jsxs("span",{className:"text-[10px] font-black text-yellow-500",children:["+",Re.points.join("/")]})]}),E.jsx("div",{className:"flex-1 flex flex-col items-center justify-center bg-gradient-to-b from-slate-800 to-slate-900",children:E.jsx("div",{className:"scale-75 origin-center",children:E.jsx(Sh,{visual:Re.visual})})}),tt&&E.jsx("div",{className:"absolute inset-0 bg-orange-500/20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx("div",{className:"bg-orange-600 text-white text-[10px] font-bold px-3 py-1 rounded-full shadow-lg transform translate-y-2 group-hover:translate-y-0 transition-transform",children:"ADOPT"})})]},Z.id)}),F==="ANIMALS"&&T.animalMarket.length===0&&E.jsx("div",{className:"w-full text-center text-slate-500 font-bold text-xs italic pr-4",children:"Empty..."})]})})]}),T.status==="finished"&&E.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 flex items-center justify-center backdrop-blur-sm",children:E.jsxs("div",{className:"bg-slate-900 p-8 rounded-2xl border-2 border-yellow-500 text-center shadow-2xl animate-in zoom-in max-w-lg w-full m-4",children:[E.jsx(j4,{size:64,className:"text-yellow-400 mx-auto mb-4 animate-bounce"}),E.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-4",children:"Game Complete"}),E.jsx("div",{className:"space-y-3 mb-6 max-h-[50vh] overflow-y-auto custom-scrollbar text-sm",children:T.players.sort((Z,he)=>he.score+he.landscapeScore-(Z.score+Z.landscapeScore)).map((Z,he)=>E.jsxs("div",{className:"bg-slate-800 p-3 rounded-xl border border-slate-700 flex flex-col gap-2",children:[E.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("span",{className:"font-mono text-emerald-500 font-bold",children:["#",he+1]}),E.jsx("span",{className:"font-bold text-white text-lg",children:Z.name})]}),E.jsx("span",{className:"text-2xl font-black text-yellow-500",children:Z.score+Z.landscapeScore})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-slate-400",children:[E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Animals:"})," ",E.jsx("span",{className:"text-white font-bold",children:Z.score})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Trees:"})," ",E.jsx("span",{className:"text-white font-bold",children:Z.landscapeScoreBreakdown?.trees||0})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Mountains:"})," ",E.jsx("span",{className:"text-white font-bold",children:Z.landscapeScoreBreakdown?.mountains||0})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Fields:"})," ",E.jsx("span",{className:"text-white font-bold",children:Z.landscapeScoreBreakdown?.fields||0})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Rivers:"})," ",E.jsx("span",{className:"text-white font-bold",children:Z.landscapeScoreBreakdown?.rivers||0})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Buildings:"})," ",E.jsx("span",{className:"text-white font-bold",children:Z.landscapeScoreBreakdown?.buildings||0})]})]})]},Z.id))}),T.hostId===s.uid&&E.jsx("button",{onClick:gi,className:"bg-slate-700 hover:bg-slate-600 px-6 py-3 rounded-xl font-bold w-full",children:"Return to Lobby"})]})})]}),E.jsx("div",{className:"h-64 bg-transparent absolute bottom-0 left-0 right-0 z-40 px-2 pb-2 flex justify-between items-end pointer-events-none",children:E.jsxs("div",{className:"flex gap-2 items-end w-full pointer-events-none",children:[E.jsxs("div",{className:"flex flex-col gap-2 mb-1 shrink-0 z-50 pointer-events-none",children:[re&&X.holding.length>0&&E.jsxs("div",{className:"bg-emerald-900/90 border border-cyan-500/30 px-2 py-2 rounded-xl shadow-2xl flex flex-col items-center gap-2 backdrop-blur-md animate-in slide-in-from-left-4 pointer-events-auto",children:[E.jsx("span",{className:"text-[8px] font-bold text-cyan-400 uppercase tracking-widest",children:"Placing"}),E.jsxs("div",{className:"flex items-center gap-1",children:[X.holding.map((Z,he)=>{const Re=_r[Z];return E.jsx("button",{onClick:()=>{yi()&&(D(he),ne(null))},className:`w-10 h-10 rounded-full border-2 shadow-lg flex items-center justify-center transition-all active:scale-90 ${Re.color} ${Re.border} ${xe===he?"ring-4 ring-white scale-110 z-10":"opacity-80 hover:opacity-100 hover:scale-105"}`,children:E.jsx(Re.icon,{size:18,className:"text-white/80"})},he)}),xe!==null&&E.jsx("button",{onClick:jn,className:"w-8 h-8 rounded-full border-2 border-red-500 bg-red-900/50 flex items-center justify-center hover:bg-red-800 transition-colors",title:"Discard Token (-2 pts)",children:E.jsx(qv,{size:12,className:"text-red-300"})})]})]}),De&&E.jsxs("button",{onClick:Nr,className:"bg-red-600 hover:bg-red-500 text-white font-bold py-3 px-6 rounded-xl shadow-lg animate-bounce flex items-center justify-center gap-2 text-sm whitespace-nowrap pointer-events-auto",children:["End Turn ",E.jsx(bT,{size:16})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>{yi()&&te("TOKENS")},className:`w-14 h-14 rounded-full border-2 shadow-xl flex items-center justify-center transition-all active:scale-90 pointer-events-auto ${re&&!X.hasDraftedTokens?"bg-cyan-600 border-cyan-400 text-white animate-bounce-subtle":"bg-slate-800 border-slate-600 text-slate-500"}`,children:E.jsx(zv,{size:24})}),E.jsx("button",{onClick:()=>{yi()&&te("ANIMALS")},className:`w-14 h-14 rounded-full border-2 shadow-xl flex items-center justify-center transition-all active:scale-90 pointer-events-auto ${re&&!X.hasDraftedAnimal&&X.animals.filter(Z=>Z.slotsFilled<Z.maxSlots).length<4?"bg-orange-600 border-orange-400 text-white":"bg-slate-800 border-slate-600 text-slate-500"}`,children:E.jsx(aa,{size:24})})]})]}),E.jsxs("div",{className:"flex-1 flex gap-2 items-end overflow-x-auto pb-4 no-scrollbar h-60 pl-2 pointer-events-none",children:[ue.animals.map((Z,he)=>{const Re=ps[Z.type],tt=he===G&&ue.id===s.uid,nt=Z.slotsFilled>=Z.maxSlots;return E.jsxs("button",{onClick:()=>{if(ue.id!==s.uid){yi();return}D(null),ne(tt?null:he)},className:`relative w-32 h-44 bg-slate-900/90 border-2 rounded-xl flex flex-col shadow-xl shrink-0 backdrop-blur-md transition-all duration-300 hover:-translate-y-4 text-left overflow-hidden pointer-events-auto ${tt?"border-yellow-400 ring-2 ring-yellow-500/50 scale-105 z-10 -translate-y-2":"border-slate-600 hover:border-slate-400"} ${nt?"grayscale opacity-75":""}`,children:[E.jsxs("div",{className:"flex justify-between items-center p-2 border-b border-white/10 bg-black/20 h-10 shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx(Re.icon,{size:14,className:Re.iconColor}),E.jsx("span",{className:"text-xs font-bold text-white truncate max-w-[70px]",children:Re.name})]}),!nt&&E.jsxs("span",{className:"text-xs font-black text-yellow-500",children:["+",Re.points[Math.min(Z.slotsFilled,Re.points.length-1)]]}),nt&&E.jsx("span",{className:"text-[10px] font-bold text-emerald-500 uppercase",children:"Done"})]}),E.jsxs("div",{className:"p-2 flex-1 flex flex-col items-center w-full min-h-0 justify-between bg-gradient-to-b from-slate-800/50 to-transparent",children:[E.jsx("div",{className:"scale-75 origin-center shrink-0",children:E.jsx(Sh,{visual:Re.visual})}),E.jsx("div",{className:"text-[9px] text-slate-300 text-center leading-tight line-clamp-2 px-1 w-full break-words min-h-[24px] flex items-center justify-center font-medium",children:Re.desc}),E.jsx("div",{className:"w-full shrink-0 pt-2",children:E.jsx("div",{className:"flex gap-1 justify-center",children:Array.from({length:Z.maxSlots}).map((_i,Cs)=>E.jsx("div",{className:`h-1.5 w-full rounded-full border ${Cs<Z.slotsFilled?"bg-emerald-500 border-emerald-400 shadow-[0_0_5px_rgba(16,185,129,0.5)]":"bg-slate-700 border-slate-600"}`},Cs))})})]})]},Z.id)}),ue.animals.length===0&&E.jsx("div",{className:"h-44 w-32 border-2 border-dashed border-slate-700 rounded-xl flex items-center justify-center text-slate-600 text-xs text-center p-4",children:"No Animals Drafted"})]})]})}),E.jsx(gm,{})]})}return null}f2.createRoot(document.getElementById("root")).render(E.jsx(Qe.StrictMode,{children:E.jsx($4,{})}));
